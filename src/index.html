<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Share Code Online</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="toolbar" class="toolbar">
      <div class="main-menu">
        <h1>
          <a href="/" rel="noreferrer noopener">Reshare</a>
        </h1>
        <nav>
          <ul class="toolbar-list">
            <li>
              <button type="button" id="create-new-btn" class="menu-button" aria-label="Create new">New</button>
            </li>
            <li>
              <button type="button" id="save-code-btn" class="menu-button" aria-label="Save code" title="Ctrl + S">Save</button>
            </li>
            <li>
              <button type="button" id="share-code-btn" class="menu-button" aria-label="Copy url link" title="Copy url link">Share</button>
            </li>
            <li>
              <span id="selected-language" class="menu-button">javascript</span>
              <ul id="language-list" class="menu-dropdown-list"></ul>
            </li>
          </ul>
        </nav>
      </div>
      <button type="button" id="color-scheme-toggle" class="color-scheme-btn" aria-label="Switch color scheme" title="Switch color scheme">dark</button>
    </div>

    <div id="container"></div>

    <script>
      self.STORAGE_KEY = 'user-color-scheme'

      self.colorScheme = {
        currentColor: localStorage.getItem(STORAGE_KEY) || 'dark',
        init: function() {
          localStorage.setItem(STORAGE_KEY, this.currentColor)
          document.getElementById('color-scheme-toggle').innerHTML = this.currentColor
          document.documentElement.setAttribute('data-user-color-scheme', this.currentColor)
        },
        toggle: function() {
          if (this.currentColor === 'dark') {
            this.currentColor = 'light'
          } else {
            this.currentColor = 'dark'
          }
          localStorage.setItem(STORAGE_KEY, this.currentColor)
          document.getElementById('color-scheme-toggle').innerHTML = this.currentColor
          document.documentElement.setAttribute('data-user-color-scheme', this.currentColor)
        },
        getEditorTheme: function() {
          return this.currentColor === 'dark' ? 'vs-dark' : 'vs-light'
        },
      }

      self.colorScheme.init();
    </script>

    <script src="index.js"></script>
  </body>
</html>