{"version":3,"sources":["../node_modules/monaco-editor/esm/vs/base/common/worker/simpleWorker.js","../node_modules/monaco-editor/esm/vs/editor/common/diff/diffComputer.js","../node_modules/monaco-editor/esm/vs/editor/common/viewModel/prefixSumComputer.js","../node_modules/monaco-editor/esm/vs/editor/common/model/mirrorTextModel.js","../node_modules/monaco-editor/esm/vs/editor/common/model/wordHelper.js","../node_modules/monaco-editor/esm/vs/editor/common/modes/linkComputer.js","../node_modules/monaco-editor/esm/vs/editor/common/modes/supports/inplaceReplaceSupport.js","../node_modules/monaco-editor/esm/vs/editor/common/standalone/promise-polyfill/polyfill.js","../node_modules/monaco-editor/esm/vs/editor/common/core/token.js","../node_modules/monaco-editor/esm/vs/editor/common/standalone/standaloneEnums.js","../node_modules/monaco-editor/esm/vs/editor/common/standalone/standaloneBase.js","../node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js","../node_modules/monaco-editor/esm/vs/editor/editor.worker.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","INITIALIZE","webWorkerWarningLogged","logOnceWebWorkerWarning","err","isWeb","console","warn","message","SimpleWorkerProtocol","handler","_workerId","_handler","_lastSentReq","_pendingReplies","setWorkerId","workerId","sendMessage","method","args","_this","req","String","Promise","resolve","reject","_send","vsWorker","handleMessage","_handleMessage","msg","seq","replyMessage","reply","$isError","Error","name","stack","res","requestMessage","then","r","undefined","e","detail","transfer","m","i","length","ArrayBuffer","push","SimpleWorkerClient","_super","workerFactory","moduleId","host","call","lazyProxyReject","_worker","_register","_protocol","postMessage","apply","getId","loaderConfiguration","self","require","getConfig","requirejs","s","contexts","_","config","hostMethods","types","getAllMethodNames","_onModuleLoaded","JSON","parse","stringify","proxyMethodRequest","_request","_lazyProxy","availableMethods","createProxyObject","_onError","getProxyObject","error","info","Disposable","SimpleWorkerServer","requestHandlerFactory","_requestHandlerFactory","_requestHandler","onmessage","initialize","loaderConfig","hostProxy","baseUrl","paths","vs","catchError","module","MINIMUM_MATCHING_CHARACTER_LENGTH","computeDiff","originalSequence","modifiedSequence","continueProcessingPredicate","pretty","diffAlgo","LcsDiff","ComputeDiff","LineSequence","lines","startColumns","endColumns","length_1","getFirstNonBlankColumn","getLastNonBlankColumn","_startColumns","_endColumns","getElements","elements","len","substring","getStartLineNumber","getEndLineNumber","createCharSequence","shouldIgnoreTrimWhitespace","startIndex","endIndex","charCodes","lineNumbers","columns","index","lineContent","startColumn","endColumn","col","charCodeAt","CharSequence","_charCodes","_lineNumbers","_columns","getStartColumn","getEndColumn","CharChange","originalStartLineNumber","originalStartColumn","originalEndLineNumber","originalEndColumn","modifiedStartLineNumber","modifiedStartColumn","modifiedEndLineNumber","modifiedEndColumn","createFromDiffChange","diffChange","originalCharSequence","modifiedCharSequence","originalLength","originalStart","modifiedLength","modifiedStart","postProcessCharChanges","rawChanges","result","prevChange","currChange","originalMatchingLength","modifiedMatchingLength","Math","min","LineChange","charChanges","createFromDiffResult","originalLineSequence","modifiedLineSequence","continueCharDiff","shouldComputeCharChanges","shouldPostProcessCharChanges","changes","length_2","DiffComputer","originalLines","modifiedLines","opts","shouldMakePrettyDiff","original","modified","continueLineDiff","createContinueProcessingPredicate","maxComputationTime","quitEarly","diffResult","lineChanges","length_3","originalLineIndex","modifiedLineIndex","nextChange","originalStop","modifiedStop","originalLine","modifiedLine","originalChar","_pushTrimWhitespaceCharChange","originalMaxColumn","modifiedMaxColumn","originalLineNumber","modifiedLineNumber","_mergeTrimWhitespaceCharChange","txt","defaultValue","strings","firstNonWhitespaceIndex","lastNonWhitespaceIndex","maximumRuntime","startTime","Date","now","PrefixSumIndexOfResult","remainder","PrefixSumComputer","values","prefixSum","Uint32Array","prefixSumValidIndex","Int32Array","getCount","insertValues","insertIndex","oldValues","oldPrefixSum","insertValuesLen","set","subarray","changeValue","value","removeValues","cnt","maxCnt","getTotalValue","_getAccumulatedValue","getAccumulatedValue","max","getIndexOf","accumulatedValue","floor","low","high","mid","midStop","midStart","PrefixSumComputerWithCache","_cacheAccumulatedValueStart","_cache","_actual","_bustCache","cacheIndex","warmUpCache","accumulatedValueStart","accumulatedValueEnd","newCache","MirrorTextModel","uri","eol","versionId","_uri","_lines","_eol","_versionId","_lineStarts","dispose","getText","join","onEvents","_i","changes_1","change","_acceptDeleteRange","range","_acceptInsertText","Position","startLineNumber","text","_ensureLineStarts","eolLength","linesLength","lineStartValues","_setLineText","lineIndex","newValue","endLineNumber","splice","position","insertText","insertLines","split","lineNumber","column","newLengths","USUAL_WORD_SEPARATORS","createWordRegExp","allowInWords","source","USUAL_WORD_SEPARATORS_1","sep","indexOf","RegExp","DEFAULT_WORD_REGEXP","ensureValidWordDefinition","wordDefinition","global","flags","ignoreCase","multiline","unicode","lastIndex","getWordAtPosFast","textOffset","pos","match","start","lastIndexOf","exec","matchIndex","word","getWordAtPosSlow","getWordAtText","ret","Uint8Matrix","rows","cols","data","Uint8Array","_data","get","row","StateMachine","edges","maxCharCode","maxState","_a","from","chCode","to","states","_b","_states","_maxCharCode","nextState","currentState","_stateMachine","getStateMachine","_classifier","getClassifier","CharacterClassifier","FORCE_TERMINATION_CHARACTERS","LinkComputer","_createLink","classifier","line","linkBeginIndex","linkEndIndex","lastIncludedCharIndex","chClass","charCodeBeforeLink","lastCharCodeInLink","url","computeLinks","model","stateMachine","lineCount","getLineCount","j","getLineContent","linkBeginChCode","state","hasOpenParens","hasOpenSquareBracket","hasOpenCurlyBracket","resetStateMachine","BasicInplaceReplace","_defaultValueSet","navigateValueSet","range1","text1","range2","text2","up","doNavigateValueSet","numberResult","numberReplace","textReplace","precision","pow","n1","Number","n2","parseFloat","isNaN","valueSetsReplace","valueSets","valueSetReplace","valueSet","idx","INSTANCE","Token","offset","type","language","toString","TokenizationResult","tokens","endState","TokenizationResult2","MarkerTag","MarkerSeverity","KeyCode","SelectionDirection","ScrollbarVisibility","OverviewRulerLane","MinimapPosition","EndOfLinePreference","DefaultEndOfLine","EndOfLineSequence","TrackedRangeStickiness","ScrollType","CursorChangeReason","RenderMinimap","ContentWidgetPositionPreference","OverlayWidgetPositionPreference","MouseTargetType","IndentAction","CompletionItemKind","CompletionItemTag","CompletionItemInsertTextRule","CompletionTriggerKind","SignatureHelpTriggerKind","DocumentHighlightKind","SymbolKind","SymbolTag","KeyMod","chord","firstPart","secondPart","CtrlCmd","Shift","Alt","WinCtrl","createMonacoBaseAPI","editor","languages","CancellationTokenSource","Emitter","standaloneEnums","Range","Selection","Uri","URI","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","adopt","done","__generator","body","f","y","t","g","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","pop","MirrorModel","arguments","defineProperty","enumerable","configurable","getValue","getLinesContent","slice","getWordAtPosition","wordAtText","createWordIterator","obj","lineText","wordRangesIdx","wordRanges","end","FIN","_wordenize","getLineWords","content","words","ranges_1","getValueInRange","_validateRange","lineEnding","startLineIndex","endLineIndex","resultLines","offsetAt","_validatePosition","positionAt","out","lineLength","isIPosition","hasChanged","maxCharacter","BaseMirrorModel","EditorSimpleWorker","foreignModuleFactory","_host","_models","_foreignModuleFactory","_foreignModule","_getModel","_getModels","all","keys","forEach","key","acceptNewModel","EOL","acceptModelChanged","strURL","acceptRemovedModel","originalUrl","modifiedUrl","ignoreTrimWhitespace","diffComputer","identical","_modelsAreIdentical","originalLineCount","computeMoreMinimalEdits","modelUrl","edits","lastEol","edits_1","editOffset","newEdit","_c","a","compareRangesUsingStarts","isEmpty","replace","_diffLimit","lift","getStartPosition","substr","textualSuggest","wordDef","wordDefFlags","seen","wordDefRegExp","wordAt","iter","Set","add","size","_suggestionsLimit","has","computeWordRanges","words_1","array","selectionText","wordRange","loadForeignModule","createData","foreignHostMethods","ctx","fhr","getMirrorModels","fmr","importScripts","monaco","initialized","foreignModule","simpleWorker"],"mappings":"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","file":"editor.worker.569cce4b.js","sourceRoot":"../src","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { transformErrorForSerialization } from '../errors.js';\r\nimport { Disposable } from '../lifecycle.js';\r\nimport { isWeb } from '../platform.js';\r\nimport * as types from '../types.js';\r\nvar INITIALIZE = '$initialize';\r\nvar webWorkerWarningLogged = false;\r\nexport function logOnceWebWorkerWarning(err) {\r\n    if (!isWeb) {\r\n        // running tests\r\n        return;\r\n    }\r\n    if (!webWorkerWarningLogged) {\r\n        webWorkerWarningLogged = true;\r\n        console.warn('Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq');\r\n    }\r\n    console.warn(err.message);\r\n}\r\nvar SimpleWorkerProtocol = /** @class */ (function () {\r\n    function SimpleWorkerProtocol(handler) {\r\n        this._workerId = -1;\r\n        this._handler = handler;\r\n        this._lastSentReq = 0;\r\n        this._pendingReplies = Object.create(null);\r\n    }\r\n    SimpleWorkerProtocol.prototype.setWorkerId = function (workerId) {\r\n        this._workerId = workerId;\r\n    };\r\n    SimpleWorkerProtocol.prototype.sendMessage = function (method, args) {\r\n        var _this = this;\r\n        var req = String(++this._lastSentReq);\r\n        return new Promise(function (resolve, reject) {\r\n            _this._pendingReplies[req] = {\r\n                resolve: resolve,\r\n                reject: reject\r\n            };\r\n            _this._send({\r\n                vsWorker: _this._workerId,\r\n                req: req,\r\n                method: method,\r\n                args: args\r\n            });\r\n        });\r\n    };\r\n    SimpleWorkerProtocol.prototype.handleMessage = function (message) {\r\n        if (!message || !message.vsWorker) {\r\n            return;\r\n        }\r\n        if (this._workerId !== -1 && message.vsWorker !== this._workerId) {\r\n            return;\r\n        }\r\n        this._handleMessage(message);\r\n    };\r\n    SimpleWorkerProtocol.prototype._handleMessage = function (msg) {\r\n        var _this = this;\r\n        if (msg.seq) {\r\n            var replyMessage = msg;\r\n            if (!this._pendingReplies[replyMessage.seq]) {\r\n                console.warn('Got reply to unknown seq');\r\n                return;\r\n            }\r\n            var reply = this._pendingReplies[replyMessage.seq];\r\n            delete this._pendingReplies[replyMessage.seq];\r\n            if (replyMessage.err) {\r\n                var err = replyMessage.err;\r\n                if (replyMessage.err.$isError) {\r\n                    err = new Error();\r\n                    err.name = replyMessage.err.name;\r\n                    err.message = replyMessage.err.message;\r\n                    err.stack = replyMessage.err.stack;\r\n                }\r\n                reply.reject(err);\r\n                return;\r\n            }\r\n            reply.resolve(replyMessage.res);\r\n            return;\r\n        }\r\n        var requestMessage = msg;\r\n        var req = requestMessage.req;\r\n        var result = this._handler.handleMessage(requestMessage.method, requestMessage.args);\r\n        result.then(function (r) {\r\n            _this._send({\r\n                vsWorker: _this._workerId,\r\n                seq: req,\r\n                res: r,\r\n                err: undefined\r\n            });\r\n        }, function (e) {\r\n            if (e.detail instanceof Error) {\r\n                // Loading errors have a detail property that points to the actual error\r\n                e.detail = transformErrorForSerialization(e.detail);\r\n            }\r\n            _this._send({\r\n                vsWorker: _this._workerId,\r\n                seq: req,\r\n                res: undefined,\r\n                err: transformErrorForSerialization(e)\r\n            });\r\n        });\r\n    };\r\n    SimpleWorkerProtocol.prototype._send = function (msg) {\r\n        var transfer = [];\r\n        if (msg.req) {\r\n            var m = msg;\r\n            for (var i = 0; i < m.args.length; i++) {\r\n                if (m.args[i] instanceof ArrayBuffer) {\r\n                    transfer.push(m.args[i]);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            var m = msg;\r\n            if (m.res instanceof ArrayBuffer) {\r\n                transfer.push(m.res);\r\n            }\r\n        }\r\n        this._handler.sendMessage(msg, transfer);\r\n    };\r\n    return SimpleWorkerProtocol;\r\n}());\r\n/**\r\n * Main thread side\r\n */\r\nvar SimpleWorkerClient = /** @class */ (function (_super) {\r\n    __extends(SimpleWorkerClient, _super);\r\n    function SimpleWorkerClient(workerFactory, moduleId, host) {\r\n        var _this = _super.call(this) || this;\r\n        var lazyProxyReject = null;\r\n        _this._worker = _this._register(workerFactory.create('vs/base/common/worker/simpleWorker', function (msg) {\r\n            _this._protocol.handleMessage(msg);\r\n        }, function (err) {\r\n            // in Firefox, web workers fail lazily :(\r\n            // we will reject the proxy\r\n            if (lazyProxyReject) {\r\n                lazyProxyReject(err);\r\n            }\r\n        }));\r\n        _this._protocol = new SimpleWorkerProtocol({\r\n            sendMessage: function (msg, transfer) {\r\n                _this._worker.postMessage(msg, transfer);\r\n            },\r\n            handleMessage: function (method, args) {\r\n                if (typeof host[method] !== 'function') {\r\n                    return Promise.reject(new Error('Missing method ' + method + ' on main thread host.'));\r\n                }\r\n                try {\r\n                    return Promise.resolve(host[method].apply(host, args));\r\n                }\r\n                catch (e) {\r\n                    return Promise.reject(e);\r\n                }\r\n            }\r\n        });\r\n        _this._protocol.setWorkerId(_this._worker.getId());\r\n        // Gather loader configuration\r\n        var loaderConfiguration = null;\r\n        if (typeof self.require !== 'undefined' && typeof self.require.getConfig === 'function') {\r\n            // Get the configuration from the Monaco AMD Loader\r\n            loaderConfiguration = self.require.getConfig();\r\n        }\r\n        else if (typeof self.requirejs !== 'undefined') {\r\n            // Get the configuration from requirejs\r\n            loaderConfiguration = self.requirejs.s.contexts._.config;\r\n        }\r\n        var hostMethods = types.getAllMethodNames(host);\r\n        // Send initialize message\r\n        _this._onModuleLoaded = _this._protocol.sendMessage(INITIALIZE, [\r\n            _this._worker.getId(),\r\n            JSON.parse(JSON.stringify(loaderConfiguration)),\r\n            moduleId,\r\n            hostMethods,\r\n        ]);\r\n        // Create proxy to loaded code\r\n        var proxyMethodRequest = function (method, args) {\r\n            return _this._request(method, args);\r\n        };\r\n        _this._lazyProxy = new Promise(function (resolve, reject) {\r\n            lazyProxyReject = reject;\r\n            _this._onModuleLoaded.then(function (availableMethods) {\r\n                resolve(types.createProxyObject(availableMethods, proxyMethodRequest));\r\n            }, function (e) {\r\n                reject(e);\r\n                _this._onError('Worker failed to load ' + moduleId, e);\r\n            });\r\n        });\r\n        return _this;\r\n    }\r\n    SimpleWorkerClient.prototype.getProxyObject = function () {\r\n        return this._lazyProxy;\r\n    };\r\n    SimpleWorkerClient.prototype._request = function (method, args) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._onModuleLoaded.then(function () {\r\n                _this._protocol.sendMessage(method, args).then(resolve, reject);\r\n            }, reject);\r\n        });\r\n    };\r\n    SimpleWorkerClient.prototype._onError = function (message, error) {\r\n        console.error(message);\r\n        console.info(error);\r\n    };\r\n    return SimpleWorkerClient;\r\n}(Disposable));\r\nexport { SimpleWorkerClient };\r\n/**\r\n * Worker side\r\n */\r\nvar SimpleWorkerServer = /** @class */ (function () {\r\n    function SimpleWorkerServer(postMessage, requestHandlerFactory) {\r\n        var _this = this;\r\n        this._requestHandlerFactory = requestHandlerFactory;\r\n        this._requestHandler = null;\r\n        this._protocol = new SimpleWorkerProtocol({\r\n            sendMessage: function (msg, transfer) {\r\n                postMessage(msg, transfer);\r\n            },\r\n            handleMessage: function (method, args) { return _this._handleMessage(method, args); }\r\n        });\r\n    }\r\n    SimpleWorkerServer.prototype.onmessage = function (msg) {\r\n        this._protocol.handleMessage(msg);\r\n    };\r\n    SimpleWorkerServer.prototype._handleMessage = function (method, args) {\r\n        if (method === INITIALIZE) {\r\n            return this.initialize(args[0], args[1], args[2], args[3]);\r\n        }\r\n        if (!this._requestHandler || typeof this._requestHandler[method] !== 'function') {\r\n            return Promise.reject(new Error('Missing requestHandler or method: ' + method));\r\n        }\r\n        try {\r\n            return Promise.resolve(this._requestHandler[method].apply(this._requestHandler, args));\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    };\r\n    SimpleWorkerServer.prototype.initialize = function (workerId, loaderConfig, moduleId, hostMethods) {\r\n        var _this = this;\r\n        this._protocol.setWorkerId(workerId);\r\n        var proxyMethodRequest = function (method, args) {\r\n            return _this._protocol.sendMessage(method, args);\r\n        };\r\n        var hostProxy = types.createProxyObject(hostMethods, proxyMethodRequest);\r\n        if (this._requestHandlerFactory) {\r\n            // static request handler\r\n            this._requestHandler = this._requestHandlerFactory(hostProxy);\r\n            return Promise.resolve(types.getAllMethodNames(this._requestHandler));\r\n        }\r\n        if (loaderConfig) {\r\n            // Remove 'baseUrl', handling it is beyond scope for now\r\n            if (typeof loaderConfig.baseUrl !== 'undefined') {\r\n                delete loaderConfig['baseUrl'];\r\n            }\r\n            if (typeof loaderConfig.paths !== 'undefined') {\r\n                if (typeof loaderConfig.paths.vs !== 'undefined') {\r\n                    delete loaderConfig.paths['vs'];\r\n                }\r\n            }\r\n            // Since this is in a web worker, enable catching errors\r\n            loaderConfig.catchError = true;\r\n            self.require.config(loaderConfig);\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            // Use the global require to be sure to get the global config\r\n            self.require([moduleId], function (module) {\r\n                _this._requestHandler = module.create(hostProxy);\r\n                if (!_this._requestHandler) {\r\n                    reject(new Error(\"No RequestHandler!\"));\r\n                    return;\r\n                }\r\n                resolve(types.getAllMethodNames(_this._requestHandler));\r\n            }, reject);\r\n        });\r\n    };\r\n    return SimpleWorkerServer;\r\n}());\r\nexport { SimpleWorkerServer };\r\n/**\r\n * Called on the worker side\r\n */\r\nexport function create(postMessage) {\r\n    return new SimpleWorkerServer(postMessage, null);\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { LcsDiff } from '../../../base/common/diff/diff.js';\r\nimport * as strings from '../../../base/common/strings.js';\r\nvar MINIMUM_MATCHING_CHARACTER_LENGTH = 3;\r\nfunction computeDiff(originalSequence, modifiedSequence, continueProcessingPredicate, pretty) {\r\n    var diffAlgo = new LcsDiff(originalSequence, modifiedSequence, continueProcessingPredicate);\r\n    return diffAlgo.ComputeDiff(pretty);\r\n}\r\nvar LineSequence = /** @class */ (function () {\r\n    function LineSequence(lines) {\r\n        var startColumns = [];\r\n        var endColumns = [];\r\n        for (var i = 0, length_1 = lines.length; i < length_1; i++) {\r\n            startColumns[i] = getFirstNonBlankColumn(lines[i], 1);\r\n            endColumns[i] = getLastNonBlankColumn(lines[i], 1);\r\n        }\r\n        this.lines = lines;\r\n        this._startColumns = startColumns;\r\n        this._endColumns = endColumns;\r\n    }\r\n    LineSequence.prototype.getElements = function () {\r\n        var elements = [];\r\n        for (var i = 0, len = this.lines.length; i < len; i++) {\r\n            elements[i] = this.lines[i].substring(this._startColumns[i] - 1, this._endColumns[i] - 1);\r\n        }\r\n        return elements;\r\n    };\r\n    LineSequence.prototype.getStartLineNumber = function (i) {\r\n        return i + 1;\r\n    };\r\n    LineSequence.prototype.getEndLineNumber = function (i) {\r\n        return i + 1;\r\n    };\r\n    LineSequence.prototype.createCharSequence = function (shouldIgnoreTrimWhitespace, startIndex, endIndex) {\r\n        var charCodes = [];\r\n        var lineNumbers = [];\r\n        var columns = [];\r\n        var len = 0;\r\n        for (var index = startIndex; index <= endIndex; index++) {\r\n            var lineContent = this.lines[index];\r\n            var startColumn = (shouldIgnoreTrimWhitespace ? this._startColumns[index] : 1);\r\n            var endColumn = (shouldIgnoreTrimWhitespace ? this._endColumns[index] : lineContent.length + 1);\r\n            for (var col = startColumn; col < endColumn; col++) {\r\n                charCodes[len] = lineContent.charCodeAt(col - 1);\r\n                lineNumbers[len] = index + 1;\r\n                columns[len] = col;\r\n                len++;\r\n            }\r\n        }\r\n        return new CharSequence(charCodes, lineNumbers, columns);\r\n    };\r\n    return LineSequence;\r\n}());\r\nvar CharSequence = /** @class */ (function () {\r\n    function CharSequence(charCodes, lineNumbers, columns) {\r\n        this._charCodes = charCodes;\r\n        this._lineNumbers = lineNumbers;\r\n        this._columns = columns;\r\n    }\r\n    CharSequence.prototype.getElements = function () {\r\n        return this._charCodes;\r\n    };\r\n    CharSequence.prototype.getStartLineNumber = function (i) {\r\n        return this._lineNumbers[i];\r\n    };\r\n    CharSequence.prototype.getStartColumn = function (i) {\r\n        return this._columns[i];\r\n    };\r\n    CharSequence.prototype.getEndLineNumber = function (i) {\r\n        return this._lineNumbers[i];\r\n    };\r\n    CharSequence.prototype.getEndColumn = function (i) {\r\n        return this._columns[i] + 1;\r\n    };\r\n    return CharSequence;\r\n}());\r\nvar CharChange = /** @class */ (function () {\r\n    function CharChange(originalStartLineNumber, originalStartColumn, originalEndLineNumber, originalEndColumn, modifiedStartLineNumber, modifiedStartColumn, modifiedEndLineNumber, modifiedEndColumn) {\r\n        this.originalStartLineNumber = originalStartLineNumber;\r\n        this.originalStartColumn = originalStartColumn;\r\n        this.originalEndLineNumber = originalEndLineNumber;\r\n        this.originalEndColumn = originalEndColumn;\r\n        this.modifiedStartLineNumber = modifiedStartLineNumber;\r\n        this.modifiedStartColumn = modifiedStartColumn;\r\n        this.modifiedEndLineNumber = modifiedEndLineNumber;\r\n        this.modifiedEndColumn = modifiedEndColumn;\r\n    }\r\n    CharChange.createFromDiffChange = function (diffChange, originalCharSequence, modifiedCharSequence) {\r\n        var originalStartLineNumber;\r\n        var originalStartColumn;\r\n        var originalEndLineNumber;\r\n        var originalEndColumn;\r\n        var modifiedStartLineNumber;\r\n        var modifiedStartColumn;\r\n        var modifiedEndLineNumber;\r\n        var modifiedEndColumn;\r\n        if (diffChange.originalLength === 0) {\r\n            originalStartLineNumber = 0;\r\n            originalStartColumn = 0;\r\n            originalEndLineNumber = 0;\r\n            originalEndColumn = 0;\r\n        }\r\n        else {\r\n            originalStartLineNumber = originalCharSequence.getStartLineNumber(diffChange.originalStart);\r\n            originalStartColumn = originalCharSequence.getStartColumn(diffChange.originalStart);\r\n            originalEndLineNumber = originalCharSequence.getEndLineNumber(diffChange.originalStart + diffChange.originalLength - 1);\r\n            originalEndColumn = originalCharSequence.getEndColumn(diffChange.originalStart + diffChange.originalLength - 1);\r\n        }\r\n        if (diffChange.modifiedLength === 0) {\r\n            modifiedStartLineNumber = 0;\r\n            modifiedStartColumn = 0;\r\n            modifiedEndLineNumber = 0;\r\n            modifiedEndColumn = 0;\r\n        }\r\n        else {\r\n            modifiedStartLineNumber = modifiedCharSequence.getStartLineNumber(diffChange.modifiedStart);\r\n            modifiedStartColumn = modifiedCharSequence.getStartColumn(diffChange.modifiedStart);\r\n            modifiedEndLineNumber = modifiedCharSequence.getEndLineNumber(diffChange.modifiedStart + diffChange.modifiedLength - 1);\r\n            modifiedEndColumn = modifiedCharSequence.getEndColumn(diffChange.modifiedStart + diffChange.modifiedLength - 1);\r\n        }\r\n        return new CharChange(originalStartLineNumber, originalStartColumn, originalEndLineNumber, originalEndColumn, modifiedStartLineNumber, modifiedStartColumn, modifiedEndLineNumber, modifiedEndColumn);\r\n    };\r\n    return CharChange;\r\n}());\r\nfunction postProcessCharChanges(rawChanges) {\r\n    if (rawChanges.length <= 1) {\r\n        return rawChanges;\r\n    }\r\n    var result = [rawChanges[0]];\r\n    var prevChange = result[0];\r\n    for (var i = 1, len = rawChanges.length; i < len; i++) {\r\n        var currChange = rawChanges[i];\r\n        var originalMatchingLength = currChange.originalStart - (prevChange.originalStart + prevChange.originalLength);\r\n        var modifiedMatchingLength = currChange.modifiedStart - (prevChange.modifiedStart + prevChange.modifiedLength);\r\n        // Both of the above should be equal, but the continueProcessingPredicate may prevent this from being true\r\n        var matchingLength = Math.min(originalMatchingLength, modifiedMatchingLength);\r\n        if (matchingLength < MINIMUM_MATCHING_CHARACTER_LENGTH) {\r\n            // Merge the current change into the previous one\r\n            prevChange.originalLength = (currChange.originalStart + currChange.originalLength) - prevChange.originalStart;\r\n            prevChange.modifiedLength = (currChange.modifiedStart + currChange.modifiedLength) - prevChange.modifiedStart;\r\n        }\r\n        else {\r\n            // Add the current change\r\n            result.push(currChange);\r\n            prevChange = currChange;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nvar LineChange = /** @class */ (function () {\r\n    function LineChange(originalStartLineNumber, originalEndLineNumber, modifiedStartLineNumber, modifiedEndLineNumber, charChanges) {\r\n        this.originalStartLineNumber = originalStartLineNumber;\r\n        this.originalEndLineNumber = originalEndLineNumber;\r\n        this.modifiedStartLineNumber = modifiedStartLineNumber;\r\n        this.modifiedEndLineNumber = modifiedEndLineNumber;\r\n        this.charChanges = charChanges;\r\n    }\r\n    LineChange.createFromDiffResult = function (shouldIgnoreTrimWhitespace, diffChange, originalLineSequence, modifiedLineSequence, continueCharDiff, shouldComputeCharChanges, shouldPostProcessCharChanges) {\r\n        var originalStartLineNumber;\r\n        var originalEndLineNumber;\r\n        var modifiedStartLineNumber;\r\n        var modifiedEndLineNumber;\r\n        var charChanges = undefined;\r\n        if (diffChange.originalLength === 0) {\r\n            originalStartLineNumber = originalLineSequence.getStartLineNumber(diffChange.originalStart) - 1;\r\n            originalEndLineNumber = 0;\r\n        }\r\n        else {\r\n            originalStartLineNumber = originalLineSequence.getStartLineNumber(diffChange.originalStart);\r\n            originalEndLineNumber = originalLineSequence.getEndLineNumber(diffChange.originalStart + diffChange.originalLength - 1);\r\n        }\r\n        if (diffChange.modifiedLength === 0) {\r\n            modifiedStartLineNumber = modifiedLineSequence.getStartLineNumber(diffChange.modifiedStart) - 1;\r\n            modifiedEndLineNumber = 0;\r\n        }\r\n        else {\r\n            modifiedStartLineNumber = modifiedLineSequence.getStartLineNumber(diffChange.modifiedStart);\r\n            modifiedEndLineNumber = modifiedLineSequence.getEndLineNumber(diffChange.modifiedStart + diffChange.modifiedLength - 1);\r\n        }\r\n        if (shouldComputeCharChanges && diffChange.originalLength > 0 && diffChange.originalLength < 20 && diffChange.modifiedLength > 0 && diffChange.modifiedLength < 20 && continueCharDiff()) {\r\n            // Compute character changes for diff chunks of at most 20 lines...\r\n            var originalCharSequence = originalLineSequence.createCharSequence(shouldIgnoreTrimWhitespace, diffChange.originalStart, diffChange.originalStart + diffChange.originalLength - 1);\r\n            var modifiedCharSequence = modifiedLineSequence.createCharSequence(shouldIgnoreTrimWhitespace, diffChange.modifiedStart, diffChange.modifiedStart + diffChange.modifiedLength - 1);\r\n            var rawChanges = computeDiff(originalCharSequence, modifiedCharSequence, continueCharDiff, true).changes;\r\n            if (shouldPostProcessCharChanges) {\r\n                rawChanges = postProcessCharChanges(rawChanges);\r\n            }\r\n            charChanges = [];\r\n            for (var i = 0, length_2 = rawChanges.length; i < length_2; i++) {\r\n                charChanges.push(CharChange.createFromDiffChange(rawChanges[i], originalCharSequence, modifiedCharSequence));\r\n            }\r\n        }\r\n        return new LineChange(originalStartLineNumber, originalEndLineNumber, modifiedStartLineNumber, modifiedEndLineNumber, charChanges);\r\n    };\r\n    return LineChange;\r\n}());\r\nvar DiffComputer = /** @class */ (function () {\r\n    function DiffComputer(originalLines, modifiedLines, opts) {\r\n        this.shouldComputeCharChanges = opts.shouldComputeCharChanges;\r\n        this.shouldPostProcessCharChanges = opts.shouldPostProcessCharChanges;\r\n        this.shouldIgnoreTrimWhitespace = opts.shouldIgnoreTrimWhitespace;\r\n        this.shouldMakePrettyDiff = opts.shouldMakePrettyDiff;\r\n        this.originalLines = originalLines;\r\n        this.modifiedLines = modifiedLines;\r\n        this.original = new LineSequence(originalLines);\r\n        this.modified = new LineSequence(modifiedLines);\r\n        this.continueLineDiff = createContinueProcessingPredicate(opts.maxComputationTime);\r\n        this.continueCharDiff = createContinueProcessingPredicate(opts.maxComputationTime === 0 ? 0 : Math.min(opts.maxComputationTime, 5000)); // never run after 5s for character changes...\r\n    }\r\n    DiffComputer.prototype.computeDiff = function () {\r\n        if (this.original.lines.length === 1 && this.original.lines[0].length === 0) {\r\n            // empty original => fast path\r\n            return {\r\n                quitEarly: false,\r\n                changes: [{\r\n                        originalStartLineNumber: 1,\r\n                        originalEndLineNumber: 1,\r\n                        modifiedStartLineNumber: 1,\r\n                        modifiedEndLineNumber: this.modified.lines.length,\r\n                        charChanges: [{\r\n                                modifiedEndColumn: 0,\r\n                                modifiedEndLineNumber: 0,\r\n                                modifiedStartColumn: 0,\r\n                                modifiedStartLineNumber: 0,\r\n                                originalEndColumn: 0,\r\n                                originalEndLineNumber: 0,\r\n                                originalStartColumn: 0,\r\n                                originalStartLineNumber: 0\r\n                            }]\r\n                    }]\r\n            };\r\n        }\r\n        if (this.modified.lines.length === 1 && this.modified.lines[0].length === 0) {\r\n            // empty modified => fast path\r\n            return {\r\n                quitEarly: false,\r\n                changes: [{\r\n                        originalStartLineNumber: 1,\r\n                        originalEndLineNumber: this.original.lines.length,\r\n                        modifiedStartLineNumber: 1,\r\n                        modifiedEndLineNumber: 1,\r\n                        charChanges: [{\r\n                                modifiedEndColumn: 0,\r\n                                modifiedEndLineNumber: 0,\r\n                                modifiedStartColumn: 0,\r\n                                modifiedStartLineNumber: 0,\r\n                                originalEndColumn: 0,\r\n                                originalEndLineNumber: 0,\r\n                                originalStartColumn: 0,\r\n                                originalStartLineNumber: 0\r\n                            }]\r\n                    }]\r\n            };\r\n        }\r\n        var diffResult = computeDiff(this.original, this.modified, this.continueLineDiff, this.shouldMakePrettyDiff);\r\n        var rawChanges = diffResult.changes;\r\n        var quitEarly = diffResult.quitEarly;\r\n        // The diff is always computed with ignoring trim whitespace\r\n        // This ensures we get the prettiest diff\r\n        if (this.shouldIgnoreTrimWhitespace) {\r\n            var lineChanges = [];\r\n            for (var i = 0, length_3 = rawChanges.length; i < length_3; i++) {\r\n                lineChanges.push(LineChange.createFromDiffResult(this.shouldIgnoreTrimWhitespace, rawChanges[i], this.original, this.modified, this.continueCharDiff, this.shouldComputeCharChanges, this.shouldPostProcessCharChanges));\r\n            }\r\n            return {\r\n                quitEarly: quitEarly,\r\n                changes: lineChanges\r\n            };\r\n        }\r\n        // Need to post-process and introduce changes where the trim whitespace is different\r\n        // Note that we are looping starting at -1 to also cover the lines before the first change\r\n        var result = [];\r\n        var originalLineIndex = 0;\r\n        var modifiedLineIndex = 0;\r\n        for (var i = -1 /* !!!! */, len = rawChanges.length; i < len; i++) {\r\n            var nextChange = (i + 1 < len ? rawChanges[i + 1] : null);\r\n            var originalStop = (nextChange ? nextChange.originalStart : this.originalLines.length);\r\n            var modifiedStop = (nextChange ? nextChange.modifiedStart : this.modifiedLines.length);\r\n            while (originalLineIndex < originalStop && modifiedLineIndex < modifiedStop) {\r\n                var originalLine = this.originalLines[originalLineIndex];\r\n                var modifiedLine = this.modifiedLines[modifiedLineIndex];\r\n                if (originalLine !== modifiedLine) {\r\n                    // These lines differ only in trim whitespace\r\n                    // Check the leading whitespace\r\n                    {\r\n                        var originalStartColumn = getFirstNonBlankColumn(originalLine, 1);\r\n                        var modifiedStartColumn = getFirstNonBlankColumn(modifiedLine, 1);\r\n                        while (originalStartColumn > 1 && modifiedStartColumn > 1) {\r\n                            var originalChar = originalLine.charCodeAt(originalStartColumn - 2);\r\n                            var modifiedChar = modifiedLine.charCodeAt(modifiedStartColumn - 2);\r\n                            if (originalChar !== modifiedChar) {\r\n                                break;\r\n                            }\r\n                            originalStartColumn--;\r\n                            modifiedStartColumn--;\r\n                        }\r\n                        if (originalStartColumn > 1 || modifiedStartColumn > 1) {\r\n                            this._pushTrimWhitespaceCharChange(result, originalLineIndex + 1, 1, originalStartColumn, modifiedLineIndex + 1, 1, modifiedStartColumn);\r\n                        }\r\n                    }\r\n                    // Check the trailing whitespace\r\n                    {\r\n                        var originalEndColumn = getLastNonBlankColumn(originalLine, 1);\r\n                        var modifiedEndColumn = getLastNonBlankColumn(modifiedLine, 1);\r\n                        var originalMaxColumn = originalLine.length + 1;\r\n                        var modifiedMaxColumn = modifiedLine.length + 1;\r\n                        while (originalEndColumn < originalMaxColumn && modifiedEndColumn < modifiedMaxColumn) {\r\n                            var originalChar = originalLine.charCodeAt(originalEndColumn - 1);\r\n                            var modifiedChar = originalLine.charCodeAt(modifiedEndColumn - 1);\r\n                            if (originalChar !== modifiedChar) {\r\n                                break;\r\n                            }\r\n                            originalEndColumn++;\r\n                            modifiedEndColumn++;\r\n                        }\r\n                        if (originalEndColumn < originalMaxColumn || modifiedEndColumn < modifiedMaxColumn) {\r\n                            this._pushTrimWhitespaceCharChange(result, originalLineIndex + 1, originalEndColumn, originalMaxColumn, modifiedLineIndex + 1, modifiedEndColumn, modifiedMaxColumn);\r\n                        }\r\n                    }\r\n                }\r\n                originalLineIndex++;\r\n                modifiedLineIndex++;\r\n            }\r\n            if (nextChange) {\r\n                // Emit the actual change\r\n                result.push(LineChange.createFromDiffResult(this.shouldIgnoreTrimWhitespace, nextChange, this.original, this.modified, this.continueCharDiff, this.shouldComputeCharChanges, this.shouldPostProcessCharChanges));\r\n                originalLineIndex += nextChange.originalLength;\r\n                modifiedLineIndex += nextChange.modifiedLength;\r\n            }\r\n        }\r\n        return {\r\n            quitEarly: quitEarly,\r\n            changes: result\r\n        };\r\n    };\r\n    DiffComputer.prototype._pushTrimWhitespaceCharChange = function (result, originalLineNumber, originalStartColumn, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedEndColumn) {\r\n        if (this._mergeTrimWhitespaceCharChange(result, originalLineNumber, originalStartColumn, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedEndColumn)) {\r\n            // Merged into previous\r\n            return;\r\n        }\r\n        var charChanges = undefined;\r\n        if (this.shouldComputeCharChanges) {\r\n            charChanges = [new CharChange(originalLineNumber, originalStartColumn, originalLineNumber, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedLineNumber, modifiedEndColumn)];\r\n        }\r\n        result.push(new LineChange(originalLineNumber, originalLineNumber, modifiedLineNumber, modifiedLineNumber, charChanges));\r\n    };\r\n    DiffComputer.prototype._mergeTrimWhitespaceCharChange = function (result, originalLineNumber, originalStartColumn, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedEndColumn) {\r\n        var len = result.length;\r\n        if (len === 0) {\r\n            return false;\r\n        }\r\n        var prevChange = result[len - 1];\r\n        if (prevChange.originalEndLineNumber === 0 || prevChange.modifiedEndLineNumber === 0) {\r\n            // Don't merge with inserts/deletes\r\n            return false;\r\n        }\r\n        if (prevChange.originalEndLineNumber + 1 === originalLineNumber && prevChange.modifiedEndLineNumber + 1 === modifiedLineNumber) {\r\n            prevChange.originalEndLineNumber = originalLineNumber;\r\n            prevChange.modifiedEndLineNumber = modifiedLineNumber;\r\n            if (this.shouldComputeCharChanges && prevChange.charChanges) {\r\n                prevChange.charChanges.push(new CharChange(originalLineNumber, originalStartColumn, originalLineNumber, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedLineNumber, modifiedEndColumn));\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return DiffComputer;\r\n}());\r\nexport { DiffComputer };\r\nfunction getFirstNonBlankColumn(txt, defaultValue) {\r\n    var r = strings.firstNonWhitespaceIndex(txt);\r\n    if (r === -1) {\r\n        return defaultValue;\r\n    }\r\n    return r + 1;\r\n}\r\nfunction getLastNonBlankColumn(txt, defaultValue) {\r\n    var r = strings.lastNonWhitespaceIndex(txt);\r\n    if (r === -1) {\r\n        return defaultValue;\r\n    }\r\n    return r + 2;\r\n}\r\nfunction createContinueProcessingPredicate(maximumRuntime) {\r\n    if (maximumRuntime === 0) {\r\n        return function () { return true; };\r\n    }\r\n    var startTime = Date.now();\r\n    return function () {\r\n        return Date.now() - startTime < maximumRuntime;\r\n    };\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { toUint32 } from '../../../base/common/uint.js';\r\nvar PrefixSumIndexOfResult = /** @class */ (function () {\r\n    function PrefixSumIndexOfResult(index, remainder) {\r\n        this.index = index;\r\n        this.remainder = remainder;\r\n    }\r\n    return PrefixSumIndexOfResult;\r\n}());\r\nexport { PrefixSumIndexOfResult };\r\nvar PrefixSumComputer = /** @class */ (function () {\r\n    function PrefixSumComputer(values) {\r\n        this.values = values;\r\n        this.prefixSum = new Uint32Array(values.length);\r\n        this.prefixSumValidIndex = new Int32Array(1);\r\n        this.prefixSumValidIndex[0] = -1;\r\n    }\r\n    PrefixSumComputer.prototype.getCount = function () {\r\n        return this.values.length;\r\n    };\r\n    PrefixSumComputer.prototype.insertValues = function (insertIndex, insertValues) {\r\n        insertIndex = toUint32(insertIndex);\r\n        var oldValues = this.values;\r\n        var oldPrefixSum = this.prefixSum;\r\n        var insertValuesLen = insertValues.length;\r\n        if (insertValuesLen === 0) {\r\n            return false;\r\n        }\r\n        this.values = new Uint32Array(oldValues.length + insertValuesLen);\r\n        this.values.set(oldValues.subarray(0, insertIndex), 0);\r\n        this.values.set(oldValues.subarray(insertIndex), insertIndex + insertValuesLen);\r\n        this.values.set(insertValues, insertIndex);\r\n        if (insertIndex - 1 < this.prefixSumValidIndex[0]) {\r\n            this.prefixSumValidIndex[0] = insertIndex - 1;\r\n        }\r\n        this.prefixSum = new Uint32Array(this.values.length);\r\n        if (this.prefixSumValidIndex[0] >= 0) {\r\n            this.prefixSum.set(oldPrefixSum.subarray(0, this.prefixSumValidIndex[0] + 1));\r\n        }\r\n        return true;\r\n    };\r\n    PrefixSumComputer.prototype.changeValue = function (index, value) {\r\n        index = toUint32(index);\r\n        value = toUint32(value);\r\n        if (this.values[index] === value) {\r\n            return false;\r\n        }\r\n        this.values[index] = value;\r\n        if (index - 1 < this.prefixSumValidIndex[0]) {\r\n            this.prefixSumValidIndex[0] = index - 1;\r\n        }\r\n        return true;\r\n    };\r\n    PrefixSumComputer.prototype.removeValues = function (startIndex, cnt) {\r\n        startIndex = toUint32(startIndex);\r\n        cnt = toUint32(cnt);\r\n        var oldValues = this.values;\r\n        var oldPrefixSum = this.prefixSum;\r\n        if (startIndex >= oldValues.length) {\r\n            return false;\r\n        }\r\n        var maxCnt = oldValues.length - startIndex;\r\n        if (cnt >= maxCnt) {\r\n            cnt = maxCnt;\r\n        }\r\n        if (cnt === 0) {\r\n            return false;\r\n        }\r\n        this.values = new Uint32Array(oldValues.length - cnt);\r\n        this.values.set(oldValues.subarray(0, startIndex), 0);\r\n        this.values.set(oldValues.subarray(startIndex + cnt), startIndex);\r\n        this.prefixSum = new Uint32Array(this.values.length);\r\n        if (startIndex - 1 < this.prefixSumValidIndex[0]) {\r\n            this.prefixSumValidIndex[0] = startIndex - 1;\r\n        }\r\n        if (this.prefixSumValidIndex[0] >= 0) {\r\n            this.prefixSum.set(oldPrefixSum.subarray(0, this.prefixSumValidIndex[0] + 1));\r\n        }\r\n        return true;\r\n    };\r\n    PrefixSumComputer.prototype.getTotalValue = function () {\r\n        if (this.values.length === 0) {\r\n            return 0;\r\n        }\r\n        return this._getAccumulatedValue(this.values.length - 1);\r\n    };\r\n    PrefixSumComputer.prototype.getAccumulatedValue = function (index) {\r\n        if (index < 0) {\r\n            return 0;\r\n        }\r\n        index = toUint32(index);\r\n        return this._getAccumulatedValue(index);\r\n    };\r\n    PrefixSumComputer.prototype._getAccumulatedValue = function (index) {\r\n        if (index <= this.prefixSumValidIndex[0]) {\r\n            return this.prefixSum[index];\r\n        }\r\n        var startIndex = this.prefixSumValidIndex[0] + 1;\r\n        if (startIndex === 0) {\r\n            this.prefixSum[0] = this.values[0];\r\n            startIndex++;\r\n        }\r\n        if (index >= this.values.length) {\r\n            index = this.values.length - 1;\r\n        }\r\n        for (var i = startIndex; i <= index; i++) {\r\n            this.prefixSum[i] = this.prefixSum[i - 1] + this.values[i];\r\n        }\r\n        this.prefixSumValidIndex[0] = Math.max(this.prefixSumValidIndex[0], index);\r\n        return this.prefixSum[index];\r\n    };\r\n    PrefixSumComputer.prototype.getIndexOf = function (accumulatedValue) {\r\n        accumulatedValue = Math.floor(accumulatedValue); //@perf\r\n        // Compute all sums (to get a fully valid prefixSum)\r\n        this.getTotalValue();\r\n        var low = 0;\r\n        var high = this.values.length - 1;\r\n        var mid = 0;\r\n        var midStop = 0;\r\n        var midStart = 0;\r\n        while (low <= high) {\r\n            mid = low + ((high - low) / 2) | 0;\r\n            midStop = this.prefixSum[mid];\r\n            midStart = midStop - this.values[mid];\r\n            if (accumulatedValue < midStart) {\r\n                high = mid - 1;\r\n            }\r\n            else if (accumulatedValue >= midStop) {\r\n                low = mid + 1;\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        return new PrefixSumIndexOfResult(mid, accumulatedValue - midStart);\r\n    };\r\n    return PrefixSumComputer;\r\n}());\r\nexport { PrefixSumComputer };\r\nvar PrefixSumComputerWithCache = /** @class */ (function () {\r\n    function PrefixSumComputerWithCache(values) {\r\n        this._cacheAccumulatedValueStart = 0;\r\n        this._cache = null;\r\n        this._actual = new PrefixSumComputer(values);\r\n        this._bustCache();\r\n    }\r\n    PrefixSumComputerWithCache.prototype._bustCache = function () {\r\n        this._cacheAccumulatedValueStart = 0;\r\n        this._cache = null;\r\n    };\r\n    PrefixSumComputerWithCache.prototype.insertValues = function (insertIndex, insertValues) {\r\n        if (this._actual.insertValues(insertIndex, insertValues)) {\r\n            this._bustCache();\r\n        }\r\n    };\r\n    PrefixSumComputerWithCache.prototype.changeValue = function (index, value) {\r\n        if (this._actual.changeValue(index, value)) {\r\n            this._bustCache();\r\n        }\r\n    };\r\n    PrefixSumComputerWithCache.prototype.removeValues = function (startIndex, cnt) {\r\n        if (this._actual.removeValues(startIndex, cnt)) {\r\n            this._bustCache();\r\n        }\r\n    };\r\n    PrefixSumComputerWithCache.prototype.getTotalValue = function () {\r\n        return this._actual.getTotalValue();\r\n    };\r\n    PrefixSumComputerWithCache.prototype.getAccumulatedValue = function (index) {\r\n        return this._actual.getAccumulatedValue(index);\r\n    };\r\n    PrefixSumComputerWithCache.prototype.getIndexOf = function (accumulatedValue) {\r\n        accumulatedValue = Math.floor(accumulatedValue); //@perf\r\n        if (this._cache !== null) {\r\n            var cacheIndex = accumulatedValue - this._cacheAccumulatedValueStart;\r\n            if (cacheIndex >= 0 && cacheIndex < this._cache.length) {\r\n                // Cache hit!\r\n                return this._cache[cacheIndex];\r\n            }\r\n        }\r\n        // Cache miss!\r\n        return this._actual.getIndexOf(accumulatedValue);\r\n    };\r\n    /**\r\n     * Gives a hint that a lot of requests are about to come in for these accumulated values.\r\n     */\r\n    PrefixSumComputerWithCache.prototype.warmUpCache = function (accumulatedValueStart, accumulatedValueEnd) {\r\n        var newCache = [];\r\n        for (var accumulatedValue = accumulatedValueStart; accumulatedValue <= accumulatedValueEnd; accumulatedValue++) {\r\n            newCache[accumulatedValue - accumulatedValueStart] = this.getIndexOf(accumulatedValue);\r\n        }\r\n        this._cache = newCache;\r\n        this._cacheAccumulatedValueStart = accumulatedValueStart;\r\n    };\r\n    return PrefixSumComputerWithCache;\r\n}());\r\nexport { PrefixSumComputerWithCache };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Position } from '../core/position.js';\r\nimport { PrefixSumComputer } from '../viewModel/prefixSumComputer.js';\r\nvar MirrorTextModel = /** @class */ (function () {\r\n    function MirrorTextModel(uri, lines, eol, versionId) {\r\n        this._uri = uri;\r\n        this._lines = lines;\r\n        this._eol = eol;\r\n        this._versionId = versionId;\r\n        this._lineStarts = null;\r\n    }\r\n    MirrorTextModel.prototype.dispose = function () {\r\n        this._lines.length = 0;\r\n    };\r\n    MirrorTextModel.prototype.getText = function () {\r\n        return this._lines.join(this._eol);\r\n    };\r\n    MirrorTextModel.prototype.onEvents = function (e) {\r\n        if (e.eol && e.eol !== this._eol) {\r\n            this._eol = e.eol;\r\n            this._lineStarts = null;\r\n        }\r\n        // Update my lines\r\n        var changes = e.changes;\r\n        for (var _i = 0, changes_1 = changes; _i < changes_1.length; _i++) {\r\n            var change = changes_1[_i];\r\n            this._acceptDeleteRange(change.range);\r\n            this._acceptInsertText(new Position(change.range.startLineNumber, change.range.startColumn), change.text);\r\n        }\r\n        this._versionId = e.versionId;\r\n    };\r\n    MirrorTextModel.prototype._ensureLineStarts = function () {\r\n        if (!this._lineStarts) {\r\n            var eolLength = this._eol.length;\r\n            var linesLength = this._lines.length;\r\n            var lineStartValues = new Uint32Array(linesLength);\r\n            for (var i = 0; i < linesLength; i++) {\r\n                lineStartValues[i] = this._lines[i].length + eolLength;\r\n            }\r\n            this._lineStarts = new PrefixSumComputer(lineStartValues);\r\n        }\r\n    };\r\n    /**\r\n     * All changes to a line's text go through this method\r\n     */\r\n    MirrorTextModel.prototype._setLineText = function (lineIndex, newValue) {\r\n        this._lines[lineIndex] = newValue;\r\n        if (this._lineStarts) {\r\n            // update prefix sum\r\n            this._lineStarts.changeValue(lineIndex, this._lines[lineIndex].length + this._eol.length);\r\n        }\r\n    };\r\n    MirrorTextModel.prototype._acceptDeleteRange = function (range) {\r\n        if (range.startLineNumber === range.endLineNumber) {\r\n            if (range.startColumn === range.endColumn) {\r\n                // Nothing to delete\r\n                return;\r\n            }\r\n            // Delete text on the affected line\r\n            this._setLineText(range.startLineNumber - 1, this._lines[range.startLineNumber - 1].substring(0, range.startColumn - 1)\r\n                + this._lines[range.startLineNumber - 1].substring(range.endColumn - 1));\r\n            return;\r\n        }\r\n        // Take remaining text on last line and append it to remaining text on first line\r\n        this._setLineText(range.startLineNumber - 1, this._lines[range.startLineNumber - 1].substring(0, range.startColumn - 1)\r\n            + this._lines[range.endLineNumber - 1].substring(range.endColumn - 1));\r\n        // Delete middle lines\r\n        this._lines.splice(range.startLineNumber, range.endLineNumber - range.startLineNumber);\r\n        if (this._lineStarts) {\r\n            // update prefix sum\r\n            this._lineStarts.removeValues(range.startLineNumber, range.endLineNumber - range.startLineNumber);\r\n        }\r\n    };\r\n    MirrorTextModel.prototype._acceptInsertText = function (position, insertText) {\r\n        if (insertText.length === 0) {\r\n            // Nothing to insert\r\n            return;\r\n        }\r\n        var insertLines = insertText.split(/\\r\\n|\\r|\\n/);\r\n        if (insertLines.length === 1) {\r\n            // Inserting text on one line\r\n            this._setLineText(position.lineNumber - 1, this._lines[position.lineNumber - 1].substring(0, position.column - 1)\r\n                + insertLines[0]\r\n                + this._lines[position.lineNumber - 1].substring(position.column - 1));\r\n            return;\r\n        }\r\n        // Append overflowing text from first line to the end of text to insert\r\n        insertLines[insertLines.length - 1] += this._lines[position.lineNumber - 1].substring(position.column - 1);\r\n        // Delete overflowing text from first line and insert text on first line\r\n        this._setLineText(position.lineNumber - 1, this._lines[position.lineNumber - 1].substring(0, position.column - 1)\r\n            + insertLines[0]);\r\n        // Insert new lines & store lengths\r\n        var newLengths = new Uint32Array(insertLines.length - 1);\r\n        for (var i = 1; i < insertLines.length; i++) {\r\n            this._lines.splice(position.lineNumber + i - 1, 0, insertLines[i]);\r\n            newLengths[i - 1] = insertLines[i].length + this._eol.length;\r\n        }\r\n        if (this._lineStarts) {\r\n            // update prefix sum\r\n            this._lineStarts.insertValues(position.lineNumber, newLengths);\r\n        }\r\n    };\r\n    return MirrorTextModel;\r\n}());\r\nexport { MirrorTextModel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nexport var USUAL_WORD_SEPARATORS = '`~!@#$%^&*()-=+[{]}\\\\|;:\\'\",.<>/?';\r\n/**\r\n * Create a word definition regular expression based on default word separators.\r\n * Optionally provide allowed separators that should be included in words.\r\n *\r\n * The default would look like this:\r\n * /(-?\\d*\\.\\d\\w*)|([^\\`\\~\\!\\@\\#\\$\\%\\^\\&\\*\\(\\)\\-\\=\\+\\[\\{\\]\\}\\\\\\|\\;\\:\\'\\\"\\,\\.\\<\\>\\/\\?\\s]+)/g\r\n */\r\nfunction createWordRegExp(allowInWords) {\r\n    if (allowInWords === void 0) { allowInWords = ''; }\r\n    var source = '(-?\\\\d*\\\\.\\\\d\\\\w*)|([^';\r\n    for (var _i = 0, USUAL_WORD_SEPARATORS_1 = USUAL_WORD_SEPARATORS; _i < USUAL_WORD_SEPARATORS_1.length; _i++) {\r\n        var sep = USUAL_WORD_SEPARATORS_1[_i];\r\n        if (allowInWords.indexOf(sep) >= 0) {\r\n            continue;\r\n        }\r\n        source += '\\\\' + sep;\r\n    }\r\n    source += '\\\\s]+)';\r\n    return new RegExp(source, 'g');\r\n}\r\n// catches numbers (including floating numbers) in the first group, and alphanum in the second\r\nexport var DEFAULT_WORD_REGEXP = createWordRegExp();\r\nexport function ensureValidWordDefinition(wordDefinition) {\r\n    var result = DEFAULT_WORD_REGEXP;\r\n    if (wordDefinition && (wordDefinition instanceof RegExp)) {\r\n        if (!wordDefinition.global) {\r\n            var flags = 'g';\r\n            if (wordDefinition.ignoreCase) {\r\n                flags += 'i';\r\n            }\r\n            if (wordDefinition.multiline) {\r\n                flags += 'm';\r\n            }\r\n            if (wordDefinition.unicode) {\r\n                flags += 'u';\r\n            }\r\n            result = new RegExp(wordDefinition.source, flags);\r\n        }\r\n        else {\r\n            result = wordDefinition;\r\n        }\r\n    }\r\n    result.lastIndex = 0;\r\n    return result;\r\n}\r\nfunction getWordAtPosFast(column, wordDefinition, text, textOffset) {\r\n    // find whitespace enclosed text around column and match from there\r\n    var pos = column - 1 - textOffset;\r\n    var start = text.lastIndexOf(' ', pos - 1) + 1;\r\n    wordDefinition.lastIndex = start;\r\n    var match;\r\n    while (match = wordDefinition.exec(text)) {\r\n        var matchIndex = match.index || 0;\r\n        if (matchIndex <= pos && wordDefinition.lastIndex >= pos) {\r\n            return {\r\n                word: match[0],\r\n                startColumn: textOffset + 1 + matchIndex,\r\n                endColumn: textOffset + 1 + wordDefinition.lastIndex\r\n            };\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction getWordAtPosSlow(column, wordDefinition, text, textOffset) {\r\n    // matches all words starting at the beginning\r\n    // of the input until it finds a match that encloses\r\n    // the desired column. slow but correct\r\n    var pos = column - 1 - textOffset;\r\n    wordDefinition.lastIndex = 0;\r\n    var match;\r\n    while (match = wordDefinition.exec(text)) {\r\n        var matchIndex = match.index || 0;\r\n        if (matchIndex > pos) {\r\n            // |nW -> matched only after the pos\r\n            return null;\r\n        }\r\n        else if (wordDefinition.lastIndex >= pos) {\r\n            // W|W -> match encloses pos\r\n            return {\r\n                word: match[0],\r\n                startColumn: textOffset + 1 + matchIndex,\r\n                endColumn: textOffset + 1 + wordDefinition.lastIndex\r\n            };\r\n        }\r\n    }\r\n    return null;\r\n}\r\nexport function getWordAtText(column, wordDefinition, text, textOffset) {\r\n    // if `words` can contain whitespace character we have to use the slow variant\r\n    // otherwise we use the fast variant of finding a word\r\n    wordDefinition.lastIndex = 0;\r\n    var match = wordDefinition.exec(text);\r\n    if (!match) {\r\n        return null;\r\n    }\r\n    // todo@joh the `match` could already be the (first) word\r\n    var ret = match[0].indexOf(' ') >= 0\r\n        // did match a word which contains a space character -> use slow word find\r\n        ? getWordAtPosSlow(column, wordDefinition, text, textOffset)\r\n        // sane word definition -> use fast word find\r\n        : getWordAtPosFast(column, wordDefinition, text, textOffset);\r\n    // both (getWordAtPosFast and getWordAtPosSlow) leave the wordDefinition-RegExp\r\n    // in an undefined state and to not confuse other users of the wordDefinition\r\n    // we reset the lastIndex\r\n    wordDefinition.lastIndex = 0;\r\n    return ret;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { CharacterClassifier } from '../core/characterClassifier.js';\r\nvar Uint8Matrix = /** @class */ (function () {\r\n    function Uint8Matrix(rows, cols, defaultValue) {\r\n        var data = new Uint8Array(rows * cols);\r\n        for (var i = 0, len = rows * cols; i < len; i++) {\r\n            data[i] = defaultValue;\r\n        }\r\n        this._data = data;\r\n        this.rows = rows;\r\n        this.cols = cols;\r\n    }\r\n    Uint8Matrix.prototype.get = function (row, col) {\r\n        return this._data[row * this.cols + col];\r\n    };\r\n    Uint8Matrix.prototype.set = function (row, col, value) {\r\n        this._data[row * this.cols + col] = value;\r\n    };\r\n    return Uint8Matrix;\r\n}());\r\nexport { Uint8Matrix };\r\nvar StateMachine = /** @class */ (function () {\r\n    function StateMachine(edges) {\r\n        var maxCharCode = 0;\r\n        var maxState = 0 /* Invalid */;\r\n        for (var i = 0, len = edges.length; i < len; i++) {\r\n            var _a = edges[i], from = _a[0], chCode = _a[1], to = _a[2];\r\n            if (chCode > maxCharCode) {\r\n                maxCharCode = chCode;\r\n            }\r\n            if (from > maxState) {\r\n                maxState = from;\r\n            }\r\n            if (to > maxState) {\r\n                maxState = to;\r\n            }\r\n        }\r\n        maxCharCode++;\r\n        maxState++;\r\n        var states = new Uint8Matrix(maxState, maxCharCode, 0 /* Invalid */);\r\n        for (var i = 0, len = edges.length; i < len; i++) {\r\n            var _b = edges[i], from = _b[0], chCode = _b[1], to = _b[2];\r\n            states.set(from, chCode, to);\r\n        }\r\n        this._states = states;\r\n        this._maxCharCode = maxCharCode;\r\n    }\r\n    StateMachine.prototype.nextState = function (currentState, chCode) {\r\n        if (chCode < 0 || chCode >= this._maxCharCode) {\r\n            return 0 /* Invalid */;\r\n        }\r\n        return this._states.get(currentState, chCode);\r\n    };\r\n    return StateMachine;\r\n}());\r\nexport { StateMachine };\r\n// State machine for http:// or https:// or file://\r\nvar _stateMachine = null;\r\nfunction getStateMachine() {\r\n    if (_stateMachine === null) {\r\n        _stateMachine = new StateMachine([\r\n            [1 /* Start */, 104 /* h */, 2 /* H */],\r\n            [1 /* Start */, 72 /* H */, 2 /* H */],\r\n            [1 /* Start */, 102 /* f */, 6 /* F */],\r\n            [1 /* Start */, 70 /* F */, 6 /* F */],\r\n            [2 /* H */, 116 /* t */, 3 /* HT */],\r\n            [2 /* H */, 84 /* T */, 3 /* HT */],\r\n            [3 /* HT */, 116 /* t */, 4 /* HTT */],\r\n            [3 /* HT */, 84 /* T */, 4 /* HTT */],\r\n            [4 /* HTT */, 112 /* p */, 5 /* HTTP */],\r\n            [4 /* HTT */, 80 /* P */, 5 /* HTTP */],\r\n            [5 /* HTTP */, 115 /* s */, 9 /* BeforeColon */],\r\n            [5 /* HTTP */, 83 /* S */, 9 /* BeforeColon */],\r\n            [5 /* HTTP */, 58 /* Colon */, 10 /* AfterColon */],\r\n            [6 /* F */, 105 /* i */, 7 /* FI */],\r\n            [6 /* F */, 73 /* I */, 7 /* FI */],\r\n            [7 /* FI */, 108 /* l */, 8 /* FIL */],\r\n            [7 /* FI */, 76 /* L */, 8 /* FIL */],\r\n            [8 /* FIL */, 101 /* e */, 9 /* BeforeColon */],\r\n            [8 /* FIL */, 69 /* E */, 9 /* BeforeColon */],\r\n            [9 /* BeforeColon */, 58 /* Colon */, 10 /* AfterColon */],\r\n            [10 /* AfterColon */, 47 /* Slash */, 11 /* AlmostThere */],\r\n            [11 /* AlmostThere */, 47 /* Slash */, 12 /* End */],\r\n        ]);\r\n    }\r\n    return _stateMachine;\r\n}\r\nvar _classifier = null;\r\nfunction getClassifier() {\r\n    if (_classifier === null) {\r\n        _classifier = new CharacterClassifier(0 /* None */);\r\n        var FORCE_TERMINATION_CHARACTERS = ' \\t<>\\'\\\"';\r\n        for (var i = 0; i < FORCE_TERMINATION_CHARACTERS.length; i++) {\r\n            _classifier.set(FORCE_TERMINATION_CHARACTERS.charCodeAt(i), 1 /* ForceTermination */);\r\n        }\r\n        var CANNOT_END_WITH_CHARACTERS = '.,;';\r\n        for (var i = 0; i < CANNOT_END_WITH_CHARACTERS.length; i++) {\r\n            _classifier.set(CANNOT_END_WITH_CHARACTERS.charCodeAt(i), 2 /* CannotEndIn */);\r\n        }\r\n    }\r\n    return _classifier;\r\n}\r\nvar LinkComputer = /** @class */ (function () {\r\n    function LinkComputer() {\r\n    }\r\n    LinkComputer._createLink = function (classifier, line, lineNumber, linkBeginIndex, linkEndIndex) {\r\n        // Do not allow to end link in certain characters...\r\n        var lastIncludedCharIndex = linkEndIndex - 1;\r\n        do {\r\n            var chCode = line.charCodeAt(lastIncludedCharIndex);\r\n            var chClass = classifier.get(chCode);\r\n            if (chClass !== 2 /* CannotEndIn */) {\r\n                break;\r\n            }\r\n            lastIncludedCharIndex--;\r\n        } while (lastIncludedCharIndex > linkBeginIndex);\r\n        // Handle links enclosed in parens, square brackets and curlys.\r\n        if (linkBeginIndex > 0) {\r\n            var charCodeBeforeLink = line.charCodeAt(linkBeginIndex - 1);\r\n            var lastCharCodeInLink = line.charCodeAt(lastIncludedCharIndex);\r\n            if ((charCodeBeforeLink === 40 /* OpenParen */ && lastCharCodeInLink === 41 /* CloseParen */)\r\n                || (charCodeBeforeLink === 91 /* OpenSquareBracket */ && lastCharCodeInLink === 93 /* CloseSquareBracket */)\r\n                || (charCodeBeforeLink === 123 /* OpenCurlyBrace */ && lastCharCodeInLink === 125 /* CloseCurlyBrace */)) {\r\n                // Do not end in ) if ( is before the link start\r\n                // Do not end in ] if [ is before the link start\r\n                // Do not end in } if { is before the link start\r\n                lastIncludedCharIndex--;\r\n            }\r\n        }\r\n        return {\r\n            range: {\r\n                startLineNumber: lineNumber,\r\n                startColumn: linkBeginIndex + 1,\r\n                endLineNumber: lineNumber,\r\n                endColumn: lastIncludedCharIndex + 2\r\n            },\r\n            url: line.substring(linkBeginIndex, lastIncludedCharIndex + 1)\r\n        };\r\n    };\r\n    LinkComputer.computeLinks = function (model, stateMachine) {\r\n        if (stateMachine === void 0) { stateMachine = getStateMachine(); }\r\n        var classifier = getClassifier();\r\n        var result = [];\r\n        for (var i = 1, lineCount = model.getLineCount(); i <= lineCount; i++) {\r\n            var line = model.getLineContent(i);\r\n            var len = line.length;\r\n            var j = 0;\r\n            var linkBeginIndex = 0;\r\n            var linkBeginChCode = 0;\r\n            var state = 1 /* Start */;\r\n            var hasOpenParens = false;\r\n            var hasOpenSquareBracket = false;\r\n            var hasOpenCurlyBracket = false;\r\n            while (j < len) {\r\n                var resetStateMachine = false;\r\n                var chCode = line.charCodeAt(j);\r\n                if (state === 13 /* Accept */) {\r\n                    var chClass = void 0;\r\n                    switch (chCode) {\r\n                        case 40 /* OpenParen */:\r\n                            hasOpenParens = true;\r\n                            chClass = 0 /* None */;\r\n                            break;\r\n                        case 41 /* CloseParen */:\r\n                            chClass = (hasOpenParens ? 0 /* None */ : 1 /* ForceTermination */);\r\n                            break;\r\n                        case 91 /* OpenSquareBracket */:\r\n                            hasOpenSquareBracket = true;\r\n                            chClass = 0 /* None */;\r\n                            break;\r\n                        case 93 /* CloseSquareBracket */:\r\n                            chClass = (hasOpenSquareBracket ? 0 /* None */ : 1 /* ForceTermination */);\r\n                            break;\r\n                        case 123 /* OpenCurlyBrace */:\r\n                            hasOpenCurlyBracket = true;\r\n                            chClass = 0 /* None */;\r\n                            break;\r\n                        case 125 /* CloseCurlyBrace */:\r\n                            chClass = (hasOpenCurlyBracket ? 0 /* None */ : 1 /* ForceTermination */);\r\n                            break;\r\n                        /* The following three rules make it that ' or \" or ` are allowed inside links if the link began with a different one */\r\n                        case 39 /* SingleQuote */:\r\n                            chClass = (linkBeginChCode === 34 /* DoubleQuote */ || linkBeginChCode === 96 /* BackTick */) ? 0 /* None */ : 1 /* ForceTermination */;\r\n                            break;\r\n                        case 34 /* DoubleQuote */:\r\n                            chClass = (linkBeginChCode === 39 /* SingleQuote */ || linkBeginChCode === 96 /* BackTick */) ? 0 /* None */ : 1 /* ForceTermination */;\r\n                            break;\r\n                        case 96 /* BackTick */:\r\n                            chClass = (linkBeginChCode === 39 /* SingleQuote */ || linkBeginChCode === 34 /* DoubleQuote */) ? 0 /* None */ : 1 /* ForceTermination */;\r\n                            break;\r\n                        case 42 /* Asterisk */:\r\n                            // `*` terminates a link if the link began with `*`\r\n                            chClass = (linkBeginChCode === 42 /* Asterisk */) ? 1 /* ForceTermination */ : 0 /* None */;\r\n                            break;\r\n                        default:\r\n                            chClass = classifier.get(chCode);\r\n                    }\r\n                    // Check if character terminates link\r\n                    if (chClass === 1 /* ForceTermination */) {\r\n                        result.push(LinkComputer._createLink(classifier, line, i, linkBeginIndex, j));\r\n                        resetStateMachine = true;\r\n                    }\r\n                }\r\n                else if (state === 12 /* End */) {\r\n                    var chClass = void 0;\r\n                    if (chCode === 91 /* OpenSquareBracket */) {\r\n                        // Allow for the authority part to contain ipv6 addresses which contain [ and ]\r\n                        hasOpenSquareBracket = true;\r\n                        chClass = 0 /* None */;\r\n                    }\r\n                    else {\r\n                        chClass = classifier.get(chCode);\r\n                    }\r\n                    // Check if character terminates link\r\n                    if (chClass === 1 /* ForceTermination */) {\r\n                        resetStateMachine = true;\r\n                    }\r\n                    else {\r\n                        state = 13 /* Accept */;\r\n                    }\r\n                }\r\n                else {\r\n                    state = stateMachine.nextState(state, chCode);\r\n                    if (state === 0 /* Invalid */) {\r\n                        resetStateMachine = true;\r\n                    }\r\n                }\r\n                if (resetStateMachine) {\r\n                    state = 1 /* Start */;\r\n                    hasOpenParens = false;\r\n                    hasOpenSquareBracket = false;\r\n                    hasOpenCurlyBracket = false;\r\n                    // Record where the link started\r\n                    linkBeginIndex = j + 1;\r\n                    linkBeginChCode = chCode;\r\n                }\r\n                j++;\r\n            }\r\n            if (state === 13 /* Accept */) {\r\n                result.push(LinkComputer._createLink(classifier, line, i, linkBeginIndex, len));\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    return LinkComputer;\r\n}());\r\nexport { LinkComputer };\r\n/**\r\n * Returns an array of all links contains in the provided\r\n * document. *Note* that this operation is computational\r\n * expensive and should not run in the UI thread.\r\n */\r\nexport function computeLinks(model) {\r\n    if (!model || typeof model.getLineCount !== 'function' || typeof model.getLineContent !== 'function') {\r\n        // Unknown caller!\r\n        return [];\r\n    }\r\n    return LinkComputer.computeLinks(model);\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar BasicInplaceReplace = /** @class */ (function () {\r\n    function BasicInplaceReplace() {\r\n        this._defaultValueSet = [\r\n            ['true', 'false'],\r\n            ['True', 'False'],\r\n            ['Private', 'Public', 'Friend', 'ReadOnly', 'Partial', 'Protected', 'WriteOnly'],\r\n            ['public', 'protected', 'private'],\r\n        ];\r\n    }\r\n    BasicInplaceReplace.prototype.navigateValueSet = function (range1, text1, range2, text2, up) {\r\n        if (range1 && text1) {\r\n            var result = this.doNavigateValueSet(text1, up);\r\n            if (result) {\r\n                return {\r\n                    range: range1,\r\n                    value: result\r\n                };\r\n            }\r\n        }\r\n        if (range2 && text2) {\r\n            var result = this.doNavigateValueSet(text2, up);\r\n            if (result) {\r\n                return {\r\n                    range: range2,\r\n                    value: result\r\n                };\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    BasicInplaceReplace.prototype.doNavigateValueSet = function (text, up) {\r\n        var numberResult = this.numberReplace(text, up);\r\n        if (numberResult !== null) {\r\n            return numberResult;\r\n        }\r\n        return this.textReplace(text, up);\r\n    };\r\n    BasicInplaceReplace.prototype.numberReplace = function (value, up) {\r\n        var precision = Math.pow(10, value.length - (value.lastIndexOf('.') + 1));\r\n        var n1 = Number(value);\r\n        var n2 = parseFloat(value);\r\n        if (!isNaN(n1) && !isNaN(n2) && n1 === n2) {\r\n            if (n1 === 0 && !up) {\r\n                return null; // don't do negative\r\n                //\t\t\t} else if(n1 === 9 && up) {\r\n                //\t\t\t\treturn null; // don't insert 10 into a number\r\n            }\r\n            else {\r\n                n1 = Math.floor(n1 * precision);\r\n                n1 += up ? precision : -precision;\r\n                return String(n1 / precision);\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    BasicInplaceReplace.prototype.textReplace = function (value, up) {\r\n        return this.valueSetsReplace(this._defaultValueSet, value, up);\r\n    };\r\n    BasicInplaceReplace.prototype.valueSetsReplace = function (valueSets, value, up) {\r\n        var result = null;\r\n        for (var i = 0, len = valueSets.length; result === null && i < len; i++) {\r\n            result = this.valueSetReplace(valueSets[i], value, up);\r\n        }\r\n        return result;\r\n    };\r\n    BasicInplaceReplace.prototype.valueSetReplace = function (valueSet, value, up) {\r\n        var idx = valueSet.indexOf(value);\r\n        if (idx >= 0) {\r\n            idx += up ? +1 : -1;\r\n            if (idx < 0) {\r\n                idx = valueSet.length - 1;\r\n            }\r\n            else {\r\n                idx %= valueSet.length;\r\n            }\r\n            return valueSet[idx];\r\n        }\r\n        return null;\r\n    };\r\n    BasicInplaceReplace.INSTANCE = new BasicInplaceReplace();\r\n    return BasicInplaceReplace;\r\n}());\r\nexport { BasicInplaceReplace };\r\n","/*!\nCopyright (c) 2014 Taylor Hakes\nCopyright (c) 2014 Forbes Lindesay\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory() :\n\t\ttypeof define === 'function' && define.amd ? define(factory) :\n\t\t\t(factory());\n}(this, (function () {\n\t'use strict';\n\n\t/**\n\t * @this {Promise}\n\t */\n\tfunction finallyConstructor(callback) {\n\t\tvar constructor = this.constructor;\n\t\treturn this.then(\n\t\t\tfunction (value) {\n\t\t\t\treturn constructor.resolve(callback()).then(function () {\n\t\t\t\t\treturn value;\n\t\t\t\t});\n\t\t\t},\n\t\t\tfunction (reason) {\n\t\t\t\treturn constructor.resolve(callback()).then(function () {\n\t\t\t\t\treturn constructor.reject(reason);\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t}\n\n\t// Store setTimeout reference so promise-polyfill will be unaffected by\n\t// other code modifying setTimeout (like sinon.useFakeTimers())\n\tvar setTimeoutFunc = setTimeout;\n\n\tfunction noop() { }\n\n\t// Polyfill for Function.prototype.bind\n\tfunction bind(fn, thisArg) {\n\t\treturn function () {\n\t\t\tfn.apply(thisArg, arguments);\n\t\t};\n\t}\n\n\t/**\n\t * @constructor\n\t * @param {Function} fn\n\t */\n\tfunction Promise(fn) {\n\t\tif (!(this instanceof Promise))\n\t\t\tthrow new TypeError('Promises must be constructed via new');\n\t\tif (typeof fn !== 'function') throw new TypeError('not a function');\n\t\t/** @type {!number} */\n\t\tthis._state = 0;\n\t\t/** @type {!boolean} */\n\t\tthis._handled = false;\n\t\t/** @type {Promise|undefined} */\n\t\tthis._value = undefined;\n\t\t/** @type {!Array<!Function>} */\n\t\tthis._deferreds = [];\n\n\t\tdoResolve(fn, this);\n\t}\n\n\tfunction handle(self, deferred) {\n\t\twhile (self._state === 3) {\n\t\t\tself = self._value;\n\t\t}\n\t\tif (self._state === 0) {\n\t\t\tself._deferreds.push(deferred);\n\t\t\treturn;\n\t\t}\n\t\tself._handled = true;\n\t\tPromise._immediateFn(function () {\n\t\t\tvar cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n\t\t\tif (cb === null) {\n\t\t\t\t(self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar ret;\n\t\t\ttry {\n\t\t\t\tret = cb(self._value);\n\t\t\t} catch (e) {\n\t\t\t\treject(deferred.promise, e);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresolve(deferred.promise, ret);\n\t\t});\n\t}\n\n\tfunction resolve(self, newValue) {\n\t\ttry {\n\t\t\t// Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n\t\t\tif (newValue === self)\n\t\t\t\tthrow new TypeError('A promise cannot be resolved with itself.');\n\t\t\tif (\n\t\t\t\tnewValue &&\n\t\t\t\t(typeof newValue === 'object' || typeof newValue === 'function')\n\t\t\t) {\n\t\t\t\tvar then = newValue.then;\n\t\t\t\tif (newValue instanceof Promise) {\n\t\t\t\t\tself._state = 3;\n\t\t\t\t\tself._value = newValue;\n\t\t\t\t\tfinale(self);\n\t\t\t\t\treturn;\n\t\t\t\t} else if (typeof then === 'function') {\n\t\t\t\t\tdoResolve(bind(then, newValue), self);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tself._state = 1;\n\t\t\tself._value = newValue;\n\t\t\tfinale(self);\n\t\t} catch (e) {\n\t\t\treject(self, e);\n\t\t}\n\t}\n\n\tfunction reject(self, newValue) {\n\t\tself._state = 2;\n\t\tself._value = newValue;\n\t\tfinale(self);\n\t}\n\n\tfunction finale(self) {\n\t\tif (self._state === 2 && self._deferreds.length === 0) {\n\t\t\tPromise._immediateFn(function () {\n\t\t\t\tif (!self._handled) {\n\t\t\t\t\tPromise._unhandledRejectionFn(self._value);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfor (var i = 0, len = self._deferreds.length; i < len; i++) {\n\t\t\thandle(self, self._deferreds[i]);\n\t\t}\n\t\tself._deferreds = null;\n\t}\n\n\t/**\n\t * @constructor\n\t */\n\tfunction Handler(onFulfilled, onRejected, promise) {\n\t\tthis.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n\t\tthis.onRejected = typeof onRejected === 'function' ? onRejected : null;\n\t\tthis.promise = promise;\n\t}\n\n\t/**\n\t * Take a potentially misbehaving resolver function and make sure\n\t * onFulfilled and onRejected are only called once.\n\t *\n\t * Makes no guarantees about asynchrony.\n\t */\n\tfunction doResolve(fn, self) {\n\t\tvar done = false;\n\t\ttry {\n\t\t\tfn(\n\t\t\t\tfunction (value) {\n\t\t\t\t\tif (done) return;\n\t\t\t\t\tdone = true;\n\t\t\t\t\tresolve(self, value);\n\t\t\t\t},\n\t\t\t\tfunction (reason) {\n\t\t\t\t\tif (done) return;\n\t\t\t\t\tdone = true;\n\t\t\t\t\treject(self, reason);\n\t\t\t\t}\n\t\t\t);\n\t\t} catch (ex) {\n\t\t\tif (done) return;\n\t\t\tdone = true;\n\t\t\treject(self, ex);\n\t\t}\n\t}\n\n\tPromise.prototype['catch'] = function (onRejected) {\n\t\treturn this.then(null, onRejected);\n\t};\n\n\tPromise.prototype.then = function (onFulfilled, onRejected) {\n\t\t// @ts-ignore\n\t\tvar prom = new this.constructor(noop);\n\n\t\thandle(this, new Handler(onFulfilled, onRejected, prom));\n\t\treturn prom;\n\t};\n\n\tPromise.prototype['finally'] = finallyConstructor;\n\n\tPromise.all = function (arr) {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tif (!arr || typeof arr.length === 'undefined')\n\t\t\t\tthrow new TypeError('Promise.all accepts an array');\n\t\t\tvar args = Array.prototype.slice.call(arr);\n\t\t\tif (args.length === 0) return resolve([]);\n\t\t\tvar remaining = args.length;\n\n\t\t\tfunction res(i, val) {\n\t\t\t\ttry {\n\t\t\t\t\tif (val && (typeof val === 'object' || typeof val === 'function')) {\n\t\t\t\t\t\tvar then = val.then;\n\t\t\t\t\t\tif (typeof then === 'function') {\n\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\tval,\n\t\t\t\t\t\t\t\tfunction (val) {\n\t\t\t\t\t\t\t\t\tres(i, val);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\treject\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\targs[i] = val;\n\t\t\t\t\tif (--remaining === 0) {\n\t\t\t\t\t\tresolve(args);\n\t\t\t\t\t}\n\t\t\t\t} catch (ex) {\n\t\t\t\t\treject(ex);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < args.length; i++) {\n\t\t\t\tres(i, args[i]);\n\t\t\t}\n\t\t});\n\t};\n\n\tPromise.resolve = function (value) {\n\t\tif (value && typeof value === 'object' && value.constructor === Promise) {\n\t\t\treturn value;\n\t\t}\n\n\t\treturn new Promise(function (resolve) {\n\t\t\tresolve(value);\n\t\t});\n\t};\n\n\tPromise.reject = function (value) {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\treject(value);\n\t\t});\n\t};\n\n\tPromise.race = function (values) {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tfor (var i = 0, len = values.length; i < len; i++) {\n\t\t\t\tvalues[i].then(resolve, reject);\n\t\t\t}\n\t\t});\n\t};\n\n\t// Use polyfill for setImmediate for performance gains\n\tPromise._immediateFn =\n\t\t(typeof setImmediate === 'function' &&\n\t\t\tfunction (fn) {\n\t\t\t\tsetImmediate(fn);\n\t\t\t}) ||\n\t\tfunction (fn) {\n\t\t\tsetTimeoutFunc(fn, 0);\n\t\t};\n\n\tPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n\t\tif (typeof console !== 'undefined' && console) {\n\t\t\tconsole.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n\t\t}\n\t};\n\n\t/** @suppress {undefinedVars} */\n\tvar globalNS = (function () {\n\t\t// the only reliable means to get the global object is\n\t\t// `Function('return this')()`\n\t\t// However, this causes CSP violations in Chrome apps.\n\t\tif (typeof self !== 'undefined') {\n\t\t\treturn self;\n\t\t}\n\t\tif (typeof window !== 'undefined') {\n\t\t\treturn window;\n\t\t}\n\t\tif (typeof global !== 'undefined') {\n\t\t\treturn global;\n\t\t}\n\t\tthrow new Error('unable to locate global object');\n\t})();\n\n\tif (!('Promise' in globalNS)) {\n\t\tglobalNS['Promise'] = Promise;\n\t} else if (!globalNS.Promise.prototype['finally']) {\n\t\tglobalNS.Promise.prototype['finally'] = finallyConstructor;\n\t}\n\n})));\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar Token = /** @class */ (function () {\r\n    function Token(offset, type, language) {\r\n        this.offset = offset | 0; // @perf\r\n        this.type = type;\r\n        this.language = language;\r\n    }\r\n    Token.prototype.toString = function () {\r\n        return '(' + this.offset + ', ' + this.type + ')';\r\n    };\r\n    return Token;\r\n}());\r\nexport { Token };\r\nvar TokenizationResult = /** @class */ (function () {\r\n    function TokenizationResult(tokens, endState) {\r\n        this.tokens = tokens;\r\n        this.endState = endState;\r\n    }\r\n    return TokenizationResult;\r\n}());\r\nexport { TokenizationResult };\r\nvar TokenizationResult2 = /** @class */ (function () {\r\n    function TokenizationResult2(tokens, endState) {\r\n        this.tokens = tokens;\r\n        this.endState = endState;\r\n    }\r\n    return TokenizationResult2;\r\n}());\r\nexport { TokenizationResult2 };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n// THIS IS A GENERATED FILE. DO NOT EDIT DIRECTLY.\r\nexport var MarkerTag;\r\n(function (MarkerTag) {\r\n    MarkerTag[MarkerTag[\"Unnecessary\"] = 1] = \"Unnecessary\";\r\n    MarkerTag[MarkerTag[\"Deprecated\"] = 2] = \"Deprecated\";\r\n})(MarkerTag || (MarkerTag = {}));\r\nexport var MarkerSeverity;\r\n(function (MarkerSeverity) {\r\n    MarkerSeverity[MarkerSeverity[\"Hint\"] = 1] = \"Hint\";\r\n    MarkerSeverity[MarkerSeverity[\"Info\"] = 2] = \"Info\";\r\n    MarkerSeverity[MarkerSeverity[\"Warning\"] = 4] = \"Warning\";\r\n    MarkerSeverity[MarkerSeverity[\"Error\"] = 8] = \"Error\";\r\n})(MarkerSeverity || (MarkerSeverity = {}));\r\n/**\r\n * Virtual Key Codes, the value does not hold any inherent meaning.\r\n * Inspired somewhat from https://msdn.microsoft.com/en-us/library/windows/desktop/dd375731(v=vs.85).aspx\r\n * But these are \"more general\", as they should work across browsers & OS`s.\r\n */\r\nexport var KeyCode;\r\n(function (KeyCode) {\r\n    /**\r\n     * Placed first to cover the 0 value of the enum.\r\n     */\r\n    KeyCode[KeyCode[\"Unknown\"] = 0] = \"Unknown\";\r\n    KeyCode[KeyCode[\"Backspace\"] = 1] = \"Backspace\";\r\n    KeyCode[KeyCode[\"Tab\"] = 2] = \"Tab\";\r\n    KeyCode[KeyCode[\"Enter\"] = 3] = \"Enter\";\r\n    KeyCode[KeyCode[\"Shift\"] = 4] = \"Shift\";\r\n    KeyCode[KeyCode[\"Ctrl\"] = 5] = \"Ctrl\";\r\n    KeyCode[KeyCode[\"Alt\"] = 6] = \"Alt\";\r\n    KeyCode[KeyCode[\"PauseBreak\"] = 7] = \"PauseBreak\";\r\n    KeyCode[KeyCode[\"CapsLock\"] = 8] = \"CapsLock\";\r\n    KeyCode[KeyCode[\"Escape\"] = 9] = \"Escape\";\r\n    KeyCode[KeyCode[\"Space\"] = 10] = \"Space\";\r\n    KeyCode[KeyCode[\"PageUp\"] = 11] = \"PageUp\";\r\n    KeyCode[KeyCode[\"PageDown\"] = 12] = \"PageDown\";\r\n    KeyCode[KeyCode[\"End\"] = 13] = \"End\";\r\n    KeyCode[KeyCode[\"Home\"] = 14] = \"Home\";\r\n    KeyCode[KeyCode[\"LeftArrow\"] = 15] = \"LeftArrow\";\r\n    KeyCode[KeyCode[\"UpArrow\"] = 16] = \"UpArrow\";\r\n    KeyCode[KeyCode[\"RightArrow\"] = 17] = \"RightArrow\";\r\n    KeyCode[KeyCode[\"DownArrow\"] = 18] = \"DownArrow\";\r\n    KeyCode[KeyCode[\"Insert\"] = 19] = \"Insert\";\r\n    KeyCode[KeyCode[\"Delete\"] = 20] = \"Delete\";\r\n    KeyCode[KeyCode[\"KEY_0\"] = 21] = \"KEY_0\";\r\n    KeyCode[KeyCode[\"KEY_1\"] = 22] = \"KEY_1\";\r\n    KeyCode[KeyCode[\"KEY_2\"] = 23] = \"KEY_2\";\r\n    KeyCode[KeyCode[\"KEY_3\"] = 24] = \"KEY_3\";\r\n    KeyCode[KeyCode[\"KEY_4\"] = 25] = \"KEY_4\";\r\n    KeyCode[KeyCode[\"KEY_5\"] = 26] = \"KEY_5\";\r\n    KeyCode[KeyCode[\"KEY_6\"] = 27] = \"KEY_6\";\r\n    KeyCode[KeyCode[\"KEY_7\"] = 28] = \"KEY_7\";\r\n    KeyCode[KeyCode[\"KEY_8\"] = 29] = \"KEY_8\";\r\n    KeyCode[KeyCode[\"KEY_9\"] = 30] = \"KEY_9\";\r\n    KeyCode[KeyCode[\"KEY_A\"] = 31] = \"KEY_A\";\r\n    KeyCode[KeyCode[\"KEY_B\"] = 32] = \"KEY_B\";\r\n    KeyCode[KeyCode[\"KEY_C\"] = 33] = \"KEY_C\";\r\n    KeyCode[KeyCode[\"KEY_D\"] = 34] = \"KEY_D\";\r\n    KeyCode[KeyCode[\"KEY_E\"] = 35] = \"KEY_E\";\r\n    KeyCode[KeyCode[\"KEY_F\"] = 36] = \"KEY_F\";\r\n    KeyCode[KeyCode[\"KEY_G\"] = 37] = \"KEY_G\";\r\n    KeyCode[KeyCode[\"KEY_H\"] = 38] = \"KEY_H\";\r\n    KeyCode[KeyCode[\"KEY_I\"] = 39] = \"KEY_I\";\r\n    KeyCode[KeyCode[\"KEY_J\"] = 40] = \"KEY_J\";\r\n    KeyCode[KeyCode[\"KEY_K\"] = 41] = \"KEY_K\";\r\n    KeyCode[KeyCode[\"KEY_L\"] = 42] = \"KEY_L\";\r\n    KeyCode[KeyCode[\"KEY_M\"] = 43] = \"KEY_M\";\r\n    KeyCode[KeyCode[\"KEY_N\"] = 44] = \"KEY_N\";\r\n    KeyCode[KeyCode[\"KEY_O\"] = 45] = \"KEY_O\";\r\n    KeyCode[KeyCode[\"KEY_P\"] = 46] = \"KEY_P\";\r\n    KeyCode[KeyCode[\"KEY_Q\"] = 47] = \"KEY_Q\";\r\n    KeyCode[KeyCode[\"KEY_R\"] = 48] = \"KEY_R\";\r\n    KeyCode[KeyCode[\"KEY_S\"] = 49] = \"KEY_S\";\r\n    KeyCode[KeyCode[\"KEY_T\"] = 50] = \"KEY_T\";\r\n    KeyCode[KeyCode[\"KEY_U\"] = 51] = \"KEY_U\";\r\n    KeyCode[KeyCode[\"KEY_V\"] = 52] = \"KEY_V\";\r\n    KeyCode[KeyCode[\"KEY_W\"] = 53] = \"KEY_W\";\r\n    KeyCode[KeyCode[\"KEY_X\"] = 54] = \"KEY_X\";\r\n    KeyCode[KeyCode[\"KEY_Y\"] = 55] = \"KEY_Y\";\r\n    KeyCode[KeyCode[\"KEY_Z\"] = 56] = \"KEY_Z\";\r\n    KeyCode[KeyCode[\"Meta\"] = 57] = \"Meta\";\r\n    KeyCode[KeyCode[\"ContextMenu\"] = 58] = \"ContextMenu\";\r\n    KeyCode[KeyCode[\"F1\"] = 59] = \"F1\";\r\n    KeyCode[KeyCode[\"F2\"] = 60] = \"F2\";\r\n    KeyCode[KeyCode[\"F3\"] = 61] = \"F3\";\r\n    KeyCode[KeyCode[\"F4\"] = 62] = \"F4\";\r\n    KeyCode[KeyCode[\"F5\"] = 63] = \"F5\";\r\n    KeyCode[KeyCode[\"F6\"] = 64] = \"F6\";\r\n    KeyCode[KeyCode[\"F7\"] = 65] = \"F7\";\r\n    KeyCode[KeyCode[\"F8\"] = 66] = \"F8\";\r\n    KeyCode[KeyCode[\"F9\"] = 67] = \"F9\";\r\n    KeyCode[KeyCode[\"F10\"] = 68] = \"F10\";\r\n    KeyCode[KeyCode[\"F11\"] = 69] = \"F11\";\r\n    KeyCode[KeyCode[\"F12\"] = 70] = \"F12\";\r\n    KeyCode[KeyCode[\"F13\"] = 71] = \"F13\";\r\n    KeyCode[KeyCode[\"F14\"] = 72] = \"F14\";\r\n    KeyCode[KeyCode[\"F15\"] = 73] = \"F15\";\r\n    KeyCode[KeyCode[\"F16\"] = 74] = \"F16\";\r\n    KeyCode[KeyCode[\"F17\"] = 75] = \"F17\";\r\n    KeyCode[KeyCode[\"F18\"] = 76] = \"F18\";\r\n    KeyCode[KeyCode[\"F19\"] = 77] = \"F19\";\r\n    KeyCode[KeyCode[\"NumLock\"] = 78] = \"NumLock\";\r\n    KeyCode[KeyCode[\"ScrollLock\"] = 79] = \"ScrollLock\";\r\n    /**\r\n     * Used for miscellaneous characters; it can vary by keyboard.\r\n     * For the US standard keyboard, the ';:' key\r\n     */\r\n    KeyCode[KeyCode[\"US_SEMICOLON\"] = 80] = \"US_SEMICOLON\";\r\n    /**\r\n     * For any country/region, the '+' key\r\n     * For the US standard keyboard, the '=+' key\r\n     */\r\n    KeyCode[KeyCode[\"US_EQUAL\"] = 81] = \"US_EQUAL\";\r\n    /**\r\n     * For any country/region, the ',' key\r\n     * For the US standard keyboard, the ',<' key\r\n     */\r\n    KeyCode[KeyCode[\"US_COMMA\"] = 82] = \"US_COMMA\";\r\n    /**\r\n     * For any country/region, the '-' key\r\n     * For the US standard keyboard, the '-_' key\r\n     */\r\n    KeyCode[KeyCode[\"US_MINUS\"] = 83] = \"US_MINUS\";\r\n    /**\r\n     * For any country/region, the '.' key\r\n     * For the US standard keyboard, the '.>' key\r\n     */\r\n    KeyCode[KeyCode[\"US_DOT\"] = 84] = \"US_DOT\";\r\n    /**\r\n     * Used for miscellaneous characters; it can vary by keyboard.\r\n     * For the US standard keyboard, the '/?' key\r\n     */\r\n    KeyCode[KeyCode[\"US_SLASH\"] = 85] = \"US_SLASH\";\r\n    /**\r\n     * Used for miscellaneous characters; it can vary by keyboard.\r\n     * For the US standard keyboard, the '`~' key\r\n     */\r\n    KeyCode[KeyCode[\"US_BACKTICK\"] = 86] = \"US_BACKTICK\";\r\n    /**\r\n     * Used for miscellaneous characters; it can vary by keyboard.\r\n     * For the US standard keyboard, the '[{' key\r\n     */\r\n    KeyCode[KeyCode[\"US_OPEN_SQUARE_BRACKET\"] = 87] = \"US_OPEN_SQUARE_BRACKET\";\r\n    /**\r\n     * Used for miscellaneous characters; it can vary by keyboard.\r\n     * For the US standard keyboard, the '\\|' key\r\n     */\r\n    KeyCode[KeyCode[\"US_BACKSLASH\"] = 88] = \"US_BACKSLASH\";\r\n    /**\r\n     * Used for miscellaneous characters; it can vary by keyboard.\r\n     * For the US standard keyboard, the ']}' key\r\n     */\r\n    KeyCode[KeyCode[\"US_CLOSE_SQUARE_BRACKET\"] = 89] = \"US_CLOSE_SQUARE_BRACKET\";\r\n    /**\r\n     * Used for miscellaneous characters; it can vary by keyboard.\r\n     * For the US standard keyboard, the ''\"' key\r\n     */\r\n    KeyCode[KeyCode[\"US_QUOTE\"] = 90] = \"US_QUOTE\";\r\n    /**\r\n     * Used for miscellaneous characters; it can vary by keyboard.\r\n     */\r\n    KeyCode[KeyCode[\"OEM_8\"] = 91] = \"OEM_8\";\r\n    /**\r\n     * Either the angle bracket key or the backslash key on the RT 102-key keyboard.\r\n     */\r\n    KeyCode[KeyCode[\"OEM_102\"] = 92] = \"OEM_102\";\r\n    KeyCode[KeyCode[\"NUMPAD_0\"] = 93] = \"NUMPAD_0\";\r\n    KeyCode[KeyCode[\"NUMPAD_1\"] = 94] = \"NUMPAD_1\";\r\n    KeyCode[KeyCode[\"NUMPAD_2\"] = 95] = \"NUMPAD_2\";\r\n    KeyCode[KeyCode[\"NUMPAD_3\"] = 96] = \"NUMPAD_3\";\r\n    KeyCode[KeyCode[\"NUMPAD_4\"] = 97] = \"NUMPAD_4\";\r\n    KeyCode[KeyCode[\"NUMPAD_5\"] = 98] = \"NUMPAD_5\";\r\n    KeyCode[KeyCode[\"NUMPAD_6\"] = 99] = \"NUMPAD_6\";\r\n    KeyCode[KeyCode[\"NUMPAD_7\"] = 100] = \"NUMPAD_7\";\r\n    KeyCode[KeyCode[\"NUMPAD_8\"] = 101] = \"NUMPAD_8\";\r\n    KeyCode[KeyCode[\"NUMPAD_9\"] = 102] = \"NUMPAD_9\";\r\n    KeyCode[KeyCode[\"NUMPAD_MULTIPLY\"] = 103] = \"NUMPAD_MULTIPLY\";\r\n    KeyCode[KeyCode[\"NUMPAD_ADD\"] = 104] = \"NUMPAD_ADD\";\r\n    KeyCode[KeyCode[\"NUMPAD_SEPARATOR\"] = 105] = \"NUMPAD_SEPARATOR\";\r\n    KeyCode[KeyCode[\"NUMPAD_SUBTRACT\"] = 106] = \"NUMPAD_SUBTRACT\";\r\n    KeyCode[KeyCode[\"NUMPAD_DECIMAL\"] = 107] = \"NUMPAD_DECIMAL\";\r\n    KeyCode[KeyCode[\"NUMPAD_DIVIDE\"] = 108] = \"NUMPAD_DIVIDE\";\r\n    /**\r\n     * Cover all key codes when IME is processing input.\r\n     */\r\n    KeyCode[KeyCode[\"KEY_IN_COMPOSITION\"] = 109] = \"KEY_IN_COMPOSITION\";\r\n    KeyCode[KeyCode[\"ABNT_C1\"] = 110] = \"ABNT_C1\";\r\n    KeyCode[KeyCode[\"ABNT_C2\"] = 111] = \"ABNT_C2\";\r\n    /**\r\n     * Placed last to cover the length of the enum.\r\n     * Please do not depend on this value!\r\n     */\r\n    KeyCode[KeyCode[\"MAX_VALUE\"] = 112] = \"MAX_VALUE\";\r\n})(KeyCode || (KeyCode = {}));\r\n/**\r\n * The direction of a selection.\r\n */\r\nexport var SelectionDirection;\r\n(function (SelectionDirection) {\r\n    /**\r\n     * The selection starts above where it ends.\r\n     */\r\n    SelectionDirection[SelectionDirection[\"LTR\"] = 0] = \"LTR\";\r\n    /**\r\n     * The selection starts below where it ends.\r\n     */\r\n    SelectionDirection[SelectionDirection[\"RTL\"] = 1] = \"RTL\";\r\n})(SelectionDirection || (SelectionDirection = {}));\r\nexport var ScrollbarVisibility;\r\n(function (ScrollbarVisibility) {\r\n    ScrollbarVisibility[ScrollbarVisibility[\"Auto\"] = 1] = \"Auto\";\r\n    ScrollbarVisibility[ScrollbarVisibility[\"Hidden\"] = 2] = \"Hidden\";\r\n    ScrollbarVisibility[ScrollbarVisibility[\"Visible\"] = 3] = \"Visible\";\r\n})(ScrollbarVisibility || (ScrollbarVisibility = {}));\r\n/**\r\n * Vertical Lane in the overview ruler of the editor.\r\n */\r\nexport var OverviewRulerLane;\r\n(function (OverviewRulerLane) {\r\n    OverviewRulerLane[OverviewRulerLane[\"Left\"] = 1] = \"Left\";\r\n    OverviewRulerLane[OverviewRulerLane[\"Center\"] = 2] = \"Center\";\r\n    OverviewRulerLane[OverviewRulerLane[\"Right\"] = 4] = \"Right\";\r\n    OverviewRulerLane[OverviewRulerLane[\"Full\"] = 7] = \"Full\";\r\n})(OverviewRulerLane || (OverviewRulerLane = {}));\r\n/**\r\n * Position in the minimap to render the decoration.\r\n */\r\nexport var MinimapPosition;\r\n(function (MinimapPosition) {\r\n    MinimapPosition[MinimapPosition[\"Inline\"] = 1] = \"Inline\";\r\n    MinimapPosition[MinimapPosition[\"Gutter\"] = 2] = \"Gutter\";\r\n})(MinimapPosition || (MinimapPosition = {}));\r\n/**\r\n * End of line character preference.\r\n */\r\nexport var EndOfLinePreference;\r\n(function (EndOfLinePreference) {\r\n    /**\r\n     * Use the end of line character identified in the text buffer.\r\n     */\r\n    EndOfLinePreference[EndOfLinePreference[\"TextDefined\"] = 0] = \"TextDefined\";\r\n    /**\r\n     * Use line feed (\\n) as the end of line character.\r\n     */\r\n    EndOfLinePreference[EndOfLinePreference[\"LF\"] = 1] = \"LF\";\r\n    /**\r\n     * Use carriage return and line feed (\\r\\n) as the end of line character.\r\n     */\r\n    EndOfLinePreference[EndOfLinePreference[\"CRLF\"] = 2] = \"CRLF\";\r\n})(EndOfLinePreference || (EndOfLinePreference = {}));\r\n/**\r\n * The default end of line to use when instantiating models.\r\n */\r\nexport var DefaultEndOfLine;\r\n(function (DefaultEndOfLine) {\r\n    /**\r\n     * Use line feed (\\n) as the end of line character.\r\n     */\r\n    DefaultEndOfLine[DefaultEndOfLine[\"LF\"] = 1] = \"LF\";\r\n    /**\r\n     * Use carriage return and line feed (\\r\\n) as the end of line character.\r\n     */\r\n    DefaultEndOfLine[DefaultEndOfLine[\"CRLF\"] = 2] = \"CRLF\";\r\n})(DefaultEndOfLine || (DefaultEndOfLine = {}));\r\n/**\r\n * End of line character preference.\r\n */\r\nexport var EndOfLineSequence;\r\n(function (EndOfLineSequence) {\r\n    /**\r\n     * Use line feed (\\n) as the end of line character.\r\n     */\r\n    EndOfLineSequence[EndOfLineSequence[\"LF\"] = 0] = \"LF\";\r\n    /**\r\n     * Use carriage return and line feed (\\r\\n) as the end of line character.\r\n     */\r\n    EndOfLineSequence[EndOfLineSequence[\"CRLF\"] = 1] = \"CRLF\";\r\n})(EndOfLineSequence || (EndOfLineSequence = {}));\r\n/**\r\n * Describes the behavior of decorations when typing/editing near their edges.\r\n * Note: Please do not edit the values, as they very carefully match `DecorationRangeBehavior`\r\n */\r\nexport var TrackedRangeStickiness;\r\n(function (TrackedRangeStickiness) {\r\n    TrackedRangeStickiness[TrackedRangeStickiness[\"AlwaysGrowsWhenTypingAtEdges\"] = 0] = \"AlwaysGrowsWhenTypingAtEdges\";\r\n    TrackedRangeStickiness[TrackedRangeStickiness[\"NeverGrowsWhenTypingAtEdges\"] = 1] = \"NeverGrowsWhenTypingAtEdges\";\r\n    TrackedRangeStickiness[TrackedRangeStickiness[\"GrowsOnlyWhenTypingBefore\"] = 2] = \"GrowsOnlyWhenTypingBefore\";\r\n    TrackedRangeStickiness[TrackedRangeStickiness[\"GrowsOnlyWhenTypingAfter\"] = 3] = \"GrowsOnlyWhenTypingAfter\";\r\n})(TrackedRangeStickiness || (TrackedRangeStickiness = {}));\r\nexport var ScrollType;\r\n(function (ScrollType) {\r\n    ScrollType[ScrollType[\"Smooth\"] = 0] = \"Smooth\";\r\n    ScrollType[ScrollType[\"Immediate\"] = 1] = \"Immediate\";\r\n})(ScrollType || (ScrollType = {}));\r\n/**\r\n * Describes the reason the cursor has changed its position.\r\n */\r\nexport var CursorChangeReason;\r\n(function (CursorChangeReason) {\r\n    /**\r\n     * Unknown or not set.\r\n     */\r\n    CursorChangeReason[CursorChangeReason[\"NotSet\"] = 0] = \"NotSet\";\r\n    /**\r\n     * A `model.setValue()` was called.\r\n     */\r\n    CursorChangeReason[CursorChangeReason[\"ContentFlush\"] = 1] = \"ContentFlush\";\r\n    /**\r\n     * The `model` has been changed outside of this cursor and the cursor recovers its position from associated markers.\r\n     */\r\n    CursorChangeReason[CursorChangeReason[\"RecoverFromMarkers\"] = 2] = \"RecoverFromMarkers\";\r\n    /**\r\n     * There was an explicit user gesture.\r\n     */\r\n    CursorChangeReason[CursorChangeReason[\"Explicit\"] = 3] = \"Explicit\";\r\n    /**\r\n     * There was a Paste.\r\n     */\r\n    CursorChangeReason[CursorChangeReason[\"Paste\"] = 4] = \"Paste\";\r\n    /**\r\n     * There was an Undo.\r\n     */\r\n    CursorChangeReason[CursorChangeReason[\"Undo\"] = 5] = \"Undo\";\r\n    /**\r\n     * There was a Redo.\r\n     */\r\n    CursorChangeReason[CursorChangeReason[\"Redo\"] = 6] = \"Redo\";\r\n})(CursorChangeReason || (CursorChangeReason = {}));\r\nexport var RenderMinimap;\r\n(function (RenderMinimap) {\r\n    RenderMinimap[RenderMinimap[\"None\"] = 0] = \"None\";\r\n    RenderMinimap[RenderMinimap[\"Text\"] = 1] = \"Text\";\r\n    RenderMinimap[RenderMinimap[\"Blocks\"] = 2] = \"Blocks\";\r\n})(RenderMinimap || (RenderMinimap = {}));\r\n/**\r\n * A positioning preference for rendering content widgets.\r\n */\r\nexport var ContentWidgetPositionPreference;\r\n(function (ContentWidgetPositionPreference) {\r\n    /**\r\n     * Place the content widget exactly at a position\r\n     */\r\n    ContentWidgetPositionPreference[ContentWidgetPositionPreference[\"EXACT\"] = 0] = \"EXACT\";\r\n    /**\r\n     * Place the content widget above a position\r\n     */\r\n    ContentWidgetPositionPreference[ContentWidgetPositionPreference[\"ABOVE\"] = 1] = \"ABOVE\";\r\n    /**\r\n     * Place the content widget below a position\r\n     */\r\n    ContentWidgetPositionPreference[ContentWidgetPositionPreference[\"BELOW\"] = 2] = \"BELOW\";\r\n})(ContentWidgetPositionPreference || (ContentWidgetPositionPreference = {}));\r\n/**\r\n * A positioning preference for rendering overlay widgets.\r\n */\r\nexport var OverlayWidgetPositionPreference;\r\n(function (OverlayWidgetPositionPreference) {\r\n    /**\r\n     * Position the overlay widget in the top right corner\r\n     */\r\n    OverlayWidgetPositionPreference[OverlayWidgetPositionPreference[\"TOP_RIGHT_CORNER\"] = 0] = \"TOP_RIGHT_CORNER\";\r\n    /**\r\n     * Position the overlay widget in the bottom right corner\r\n     */\r\n    OverlayWidgetPositionPreference[OverlayWidgetPositionPreference[\"BOTTOM_RIGHT_CORNER\"] = 1] = \"BOTTOM_RIGHT_CORNER\";\r\n    /**\r\n     * Position the overlay widget in the top center\r\n     */\r\n    OverlayWidgetPositionPreference[OverlayWidgetPositionPreference[\"TOP_CENTER\"] = 2] = \"TOP_CENTER\";\r\n})(OverlayWidgetPositionPreference || (OverlayWidgetPositionPreference = {}));\r\n/**\r\n * Type of hit element with the mouse in the editor.\r\n */\r\nexport var MouseTargetType;\r\n(function (MouseTargetType) {\r\n    /**\r\n     * Mouse is on top of an unknown element.\r\n     */\r\n    MouseTargetType[MouseTargetType[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\r\n    /**\r\n     * Mouse is on top of the textarea used for input.\r\n     */\r\n    MouseTargetType[MouseTargetType[\"TEXTAREA\"] = 1] = \"TEXTAREA\";\r\n    /**\r\n     * Mouse is on top of the glyph margin\r\n     */\r\n    MouseTargetType[MouseTargetType[\"GUTTER_GLYPH_MARGIN\"] = 2] = \"GUTTER_GLYPH_MARGIN\";\r\n    /**\r\n     * Mouse is on top of the line numbers\r\n     */\r\n    MouseTargetType[MouseTargetType[\"GUTTER_LINE_NUMBERS\"] = 3] = \"GUTTER_LINE_NUMBERS\";\r\n    /**\r\n     * Mouse is on top of the line decorations\r\n     */\r\n    MouseTargetType[MouseTargetType[\"GUTTER_LINE_DECORATIONS\"] = 4] = \"GUTTER_LINE_DECORATIONS\";\r\n    /**\r\n     * Mouse is on top of the whitespace left in the gutter by a view zone.\r\n     */\r\n    MouseTargetType[MouseTargetType[\"GUTTER_VIEW_ZONE\"] = 5] = \"GUTTER_VIEW_ZONE\";\r\n    /**\r\n     * Mouse is on top of text in the content.\r\n     */\r\n    MouseTargetType[MouseTargetType[\"CONTENT_TEXT\"] = 6] = \"CONTENT_TEXT\";\r\n    /**\r\n     * Mouse is on top of empty space in the content (e.g. after line text or below last line)\r\n     */\r\n    MouseTargetType[MouseTargetType[\"CONTENT_EMPTY\"] = 7] = \"CONTENT_EMPTY\";\r\n    /**\r\n     * Mouse is on top of a view zone in the content.\r\n     */\r\n    MouseTargetType[MouseTargetType[\"CONTENT_VIEW_ZONE\"] = 8] = \"CONTENT_VIEW_ZONE\";\r\n    /**\r\n     * Mouse is on top of a content widget.\r\n     */\r\n    MouseTargetType[MouseTargetType[\"CONTENT_WIDGET\"] = 9] = \"CONTENT_WIDGET\";\r\n    /**\r\n     * Mouse is on top of the decorations overview ruler.\r\n     */\r\n    MouseTargetType[MouseTargetType[\"OVERVIEW_RULER\"] = 10] = \"OVERVIEW_RULER\";\r\n    /**\r\n     * Mouse is on top of a scrollbar.\r\n     */\r\n    MouseTargetType[MouseTargetType[\"SCROLLBAR\"] = 11] = \"SCROLLBAR\";\r\n    /**\r\n     * Mouse is on top of an overlay widget.\r\n     */\r\n    MouseTargetType[MouseTargetType[\"OVERLAY_WIDGET\"] = 12] = \"OVERLAY_WIDGET\";\r\n    /**\r\n     * Mouse is outside of the editor.\r\n     */\r\n    MouseTargetType[MouseTargetType[\"OUTSIDE_EDITOR\"] = 13] = \"OUTSIDE_EDITOR\";\r\n})(MouseTargetType || (MouseTargetType = {}));\r\n/**\r\n * Describes what to do with the indentation when pressing Enter.\r\n */\r\nexport var IndentAction;\r\n(function (IndentAction) {\r\n    /**\r\n     * Insert new line and copy the previous line's indentation.\r\n     */\r\n    IndentAction[IndentAction[\"None\"] = 0] = \"None\";\r\n    /**\r\n     * Insert new line and indent once (relative to the previous line's indentation).\r\n     */\r\n    IndentAction[IndentAction[\"Indent\"] = 1] = \"Indent\";\r\n    /**\r\n     * Insert two new lines:\r\n     *  - the first one indented which will hold the cursor\r\n     *  - the second one at the same indentation level\r\n     */\r\n    IndentAction[IndentAction[\"IndentOutdent\"] = 2] = \"IndentOutdent\";\r\n    /**\r\n     * Insert new line and outdent once (relative to the previous line's indentation).\r\n     */\r\n    IndentAction[IndentAction[\"Outdent\"] = 3] = \"Outdent\";\r\n})(IndentAction || (IndentAction = {}));\r\nexport var CompletionItemKind;\r\n(function (CompletionItemKind) {\r\n    CompletionItemKind[CompletionItemKind[\"Method\"] = 0] = \"Method\";\r\n    CompletionItemKind[CompletionItemKind[\"Function\"] = 1] = \"Function\";\r\n    CompletionItemKind[CompletionItemKind[\"Constructor\"] = 2] = \"Constructor\";\r\n    CompletionItemKind[CompletionItemKind[\"Field\"] = 3] = \"Field\";\r\n    CompletionItemKind[CompletionItemKind[\"Variable\"] = 4] = \"Variable\";\r\n    CompletionItemKind[CompletionItemKind[\"Class\"] = 5] = \"Class\";\r\n    CompletionItemKind[CompletionItemKind[\"Struct\"] = 6] = \"Struct\";\r\n    CompletionItemKind[CompletionItemKind[\"Interface\"] = 7] = \"Interface\";\r\n    CompletionItemKind[CompletionItemKind[\"Module\"] = 8] = \"Module\";\r\n    CompletionItemKind[CompletionItemKind[\"Property\"] = 9] = \"Property\";\r\n    CompletionItemKind[CompletionItemKind[\"Event\"] = 10] = \"Event\";\r\n    CompletionItemKind[CompletionItemKind[\"Operator\"] = 11] = \"Operator\";\r\n    CompletionItemKind[CompletionItemKind[\"Unit\"] = 12] = \"Unit\";\r\n    CompletionItemKind[CompletionItemKind[\"Value\"] = 13] = \"Value\";\r\n    CompletionItemKind[CompletionItemKind[\"Constant\"] = 14] = \"Constant\";\r\n    CompletionItemKind[CompletionItemKind[\"Enum\"] = 15] = \"Enum\";\r\n    CompletionItemKind[CompletionItemKind[\"EnumMember\"] = 16] = \"EnumMember\";\r\n    CompletionItemKind[CompletionItemKind[\"Keyword\"] = 17] = \"Keyword\";\r\n    CompletionItemKind[CompletionItemKind[\"Text\"] = 18] = \"Text\";\r\n    CompletionItemKind[CompletionItemKind[\"Color\"] = 19] = \"Color\";\r\n    CompletionItemKind[CompletionItemKind[\"File\"] = 20] = \"File\";\r\n    CompletionItemKind[CompletionItemKind[\"Reference\"] = 21] = \"Reference\";\r\n    CompletionItemKind[CompletionItemKind[\"Customcolor\"] = 22] = \"Customcolor\";\r\n    CompletionItemKind[CompletionItemKind[\"Folder\"] = 23] = \"Folder\";\r\n    CompletionItemKind[CompletionItemKind[\"TypeParameter\"] = 24] = \"TypeParameter\";\r\n    CompletionItemKind[CompletionItemKind[\"Snippet\"] = 25] = \"Snippet\";\r\n})(CompletionItemKind || (CompletionItemKind = {}));\r\nexport var CompletionItemTag;\r\n(function (CompletionItemTag) {\r\n    CompletionItemTag[CompletionItemTag[\"Deprecated\"] = 1] = \"Deprecated\";\r\n})(CompletionItemTag || (CompletionItemTag = {}));\r\nexport var CompletionItemInsertTextRule;\r\n(function (CompletionItemInsertTextRule) {\r\n    /**\r\n     * Adjust whitespace/indentation of multiline insert texts to\r\n     * match the current line indentation.\r\n     */\r\n    CompletionItemInsertTextRule[CompletionItemInsertTextRule[\"KeepWhitespace\"] = 1] = \"KeepWhitespace\";\r\n    /**\r\n     * `insertText` is a snippet.\r\n     */\r\n    CompletionItemInsertTextRule[CompletionItemInsertTextRule[\"InsertAsSnippet\"] = 4] = \"InsertAsSnippet\";\r\n})(CompletionItemInsertTextRule || (CompletionItemInsertTextRule = {}));\r\n/**\r\n * How a suggest provider was triggered.\r\n */\r\nexport var CompletionTriggerKind;\r\n(function (CompletionTriggerKind) {\r\n    CompletionTriggerKind[CompletionTriggerKind[\"Invoke\"] = 0] = \"Invoke\";\r\n    CompletionTriggerKind[CompletionTriggerKind[\"TriggerCharacter\"] = 1] = \"TriggerCharacter\";\r\n    CompletionTriggerKind[CompletionTriggerKind[\"TriggerForIncompleteCompletions\"] = 2] = \"TriggerForIncompleteCompletions\";\r\n})(CompletionTriggerKind || (CompletionTriggerKind = {}));\r\nexport var SignatureHelpTriggerKind;\r\n(function (SignatureHelpTriggerKind) {\r\n    SignatureHelpTriggerKind[SignatureHelpTriggerKind[\"Invoke\"] = 1] = \"Invoke\";\r\n    SignatureHelpTriggerKind[SignatureHelpTriggerKind[\"TriggerCharacter\"] = 2] = \"TriggerCharacter\";\r\n    SignatureHelpTriggerKind[SignatureHelpTriggerKind[\"ContentChange\"] = 3] = \"ContentChange\";\r\n})(SignatureHelpTriggerKind || (SignatureHelpTriggerKind = {}));\r\n/**\r\n * A document highlight kind.\r\n */\r\nexport var DocumentHighlightKind;\r\n(function (DocumentHighlightKind) {\r\n    /**\r\n     * A textual occurrence.\r\n     */\r\n    DocumentHighlightKind[DocumentHighlightKind[\"Text\"] = 0] = \"Text\";\r\n    /**\r\n     * Read-access of a symbol, like reading a variable.\r\n     */\r\n    DocumentHighlightKind[DocumentHighlightKind[\"Read\"] = 1] = \"Read\";\r\n    /**\r\n     * Write-access of a symbol, like writing to a variable.\r\n     */\r\n    DocumentHighlightKind[DocumentHighlightKind[\"Write\"] = 2] = \"Write\";\r\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\r\n/**\r\n * A symbol kind.\r\n */\r\nexport var SymbolKind;\r\n(function (SymbolKind) {\r\n    SymbolKind[SymbolKind[\"File\"] = 0] = \"File\";\r\n    SymbolKind[SymbolKind[\"Module\"] = 1] = \"Module\";\r\n    SymbolKind[SymbolKind[\"Namespace\"] = 2] = \"Namespace\";\r\n    SymbolKind[SymbolKind[\"Package\"] = 3] = \"Package\";\r\n    SymbolKind[SymbolKind[\"Class\"] = 4] = \"Class\";\r\n    SymbolKind[SymbolKind[\"Method\"] = 5] = \"Method\";\r\n    SymbolKind[SymbolKind[\"Property\"] = 6] = \"Property\";\r\n    SymbolKind[SymbolKind[\"Field\"] = 7] = \"Field\";\r\n    SymbolKind[SymbolKind[\"Constructor\"] = 8] = \"Constructor\";\r\n    SymbolKind[SymbolKind[\"Enum\"] = 9] = \"Enum\";\r\n    SymbolKind[SymbolKind[\"Interface\"] = 10] = \"Interface\";\r\n    SymbolKind[SymbolKind[\"Function\"] = 11] = \"Function\";\r\n    SymbolKind[SymbolKind[\"Variable\"] = 12] = \"Variable\";\r\n    SymbolKind[SymbolKind[\"Constant\"] = 13] = \"Constant\";\r\n    SymbolKind[SymbolKind[\"String\"] = 14] = \"String\";\r\n    SymbolKind[SymbolKind[\"Number\"] = 15] = \"Number\";\r\n    SymbolKind[SymbolKind[\"Boolean\"] = 16] = \"Boolean\";\r\n    SymbolKind[SymbolKind[\"Array\"] = 17] = \"Array\";\r\n    SymbolKind[SymbolKind[\"Object\"] = 18] = \"Object\";\r\n    SymbolKind[SymbolKind[\"Key\"] = 19] = \"Key\";\r\n    SymbolKind[SymbolKind[\"Null\"] = 20] = \"Null\";\r\n    SymbolKind[SymbolKind[\"EnumMember\"] = 21] = \"EnumMember\";\r\n    SymbolKind[SymbolKind[\"Struct\"] = 22] = \"Struct\";\r\n    SymbolKind[SymbolKind[\"Event\"] = 23] = \"Event\";\r\n    SymbolKind[SymbolKind[\"Operator\"] = 24] = \"Operator\";\r\n    SymbolKind[SymbolKind[\"TypeParameter\"] = 25] = \"TypeParameter\";\r\n})(SymbolKind || (SymbolKind = {}));\r\nexport var SymbolTag;\r\n(function (SymbolTag) {\r\n    SymbolTag[SymbolTag[\"Deprecated\"] = 1] = \"Deprecated\";\r\n})(SymbolTag || (SymbolTag = {}));\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './promise-polyfill/polyfill.js';\r\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { KeyChord } from '../../../base/common/keyCodes.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { Position } from '../core/position.js';\r\nimport { Range } from '../core/range.js';\r\nimport { Selection } from '../core/selection.js';\r\nimport { Token } from '../core/token.js';\r\nimport * as standaloneEnums from './standaloneEnums.js';\r\nvar KeyMod = /** @class */ (function () {\r\n    function KeyMod() {\r\n    }\r\n    KeyMod.chord = function (firstPart, secondPart) {\r\n        return KeyChord(firstPart, secondPart);\r\n    };\r\n    KeyMod.CtrlCmd = 2048 /* CtrlCmd */;\r\n    KeyMod.Shift = 1024 /* Shift */;\r\n    KeyMod.Alt = 512 /* Alt */;\r\n    KeyMod.WinCtrl = 256 /* WinCtrl */;\r\n    return KeyMod;\r\n}());\r\nexport { KeyMod };\r\nexport function createMonacoBaseAPI() {\r\n    return {\r\n        editor: undefined,\r\n        languages: undefined,\r\n        CancellationTokenSource: CancellationTokenSource,\r\n        Emitter: Emitter,\r\n        KeyCode: standaloneEnums.KeyCode,\r\n        KeyMod: KeyMod,\r\n        Position: Position,\r\n        Range: Range,\r\n        Selection: Selection,\r\n        SelectionDirection: standaloneEnums.SelectionDirection,\r\n        MarkerSeverity: standaloneEnums.MarkerSeverity,\r\n        MarkerTag: standaloneEnums.MarkerTag,\r\n        Uri: URI,\r\n        Token: Token\r\n    };\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { mergeSort } from '../../../base/common/arrays.js';\r\nimport { stringDiff } from '../../../base/common/diff/diff.js';\r\nimport { FIN } from '../../../base/common/iterator.js';\r\nimport { globals } from '../../../base/common/platform.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { Position } from '../core/position.js';\r\nimport { Range } from '../core/range.js';\r\nimport { DiffComputer } from '../diff/diffComputer.js';\r\nimport { MirrorTextModel as BaseMirrorModel } from '../model/mirrorTextModel.js';\r\nimport { ensureValidWordDefinition, getWordAtText } from '../model/wordHelper.js';\r\nimport { computeLinks } from '../modes/linkComputer.js';\r\nimport { BasicInplaceReplace } from '../modes/supports/inplaceReplaceSupport.js';\r\nimport { createMonacoBaseAPI } from '../standalone/standaloneBase.js';\r\nimport * as types from '../../../base/common/types.js';\r\n/**\r\n * @internal\r\n */\r\nvar MirrorModel = /** @class */ (function (_super) {\r\n    __extends(MirrorModel, _super);\r\n    function MirrorModel() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(MirrorModel.prototype, \"uri\", {\r\n        get: function () {\r\n            return this._uri;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MirrorModel.prototype, \"version\", {\r\n        get: function () {\r\n            return this._versionId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MirrorModel.prototype, \"eol\", {\r\n        get: function () {\r\n            return this._eol;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MirrorModel.prototype.getValue = function () {\r\n        return this.getText();\r\n    };\r\n    MirrorModel.prototype.getLinesContent = function () {\r\n        return this._lines.slice(0);\r\n    };\r\n    MirrorModel.prototype.getLineCount = function () {\r\n        return this._lines.length;\r\n    };\r\n    MirrorModel.prototype.getLineContent = function (lineNumber) {\r\n        return this._lines[lineNumber - 1];\r\n    };\r\n    MirrorModel.prototype.getWordAtPosition = function (position, wordDefinition) {\r\n        var wordAtText = getWordAtText(position.column, ensureValidWordDefinition(wordDefinition), this._lines[position.lineNumber - 1], 0);\r\n        if (wordAtText) {\r\n            return new Range(position.lineNumber, wordAtText.startColumn, position.lineNumber, wordAtText.endColumn);\r\n        }\r\n        return null;\r\n    };\r\n    MirrorModel.prototype.createWordIterator = function (wordDefinition) {\r\n        var _this = this;\r\n        var obj;\r\n        var lineNumber = 0;\r\n        var lineText;\r\n        var wordRangesIdx = 0;\r\n        var wordRanges = [];\r\n        var next = function () {\r\n            if (wordRangesIdx < wordRanges.length) {\r\n                var value = lineText.substring(wordRanges[wordRangesIdx].start, wordRanges[wordRangesIdx].end);\r\n                wordRangesIdx += 1;\r\n                if (!obj) {\r\n                    obj = { done: false, value: value };\r\n                }\r\n                else {\r\n                    obj.value = value;\r\n                }\r\n                return obj;\r\n            }\r\n            else if (lineNumber >= _this._lines.length) {\r\n                return FIN;\r\n            }\r\n            else {\r\n                lineText = _this._lines[lineNumber];\r\n                wordRanges = _this._wordenize(lineText, wordDefinition);\r\n                wordRangesIdx = 0;\r\n                lineNumber += 1;\r\n                return next();\r\n            }\r\n        };\r\n        return { next: next };\r\n    };\r\n    MirrorModel.prototype.getLineWords = function (lineNumber, wordDefinition) {\r\n        var content = this._lines[lineNumber - 1];\r\n        var ranges = this._wordenize(content, wordDefinition);\r\n        var words = [];\r\n        for (var _i = 0, ranges_1 = ranges; _i < ranges_1.length; _i++) {\r\n            var range = ranges_1[_i];\r\n            words.push({\r\n                word: content.substring(range.start, range.end),\r\n                startColumn: range.start + 1,\r\n                endColumn: range.end + 1\r\n            });\r\n        }\r\n        return words;\r\n    };\r\n    MirrorModel.prototype._wordenize = function (content, wordDefinition) {\r\n        var result = [];\r\n        var match;\r\n        wordDefinition.lastIndex = 0; // reset lastIndex just to be sure\r\n        while (match = wordDefinition.exec(content)) {\r\n            if (match[0].length === 0) {\r\n                // it did match the empty string\r\n                break;\r\n            }\r\n            result.push({ start: match.index, end: match.index + match[0].length });\r\n        }\r\n        return result;\r\n    };\r\n    MirrorModel.prototype.getValueInRange = function (range) {\r\n        range = this._validateRange(range);\r\n        if (range.startLineNumber === range.endLineNumber) {\r\n            return this._lines[range.startLineNumber - 1].substring(range.startColumn - 1, range.endColumn - 1);\r\n        }\r\n        var lineEnding = this._eol;\r\n        var startLineIndex = range.startLineNumber - 1;\r\n        var endLineIndex = range.endLineNumber - 1;\r\n        var resultLines = [];\r\n        resultLines.push(this._lines[startLineIndex].substring(range.startColumn - 1));\r\n        for (var i = startLineIndex + 1; i < endLineIndex; i++) {\r\n            resultLines.push(this._lines[i]);\r\n        }\r\n        resultLines.push(this._lines[endLineIndex].substring(0, range.endColumn - 1));\r\n        return resultLines.join(lineEnding);\r\n    };\r\n    MirrorModel.prototype.offsetAt = function (position) {\r\n        position = this._validatePosition(position);\r\n        this._ensureLineStarts();\r\n        return this._lineStarts.getAccumulatedValue(position.lineNumber - 2) + (position.column - 1);\r\n    };\r\n    MirrorModel.prototype.positionAt = function (offset) {\r\n        offset = Math.floor(offset);\r\n        offset = Math.max(0, offset);\r\n        this._ensureLineStarts();\r\n        var out = this._lineStarts.getIndexOf(offset);\r\n        var lineLength = this._lines[out.index].length;\r\n        // Ensure we return a valid position\r\n        return {\r\n            lineNumber: 1 + out.index,\r\n            column: 1 + Math.min(out.remainder, lineLength)\r\n        };\r\n    };\r\n    MirrorModel.prototype._validateRange = function (range) {\r\n        var start = this._validatePosition({ lineNumber: range.startLineNumber, column: range.startColumn });\r\n        var end = this._validatePosition({ lineNumber: range.endLineNumber, column: range.endColumn });\r\n        if (start.lineNumber !== range.startLineNumber\r\n            || start.column !== range.startColumn\r\n            || end.lineNumber !== range.endLineNumber\r\n            || end.column !== range.endColumn) {\r\n            return {\r\n                startLineNumber: start.lineNumber,\r\n                startColumn: start.column,\r\n                endLineNumber: end.lineNumber,\r\n                endColumn: end.column\r\n            };\r\n        }\r\n        return range;\r\n    };\r\n    MirrorModel.prototype._validatePosition = function (position) {\r\n        if (!Position.isIPosition(position)) {\r\n            throw new Error('bad position');\r\n        }\r\n        var lineNumber = position.lineNumber, column = position.column;\r\n        var hasChanged = false;\r\n        if (lineNumber < 1) {\r\n            lineNumber = 1;\r\n            column = 1;\r\n            hasChanged = true;\r\n        }\r\n        else if (lineNumber > this._lines.length) {\r\n            lineNumber = this._lines.length;\r\n            column = this._lines[lineNumber - 1].length + 1;\r\n            hasChanged = true;\r\n        }\r\n        else {\r\n            var maxCharacter = this._lines[lineNumber - 1].length + 1;\r\n            if (column < 1) {\r\n                column = 1;\r\n                hasChanged = true;\r\n            }\r\n            else if (column > maxCharacter) {\r\n                column = maxCharacter;\r\n                hasChanged = true;\r\n            }\r\n        }\r\n        if (!hasChanged) {\r\n            return position;\r\n        }\r\n        else {\r\n            return { lineNumber: lineNumber, column: column };\r\n        }\r\n    };\r\n    return MirrorModel;\r\n}(BaseMirrorModel));\r\n/**\r\n * @internal\r\n */\r\nvar EditorSimpleWorker = /** @class */ (function () {\r\n    function EditorSimpleWorker(host, foreignModuleFactory) {\r\n        this._host = host;\r\n        this._models = Object.create(null);\r\n        this._foreignModuleFactory = foreignModuleFactory;\r\n        this._foreignModule = null;\r\n    }\r\n    EditorSimpleWorker.prototype.dispose = function () {\r\n        this._models = Object.create(null);\r\n    };\r\n    EditorSimpleWorker.prototype._getModel = function (uri) {\r\n        return this._models[uri];\r\n    };\r\n    EditorSimpleWorker.prototype._getModels = function () {\r\n        var _this = this;\r\n        var all = [];\r\n        Object.keys(this._models).forEach(function (key) { return all.push(_this._models[key]); });\r\n        return all;\r\n    };\r\n    EditorSimpleWorker.prototype.acceptNewModel = function (data) {\r\n        this._models[data.url] = new MirrorModel(URI.parse(data.url), data.lines, data.EOL, data.versionId);\r\n    };\r\n    EditorSimpleWorker.prototype.acceptModelChanged = function (strURL, e) {\r\n        if (!this._models[strURL]) {\r\n            return;\r\n        }\r\n        var model = this._models[strURL];\r\n        model.onEvents(e);\r\n    };\r\n    EditorSimpleWorker.prototype.acceptRemovedModel = function (strURL) {\r\n        if (!this._models[strURL]) {\r\n            return;\r\n        }\r\n        delete this._models[strURL];\r\n    };\r\n    // ---- BEGIN diff --------------------------------------------------------------------------\r\n    EditorSimpleWorker.prototype.computeDiff = function (originalUrl, modifiedUrl, ignoreTrimWhitespace, maxComputationTime) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var original, modified, originalLines, modifiedLines, diffComputer, diffResult, identical;\r\n            return __generator(this, function (_a) {\r\n                original = this._getModel(originalUrl);\r\n                modified = this._getModel(modifiedUrl);\r\n                if (!original || !modified) {\r\n                    return [2 /*return*/, null];\r\n                }\r\n                originalLines = original.getLinesContent();\r\n                modifiedLines = modified.getLinesContent();\r\n                diffComputer = new DiffComputer(originalLines, modifiedLines, {\r\n                    shouldComputeCharChanges: true,\r\n                    shouldPostProcessCharChanges: true,\r\n                    shouldIgnoreTrimWhitespace: ignoreTrimWhitespace,\r\n                    shouldMakePrettyDiff: true,\r\n                    maxComputationTime: maxComputationTime\r\n                });\r\n                diffResult = diffComputer.computeDiff();\r\n                identical = (diffResult.changes.length > 0 ? false : this._modelsAreIdentical(original, modified));\r\n                return [2 /*return*/, {\r\n                        quitEarly: diffResult.quitEarly,\r\n                        identical: identical,\r\n                        changes: diffResult.changes\r\n                    }];\r\n            });\r\n        });\r\n    };\r\n    EditorSimpleWorker.prototype._modelsAreIdentical = function (original, modified) {\r\n        var originalLineCount = original.getLineCount();\r\n        var modifiedLineCount = modified.getLineCount();\r\n        if (originalLineCount !== modifiedLineCount) {\r\n            return false;\r\n        }\r\n        for (var line = 1; line <= originalLineCount; line++) {\r\n            var originalLine = original.getLineContent(line);\r\n            var modifiedLine = modified.getLineContent(line);\r\n            if (originalLine !== modifiedLine) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    EditorSimpleWorker.prototype.computeMoreMinimalEdits = function (modelUrl, edits) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var model, result, lastEol, _i, edits_1, _a, range, text, eol, original, changes, editOffset, _b, changes_1, change, start, end, newEdit;\r\n            return __generator(this, function (_c) {\r\n                model = this._getModel(modelUrl);\r\n                if (!model) {\r\n                    return [2 /*return*/, edits];\r\n                }\r\n                result = [];\r\n                lastEol = undefined;\r\n                edits = mergeSort(edits, function (a, b) {\r\n                    if (a.range && b.range) {\r\n                        return Range.compareRangesUsingStarts(a.range, b.range);\r\n                    }\r\n                    // eol only changes should go to the end\r\n                    var aRng = a.range ? 0 : 1;\r\n                    var bRng = b.range ? 0 : 1;\r\n                    return aRng - bRng;\r\n                });\r\n                for (_i = 0, edits_1 = edits; _i < edits_1.length; _i++) {\r\n                    _a = edits_1[_i], range = _a.range, text = _a.text, eol = _a.eol;\r\n                    if (typeof eol === 'number') {\r\n                        lastEol = eol;\r\n                    }\r\n                    if (Range.isEmpty(range) && !text) {\r\n                        // empty change\r\n                        continue;\r\n                    }\r\n                    original = model.getValueInRange(range);\r\n                    text = text.replace(/\\r\\n|\\n|\\r/g, model.eol);\r\n                    if (original === text) {\r\n                        // noop\r\n                        continue;\r\n                    }\r\n                    // make sure diff won't take too long\r\n                    if (Math.max(text.length, original.length) > EditorSimpleWorker._diffLimit) {\r\n                        result.push({ range: range, text: text });\r\n                        continue;\r\n                    }\r\n                    changes = stringDiff(original, text, false);\r\n                    editOffset = model.offsetAt(Range.lift(range).getStartPosition());\r\n                    for (_b = 0, changes_1 = changes; _b < changes_1.length; _b++) {\r\n                        change = changes_1[_b];\r\n                        start = model.positionAt(editOffset + change.originalStart);\r\n                        end = model.positionAt(editOffset + change.originalStart + change.originalLength);\r\n                        newEdit = {\r\n                            text: text.substr(change.modifiedStart, change.modifiedLength),\r\n                            range: { startLineNumber: start.lineNumber, startColumn: start.column, endLineNumber: end.lineNumber, endColumn: end.column }\r\n                        };\r\n                        if (model.getValueInRange(newEdit.range) !== newEdit.text) {\r\n                            result.push(newEdit);\r\n                        }\r\n                    }\r\n                }\r\n                if (typeof lastEol === 'number') {\r\n                    result.push({ eol: lastEol, text: '', range: { startLineNumber: 0, startColumn: 0, endLineNumber: 0, endColumn: 0 } });\r\n                }\r\n                return [2 /*return*/, result];\r\n            });\r\n        });\r\n    };\r\n    // ---- END minimal edits ---------------------------------------------------------------\r\n    EditorSimpleWorker.prototype.computeLinks = function (modelUrl) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var model;\r\n            return __generator(this, function (_a) {\r\n                model = this._getModel(modelUrl);\r\n                if (!model) {\r\n                    return [2 /*return*/, null];\r\n                }\r\n                return [2 /*return*/, computeLinks(model)];\r\n            });\r\n        });\r\n    };\r\n    EditorSimpleWorker.prototype.textualSuggest = function (modelUrl, position, wordDef, wordDefFlags) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var model, words, seen, wordDefRegExp, wordAt, iter, e, word;\r\n            return __generator(this, function (_a) {\r\n                model = this._getModel(modelUrl);\r\n                if (!model) {\r\n                    return [2 /*return*/, null];\r\n                }\r\n                words = [];\r\n                seen = new Set();\r\n                wordDefRegExp = new RegExp(wordDef, wordDefFlags);\r\n                wordAt = model.getWordAtPosition(position, wordDefRegExp);\r\n                if (wordAt) {\r\n                    seen.add(model.getValueInRange(wordAt));\r\n                }\r\n                for (iter = model.createWordIterator(wordDefRegExp), e = iter.next(); !e.done && seen.size <= EditorSimpleWorker._suggestionsLimit; e = iter.next()) {\r\n                    word = e.value;\r\n                    if (seen.has(word)) {\r\n                        continue;\r\n                    }\r\n                    seen.add(word);\r\n                    if (!isNaN(Number(word))) {\r\n                        continue;\r\n                    }\r\n                    words.push(word);\r\n                }\r\n                return [2 /*return*/, words];\r\n            });\r\n        });\r\n    };\r\n    // ---- END suggest --------------------------------------------------------------------------\r\n    //#region -- word ranges --\r\n    EditorSimpleWorker.prototype.computeWordRanges = function (modelUrl, range, wordDef, wordDefFlags) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var model, wordDefRegExp, result, line, words, _i, words_1, word, array;\r\n            return __generator(this, function (_a) {\r\n                model = this._getModel(modelUrl);\r\n                if (!model) {\r\n                    return [2 /*return*/, Object.create(null)];\r\n                }\r\n                wordDefRegExp = new RegExp(wordDef, wordDefFlags);\r\n                result = Object.create(null);\r\n                for (line = range.startLineNumber; line < range.endLineNumber; line++) {\r\n                    words = model.getLineWords(line, wordDefRegExp);\r\n                    for (_i = 0, words_1 = words; _i < words_1.length; _i++) {\r\n                        word = words_1[_i];\r\n                        if (!isNaN(Number(word.word))) {\r\n                            continue;\r\n                        }\r\n                        array = result[word.word];\r\n                        if (!array) {\r\n                            array = [];\r\n                            result[word.word] = array;\r\n                        }\r\n                        array.push({\r\n                            startLineNumber: line,\r\n                            startColumn: word.startColumn,\r\n                            endLineNumber: line,\r\n                            endColumn: word.endColumn\r\n                        });\r\n                    }\r\n                }\r\n                return [2 /*return*/, result];\r\n            });\r\n        });\r\n    };\r\n    //#endregion\r\n    EditorSimpleWorker.prototype.navigateValueSet = function (modelUrl, range, up, wordDef, wordDefFlags) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var model, wordDefRegExp, selectionText, wordRange, word, result;\r\n            return __generator(this, function (_a) {\r\n                model = this._getModel(modelUrl);\r\n                if (!model) {\r\n                    return [2 /*return*/, null];\r\n                }\r\n                wordDefRegExp = new RegExp(wordDef, wordDefFlags);\r\n                if (range.startColumn === range.endColumn) {\r\n                    range = {\r\n                        startLineNumber: range.startLineNumber,\r\n                        startColumn: range.startColumn,\r\n                        endLineNumber: range.endLineNumber,\r\n                        endColumn: range.endColumn + 1\r\n                    };\r\n                }\r\n                selectionText = model.getValueInRange(range);\r\n                wordRange = model.getWordAtPosition({ lineNumber: range.startLineNumber, column: range.startColumn }, wordDefRegExp);\r\n                if (!wordRange) {\r\n                    return [2 /*return*/, null];\r\n                }\r\n                word = model.getValueInRange(wordRange);\r\n                result = BasicInplaceReplace.INSTANCE.navigateValueSet(range, selectionText, wordRange, word, up);\r\n                return [2 /*return*/, result];\r\n            });\r\n        });\r\n    };\r\n    // ---- BEGIN foreign module support --------------------------------------------------------------------------\r\n    EditorSimpleWorker.prototype.loadForeignModule = function (moduleId, createData, foreignHostMethods) {\r\n        var _this = this;\r\n        var proxyMethodRequest = function (method, args) {\r\n            return _this._host.fhr(method, args);\r\n        };\r\n        var foreignHost = types.createProxyObject(foreignHostMethods, proxyMethodRequest);\r\n        var ctx = {\r\n            host: foreignHost,\r\n            getMirrorModels: function () {\r\n                return _this._getModels();\r\n            }\r\n        };\r\n        if (this._foreignModuleFactory) {\r\n            this._foreignModule = this._foreignModuleFactory(ctx, createData);\r\n            // static foreing module\r\n            return Promise.resolve(types.getAllMethodNames(this._foreignModule));\r\n        }\r\n        // ESM-comment-begin\r\n        // \t\treturn new Promise<any>((resolve, reject) => {\r\n        // \t\t\trequire([moduleId], (foreignModule: { create: IForeignModuleFactory }) => {\r\n        // \t\t\t\tthis._foreignModule = foreignModule.create(ctx, createData);\r\n        // \r\n        // \t\t\t\tresolve(types.getAllMethodNames(this._foreignModule));\r\n        // \r\n        // \t\t\t}, reject);\r\n        // \t\t});\r\n        // ESM-comment-end\r\n        // ESM-uncomment-begin\r\n        return Promise.reject(new Error(\"Unexpected usage\"));\r\n        // ESM-uncomment-end\r\n    };\r\n    // foreign method request\r\n    EditorSimpleWorker.prototype.fmr = function (method, args) {\r\n        if (!this._foreignModule || typeof this._foreignModule[method] !== 'function') {\r\n            return Promise.reject(new Error('Missing requestHandler or method: ' + method));\r\n        }\r\n        try {\r\n            return Promise.resolve(this._foreignModule[method].apply(this._foreignModule, args));\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    };\r\n    // ---- END diff --------------------------------------------------------------------------\r\n    // ---- BEGIN minimal edits ---------------------------------------------------------------\r\n    EditorSimpleWorker._diffLimit = 100000;\r\n    // ---- BEGIN suggest --------------------------------------------------------------------------\r\n    EditorSimpleWorker._suggestionsLimit = 10000;\r\n    return EditorSimpleWorker;\r\n}());\r\nexport { EditorSimpleWorker };\r\n/**\r\n * Called on the worker side\r\n * @internal\r\n */\r\nexport function create(host) {\r\n    return new EditorSimpleWorker(host, null);\r\n}\r\nif (typeof importScripts === 'function') {\r\n    // Running in a web worker\r\n    globals.monaco = createMonacoBaseAPI();\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { SimpleWorkerServer } from '../base/common/worker/simpleWorker.js';\r\nimport { EditorSimpleWorker } from './common/services/editorSimpleWorker.js';\r\nvar initialized = false;\r\nexport function initialize(foreignModule) {\r\n    if (initialized) {\r\n        return;\r\n    }\r\n    initialized = true;\r\n    var simpleWorker = new SimpleWorkerServer(function (msg) {\r\n        self.postMessage(msg);\r\n    }, function (host) { return new EditorSimpleWorker(host, foreignModule); });\r\n    self.onmessage = function (e) {\r\n        simpleWorker.onmessage(e.data);\r\n    };\r\n}\r\nself.onmessage = function (e) {\r\n    // Ignore first message in this case and initialize if not yet initialized\r\n    if (!initialized) {\r\n        initialize(null);\r\n    }\r\n};\r\n"]}