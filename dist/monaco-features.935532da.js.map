{"version":3,"sources":["../node_modules/monaco-languages/release/esm/_.contribution.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/bundle-loader.js","../node_modules/monaco-languages/release/esm/abap/abap.contribution.js","../node_modules/monaco-languages/release/esm/apex/apex.contribution.js","../node_modules/monaco-languages/release/esm/azcli/azcli.contribution.js","../node_modules/monaco-languages/release/esm/bat/bat.contribution.js","../node_modules/monaco-languages/release/esm/cameligo/cameligo.contribution.js","../node_modules/monaco-languages/release/esm/clojure/clojure.contribution.js","../node_modules/monaco-languages/release/esm/coffee/coffee.contribution.js","../node_modules/monaco-languages/release/esm/cpp/cpp.contribution.js","../node_modules/monaco-languages/release/esm/csharp/csharp.contribution.js","../node_modules/monaco-languages/release/esm/csp/csp.contribution.js","../node_modules/monaco-languages/release/esm/css/css.contribution.js","../node_modules/monaco-languages/release/esm/dockerfile/dockerfile.contribution.js","../node_modules/monaco-languages/release/esm/fsharp/fsharp.contribution.js","../node_modules/monaco-languages/release/esm/go/go.contribution.js","../node_modules/monaco-languages/release/esm/graphql/graphql.contribution.js","../node_modules/monaco-languages/release/esm/handlebars/handlebars.contribution.js","../node_modules/monaco-languages/release/esm/html/html.contribution.js","../node_modules/monaco-languages/release/esm/ini/ini.contribution.js","../node_modules/monaco-languages/release/esm/java/java.contribution.js","../node_modules/monaco-languages/release/esm/javascript/javascript.contribution.js","../node_modules/monaco-languages/release/esm/kotlin/kotlin.contribution.js","../node_modules/monaco-languages/release/esm/less/less.contribution.js","../node_modules/monaco-languages/release/esm/lua/lua.contribution.js","../node_modules/monaco-languages/release/esm/markdown/markdown.contribution.js","../node_modules/monaco-languages/release/esm/mips/mips.contribution.js","../node_modules/monaco-languages/release/esm/msdax/msdax.contribution.js","../node_modules/monaco-languages/release/esm/mysql/mysql.contribution.js","../node_modules/monaco-languages/release/esm/objective-c/objective-c.contribution.js","../node_modules/monaco-languages/release/esm/pascal/pascal.contribution.js","../node_modules/monaco-languages/release/esm/pascaligo/pascaligo.contribution.js","../node_modules/monaco-languages/release/esm/perl/perl.contribution.js","../node_modules/monaco-languages/release/esm/pgsql/pgsql.contribution.js","../node_modules/monaco-languages/release/esm/php/php.contribution.js","../node_modules/monaco-languages/release/esm/postiats/postiats.contribution.js","../node_modules/monaco-languages/release/esm/powerquery/powerquery.contribution.js","../node_modules/monaco-languages/release/esm/powershell/powershell.contribution.js","../node_modules/monaco-languages/release/esm/pug/pug.contribution.js","../node_modules/monaco-languages/release/esm/python/python.contribution.js","../node_modules/monaco-languages/release/esm/r/r.contribution.js","../node_modules/monaco-languages/release/esm/razor/razor.contribution.js","../node_modules/monaco-languages/release/esm/redis/redis.contribution.js","../node_modules/monaco-languages/release/esm/redshift/redshift.contribution.js","../node_modules/monaco-languages/release/esm/restructuredtext/restructuredtext.contribution.js","../node_modules/monaco-languages/release/esm/ruby/ruby.contribution.js","../node_modules/monaco-languages/release/esm/rust/rust.contribution.js","../node_modules/monaco-languages/release/esm/sb/sb.contribution.js","../node_modules/monaco-languages/release/esm/scheme/scheme.contribution.js","../node_modules/monaco-languages/release/esm/scss/scss.contribution.js","../node_modules/monaco-languages/release/esm/shell/shell.contribution.js","../node_modules/monaco-languages/release/esm/solidity/solidity.contribution.js","../node_modules/monaco-languages/release/esm/sophia/sophia.contribution.js","../node_modules/monaco-languages/release/esm/sql/sql.contribution.js","../node_modules/monaco-languages/release/esm/st/st.contribution.js","../node_modules/monaco-languages/release/esm/swift/swift.contribution.js","../node_modules/monaco-languages/release/esm/tcl/tcl.contribution.js","../node_modules/monaco-languages/release/esm/twig/twig.contribution.js","../node_modules/monaco-languages/release/esm/typescript/typescript.js","../node_modules/monaco-languages/release/esm/typescript/typescript.contribution.js","../node_modules/monaco-languages/release/esm/vb/vb.contribution.js","../node_modules/monaco-languages/release/esm/xml/xml.contribution.js","../node_modules/monaco-languages/release/esm/yaml/yaml.contribution.js","../node_modules/monaco-languages/release/esm/monaco.contribution.js","../node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js","../node_modules/monaco-editor/esm/vs/editor/contrib/caretOperations/moveCaretCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/caretOperations/caretOperations.js","../node_modules/monaco-editor/esm/vs/editor/contrib/caretOperations/transpose.js","../node_modules/monaco-editor/esm/vs/editor/contrib/clipboard/clipboard.js","../node_modules/monaco-editor/esm/vs/base/common/lazy.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/types.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeAction.js","../node_modules/monaco-editor/esm/vs/editor/contrib/message/messageController.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionMenu.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/lightBulbWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionUi.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionModel.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionCommands.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionContributions.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codelens/codelens.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/codiconLabel/codiconLabel.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codelens/codelensWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codelens/codeLensCache.js","../node_modules/monaco-editor/esm/vs/editor/contrib/codelens/codelensController.js","../node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/color.js","../node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorDetector.js","../node_modules/monaco-editor/esm/vs/editor/contrib/comment/blockCommentCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/comment/lineCommentCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/comment/comment.js","../node_modules/monaco-editor/esm/vs/base/browser/contextmenu.js","../node_modules/monaco-editor/esm/vs/editor/contrib/contextmenu/contextmenu.js","../node_modules/monaco-editor/esm/vs/editor/contrib/cursorUndo/cursorUndo.js","../node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dragAndDropCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/dnd/dnd.js","../node_modules/monaco-editor/esm/vs/editor/contrib/find/findDecorations.js","../node_modules/monaco-editor/esm/vs/editor/contrib/find/replaceAllCommand.js","../node_modules/monaco-editor/esm/vs/base/common/search.js","../node_modules/monaco-editor/esm/vs/editor/contrib/find/replacePattern.js","../node_modules/monaco-editor/esm/vs/editor/contrib/find/findModel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/checkbox/checkbox.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInputCheckboxes.js","../node_modules/monaco-editor/esm/vs/editor/contrib/find/findOptionsWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/find/findState.js","../node_modules/monaco-editor/esm/vs/base/browser/formattedTextRenderer.js","../node_modules/monaco-editor/esm/vs/base/common/history.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/inputbox/inputBox.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInput.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/replaceInput.js","../node_modules/monaco-editor/esm/vs/platform/browser/contextScopedHistoryWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/find/findWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/find/findController.js","../node_modules/monaco-editor/esm/vs/editor/contrib/folding/foldingRanges.js","../node_modules/monaco-editor/esm/vs/editor/contrib/folding/foldingModel.js","../node_modules/monaco-editor/esm/vs/editor/contrib/folding/foldingDecorations.js","../node_modules/monaco-editor/esm/vs/editor/contrib/folding/hiddenRangeModel.js","../node_modules/monaco-editor/esm/vs/editor/contrib/folding/indentRangeProvider.js","../node_modules/monaco-editor/esm/vs/editor/contrib/folding/syntaxRangeProvider.js","../node_modules/monaco-editor/esm/vs/editor/contrib/folding/intializingRangeProvider.js","../node_modules/monaco-editor/esm/vs/editor/contrib/folding/folding.js","../node_modules/monaco-editor/esm/vs/editor/contrib/fontZoom/fontZoom.js","../node_modules/monaco-editor/esm/vs/editor/contrib/format/formattingEdit.js","../node_modules/monaco-editor/esm/vs/platform/extensions/common/extensions.js","../node_modules/monaco-editor/esm/vs/editor/contrib/format/format.js","../node_modules/monaco-editor/esm/vs/editor/contrib/format/formatActions.js","../node_modules/monaco-editor/esm/vs/editor/browser/widget/embeddedCodeEditorWidget.js","../node_modules/monaco-editor/esm/vs/base/common/idGenerator.js","../node_modules/monaco-editor/esm/vs/editor/contrib/zoneWidget/zoneWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/peekView/peekView.js","../node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/referencesModel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/highlightedlabel/highlightedLabel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/countBadge/countBadge.js","../node_modules/monaco-editor/esm/vs/base/common/labels.js","../node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/peek/referencesTree.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/splitview/splitview.js","../node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/peek/referencesWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/peek/referencesController.js","../node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/goToSymbol.js","../node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/symbolNavigation.js","../node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/goToCommands.js","../node_modules/monaco-editor/esm/vs/base/common/htmlContent.js","../node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/link/clickLinkGesture.js","../node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition.js","../node_modules/monaco-editor/esm/vs/platform/severityIcon/common/severityIcon.js","../node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/gotoErrorWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/gotoError.js","../node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPickerModel.js","../node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPickerWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/hover/getHover.js","../node_modules/monaco-editor/esm/vs/editor/contrib/hover/hoverOperation.js","../node_modules/monaco-editor/esm/vs/editor/contrib/hover/hoverWidgets.js","../node_modules/monaco-editor/esm/vs/base/common/marked/marked.js","../node_modules/monaco-editor/esm/vs/base/common/insane/insane.js","../node_modules/monaco-editor/esm/vs/base/browser/markdownRenderer.js","../node_modules/monaco-editor/esm/vs/editor/contrib/markdown/markdownRenderer.js","../node_modules/monaco-editor/esm/vs/editor/contrib/hover/modesContentHover.js","../node_modules/monaco-editor/esm/vs/editor/contrib/hover/modesGlyphHover.js","../node_modules/monaco-editor/esm/vs/editor/contrib/hover/hover.js","../node_modules/monaco-editor/esm/vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/inPlaceReplace/inPlaceReplace.js","../node_modules/monaco-editor/esm/vs/editor/common/commands/trimTrailingWhitespaceCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/copyLinesCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/indentation/indentUtils.js","../node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/moveLinesCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/sortLinesCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/linesOperations.js","../node_modules/monaco-editor/esm/vs/editor/contrib/links/getLinks.js","../node_modules/monaco-editor/esm/vs/editor/contrib/links/links.js","../node_modules/monaco-editor/esm/vs/editor/contrib/multicursor/multicursor.js","../node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/provideSignatureHelp.js","../node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/parameterHintsModel.js","../node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/parameterHintsWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/parameterHints.js","../node_modules/monaco-editor/esm/vs/editor/contrib/rename/renameInputField.js","../node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","../node_modules/monaco-editor/esm/vs/editor/contrib/smartSelect/wordSelections.js","../node_modules/monaco-editor/esm/vs/editor/contrib/smartSelect/bracketSelections.js","../node_modules/monaco-editor/esm/vs/editor/contrib/smartSelect/smartSelect.js","../node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggest.js","../node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetParser.js","../node_modules/monaco-editor/esm/vs/platform/workspaces/common/workspaces.js","../node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetVariables.js","../node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetSession.js","../node_modules/monaco-editor/esm/vs/editor/contrib/snippet/snippetController2.js","../node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestMemory.js","../node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestAlternatives.js","../node_modules/monaco-editor/esm/vs/editor/contrib/suggest/completionModel.js","../node_modules/monaco-editor/esm/vs/editor/contrib/suggest/wordDistance.js","../node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestModel.js","../node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/outlineTree.js","../node_modules/monaco-editor/esm/vs/platform/files/common/files.js","../node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses.js","../node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/suggest/wordContextKey.js","../node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestCommitCharacters.js","../node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestRangeHighlighter.js","../node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestController.js","../node_modules/monaco-editor/esm/vs/editor/contrib/tokenization/tokenization.js","../node_modules/monaco-editor/esm/vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode.js","../node_modules/monaco-editor/esm/vs/editor/contrib/wordHighlighter/wordHighlighter.js","../node_modules/monaco-editor/esm/vs/editor/contrib/wordOperations/wordOperations.js","../node_modules/monaco-editor/esm/vs/editor/contrib/wordPartOperations/wordPartOperations.js","../node_modules/monaco-editor/esm/vs/editor/editor.all.js","../node_modules/monaco-editor/esm/vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp.js","../node_modules/monaco-editor/esm/vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard.js","../node_modules/monaco-editor/esm/vs/editor/standalone/browser/inspectTokens/inspectTokens.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/keybindingLabel/keybindingLabel.js","../node_modules/monaco-editor/esm/vs/base/parts/quickopen/browser/quickOpenModel.js","../node_modules/monaco-editor/esm/vs/base/parts/quickopen/browser/quickOpenViewer.js","../node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeDefaults.js","../node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeModel.js","../node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeDnd.js","../node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeViewModel.js","../node_modules/monaco-editor/esm/vs/base/parts/tree/browser/tree.js","../node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","../node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeImpl.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/progressbar/progressbar.js","../node_modules/monaco-editor/esm/vs/base/parts/quickopen/browser/quickOpenWidget.js","../node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickOpenEditorWidget.js","../node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/editorQuickOpen.js","../node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/gotoLine.js","../node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickCommand.js","../node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/outlineModel.js","../node_modules/monaco-editor/esm/vs/editor/contrib/quickOpen/quickOpen.js","../node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickOutline.js","../node_modules/monaco-editor/esm/vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch.js","monaco-features.js","../node_modules/parcel-bundler/src/builtins/loaders/browser/js-loader.js","../node_modules/parcel-bundler/src/builtins/loaders/browser/css-loader.js"],"names":["_monaco","monaco","self","languageDefinitions","lazyLanguageLoaders","LazyLanguageLoader","languageId","_this","_languageId","_loadingTriggered","_lazyLoadPromise","Promise","resolve","reject","_lazyLoadPromiseResolve","_lazyLoadPromiseReject","getOrCreate","prototype","whenLoaded","load","loader","then","mod","err","loadLanguage","registerLanguage","def","id","languages","register","lazyLanguageLoader","setMonarchTokensProvider","language","onLanguage","setLanguageConfiguration","conf","bundleURL","getBundleURLCached","getBundleURL","Error","matches","stack","match","getBaseURL","url","replace","exports","require","loadBundlesLazy","bundles","Array","isArray","length","code","LazyPromise","loadBundles","slice","all","map","loadBundle","bundleLoaders","registerBundleLoader","type","module","bundle","substring","lastIndexOf","toLowerCase","bundleLoader","resolved","catch","e","executor","promise","onSuccess","onError","extensions","aliases","mimetypes","filenames","firstLine","wordPattern","comments","lineComment","blockComment","brackets","onEnterRules","beforeText","afterText","action","indentAction","IndentAction","IndentOutdent","appendText","None","removeText","autoClosingPairs","open","close","notIn","folding","markers","start","RegExp","end","defaultToken","tokenPostfix","keywords","typeKeywords","operators","symbols","escapes","digits","octaldigits","binarydigits","hexdigits","regexpctl","regexpesc","tokenizer","root","include","common","cases","token","bracket","next","whitespace","comment","jsdoc","regexp","regexrange","string_double","string_single","string_backtick","bracketCounting","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","create","overviewRulerBracketMatchForeground","dark","light","hc","nls","localize","JumpToBracketAction","_super","call","label","alias","precondition","undefined","kbOpts","kbExpr","EditorContextKeys","editorTextFocus","primary","weight","run","accessor","editor","controller","BracketMatchingController","get","jumpToBracket","EditorAction","SelectToBracketAction","description","args","name","schema","properties","default","selectBrackets","selectToBracket","BracketsData","position","options","_editor","_lastBracketsData","_lastVersionId","_decorations","_updateBracketsSoon","_register","RunOnceScheduler","_updateBrackets","_matchBrackets","getOption","schedule","onDidChangeCursorPosition","onDidChangeModelContent","onDidChangeModel","onDidChangeModelLanguageConfiguration","onDidChangeConfiguration","hasChanged","deltaDecorations","getContribution","ID","hasModel","model","getModel","newSelections","getSelections","selection","getStartPosition","matchBracket","newCursorPosition","containsPosition","enclosingBrackets","findEnclosingBrackets","nextBracket","findNextBracket","range","Selection","lineNumber","column","setSelections","revealRange","forEach","selectFrom","selectTo","sort","Range","compareRangesUsingStarts","open_1","close_1","getEndPosition","push","_recomputeBrackets","newDecorations","newDecorationsLen","_i","_a","bracketData","selections","versionId","getVersionId","previousData","positions","positionsLen","i","len","isEmpty","Position","compare","newData","newDataLen","previousIndex","previousLen","isBefore","equals","_DECORATION_OPTIONS_WITH_OVERVIEW_RULER","_DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER","ModelDecorationOptions","stickiness","className","overviewRuler","color","OverviewRulerLane","Center","Disposable","theme","collector","bracketMatchBackground","getColor","editorBracketMatchBackground","addRule","bracketMatchBorder","editorBracketMatchBorder","MenuRegistry","appendMenuItem","group","command","title","key","order","MoveCaretCommand","isMovingLeft","_selection","_isMovingLeft","_cutStartIndex","_cutEndIndex","_moved","_selectionId","getEditOperations","builder","s","trackSelection","startLineNumber","endLineNumber","startColumn","endColumn","getLineMaxColumn","left","middle","right","selectionStartLineNumber","lineContent","getLineContent","newLineContent","addEditOperation","computeCursorState","helper","result","getTrackedSelection","setStartPosition","setEndPosition","MoveCaretAction","opts","commands","selections_1","pushUndoStop","executeCommands","MoveCaretLeftAction","writable","MoveCaretRightAction","TransposeLettersAction","textInputFocus","mac","lastColumn","endPosition","getPosition","MoveOperations","rightPosition","middlePosition","leftPosition","beginPosition","leftChar","getValueInRange","fromPositions","rightChar","replaceRange","ReplaceCommand","CLIPBOARD_CONTEXT_MENU_GROUP","supportsCut","platform","isNative","document","queryCommandSupported","supportsCopy","supportsCopyWithSyntaxHighlighting","browser","isEdgeOrIE","supportsPaste","isChrome","ExecCommandAction","browserCommand","runCommand","focusedEditor","ICodeEditorService","getFocusedCodeEditor","hasTextFocus","trigger","execCommand","focus","ExecCommandCutAction","win","secondary","contextMenuOpts","menuOpts","menuId","getSelection","ExecCommandCopyAction","ExecCommandPasteAction","ExecCommandCopyWithSyntaxHighlightingAction","forceCopyWithSyntaxHighlighting","Lazy","_didRun","getValue","_value","_error","defineProperty","enumerable","configurable","CodeActionKind","value","other","contains","sep","intersects","append","part","Empty","QuickFix","Refactor","Source","SourceOrganizeImports","SourceFixAll","mayIncludeActionsOfKind","filter","providedKind","includeSourceActions","filtersAction","actionKind","kind","excludes","some","exclude","onlyIncludePreferredActions","isPreferred","CodeActionCommandArgs","apply","preferred","fromUser","arg","defaults","getKindFromUser","getApplyFromUser","getPreferredUser","defaultAutoApply","defaultKind","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","adopt","done","__generator","body","_","f","y","t","g","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","pop","__spreadArrays","il","arguments","r","k","a","j","jl","codeActionCommandId","refactorCommandId","sourceActionCommandId","organizeImportsCommandId","fixAllCommandId","ManagedCodeActionSet","actions","disposables","allActions","codeActionsComparator","validActions","disabled","diagnostics","message","localeCompare","fix","getCodeActions","rangeOrSelection","codeActionContext","only","cts","TextModelCancellationTokenSource","providers","getCodeActionProviders","DisposableStore","promises","provider","providedCodeActions","err_1","provideCodeActions","isCancellationRequested","add","listener","CodeActionProviderRegistry","onDidChange","newProviders","cancel","flatten","finally","dispose","providedCodeActionKinds","resource","validatedRangeOrSelection","codeActionSet","URI","IModelService","isISelection","liftSelection","isIRange","validateRange","CancellationToken","setTimeout","__decorate","decorators","target","desc","c","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","MessageController","contextKeyService","closeTimeout","_messageWidget","MutableDisposable","_messageListeners","_visible","MESSAGE_VISIBLE","bindTo","onDidAttemptReadOnlyEdit","_onDidAttemptReadOnlyEdit","reset","showMessage","bounds","set","clear","MessageWidget","onDidBlurEditorText","closeMessage","onDidDispose","TimeoutTimer","onMouseMove","fadeOut","RawContextKey","IContextKeyService","MessageCommand","EditorCommand","bindToContribution","handler","text","allowEditorOverflow","suppressMouseDown","revealLinesInCenterIfOutsideViewport","_position","_domNode","createElement","classList","textContent","appendChild","anchor","addContentWidget","messageWidget","handle","clearTimeout","getDomNode","removeEventListener","addEventListener","removeContentWidget","getId","preference","border","inputValidationInfoBorder","borderWidth","HIGH_CONTRAST","background","inputValidationInfoBackground","foreground","inputValidationInfoForeground","__assign","assign","CodeActionAction","callback","Action","CodeActionMenu","_delegate","_contextMenuService","keybindingService","_showingActions","_keybindingResolver","CodeActionKeybindingResolver","getKeybindings","show","codeActions","at","actionsToShow","menuActions","resolver","includeDisabledActions","onSelectCodeAction","isIPosition","_toCoords","x","getResolver","showContextMenu","getAnchor","getActions","onHide","autoSelectFirstItem","getKeyBinding","revealPosition","render","cursorCoords","getScrolledVisiblePosition","editorCoords","top","height","IContextMenuService","IKeybindingService","_keybindingProvider","allCodeActionBindings","item","codeActionCommands","indexOf","resolvedKeybinding","commandArgs","bestKeybindingForCodeAction","candidates","candidate","reduceRight","currentBest","LightBulbState","Hidden","Showing","editorPosition","widgetPosition","LightBulbWidget","_quickFixActionId","_preferredFixActionId","_keybindingService","_onClick","Emitter","onClick","event","_state","editorModel","state","getLineCount","hide","ignoreTarget","dom","addStandardDisposableGenericMouseDownListner","preventDefault","getDomNodePagePosition","lineHeight","pad","Math","floor","fire","posx","addDisposableListener","buttons","monitor","GlobalMouseMoveMonitor","startMonitoring","standardMouseMoveMerger","enabled","_updateLightBulbTitle","onDidUpdateKeybindings","update","atPosition","getOptions","tabSize","fontInfo","indent","TextModel","computeIndentLevel","isFolded","getTopForLineNumber","effectiveLineNumber","spaceWidth","_posPref","toggleClass","hasAutoFix","layoutContentWidget","preferredKb","lookupKeybinding","getLabel","kb","editorLightBulbForegroundColor","editorLightBulbForeground","editorLightBulbAutoFixForegroundColor","editorLightBulbAutoFixForeground","CodeActionUi","quickFixActionId","preferredFixActionId","delegate","instantiationService","_activeCodeActions","_codeActionWidget","createInstance","applyCodeAction","_lightBulbWidget","widget","showCodeActionList","newState","_b","_c","e_1","validActionToApply","invalidAction","_d","rawValue","tryGetValidActionToApply","context","getInvalidActionThatWouldHaveBeenApplied","notAvailableMessage","isVisible","autoApply","IInstantiationService","SUPPORTED_CODE_ACTIONS","CodeActionsState","CodeActionOracle","_markerService","_signalChange","_delay","_autoTriggerTimer","onMarkerChanged","_onMarkerChanges","_onCursorChange","_getRangeOfSelectionUnlessWhitespaceEnclosed","_createEventAndSignalChange","resources","uri","cancelAndSet","_getRangeOfMarker","read","marker","markerRange","intersectRanges","lift","line","test","Triggered","CodeActionModel","_progressService","_codeActionOracle","_onDidChangeState","onDidChangeState","_supportedCodeActions","_update","onDidChangeModelLanguage","setState","has","supportedActions","join","showWhile","skipNotify","contextKeyForSupportedActions","ContextKeyExpr","regex","keys","argsSchema","required","defaultSnippets","enum","enumDescriptions","QuickFixController","markerService","progressService","contextMenuService","_commandService","_bulkEditService","_instantiationService","_model","_ui","QuickFixAction","Id","AutoFixAction","retrigger","_applyCodeAction","_trigger","showCodeActions","manualTriggerAtCurrentPosition","triggerPosition","invokeFunction","IMarkerService","IEditorProgressService","ICommandService","IBulkEditService","bulkEditService","commandService","notificationService","INotificationService","edit","executeCommand","asMessage","error","triggerCodeActionsForEditorSelection","and","hasCodeActionsProvider","_accessor","CodeActionCommand","runEditorCommand","userArgs","RefactorAction","when","SourceAction","OrganizeImportsAction","FixAllAction","CodeLensModel","lenses","_disposables","list","symbol","getCodeLensData","CodeLensProviderRegistry","ordered","providerRanks","Map","provideCodeLenses","onUnexpectedExternalError","itemResolveCount","_loop_1","Boolean","resolveCodeLens","expand","_match","_g1","_g3","animation","renderCodicons","CodeLensViewZone","afterLineNumber","onHeight","_onHeight","heightInLines","domNode","onComputedHeight","_lastHeight","CodeLensContentWidget","_commands","_isEmpty","_id","_idPool","updatePosition","withCommands","animate","innerHtml","hasSymbol","lens","String","innerHTML","addClass","getCommand","link","parentElement","getLineFirstNonWhitespaceColumn","_widgetPosition","CodeLensHelper","_removeDecorations","_addDecorations","_addDecorationsCallbacks","addDecoration","decoration","removeDecoration","decorationId","commit","changeAccessor","resultingDecorations","CodeLensWidget","data","viewZoneChangeAccessor","updateCallback","_isDisposed","_className","_data","_decorationIds","codeLensData","EMPTY","plusRange","_viewZone","_viewZoneId","addZone","_createContentWidgetIfNecessary","_contentWidget","removeZone","isDisposed","isValid","getDecorationRange","updateCodeLensSymbols","computeIfNecessary","hasAttribute","updateCommands","getLineNumber","layoutZone","codeLensForeground","editorCodeLensForeground","activeLinkForeground","editorActiveLinkForeground","ICodeLensCache","CacheItem","lineCount","CodeLensCache","storageService","_fakeProvider","class_1","_cache","LRUCache","remove","raw","_deserialize","onWillSaveState","reason","WillSaveStateReason","SHUTDOWN","store","_serialize","put","copyItems","copyModel","toString","delete","JSON","lines","Set","stringify","parse","element","IStorageService","CodeLensContribution","_notificationService","_codeLensCache","_globalToDispose","_localToDispose","_lenses","_oldCodeLensModels","_modelChangeCounter","_isEnabled","_onModelChange","prevIsEnabled","_updateLensStyle","_styleClassName","_styleElement","_localDispose","_currentCodeLensModel","newStyle","round","fontSize","_currentFindCodeLensSymbolsPromise","_currentResolveCodeLensSymbolsPromise","cachedLenses","_renderCodeLensSymbols","registration","scheduler","detectVisibleLenses","_detectVisibleLenses","_onViewportChanged","counterValue","onUnexpectedError","changeDecorations","decorationsAccessor","changeViewZones","viewZonesAccessor","toDispose","lastLensLineNumber","l","splice","onDidScrollChange","scrollTopChanged","onDidLayoutChange","scrollState","StableEditorScrollState","capture","_disposeAllLenses","restore","onMouseUp","tagName","cachedLensesNow","decChangeAccessor","maxLineNumber","lastGroup","groups","viewZoneAccessor","groupsIndex","codeLensIndex","symbolsLineNumber","codeLensLineNumber","toResolve","request","resolvePromise","resolvedSymbols","getColors","colors","ColorProviderRegistry","reverse","provideDocumentColors","result_1","colorInfo","getColorPresentations","provideColorPresentations","rawCIs","result_2","ci","red","green","blue","alpha","presentations","MAX_DECORATORS","ColorDetector","_codeEditorService","_configurationService","_decorationsIds","_colorDatas","_colorDecoratorIds","_decorationsTypes","isEnabled","onModelChanged","removeAllDecorations","_timeoutTimer","_computePromise","getLanguageIdentifier","deprecatedConfig","colorDecorators","stop","beginCompute","RECOMPUTE_TIME","colorInfos","updateDecorations","updateColorDecorators","colorDatas","decorations","colorData","newDecorationsTypes","rgba","RGBA","subKey","registerDecorationType","before","contentText","margin","width","backgroundColor","resolveDecorationOptions","subType","removeDecorationType","getColorData","getDecorationsInRange","IConfigurationService","BlockCommentCommand","_usedEndToken","_haystackHasNeedleAtOffset","haystack","needle","offset","needleLength","codeA","charCodeAt","codeB","_createOperationsForBlockComment","startToken","endToken","startLineText","endLineText","startTokenIndex","endTokenIndex","startLineAfterStartToken","endLineBeforeEndToken","_createRemoveBlockCommentOperations","_createAddBlockCommentOperations","ops_1","addTrackedEditOperation","res","EditOperation","insert","tokenizeIfCheap","getLanguageIdAtPosition","config","LanguageConfigurationRegistry","getComments","blockCommentStartToken","blockCommentEndToken","inverseEditOperations","getInverseEditOperations","startTokenEditOperation","endTokenEditOperation","srcRange","deltaColumn","LineCommentCommand","_tabSize","_type","_deltaColumn","_moveEndPositionDown","_gatherPreflightCommentStrings","commentStr","lineCommentToken","ignore","commentStrOffset","commentStrLength","_analyzeLines","onlyWhitespaceLines","shouldRemoveComments","lineData","lineContentStartOffset","strings","firstNonWhitespaceIndex","commentStrEndOffset","supported","_gatherPreflightData","_executeLineComments","_createRemoveLineCommentsOperations","_normalizeInsertionPoint","_createAddLineCommentsOperations","cursorPosition","positionLineNumber","positionColumn","_attemptRemoveBlockComment","startTokenAllowedBeforeColumn","max","_executeBlockComment","selectionStartColumn","nextVisibleColumn","currentVisibleColumn","isTab","columnSize","minVisibleColumn","lenJ","j_1","lenJ_1","CommentLineAction","ToggleCommentLineAction","AddLineCommentAction","RemoveLineCommentAction","BlockCommentAction","linux","selections_2","ContextSubMenu","entries","SubmenuAction","ContextMenuController","_contextViewService","_contextKeyService","_menuService","_toDispose","_contextMenuIsBeingShownCount","onContextMenu","_onContextMenu","onMouseWheel","hideContextView","onKeyDown","keyCode","stopPropagation","setPosition","hasSelectionAtPosition","posy","_getMenuActions","_doShowContextMenu","menu","createMenu","groups_1","addedItems","actions_1","SubmenuItemAction","subActions","submenu","Separator","oldHoverSetting","updateOptions","hover","getActionViewItem","keybinding","_keybindingFor","ActionViewItem","isMenu","customActionViewItem","icon","wasCancelled","IContextViewService","IMenuService","ShowContextMenu","CursorState","thisLen","equalsSelection","CursorUndoRedoController","_isCursorUndoRedo","_undoStack","_redoStack","onDidChangeCursorSelection","oldSelections","oldModelVersionId","modelVersionId","prevState","shift","cursorUndo","_applyState","cursorRedo","revealRangeInCenterIfOutsideViewport","CursorUndo","CursorRedo","DragAndDropCommand","targetPosition","copy","targetSelection","hasTriggerModifier","isMacintosh","altKey","ctrlKey","DragAndDropController","onMouseDown","_onEditorMouseDown","_onEditorMouseUp","onMouseDrag","_onEditorMouseDrag","onMouseDrop","_onEditorMouseDrop","onEditorKeyDown","onKeyUp","onEditorKeyUp","onDidBlurEditorWidget","onEditorBlur","_dndDecorationIds","_mouseDown","_modifierPressed","_dragSelection","_removeDecoration","mouseStyle","TRIGGER_KEY_VALUE","mouseEvent","possibleSelections","showAt","_hitContent","_hitMargin","newCursorPosition_1","shiftKey","primarySelection","_DECORATION_OPTIONS","FindDecorations","_overviewRulerApproximateDecorations","_findScopeDecorationId","_rangeHighlightDecorationId","_highlightedDecorationId","_startPosition","_allDecorations","getCount","getFindScope","newStartPosition","setCurrentFindMatch","_getDecorationIndex","index","getCurrentMatchesPosition","desiredRange","candidates_1","candidateOpts","_FIND_MATCH_DECORATION","_CURRENT_FIND_MATCH_DECORATION","nextMatch","newCurrentDecorationId","matchPosition","equalsRange","changeDecorationOptions","rng","lineBeforeEnd","lineBeforeEndMaxColumn","_RANGE_HIGHLIGHT_DECORATION","findMatches","findScope","findMatchesOptions","newOverviewRulerApproximateDecorations","_FIND_MATCH_NO_OVERVIEW_DECORATION","approxPixelsPerLine","getLayoutInfo","mergeLinesDelta","ceil","prevStartLineNumber","prevEndLineNumber","_FIND_MATCH_ONLY_OVERVIEW_DECORATION","newFindMatchesDecorations","_FIND_SCOPE_DECORATION","matchBeforePosition","matchAfterPosition","concat","zIndex","showIfCollapsed","overviewRulerFindMatchForeground","minimap","minimapFindMatch","MinimapPosition","Inline","isWholeLine","ReplaceAllCommand","editorSelection","ranges","replaceStrings","_editorSelection","_ranges","_replaceStrings","_trackedEditorSelectionId","o1","o2","resultOps","previousOp","resultOps_1","buildReplaceStringWithCasePreserved","pattern","containsHyphens","validateSpecificSpecialCharacter","containsUnderscores","buildReplaceStringForSpecificSpecialCharacter","toUpperCase","containsUppercaseCharacter","substr","specialCharacter","doesContainSpecialCharacter","split","splitPatternAtSpecialCharacter","splitMatchAtSpecialCharacter","replaceString","splitValue","StaticValueReplacePattern","staticValue","DynamicPiecesReplacePattern","pieces","ReplacePattern","fromStaticValue","ReplacePiece","buildReplaceString","preserveCase","piece","_substitute","matchIndex","remainder","ReplacePieceBuilder","source","_source","_lastCharIndex","_result","_resultLen","_currentStaticPiece","emitUnchanged","toCharIndex","_emitStatic","emitStatic","emitMatchIndex","finalize","parseReplaceString","chCode","nextChCode","nextNextChCode","CONTEXT_FIND_WIDGET_VISIBLE","CONTEXT_FIND_INPUT_FOCUSED","CONTEXT_REPLACE_INPUT_FOCUSED","ToggleCaseSensitiveKeybinding","ToggleWholeWordKeybinding","ToggleRegexKeybinding","ToggleSearchScopeKeybinding","FIND_IDS","StartFindAction","StartFindWithSelection","NextMatchFindAction","PreviousMatchFindAction","NextSelectionMatchFindAction","PreviousSelectionMatchFindAction","StartFindReplaceAction","CloseFindWidgetCommand","ToggleCaseSensitiveCommand","ToggleWholeWordCommand","ToggleRegexCommand","ToggleSearchScopeCommand","TogglePreserveCaseCommand","ReplaceOneAction","ReplaceAllAction","SelectAllMatchesAction","MATCHES_LIMIT","RESEARCH_DELAY","FindModelBoundToEditorModel","_startSearchingTimer","_updateDecorationsScheduler","research","_ignoreModelContentChanged","isFlush","onFindReplaceStateChange","_onStateChanged","searchScope","searchString","isReplaceRevealed","isRegex","wholeWord","matchCase","isTooLargeForSyncing","setIfNotSet","moveCursor","_getSearchRange","getFullModelRange","newFindScope","_findMatches","changeMatchInfo","_moveToNextMatch","_hasMatches","matchesCount","_cannotFind","_setCurrentFindMatch","matchesPosition","setSelection","_prevSearchPosition","isUsingLineStops","_moveToPrevMatch","isRecursed","prevMatchRange","searchRange","prevMatch","findPreviousMatch","containsRange","moveToPrevMatch","_nextSearchPosition","after","nextMatchRange","_getNextMatch","captureMatches","forceMove","findNextMatch","moveToNextMatch","_getReplacePattern","replacePattern","_executeEditorCommand","limitResultCount","replaceAll","_largeReplaceAll","_regularReplaceAll","searchParams","searchData","SearchParams","parseSearchRequest","searchRegex","multiline","ignoreCase","global","resultText","modelText","fullModelRange","hasReplacementPatterns","ReplaceCommandThatPreservesSelection","m","selectAllMatches","sel","defaultOpts","inputActiveOptionBorder","Color","fromHex","inputActiveOptionBackground","Checkbox","_onChange","onChange","_onKeyDown","_opts","objects","deepClone","mixin","_checked","isChecked","actionClassName","tabIndex","setAttribute","applyStyles","onclick","ev","checked","ignoreGesture","onkeydown","keyboardEvent","getAttribute","newIsChecked","style","styles","borderColor","enable","disable","DOM","removeTabIndexAndUpdateFocus","Widget","NLS_CASE_SENSITIVE_CHECKBOX_LABEL","NLS_WHOLE_WORD_CHECKBOX_LABEL","NLS_REGEX_CHECKBOX_LABEL","CaseSensitiveCheckbox","appendTitle","WholeWordsCheckbox","RegexCheckbox","FindOptionsWidget","themeService","_hideSoon","_hide","_isVisible","display","inputActiveOptionBorderColor","getTheme","inputActiveOptionBackgroundColor","caseSensitive","_keybindingLabelFor","change","wholeWords","addOverlayWidget","somethingChanged","isRevealed","_revealTemporarily","addDisposableNonBubblingMouseOutListener","_onMouseOut","_onMouseOver","_applyTheme","onThemeChange","bind","actionId","removeOverlayWidget","highlightFindOptions","_show","inputStyles","widgetBackground","editorWidgetBackground","widgetForeground","editorWidgetForeground","widgetShadowColor","widgetShadow","hcBorder","contrastBorder","effectiveOptionValue","override","FindReplaceState","_onFindReplaceStateChange","_searchString","_replaceString","_isRevealed","_isReplaceRevealed","_isRegex","_isRegexOverride","_wholeWord","_wholeWordOverride","_matchCase","_matchCaseOverride","_preserveCase","_preserveCaseOverride","_searchScope","_matchesPosition","_matchesCount","_currentMatch","currentMatch","changeEvent","updateHistory","oldEffectiveIsRegex","oldEffectiveWholeWords","oldEffectiveMatchCase","oldEffectivePreserveCase","isRegexOverride","wholeWordOverride","matchCaseOverride","preserveCaseOverride","renderText","renderFormattedText","formattedText","_renderFormattedText","parseFormattedText","actionHandler","inline","StringStream","eos","peek","advance","treeNode","child","createTextNode","content","href","disposeables","addStandardDisposableListener","children","nodeChild","actionViewItemIndex","current","stream","isEscapedFormatType","formatTagType","isFormatTag","newCurrent","textCurrent","char","HistoryNavigator","history","limit","_initialize","_limit","_history","_navigator","previous","parent","first","last","_reduceToLimit","elements","_elements","ArrayNavigator","history_1","entry","$","inputBackground","inputForeground","inputValidationWarningBorder","inputValidationWarningBackground","inputValidationErrorBorder","inputValidationErrorBackground","InputBox","container","contextViewProvider","maxHeight","Number","POSITIVE_INFINITY","_onDidChange","_onDidHeightChange","onDidHeightChange","placeholder","ariaLabel","inputBorder","inputValidationWarningForeground","inputValidationErrorForeground","validationOptions","validation","flexibleHeight","wrapper","input","onfocus","onblur","removeClass","flexibleMaxHeight","mirror","scrollableElement","ScrollableElement","vertical","flexibleWidth","whiteSpace","wordWrap","onScroll","scrollTop","onSelectionChange","Event","anchorNode","updateScrollDimensions","setPlaceHolder","oninput","onValueChange","onBlur","onFocus","Bal","isIE","EventHelper","updateMirror","actionbar","ActionBar","_hideMessage","_showMessage","placeHolder","setAriaLabel","removeAttribute","newValue","cachedHeight","getTotalHeight","blur","hasFocus","activeElement","select","setSelectionRange","getTotalWidth","horizontalPadding","parseFloat","paddingLeft","paddingRight","cachedContentHeight","scrollHeight","setScrollDimensions","setScrollPosition","force","classForType","alertText","stylesForType","aria","alert","hideMessage","validate","errorMsg","inputElement","div","layout","showContextView","anchorAlignment","renderOptions","spanElement","formatContent","suffix","borderStyle","previousHeight","min","insertAtCursor","selectionStart","selectionEnd","HistoryInputBox","addToHistory","getCurrentValue","showNextValue","getNextValue","status","showPreviousValue","getPreviousValue","currentValue","NLS_DEFAULT_LABEL","FindInput","_showOptionButtons","fixFocusOnOptionClickEnabled","_onDidOptionChange","onDidOptionChange","_onMouseDown","_onInput","_onKeyUp","_onCaseSensitiveKeyDown","onCaseSensitiveKeyDown","_onRegexKeyDown","onRegexKeyDown","_lastHighlightFindOptions","appendCaseSensitiveLabel","appendWholeWordsLabel","appendRegexLabel","inputBox","viaKeyboard","indexes","newIndex","controls","onkeyup","onmousedown","setFocusInputOnOptionClick","setEnabled","setValue","checkBoxStyles","inputBoxStyles","getCaseSensitive","setCaseSensitive","getWholeWords","setWholeWords","getRegex","setRegex","focusOnCaseSensitive","clearMessage","NLS_PRESERVE_CASE_LABEL","PreserveCaseCheckbox","ReplaceInput","cachedOptionsWidth","_onPreserveCaseKeyDown","onPreserveCaseKeyDown","getPreserveCase","setPreserveCase","focusOnPreserve","newWidth","HistoryNavigationWidgetContext","HistoryNavigationEnablementContext","bindContextScopedWidget","contextKey","createWidgetScopedContextKeyService","createScoped","getContextScopedWidget","getContext","createAndBindHistoryNavigationWidgetScopedContextKeyService","scopedContextKeyService","historyNavigationEnablement","ContextScopedFindInput","showFindOptions","historyNavigator","ContextScopedReplaceInput","showReplaceOptions","KeybindingsRegistry","registerCommandAndKeybindingRule","arg2","NLS_FIND_INPUT_LABEL","NLS_FIND_INPUT_PLACEHOLDER","NLS_PREVIOUS_MATCH_BTN_LABEL","NLS_NEXT_MATCH_BTN_LABEL","NLS_TOGGLE_SELECTION_FIND_TITLE","NLS_CLOSE_BTN_LABEL","NLS_REPLACE_INPUT_LABEL","NLS_REPLACE_INPUT_PLACEHOLDER","NLS_REPLACE_BTN_LABEL","NLS_REPLACE_ALL_BTN_LABEL","NLS_TOGGLE_REPLACE_MODE_BTN_LABEL","NLS_MATCHES_COUNT_LIMIT_TITLE","NLS_MATCHES_LOCATION","NLS_NO_RESULTS","FIND_WIDGET_INITIAL_WIDTH","PART_WIDTH","FIND_INPUT_AREA_WIDTH","MAX_MATCHES_COUNT_WIDTH","FIND_INPUT_AREA_HEIGHT","ctrlEnterReplaceAllWarningPromptedKey","ctrlKeyMod","FindWidgetViewZone","heightInPx","stopPropagationForMultiLineUpwards","textarea","isMultiline","stopPropagationForMultiLineDownwards","FindWidget","codeEditor","_cachedHeight","_codeEditor","_controller","_contextViewProvider","_storageService","_ctrlEnterReplaceAllWarningPrompted","getBoolean","_isReplaceVisible","_ignoreChangeEvent","_updateHistoryDelayer","Delayer","_buildDomNode","_updateButtons","_tryUpdateWidgetWidth","_findInput","updateAccessibilitySupport","addExtraSpaceOnTop","_showViewZone","_removeViewZone","_updateToggleSelectionFindButton","onDidFocusEditorWidget","globalBufferTerm","getGlobalBufferTerm","_findInputFocused","_findFocusTracker","trackFocus","onDidFocus","_updateSearchScope","onDidBlur","_replaceInputFocused","_replaceFocusTracker","_replaceInput","_layoutViewZone","_reveal","_tryUpdateHeight","_toggleSelectionFind","showRedOutline","_updateMatchesCount","_delayedUpdateHistory","_updateHistory","minWidth","firstChild","removeChild","format","_getAriaLabel","clientWidth","isSelection","_closeBtn","findInputIsNonEmpty","_prevBtn","_nextBtn","_replaceBtn","_replaceAllBtn","_toggleReplaceBtn","setExpanded","canReplace","autoFindInSelection","isSelectionMultipleLine","layoutOverlayWidget","adjustEditorScrollTop","seedSearchStringFromSelection","startCoords","startLeft","startTop","leftOfFindWidget","getTopLeftOffset","endCoords","focusTheEditor","viewZone","_getHeight","setScrollTop","getScrollTop","adjustScroll","newHeight","scrollAdjustment","isInDOM","layoutInfo","editorContentWidth","contentWidth","hasClass","editorWidth","minimapWidth","collapsedFindWidget","reducedFindWidget","narrowFindWidget","_resized","widgetWidth","maxWidth","findInputWidth","totalheight","totalHeight","focusFindInput","focusReplaceInput","_onFindInputMouseDown","middleButton","_onFindInputKeyDown","querySelector","_onReplaceInputKeyDown","isWindows","info","getHorizontalSashTop","_sash","getHorizontalSashLeft","getHorizontalSashWidth","isLinux","SimpleButton","onTrigger","getAction","findPart","actionsContainer","replacePart","replaceActionsContainer","_resizeSash","Sash","orientation","originalWidth","onDidStart","evt","startX","currentX","getComputedStyle","onDidReset","currentWidth","expanded","shouldHaveIt","addBackgroundColorRule","selector","editorFindMatchHighlight","editorFindMatch","editorFindRangeHighlight","findMatchHighlightBorder","editorFindMatchHighlightBorder","findMatchBorder","editorFindMatchBorder","findRangeHighlightBorder","editorFindRangeHighlightBorder","errorForeground","resizeBorderBackground","editorWidgetResizeBorder","editorWidgetBorder","focusOutline","focusBorder","SEARCH_STRING_MAX_LENGTH","getSelectionSearchString","wordAtPosition","getWordAtPosition","word","getValueLengthInRange","CommonFindController","clipboardService","_findWidgetVisible","_clipboardService","loadQueryState","shouldRestartFind","disposeModel","_start","forceRevealReplace","seedSearchStringFromGlobalClipboard","shouldFocus","shouldAnimate","updateSearchScope","saveQueryState","setGlobalBufferTerm","actualIsRegex","actualWholeWord","actualMatchCase","actualPreserveCase","isFindInputFocused","getState","closeFindWidget","toggleCaseSensitive","toggleWholeWords","toggleRegex","toggleSearchScope","setSearchString","escapeRegExpCharacters","stateChanges","selectionSearchString","currentSelection","globalFindClipboard","readFindText","writeFindText","IClipboardService","FindController","_themeService","_widget","_findOptionsWidget","_createFindWidget","IThemeService","StartFindWithSelectionAction","MatchFindAction","_run","NextMatchFindAction2","PreviousMatchFindAction2","SelectionMatchFindAction","findInputFocused","FindCommand","MAX_FOLDING_REGIONS","MAX_LINE_NUMBER","MASK_INDENT","FoldingRegions","startIndexes","endIndexes","types","_startIndexes","_endIndexes","_collapseStates","Uint32Array","_types","_parentsComputed","ensureParentIndices","parentIndexes_1","isInsideLast","getStartLineNumber","getEndLineNumber","parentIndex","getType","hasTypes","isCollapsed","arrayIndex","bit","setCollapsed","toRegion","FoldingRegion","getParentIndex","findIndex","low","high","mid","findRange","containedBy","containsLine","FoldingModel","textModel","decorationProvider","_updateEventEmitter","_textModel","_decorationProvider","_regions","_editorDecorationIds","_isInitialized","toggleCollapseState","regions","processed","regions_1","region","regionIndex","editorDecorationId","newCollapseState","getDecorationOption","collapseStateChanged","newRegions","blockedLineNumers","collapsedIndex","newEditorDecorations","initRange","blockedLineNumers_1","blockedLineNumber","isBlocked","maxColumn","decorationRange","nextCollapsed","decRange","collapsedStartLineNumber","getMemento","collapsedRanges","applyMemento","toToogle","state_1","getRegionAtLine","getAllRegionsAtLine","level","getRegionsInside","MAX_VALUE","levelStack","foldingModel","levels","lineNumbers","toToggle","doCollapse_1","regionsInside","lineNumbers_1","setCollapseStateLevelsDown","doCollapse","lineNumbers_2","setCollapseStateLevelsUp","lineNumbers_3","setCollapseStateAtLevel","foldLevel","blockedLineNumbers","setCollapseStateForMatchingLines","regExp","setCollapseStateForType","FoldingDecorationProvider","autoHideFoldingControls","COLLAPSED_VISUAL_DECORATION","EXPANDED_AUTO_HIDE_VISUAL_DECORATION","EXPANDED_VISUAL_DECORATION","oldDecorations","afterContentClassName","linesDecorationsClassName","HiddenRangeModel","_foldingModel","_foldingModelListener","updateHiddenRanges","_hiddenRanges","updateHiddenAreas","newHiddenAreas","lastCollapsedStart","lastCollapsedEnd","applyHiddenRanges","hiddenRanges","hasRanges","isHidden","adjustSelections","hasChanges","lastRange","adjustLine","isInside","adjustedStartLine","adjustedEndLine","MAX_FOLDING_REGIONS_FOR_INDENT_LIMIT","ID_INDENT_PROVIDER","IndentRangeProvider","compute","cancelationToken","foldingRules","getFoldingRules","offSide","computeRanges","RangesCollector","foldingRangesLimit","_indentOccurrences","_length","_foldingRangesLimit","insertFirst","toIndentRanges","maxIndent","startIndex","previousRegions","endAbove","line_1","foldingContext","ID_SYNTAX_PROVIDER","SyntaxRangeProvider","cancellationToken","collectSyntaxRanges","sanitizeRanges","rangeData","provideFoldingRanges","nLines","ranges_1","rank","_nestingLevels","_nestingLevelCounts","nestingLevel","maxLevel","sorted","d1","d2","diff","sorted_1","ID_INIT_PROVIDER","InitializingRangeProvider","initialRanges","onTimeout","timeoutTime","decorationIds","getLineLength","timeout","foldingRangeData","CONTEXT_FOLDING_ENABLED","FoldingController","localToDispose","_autoHideFoldingControls","_useFoldingProviders","hiddenRangeModel","rangeProvider","foldingRegionPromise","foldingStateMemento","foldingModelPromise","updateScheduler","cursorChangedScheduler","mouseDownInfo","foldingDecorationProvider","foldingEnabled","oldIsEnabled","options_1","oldShowFoldingControls","onModelContentChanged","oldUseFoldingProviders","onFoldingStrategyChanged","saveViewState","isTooLargeForTokenization","collapsedRegions","isInitialized","restoreViewState","getFoldingModel","hr","onHiddenRangesChanges","revealCursor","FoldingRangeProviderRegistry","onCursorPositionChanged","onEditorMouseDown","onEditorMouseUp","getRangeProvider","foldingProviders","foldingRanges","selectionLineNumbers","setHiddenAreas","reveal","leftButton","iconClicked","detail","offsetLeftInGutter","offsetLeft","gutterOffsetX","offsetX","isAfterLines","isCollapsed_1","revealPositionInCenterIfOutsideViewport","FoldingAction","foldingController","reportTelemetry","invoke","getSelectedLines","getLineNumbers","selectionLines","foldingArgumentsConstraint","isUndefined","isObject","foldingArgs","isNumber","direction","isString","every","UnfoldAction","constraint","_foldingController","UnFoldRecursivelyAction","_args","FoldAction","ToggleFoldAction","selectedLines","FoldRecursivelyAction","FoldAllBlockCommentsAction","FoldingRangeKind","Comment","FoldAllRegionsAction","Region","UnfoldAllRegionsAction","FoldAllAction","UnfoldAllAction","FoldLevelAction","getFoldingLevel","parseInt","ID_PREFIX","EditorFontZoomIn","setZoomLevel","EditorZoom","getZoomLevel","EditorFontZoomOut","EditorFontZoomReset","FormattingEdit","_handleEolEdits","edits","newEol","singleEdits","edits_1","eol","pushEOL","_isFullModelReplaceEdit","editRange","execute","_edits","executeEdits","replaceMove","ExtensionIdentifier","_lower","toKey","alertFormattingEdits","getRealAndSyntheticDocumentFormattersOrdered","seen","docFormatter_1","DocumentFormattingEditProviderRegistry","formatter","extensionId","rangeFormatter","displayName","provideDocumentFormattingEdits","provideDocumentRangeFormattingEdits","rangeFormatter_1","DocumentRangeFormattingEditProviderRegistry","FormattingConflicts","mode","_selectors","LinkedList","formatDocumentRangeWithSelectedProvider","editorOrModel","instaService","selected","formatDocumentRangeWithProvider","workerService","rawEdits","range_1","initialSelection_1","IEditorWorkerService","EditorStateCancellationTokenSource","getFormattingOptions","computeMoreMinimalEdits","pushEditOperations","forceMoveMarkers","undoEdits","undoEdits_1","range_2","areIntersectingOrTouching","formatDocumentWithSelectedProvider","formatDocumentWithProvider","initialSelection_2","undoEdits_2","range_3","getDocumentRangeFormattingEditsUntilResult","providers_1","getDocumentFormattingEditsUntilResult","providers_2","getOnTypeFormattingEdits","ch","OnTypeFormattingEditProviderRegistry","autoFormatTriggerCharacters","provideOnTypeFormattingEdits","FormatOnType","_workerService","_callOnDispose","_callOnModel","support","triggerChars","CharacterSet","onDidType","lastCharCode","fromCharCode","canceled","unbind","changes","FormatOnPaste","onDidPaste","FormatDocumentAction","hasDocumentFormattingProvider","FormatSelectionAction","hasDocumentSelectionFormattingProvider","hasNonEmptySelection","CommandsRegistry","registerCommand","EmbeddedCodeEditorWidget","domElement","parentEditor","codeEditorService","accessibilityService","getRawOptions","_parentEditor","_overwriteOptions","_onParentConfigurationChanged","getParentEditor","newOptions","IAccessibilityService","CodeEditorWidget","IdGenerator","prefix","_prefix","_lastId","nextId","defaultGenerator","defaultColor","defaultOptions","showArrow","showFrame","frameColor","arrowColor","keepEditorSelection","WIDGET_ID","ViewZoneDelegate","afterColumn","onDomNodeTop","_onDomNodeTop","_onComputedHeight","OverlayWidgetDelegate","Arrow","_ruleName","_IdGenerator","_color","_height","removeCSSRulesContainingSelector","_updateStyle","createCSSRule","where","ZoneWidget","_arrow","_overlayWidget","_positionMarkerId","_isShowing","isAccessible","_getWidth","_getLeft","_onWidth","_fillContainer","_initSash","_applyStyles","borderTopColor","borderBottomColor","verticalScrollbarWidth","minimapLeft","_onViewZoneTop","_onViewZoneHeight","containerHeight","_decoratingElementsHeight","_doLayout","rangeOrPos","_showImpl","viewZoneDomNode","overflow","maxHeightInLines","arrowHeight","frameThickness","width_1","frameWidth","borderTopWidth","borderBottomWidth","revealLine","isLastLine","revealLineInCenter","setCssClass","classToReplace","widthInPixel","heightInPixel","_relayout","newHeightInLines","isResizeable","startY","onDidEnd","lineDelta","currentY","roundedLineDelta","PeekContext","IPeekViewService","_widgets","addExclusiveWidget","existing","onDidClose","inPeekEditor","notInPeekEditor","toNegated","PeekContextController","getOuterEditor","headerBackgroundColor","white","primaryHeadingColor","secondaryHeadingColor","PeekViewWidget","_onDidClose","_headElement","_primaryHeading","_secondaryHeading","_bodyElement","_fillHead","_fillBody","titleElement","_onTitleClick","_fillTitleIcon","_metaHeading","actionBarOptions","_getActionBarOptions","_actionbarWidget","setTitle","primaryHeading","secondaryHeading","escape","clearNode","setMetaTitle","headHeight","bodyHeight","_doLayoutHead","_doLayoutBody","peekViewTitleBackground","peekViewTitleForeground","peekViewTitleInfoForeground","peekViewBorder","peekViewResultsBackground","black","peekViewResultsMatchForeground","peekViewResultsFileForeground","peekViewResultsSelectionBackground","peekViewResultsSelectionForeground","peekViewEditorBackground","peekViewEditorGutterBackground","peekViewResultsMatchHighlight","peekViewEditorMatchHighlight","peekViewEditorMatchHighlightBorder","activeContrastBorder","OneReference","isProviderFirst","_range","_rangeCallback","FilePreview","_modelReference","preview","object","textEditorModel","getWordUntilPosition","beforeRange","afterRange","inside","highlight","FileReferences","_preview","_loadFailure","fsPath","textModelResolverService","_resolved","createModelReference","modelReference","ReferencesModel","links","references","_onDidChangeReferenceRange","onDidChangeReferenceRange","_links","_title","providersFirst","_compareReferences","links_1","oneRef","targetSelectionRange","ref","clone","nextOrPreviousReference","reference","idx","childCount","groupCount","nearestReference","nearest","prefixLen","commonPrefixLength","offsetDist","abs","referenceAt","firstReference","HighlightedLabel","supportCodicons","highlights","didEverRender","escapeNewLines","htmlContent","pos","substring_1","total","extra","highlights_1","FastLabelNode","_element","disposed","_textContent","empty","_empty","marginLeft","IconLabel","labelContainer","nameContainer","descriptionContainer","supportHighlights","nameNode","LabelWithHighlights","Label","supportDescriptionHighlights","descriptionNodeFactory","setLabel","classes","extraClasses","italic","descriptionNode","descriptionMatches","descriptionTitle","singleLabel","domId","separator","splitMatches","labels","labelStart","labelRange","intersect","_e","_f","_g","_h","_j","_k","labelEscapeNewLines","name_1","badgeBackground","badgeForeground","CountBadge","count","badgeBorder","countFormat","titleFormat","setCount","setTitleFormat","getPathLabel","userHomeProvider","rootProvider","file","baseResource","getWorkspaceFolder","hasMultipleRoots","getWorkspace","folders","pathLabel","rootName","scheme","Schemas","untitled","with","query","fragment","hasDriveLetter","normalizeDriveLetter","tildify","userHome","getBaseLabel","base","path","charAt","normalizedUserHomeCached","normalizedUserHome","original","normalized","posix","DataSource","_resolverService","hasChildren","failure","getChildren","val","ITextModelService","Delegate","getHeight","getTemplateId","FileReferencesRenderer","OneReferenceRenderer","StringRepresentationProvider","getKeyboardNavigationLabel","parts","IdentityProvider","FileReferencesTemplate","_uriLabel","badge","getUriLabel","relative","ILabelService","templateId","renderTemplate","renderElement","node","template","filterData","disposeTemplate","templateData","OneReferenceTemplate","score","filePreview","FuzzyScore","isDefault","AriaProvider","getAriaLabel","ariaMessage","State","Sizing","defaultStyles","separatorBorder","transparent","ViewItem","view","size","disposable","_cachedVisibleSize","_size","cachedVisibleSize","setVisible","visible","viewMinimumSize","viewMaximumSize","minimumSize","maximumSize","priority","snap","pointerEvents","layoutContext","layoutContainer","VerticalViewItem","HorizontalViewItem","Distribute","Split","Invisible","SplitView","contentSize","proportions","viewItems","sashItems","Idle","_onDidSashChange","onDidSashChange","_onDidSashReset","_startSnappingEnabled","_endSnappingEnabled","inverseAltBehavior","proportionalLayout","el","sashContainer","viewContainer","descriptor","views","viewDescriptor","sizing","doAddView","reduce","saveProportions","_orthogonalStartSash","sash","orthogonalStartSash","_orthogonalEndSash","orthogonalEndSash","startSnappingEnabled","updateSashEnablement","endSnappingEnabled","isTransparent","removeProperty","setProperty","addView","previousSize","lowPriorityIndexes","highPriorityIndexes","resize","distributeEmptySpace","layoutViews","onSashStart","alt","resetSashDragState","sashDragState","sizes","snapBefore","snapAfter","minDelta","NEGATIVE_INFINITY","maxDelta","viewItem","upIndexes","downIndexes","minDeltaUp","maxDeltaUp","maxDeltaDown","minDeltaDown","minDelta_1","maxDelta_1","snapBeforeIndex","findFirstSnapIndex","snapAfterIndex","halfSize","limitDelta","onSashChange","delta","newDelta","isLastSash","newSizes","viewItemIndex","newMinDelta","newMaxDelta","resizeIndex","onSashEnd","onViewChange","relayout","resizeView","Busy","distributeViewSizes","flexibleViewItems","flexibleSize","flexibleViewItems_1","getViewSize","skipLayout","insertBefore","onChangeDisposable","viewSize","containerDisposable","orientation_1","layoutProvider","getSashPosition","getVerticalSashLeft","sash_1","sashEventMapper","onStartDisposable","onStart","onChangeDisposable_1","onEndDisposable","onEnd","onDidResetDisposable","disposable_1","sashItem","overloadMinDelta","overloadMaxDelta","highPriorityIndexes_1","index_1","lowPriorityIndexes_1","index_2","upItems","upSizes","downItems","downSizes","snapped","snapView","deltaUp","deltaDown","lowPriorityIndex","emptyDelta","highPriorityIndexes_2","lowPriorityIndexes_2","collapsesDown","expandsDown","reverseViews","collapsesUp","expandsUp","snappedBefore","snappedAfter","indexes_1","indexes_2","DecorationsManager","_decorationIgnoreSet","_callOnModelChange","_onModelChanged","removeDecorations","onDidChangeDecorations","_onDecorationChanged","newDecorationsActualIndex","oneReference","DecorationOptions","toRemove","newRange","spansMultipleLines","LayoutData","ratio","fromJSON","ReferenceWidget","_defaultTreeKeyboardSupport","layoutData","_textModelResolverService","_peekViewService","_disposeOnNewModel","_onDidSelectReference","onDidSelectReference","_dim","setModel","_previewNotAvailableMessage","_tree","_previewModelReference","_splitView","peekView","domFocus","_getFocusedReference","metaKey","containerElement","_messageContainer","_previewContainer","scrollBeyondLastLine","scrollbar","verticalScrollbarSize","horizontal","useShadows","verticalHasArrows","horizontalHasArrows","alwaysConsumeMouseWheel","overviewRulerLanes","fixedOverflowWidgets","createFromString","_treeContainer","treeOptions","keyboardSupport","accessibilityProvider","keyboardNavigationLabelProvider","identityProvider","overrideStyles","listBackground","WorkbenchAsyncDataTree","onEvent","_revealReference","onDidChangeFocus","onDidOpen","browserEvent","MouseEvent","KeyboardEvent","tapCount","setFocus","newModel","_onNewModel","_decorationsManager","rerender","setInput","getFocus","revealParent","scrollType","_revealedReference","inMemory","getInput","collapseToStart","revealRangeInCenter","findMatchHighlightColor","referenceHighlightColor","referenceHighlightBorder","hcOutline","resultsBackground","resultsMatchForeground","resultsFileForeground","resultsSelectedBackground","resultsSelectedForeground","editorBackground","editorGutterBackground","ctxReferenceSearchVisible","ReferencesController","_editorService","_requestIdPool","_ignoreModelChangeEvent","_referenceSearchVisible","toggleWidget","modelPromise","peekMode","closeWidget","_peekMode","storageKey","openReference","_gotoReference","requestId","goToNextOrPreviousReference","fwd","currentPosition","editorFocus","openCodeEditor","openedEditor","model_1","sideBySide","withController","fn","outerEditor","not","WorkbenchListFocusContextKey","IListService","lastFocusedList","getLocationLinks","registry","provide","coalesce","getDefinitionsAtPosition","DefinitionProviderRegistry","provideDefinition","getDeclarationsAtPosition","DeclarationProviderRegistry","provideDeclaration","getImplementationsAtPosition","ImplementationProviderRegistry","provideImplementation","getTypeDefinitionsAtPosition","TypeDefinitionProviderRegistry","provideTypeDefinition","getReferencesAtPosition","compact","ReferenceProviderRegistry","resultWithoutDeclaration","provideReferences","includeDeclaration","ctxHasSymbols","ISymbolNavigationService","SymbolNavigationService","_currentModel","_currentIdx","_ignoreEditorChange","_ctxHasSymbols","_currentState","_currentMessage","refModel","editorState","EditorState","getActiveCodeEditor","seenUri","seenPosition","revealNext","revealInCenterIfOutsideViewport","editorService","_listener","onCodeEditorRemove","_onDidRemoveEditor","onCodeEditorAdd","_onDidAddEditor","listCodeEditors","SymbolNavigationAction","configuration","_configuration","symbolNavService","_getLocationModel","altAction","altActionId","referenceCount","_getAlternativeCommand","muteMessage","_getNoResultFoundMessage","_onResult","gotoLocation","targetEditor","_getGoToPreference","openInPeek","_openInPeek","_openReference","openToSide","modelNow_1","ids_1","DefinitionAction","alternativeDefinitionCommand","multipleDefinitions","goToDefinitionKb","isWeb","isStandalone","GoToDefinitionAction","hasDefinitionProvider","isInEmbeddedEditor","registerCommandAlias","OpenDefinitionToSideAction","PeekDefinitionAction","DeclarationAction","alternativeDeclarationCommand","multipleDeclarations","GoToDeclarationAction","hasDeclarationProvider","PeekDeclarationAction","TypeDefinitionAction","alternativeTypeDefinitionCommand","multipleTypeDefinitions","GoToTypeDefinitionAction","hasTypeDefinitionProvider","PeekTypeDefinitionAction","ImplementationAction","alternativeImplementationCommand","multipleImplementations","GoToImplementationAction","hasImplementationProvider","PeekImplementationAction","ReferencesAction","alternativeReferenceCommand","multipleReferences","GoToReferencesAction","hasReferenceProvider","PeekReferencesAction","GenericGoToLocationAction","_references","_gotoMultipleBehaviour","_token","corePosition","multiple","isUri","invokeWithinContext","control","MarkdownString","isTrusted","_isTrusted","appendMarkdown","appendCodeblock","langId","isEmptyMarkdownString","oneOrMany","isMarkdownString","thing","markedStringsEquals","markdownStringEqual","removeMarkdownEscapes","parseHrefAndDimensions","dimensions","splitted","trim","parameters","heightFromParams","exec","widthFromParams","widthIsFinite","isFinite","heightIsFinite","hasModifier","modifier","ClickLinkMouseEvent","triggerModifier","hasSideBySideModifier","triggerSideBySideModifier","isNoneOrSingleMouseDown","ClickLinkKeyboardEvent","keyCodeIsTriggerKey","triggerKey","keyCodeIsSideBySideKey","triggerSideBySideKey","ClickLinkOptions","createOptions","multiCursorModifier","ClickLinkGesture","_onMouseMoveOrRelevantKeyDown","onMouseMoveOrRelevantKeyDown","_onExecute","onExecute","_onCancel","onCancel","lastMouseMoveEvent","hasTriggerKeyOnMouseDown","newOpts","onEditorMouseMove","resetHandler","scrollLeftChanged","GotoDefinitionAtPositionEditorContribution","modeService","toUnhook","toUnhookForKeyboard","linkDecorations","currentWordAtPosition","previousPromise","linkGesture","startFindDefinitionFromMouse","gotoDefinition","removeLinkDecorations","startFindDefinitionFromCursor","startFindDefinition","withKey","findDefinition","results","previewValue","wordRange","getPreviewValue","originSelectionRange","modeId","getModeIdByFilepathOrFirstLine","rangeToUse","getPreviewRangeBasedOnBrackets","MAX_SOURCE_PREVIEW_LINES","getPreviewRangeBasedOnIndentation","stripIndentationFromPreviewRange","previewRange","startIndent","minIndent","endIndent","currentBracket","ignoreFirstEmpty","lastBracket","isOpen","nextLineNumber","nextColumn","hoverMessage","inlineClassName","IModeService","SeverityIcon","severity","Severity","Ignore","Info","Warning","errorIconForeground","problemsErrorIconForeground","warningIconForeground","problemsWarningIconForeground","infoIconForeground","problemsInfoIconForeground","onRelatedInformation","_lines","_longestLineLength","_relatedDiagnostics","WeakMap","_messageBlock","_relatedBlock","related","_scrollable","horizontalScrollbarSize","scrollLeft","relatedInformation","lines_1","applyFontInfo","lastLineElement","lines_2","innerText","detailsElement","sourceElement","codeElement","relatedInformationNode","paddingTop","relatedInformation_1","relatedResource","relatedMessage","scrollWidth","typicalFullwidthCharacterWidth","getHeightInLines","MarkerNavigationWidget","_onDidSelectRelatedInformation","onDidSelectRelatedInformation","_severity","MarkerSeverity","_backgroundColor","editorMarkerNavigationBackground","colorId","editorMarkerNavigationError","editorMarkerNavigationWarning","editorMarkerNavigationInfo","_parentContainer","_icon","_container","_message","showAtMarker","markerIdx","markerCount","computeRequiredHeight","toSeverity","revealPositionInCenter","updateMarker","showStale","_heightInPixel","errorDefault","editorErrorForeground","editorErrorBorder","warningDefault","editorWarningForeground","editorWarningBorder","infoDefault","editorInfoForeground","editorInfoBorder","textLinkForeground","MarkerModel","_toUnbind","_markers","_nextIdx","_ignoreSelectionChange","_onCurrentMarkerChanged","_onMarkerSetChanged","setMarkers","currentMarker","oldMarker","MarkerNavigationAction","compareMarker","withoutWatchingEditorPosition","_initIdx","found","isBeforeOrEqual","canNavigate","move","inCircles","oldIdx","atEdge","findMarkerAtPosition","MarkerController","_disposeOnClose","_widgetVisible","CONTEXT_MARKERS_NAVIGATION_VISIBLE","_cleanUp","getOrCreateModel","_getMarkers","_onMarkerChanged","prevMarkerKeybinding","PrevMarkerAction","nextMarkerKeybinding","NextMarkerAction","LABEL","closeMarkersNavigation","pinned","revealIfOpened","onCurrentMarkerChanged","onMarkerSetChanged","focusEditor","changedResources","severities","multiFile","_isNext","_multiFile","newMarker","NextMarkerInFilesAction","PrevMarkerInFilesAction","MarkerCommand","ColorPickerModel","availableColorPresentations","presentationIndex","_onColorFlushed","onColorFlushed","_onDidChangeColor","onDidChangeColor","_onDidChangePresentation","onDidChangePresentation","originalColor","_colorPresentations","colorPresentations","presentation","selectNextColorPresentation","flushColor","guessColorPresentation","originalText","ColorPickerHeader","pickedColorNode","colorBox","Format","CSS","editorHoverBackground","EventType","CLICK","isLighter","ColorPickerBody","pixelRatio","saturationBox","SaturationBox","onDidSaturationValueChange","opacityStrip","OpacityStrip","onDidOpacityChange","hueStrip","HueStrip","onDidHueChange","hsva","HSVA","h","canvas","addDisposableGenericMouseDownListner","origin","onDidChangePosition","offsetY","mouseUpListener","addDisposableGenericMouseUpListner","stopMonitoring","paintSelection","offsetWidth","offsetHeight","paint","saturatedColor","ctx","whiteGradient","createLinearGradient","addColorStop","blackGradient","rect","fillStyle","fill","isMonitoring","Strip","overlay","slider","updateSliderPosition","onDidChangeTop","opaque","ColorPickerWidget","header","getHover","supports","HoverProviderRegistry","provideHover","hasRange","hasHtmlContent","contents","HoverOperation","computer","success","progress","hoverTime","_computer","_hoverTime","_firstWaitScheduler","_triggerAsyncComputation","_secondWaitScheduler","_triggerSyncComputation","_loadingMessageScheduler","_showLoadingMessage","_asyncComputationPromise","_asyncComputationPromiseDone","_completeCallback","_errorCallback","_progressCallback","setHoverTime","_firstWaitTime","_secondWaitTime","_loadingMessageTime","computeAsync","asyncResult","_withAsyncResult","_onError","computeSync","onResult","_onComplete","getResult","_onProgress","getResultWithLoadingMessage","ContentHoverWidget","_stoleFocus","_containerDomNode","DomScrollableElement","updateFont","_showAtPosition","_showAtRange","getElementsByClassName","updateContents","onContentsChange","scanDomNode","GlyphHoverWidget","_showAtLineNumber","editorLayout","topForLineNumber","editorScrollTop","clientHeight","glyphMarginLeft","glyphMarginWidth","codeTags","getElementsByTagName","codeClasses","__marked_exports","block","newline","fences","noop","heading","nptable","blockquote","html","table","lheading","paragraph","Lexer","tokens","marked","rules","normal","pedantic","gfm","tables","_label","bullet","_tag","_comment","merge","lex","src","lexer","loose","cap","bull","listStart","listItems","space","tag","isordered","istask","ischecked","rtrim","lang","depth","splitCells","align","cells","smartLists","task","sanitize","pre","sanitizer","autolink","reflink","nolink","strong","em","br","del","InlineLexer","renderer","Renderer","breaks","TextRenderer","Parser","slugger","Slugger","encode","escapeTest","escapeReplace","replacements","escapeTestNoEncode","escapeReplaceNoEncode","unescape","opt","cleanUrl","prot","decodeURIComponent","originIndependentUrl","resolveUrl","baseUrls","encodeURI","_punctuation","_escapes","_scheme","_email","_attribute","_href","_extended_email","_backpedal","output","out","prevCapZero","inLink","inRawBlock","lastParenIndex","findClosingBracket","linkLen","outputLink","codespan","mangle","smartypants","image","random","infostring","escaped","langPrefix","quote","headerIds","headerPrefix","slug","xhtml","listitem","checkbox","tablerow","tablecell","flags","baseUrl","parser","inlineText","tok","parseText","row","cell","errMsg","silent","console","log","originalSlug","obj","tableRow","str","curr","invert","suffLen","currChar","pending","setOptions","getDefaults","inlineLexer","__insane_func","o","u","toMap","uris","allowedAttributes","iframe","img","allowedClasses","allowedSchemes","allowedTags","voids","he","insane","strict","buffer","string","assignment","lowercase","rstart","rend","rattrs","rtag","rtagend","chars","createStack","lastItem","parsePart","parseTag","parseEdge","parseEndTag","parseStartTag","parseTagDecode","same","rest","unary","attrs","attrReplacer","doubleQuotedValue","singleQuotedValue","unquotedValue","decode","attributes","ignoring","valid","classesOk","attrsOk","lkey","isValidClass","testUrl","colon","questionmark","hash","unignore","transformText","unescapes","rescaped","runescaped","escapeHtmlChar","unescapeHtmlChar","escapeHtml","unescapeHtml","version","asKey","accumulator","renderMarkdown","markdown","signalInnerHTML","_uriMassage","revive","encodeURIComponent","isDomUri","asDomUri","withInnerHTML","codeBlockRenderer","values","strValue","span","codeBlockRenderCallback","dataset","markedOptions","http","https","mailto","vscodeRemote","vscodeRemoteResource","renderedMarkdown","MarkdownRenderer","_modeService","_openerService","NullOpenerService","_onDidRenderCodeBlock","onDidRenderCodeBlock","languageAlias","getModeIdForLanguageName","triggerMode","TokenizationRegistry","getPromise","fontFamily","fromUserGesture","IOpenerService","ColorHover","MarkerHover","ModesContentComputer","_markerDecorationsService","setRange","clearResult","colorDetector","lineDecorations","getLineDecorations","didFindColor","hoverRange","getMarker","isFromSynchronousComputation","_getLoadingMessage","ModesContentHoverWidget","markerDecorationsService","renderDisposable","_messages","_lastRange","_highlightDecorations","_isChangingDecorations","_shouldFocus","_colorPicker","_hoverOperation","_withResult","delay","FOCUS","BLUR","_renderMessages","onModelDecorationsChanged","startShowingAt","filteredMessages","msg","hoverContentsEquals","isColorPickerVisible","complete","renderRange","messages","renderColumn","highlightRange","createDocumentFragment","isEmptyHoverContent","containColorPicker","markdownDisposeables","markerMessages","color_1","editorModel_1","widget_1","updateEditorModel","textEdits","textEdit","identifier","additionalTextEdits","updateColorPresentations","colorListener","colorChangeListener","markdownHoverElement","hoverContentsElement","renderedContents","renderMarkerHover","markerHoverForStatusbar","renderMarkerStatusbar","markerHover","hoverElement","markerElement","messageElement","opacity","message_1","relatedInfoContainer","marginTop","cursor","messageElement_1","this_1","actionsElement","renderAction","commandId","quickfixPlaceholderElement","transition","codeActionsPromise","showing","elementPosition","actionOptions","actionContainer","iconClass","second","firstElement","secondElement","IMarkerData","makeKey","MarginComputer","_lineNumber","setLineNumber","toHoverMessage","lineDecorations_1","glyphMarginClassName","glyphMarginHoverMessage","ModesGlyphHoverWidget","openerService","_renderDisposeables","_lastLineNumber","_markdownRenderer","messages_1","ModesHoverController","_toUnhook","_glyphWidget","_isMouseDown","_hoverClicked","_hookEvents","_didChangeConfigurationHandler","_hideWidgets","_unhookEvents","_createHoverWidgets","hideWidgetsEventHandler","hoverOpts","_isHoverEnabled","_isHoverSticky","sticky","_onEditorMouseMove","onDidChangeModelDecorations","_onModelDecorationsChanged","onMouseLeave","_onEditorScrollChanged","contentWidget","glyphWidget","targetType","epsilon","typicalHalfwidthCharacterWidth","horizontalDistanceToText","showContentHover","IMarkerDecorationsService","ShowHoverAction","ShowDefinitionPreviewHoverAction","editorHoverHighlightColor","editorHoverHighlight","hoverBackground","hoverBorder","editorHoverBorder","hoverForeground","editorHoverForeground","actionsBackground","editorHoverStatusBarBackground","codeBackground","textCodeBlockBackground","InPlaceReplaceCommand","originalSelection","_editRange","_originalSelection","_text","InPlaceReplaceController","editorWorkerService","up","currentRequest","modelURI","canNavigateValueSet","navigateValueSet","DECORATION","decorationRemover","InPlaceReplaceUp","InPlaceReplaceDown","TrimTrailingWhitespaceCommand","cursors","_cursors","trimTrailingWhitespace","rLen","cursorIndex","cursorLen","maxLineColumn","minEditColumn","lastNonWhitespaceIndex","fromColumn","CopyLinesCommand","isCopyingDown","_isCopyingDown","_selectionDirection","_startLineNumberDelta","_endLineNumberDelta","sourceLines","sourceText","getDirection","createWithDirection","getSpaceCnt","spacesCnt","generateIndent","insertSpaces","tabsCnt","MoveLinesCommand","isMovingDown","autoIndent","_isMovingDown","_autoIndent","_moveEndLineSelectionShrink","modelLineCount","indentSize","indentConverter","buildIndentConverter","virtualModel","getLineTokens","otherLineNumber","movingLineNumber_1","movingLineText","insertingText_1","shouldAutoIndent","movingLineMatchResult","matchEnterRule","oldIndentation","getLeadingWhitespace","newSpaceCnt","indentUtils","newIndentation","trimLeft","indentOfMovingLine","getGoodIndentForLine","oldSpaceCnt","ret","getIndentEditsOfMovingBlock","newIndentatOfMovingBlock","spaceCntOffset","indentOfFirstLine","oldIndent","shiftIndent","indentation","ShiftCommand","unshiftIndent","oneLineAbove","oneLineAboveText","validPrecedingLine","nonWhitespaceIdx","enter","getEnterAction","enterPrefix","Indent","Outdent","indentMetadataOfMovelingLine","getIndentMetadata","isCheapToTokenize","languageAtSelectionStart","getIndentRulesSupport","originalIndent","newSpacesCnt","newIndent","SortLinesCommand","descending","selectionId","getCollator","_COLLATOR","Intl","Collator","sortLines","canRun","getSortData","linesToSort","AbstractCopyLinesAction","down","CopyLinesUpAction","CopyLinesDownAction","DuplicateSelectionAction","insertSelection","ReplaceCommandThatSelectsText","AbstractMoveLinesAction","selections_3","MoveLinesUpAction","MoveLinesDownAction","AbstractSortLinesAction","selections_4","SortLinesAscendingAction","SortLinesDescendingAction","TrimTrailingWhitespaceAction","DeleteLinesAction","_getLinesToRemove","linesDeleted","cursorState","operations","mergedOperations","previousOperation","IndentLinesAction","_getCursors","TypeOperations","OutdentLinesAction","InsertLineBeforeAction","lineInsertBefore","InsertLineAfterAction","lineInsertAfter","AbstractDeleteAllToBoundaryAction","primaryCursor","rangesToDelete","_getRangesToDelete","effectiveRanges","nextRange","endCursorState","_getEndCursorState","DeleteAllLeftAction","endPrimaryCursor","deletedLines","endCursor","newStartLine","unshift","deleteFromLine","deleteFromColumn","DeleteAllRightAction","JoinLinesAction","reducedSelections","lastSelection","previousValue","lineOffset","columnDeltaOffset","selectionEndPositionOffset","trimmedLinesContent","i_1","lineText","firstNonWhitespaceIdx","insertSpace","lineTextWithoutIndent","deleteSelection","resultSelection","TransposeAction","AbstractCaseAction","wordSeparators","_modifyText","UpperCaseAction","toLocaleUpperCase","LowerCaseAction","toLocaleLowerCase","TitleCaseAction","separators","excludedChars","startUpperCase","currentChar","Link","_link","_provider","toJSON","tooltip","resolveLink","LinksList","tuples","newLinks","_union","tuples_1","oldLinks","oldIndex","oldLen","newLen","oldLink","newLink","getLinks","lists","LinkProviderRegistry","provideLinks","getHoverMessage","useMetaKey","executeCmd","general","collapseOnReplaceEdit","active","LinkOccurrence","_getOptions","isActive","activate","deactivate","LinkDetector","listenersToRemove","clickLinkGesture","cleanUpActiveLinkDecoration","onModelModeChanged","async","computePromise","activeLinksList","currentOccurrences","activeLinkDecorationId","createCancelablePromise","occurance","occurrence_1","getLinkOccurrence","occurrence_2","occurrence","openLinkOccurrence","messageOrError","warn","decorations_1","decoration_1","currentOccurrence","OpenLinkAction","linkDetector","InsertCursorAbove","useLogicalLine","logicalLine","readOnly","pushStackElement","setStates","CursorMoveCommands","addCursorUp","getAll","InsertCursorBelow","addCursorDown","InsertCursorAtEndOfEachLineSelected","getCursorsForSelection","currentLineMaxColumn","InsertCursorAtEndOfLineSelected","InsertCursorAtTopOfLineSelected","MultiCursorSessionResult","revealScrollType","MultiCursorSession","findController","isDisconnectedFromFindController","searchText","findState","addSelectionToNextFindMatch","allSelections","moveSelectionToNextFindMatch","lastAddedSelection","addSelectionToPreviousFindMatch","previousMatch","_getPreviousMatch","moveSelectionToPreviousFindMatch","selectAll","MultiCursorSelectionController","_sessionDispose","_session","_endSession","_beginSessionIfNeeded","session","_setSelections","_expandEmptyToWord","_applySessionResult","getSession","modelRangesContainSameText","resultingSelections","inSelection","intersection","MultiCursorSelectionControllerAction","multiCursorController","AddSelectionToNextFindMatchAction","AddSelectionToPreviousFindMatchAction","MoveSelectionToNextFindMatchAction","MoveSelectionToPreviousFindMatchAction","SelectHighlightsAction","CompatChangeAll","SelectionHighlighterState","softEquals","SelectionHighlighter","updateSoon","_setState","_createState","findState_1","findStateSearchString","mySearchString","hasFindOccurrences","DocumentHighlightProviderRegistry","allMatches","cmp","areIntersecting","_SELECTION_HIGHLIGHT","_SELECTION_HIGHLIGHT_OVERVIEW","overviewRulerSelectionHighlightForeground","selectedText","Context","Visible","MultipleSignatures","provideSignatureHelp","modes","SignatureHelpProviderRegistry","triggerKind","SignatureHelpTriggerKind","Invoke","isRetrigger","triggerCharacter","ParameterHintState","Default","Pending","Active","hints","ParameterHintsModel","DEFAULT_DELAY","_onChangedHints","onChangedHints","triggerOnType","_pendingTriggers","_lastSignatureHelpResult","retriggerChars","triggerId","throttledDelayer","onEditorConfigurationChange","onCursorChange","onModelContentChange","doTrigger","signatures","activeSignature","cycle","updateActiveSignature","activeSignatureHelp","triggerContext","error_1","mergeTriggerContexts","isTriggered","signatureHelpTriggerCharacters","signatureHelpRetriggerCharacters","lastCharIndex","triggerCharCode","TriggerCharacter","ContentChange","ParameterHintsWidget","renderDisposeables","announcedLabel","markdownRenderer","keyVisible","keyMultipleSignatures","newParameterHints","createParamaterHintDOMNodes","overloads","onPreviousClick","onNextClick","signature","docs","userSelect","domNodes","chain","on","updateMaxHeight","hasParameters","renderParameters","activeParameter","documentation","hasDocs","labelToAnnounce","getParameterLabel","currentParameter","getParameterLabelOffsets","beforeSpan","paramSpan","afterSpan","paramIdx","param","ParameterHintsController","TriggerParameterHintsAction","hasSignatureHelpProvider","ParameterHintsCommand","CONTEXT_RENAME_INPUT_VISIBLE","RenameInputField","_currentAcceptInput","_currentCancelInput","_visibleContextKey","updateStyles","_inputField","boxShadow","fontWeight","acceptInput","cancelInput","disposeOnDone","always","revealLineInCenterIfOutsideViewport","RenameSkeleton","_providers","RenameProviderRegistry","hasProvider","resolveRenameLocation","firstProvider","withNullAsUndefined","provideRenameEdits","newName","rejects","rejectReason","rename","RenameController","_dispoableStore","_cts","CancellationTokenSource","_renameInputField","IdleValue","skeleton","loc","resolveLocationOperation","newNameOrFocusFlag","renameOperation","renameResult","editResult","ariaSummary","acceptRenameInput","cancelRenameInput","RenameAction","hasRenameProvider","RenameCommand","WordSelectionRangeProvider","provideSelectionRanges","positions_1","bucket","_addInWordRanges","_addWordRanges","_addWhitespaceLine","lastCh","getLineLastNonWhitespaceColumn","BracketSelectionRangeProvider","_bracketsRightYield","_bracketsLeftYield","counts","t1","Date","now","_maxRounds","_maxDuration","findPrevBracket","closing","innerBracket","outerBracket","_addBracketLeading","startLine","aboveLine","column_1","SelectionRanges","mov","SmartSelectController","_ignoreSelection","_selectionListener","forward","SelectionRangeRegistry","arrays","isNonEmptyArray","AbstractSmartSelect","_forward","GrowSelectionAction","ShrinkSelectionAction","work","allRawRanges","allProviderRanges","oneProviderRanges","oneRawRanges","oneRanges","oneRawRanges_1","oneRangesWithTrivia","prev","cur","rangeNoWhitespace","rangeFull","MultipleSuggestions","MakesTextEdit","AcceptSuggestionsOnEnter","CompletionItem","completion","distance","labelLow","sortTextLow","sortText","filterTextLow","filterText","editStart","editInsertEnd","editReplaceEnd","resolveCompletionItem","cached_1","isDone_1","onCancellationRequested","_snippetSuggestSupport","CompletionOptions","snippetSortOrder","kindFilter","providerFilter","getSnippetSuggestSupport","provideSuggestionItems","defaultReplaceRange","defaultInsertRange","CompletionProviderRegistry","orderedGroups","allSuggestions","hasResult","factory","provideCompletionItems","suggestions","suggestion","getSuggestionComparator","defaultComparator","snippetUpComparator","snippetDownComparator","_snippetComparators","snippetConfig","resolving","maxItemsToResolve","items","items_1","incomplete","onlyOnceSuggestions","showSimpleSuggestions","triggerSuggest","Scanner","isDigitCharacter","isVariableCharacter","tokenText","_table","isNaN","Marker","_children","Text","others","newChildren","_fixParent","children_1","child_1","TextmateSnippet","_this_1","TransformableMarker","Placeholder","compareByIndex","isFinalTabstop","Choice","transform","Transform","didMatch","_replace","FormatString","elseValue","shorthandName","ifValue","_toPascalCase","Variable","walk","visitor","marker_1","_placeholders","all_1","last_1","placeholderInfo","fullLen","enclosingPlaceholders","resolveVariables","SnippetParser","_scanner","insertFinalTabstop","enforceFinalTabstop","snippet","_parse","placeholderDefaultValues","incompletePlaceholders","placeholderCount","incompletePlaceholders_1","defaultValues","defaultValues_1","_accept","_backTo","_until","nextToken","_parseEscaped","_parseTabstopOrVariableName","_parseComplexPlaceholder","_parseComplexVariable","_parseAnything","_parseTransform","choice","_parseChoiceElement","variable","regexValue","regexOptions","_parseFormatString","complex","shorthand","WORKSPACE_EXTENSION","isSingleFolderWorkspaceIdentifier","toWorkspaceIdentifier","workspace","configPath","CompositeSnippetVariableResolver","_delegates","SelectionBasedVariableResolver","lineLeadingWhitespace","varLeadingWhitespace_1","whitespaceCommonLength_1","ModelBasedVariableResolver","_labelService","basename","dirname","ClipboardBasedVariableResolver","_readClipboardText","_selectionIdx","_selectionCount","_spread","clipboardText","CommentBasedVariableResolver","TimeBasedVariableResolver","getFullYear","getMonth","valueOf","getDate","getHours","getMinutes","getSeconds","dayNames","getDay","dayNamesShort","monthNames","monthNamesShort","WorkspaceBasedVariableResolver","_workspaceService","workspaceIdentifier","_resolveWorkspaceName","_resoveWorkspacePath","filename","folderpath","RandomBasedVariableResolver","getColorGraceful","snippetTabstopHighlightBackground","snippetTabstopHighlightBorder","snippetFinalTabstopHighlightBackground","snippetFinalTabstopHighlightBorder","OneSnippet","_nestingLevel","_snippet","_offset","_placeholderGroups","placeholders","_placeholderGroupsIdx","_placeholderDecorations","toRemove_1","_initDecorations","placeholderOffset","placeholderLen","getPositionAt","_decor","inactiveFinal","inactive","couldSkipThisPlaceholder","activePlaceholders","_hasPlaceholderBeenCollapsed","activeFinal","enclosingPlaceholder","id_1","computePossibleSelections","placeholdersWithEqualIndex","placeholdersWithEqualIndex_1","nested","assert","indexLastPlaceholder","nestedPlaceholder","placeholder_1","_defaultOptions","overwriteBefore","overwriteAfter","adjustWhitespace","SnippetSession","_templateMerges","_snippets","_template","_options","adjustIndentation","adjustNewlines","templateLeadingWhitespace","normalizeIndentation","getEOL","adjustSelection","positionColumnBefore","positionColumnAfter","createEditsAndSnippets","snippets","workspaceService","IWorkspaceContextService","optional","modelBasedVariableResolver","readClipboardText","readTextSync","firstBeforeText","firstAfterText","firstLineFirstNonWhitespace","indexedSelections","indexedSelections_1","extensionBefore","extensionAfter","snippetSelection","getOffsetAt","_logInfo","hasPlaceholder","_move","oneSelection","isAtFirstPlaceholder","isAtLastPlaceholder","isSelectionWithinPlaceholders","allPossibleSelections","array","undoStopBefore","undoStopAfter","SnippetController2","_logService","_snippetListener","_modelVersionId","_inSnippet","InSnippetMode","_hasNextTabstop","HasNextTabstop","_hasPrevTabstop","HasPrevTabstop","_doInsert","getAlternativeVersionId","_updateState","_handleChoice","_currentChoice","first_1","option","insertText","finish","resetSelection","isInSnippet","ILogService","CommandCtor","ctrl","Memory","topScore","preselect","NoMemory","memorize","LRUMemory","_seq","touch","lineSuffix","indexPreselect","indexRecency","seq","data_1","PrefixMemory","_trie","TernarySearchTree","forStrings","findSubstr","data_2","SuggestMemoryService","_configService","_storagePrefix","share","_persistSoon","_saveState","affectsConfiguration","onDidChangeStorage","scope","_mode","_shareMem","shareMem","_strategy","ISuggestMemoryService","SuggestAlternatives","_index","_ckOtherSuggestions","OtherSuggestions","_acceptNext","_ignore","acceptNext","_moveIndex","LineContext","leadingLineContent","characterCountDelta","CompletionModel","lineContext","wordDistance","snippetSuggestions","_snippetCompareFn","_compareCompletionItems","_items","_column","_wordDistance","_refilterKind","_lineContext","_compareCompletionItemsSnippetsUp","_compareCompletionItemsSnippetsDown","_filteredItems","_ensureCachedState","_isIncomplete","except","_stats","_createCachedState","suggestionCount","snippetCount","textCount","wordLow","scoreFn","filterGraceful","fuzzyScore","fuzzyScoreGracefulAggressive","wordLen","wordPos","WordDistance","service","wordRanges","localityBonus","canComputeWordRanges","computeWordRanges","wordLines","bestWordRange","blockDistance","class_2","auto","shy","leadingWord","shouldAutoTrigger","SuggestModel","_editorWorker","_quickSuggestDelay","_triggerQuickSuggest","_completionDisposables","_onDidCancel","_onDidTrigger","_onDidSuggest","onDidCancel","onDidTrigger","onDidSuggest","_currentSelection","_updateTriggerCharacters","_updateQuickSuggest","_updateActiveSuggestSession","editorIsComposing","onCompositionStart","onCompositionEnd","_refilterCompletionItems","_triggerCharacterListener","supportsByTriggerCharacter","triggerCharacters","lastChar","_completionModel","_requestToken","_context","prevSelection","snippetsPreventQuickSuggestions","quickSuggestions","lineTokens","tokenType","getStandardTokenType","findTokenIndexAtOffset","_onNewContext","onlyFrom","existingItems","suggestCtx","itemKindFilter","_createItemKindFilter","cmpFn","suggestOptions","showMethods","showFunctions","showConstructors","showFields","showVariables","showClasses","showStructs","showInterfaces","showModules","showProperties","showEvents","showOperators","showUnits","showValues","showConstants","showEnums","showEnumMembers","showKeywords","showWords","showColors","showFiles","showReferences","showFolders","showTypeParameters","showSnippets","adopted","oldLineContext","isFrozen","completionModel","SYMBOL_ICON_ARRAY_FOREGROUND","SYMBOL_ICON_BOOLEAN_FOREGROUND","SYMBOL_ICON_CLASS_FOREGROUND","SYMBOL_ICON_COLOR_FOREGROUND","SYMBOL_ICON_CONSTANT_FOREGROUND","SYMBOL_ICON_CONSTRUCTOR_FOREGROUND","SYMBOL_ICON_ENUMERATOR_FOREGROUND","SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND","SYMBOL_ICON_EVENT_FOREGROUND","SYMBOL_ICON_FIELD_FOREGROUND","SYMBOL_ICON_FILE_FOREGROUND","SYMBOL_ICON_FOLDER_FOREGROUND","SYMBOL_ICON_FUNCTION_FOREGROUND","SYMBOL_ICON_INTERFACE_FOREGROUND","SYMBOL_ICON_KEY_FOREGROUND","SYMBOL_ICON_KEYWORD_FOREGROUND","SYMBOL_ICON_METHOD_FOREGROUND","SYMBOL_ICON_MODULE_FOREGROUND","SYMBOL_ICON_NAMESPACE_FOREGROUND","SYMBOL_ICON_NULL_FOREGROUND","SYMBOL_ICON_NUMBER_FOREGROUND","SYMBOL_ICON_OBJECT_FOREGROUND","SYMBOL_ICON_OPERATOR_FOREGROUND","SYMBOL_ICON_PACKAGE_FOREGROUND","SYMBOL_ICON_PROPERTY_FOREGROUND","SYMBOL_ICON_REFERENCE_FOREGROUND","SYMBOL_ICON_SNIPPET_FOREGROUND","SYMBOL_ICON_STRING_FOREGROUND","SYMBOL_ICON_STRUCT_FOREGROUND","SYMBOL_ICON_TEXT_FOREGROUND","SYMBOL_ICON_TYPEPARAMETER_FOREGROUND","SYMBOL_ICON_UNIT_FOREGROUND","SYMBOL_ICON_VARIABLE_FOREGROUND","symbolIconArrayColor","symbolIconBooleanColor","symbolIconClassColor","symbolIconMethodColor","symbolIconColorColor","symbolIconConstantColor","symbolIconConstructorColor","symbolIconEnumeratorColor","symbolIconEnumeratorMemberColor","symbolIconEventColor","symbolIconFieldColor","symbolIconFileColor","symbolIconFolderColor","symbolIconFunctionColor","symbolIconInterfaceColor","symbolIconKeyColor","symbolIconKeywordColor","symbolIconModuleColor","outlineNamespaceColor","symbolIconNullColor","symbolIconNumberColor","symbolIconObjectColor","symbolIconOperatorColor","symbolIconPackageColor","symbolIconPropertyColor","symbolIconReferenceColor","symbolIconSnippetColor","symbolIconStringColor","symbolIconStructColor","symbolIconTextColor","symbolIconTypeParameterColor","symbolIconUnitColor","symbolIconVariableColor","FileKind","getIconClasses","modelService","fileKind","ROOT_FOLDER","FOLDER","DataUri","parseMetaData","META_DATA_LABEL","cssEscape","dotSegments","detectedModeId","detectModeId","metadata","mime","META_DATA_MIME","getModeId","PLAINTEXT_MODE_ID","expandSuggestionDocsByDefault","editorSuggestWidgetBackground","editorSuggestWidgetBorder","editorSuggestWidgetForeground","editorForeground","editorSuggestWidgetSelectedBackground","listFocusBackground","editorSuggestWidgetHighlightForeground","listHighlightForeground","colorRegExp","extractColor","canExpandCompletionItem","triggerKeybindingLabel","_modelService","colorspan","main","iconContainer","iconLabel","typeLabel","readMore","configureFont","fontSizePx","lineHeightPx","labelOptions","getIconTheme","hasFileIcons","labelClasses","from","FILE","detailClasses","hasFolderIcons","tags","toggleDetails","SuggestionDetails","renderLoading","renderItem","explainMode","renderDisposeable","md","_debugDisplayName","scrollDown","much","scrollUp","scrollBottom","pageDown","pageUp","setBorderWidth","SuggestWidget","telemetryService","isAuto","loadingTimeout","currentSuggestionDetails","ignoreFocusEvents","showTimeout","onDidSelectEmitter","onDidFocusEmitter","onDidHideEmitter","onDidShowEmitter","onDidSelect","onDidHide","onDidShow","maxWidgetWidth","listWidth","firstFocusInCurrentList","preferDocPositionTop","docsPositionPreviousWidgetY","_onDetailsKeydown","onDetailsKeyDown","_lastAriaAlertLabel","focusedItem","hideWidget","listElement","details","applyIconStyle","showIcons","List","openController","shouldOpen","mouseSupport","listInactiveFocusBackground","listInactiveFocusOutline","onEditorLayoutChange","onListMouseDownOrTap","onTap","onListSelection","onFocusChange","onListFocus","onCursorSelectionChanged","suggestWidgetVisible","SuggestContext","suggestWidgetMultipleSuggestions","expandDocsSettingFromStorage","expandSideOrBelow","_getSuggestionAriaAlertLabel","_ariaAlert","newAriaAlertLabel","detailsBorderColor","focusBorderColor","detailsFocusBorderColor","loading","showDetails","stateChanged","listHeight","LOADING_MESSAGE","NO_SUGGESTIONS_MESSAGE","showTriggered","showSuggestions","selectionIndex","visibleCount","stats","publicLog","selectNextPage","focusNextPage","selectNext","focusNext","selectLast","focusLast","selectPreviousPage","focusPreviousPage","selectPrevious","focusPrevious","selectFirst","focusFirst","getFocusedItem","getFocusedElements","toggleDetailsFocus","publicLog2","updateExpandDocsSetting","maxWidgetHeight","adjustDocsPosition","toggleExplainMode","updateListHeight","unfocusedHeight","contentHeight","maxVisibleSuggestions","cursorX","cursorY","widgetCoords","widgetX","widgetY","ITelemetryService","matchHighlight","WordContextKey","_enabled","_ckAtEnd","AtEnd","checkForWordEnd","CommitCharacterController","accept","_onItem","onWillType","_active","acceptCharacters","commitCharacters","SuggestRangeHighlighter","focused","_highlight","_widgetListener","_reset","_shiftKeyListener","_currentItem","newDeco","insertHighlight","getOverwriteInfo","isPressed","insertMode","wordInfo","ShiftKey","_subscriptions","_isPressed","_sticky","LineSuffix","_marker","SuggestController","editorWorker","_memoryService","_lineSuffix","_insertSuggestion","commitCharacterController","makesTextEdit","insertTextRules","_alternatives","toKeybinding","SimpleKeybinding","isModifierKey","acceptSuggestionsOnEnter","updateFromConfig","acceptSuggestionOnEnter","modelVersionNow","TriggerSuggestAction","canUndo","undo","_alertCompletionItem","toggleMode","triggerSuggestAndAcceptBest","positionNow","fallback","once","any","acceptSelectedSuggestion","keepAlternativeSuggestions","alternativeOverwriteConfig","acceptNextSuggestion","acceptPrevSuggestion","cancelSuggestWidget","selectNextSuggestion","selectNextPageSuggestion","selectLastSuggestion","selectPrevSuggestion","selectPrevPageSuggestion","selectFirstSuggestion","toggleSuggestionDetails","toggleSuggestionFocus","hasCompletionItemProvider","SuggestCommand","alternative","registerKeybindingRule","ForceRetokenizeAction","resetTokenization","sw","StopWatch","forceTokenization","elapsed","ToggleTabFocusModeAction","oldValue","TabFocus","getTabFocusMode","setTabFocusMode","editorWordHighlight","editorWordHighlightStrong","editorWordHighlightBorder","editorWordHighlightStrongBorder","overviewRulerWordHighlightForeground","overviewRulerWordHighlightStrongForeground","ctxHasWordHighlights","getOccurrencesAtPosition","orderedByScore","provideDocumentHighlights","OccurenceAtPositionRequest","_wordRange","_getCurrentWordRange","_compute","currentWordRange","requestIsValid","SemanticOccurenceAtPositionRequest","TextualOccurenceAtPositionRequest","_selectionIsEmpty","DocumentHighlightKind","currentSelectionIsEmpty","computeOccurencesAtPosition","WordHighlighter","workerRequestTokenId","workerRequestCompleted","workerRequestValue","lastCursorPositionChangeTime","renderDecorationsTimer","_hasWordHighlights","_ignorePositionChangeEvent","occurrencesHighlight","_onPositionChanged","_stopAll","workerRequest","hasDecorations","_getSortedHighlights","moveNext","dest","firstIndex","moveBack","workerRequestIsValid","getTime","_beginRenderDecorations","myRequestId_1","currentTime","minimumRenderTime","renderDecorations","_getDecorationOptions","Write","_WRITE_OPTIONS","_TEXT_OPTIONS","_REGULAR_OPTIONS","WordHighlighterContribution","wordHighligher","createWordHighlighterIfPossible","WordHighlightNavigationAction","NextWordHighlightAction","PrevWordHighlightAction","TriggerWordHighlightAction","selectionHighlight","editorSelectionHighlight","wordHighlight","wordHighlightStrong","selectionHighlightBorder","editorSelectionHighlightBorder","wordHighlightBorder","wordHighlightStrongBorder","MoveWordCommand","_inSelectionMode","inSelectionMode","_wordNavigationType","wordNavigationType","inPosition","outPosition","_moveTo","fromModelSelection","to","WordLeftCommand","WordOperations","moveWordLeft","WordRightCommand","moveWordRight","CursorWordStartLeft","CursorWordEndLeft","CursorWordLeft","CursorWordStartLeftSelect","CursorWordEndLeftSelect","CursorWordLeftSelect","CursorWordAccessibilityLeft","CONTEXT_ACCESSIBILITY_MODE_ENABLED","EditorOptions","defaultValue","CursorWordAccessibilityLeftSelect","CursorWordStartRight","CursorWordEndRight","CursorWordRight","CursorWordStartRightSelect","CursorWordEndRightSelect","CursorWordRightSelect","CursorWordAccessibilityRight","CursorWordAccessibilityRightSelect","DeleteWordCommand","_whitespaceHeuristics","whitespaceHeuristics","deleteRange","_delete","DeleteWordLeftCommand","deleteWordLeft","DeleteWordRightCommand","deleteWordRight","DeleteWordStartLeft","DeleteWordEndLeft","DeleteWordLeft","DeleteWordStartRight","DeleteWordEndRight","DeleteWordRight","DeleteWordPartLeft","WordPartOperations","deleteWordPartLeft","DeleteWordPartRight","deleteWordPartRight","WordPartLeftCommand","moveWordPartLeft","CursorWordPartLeft","CursorWordPartLeftSelect","WordPartRightCommand","moveWordPartRight","CursorWordPartRight","CursorWordPartRightSelect","CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE","AccessibilityHelpController","AccessibilityHelpWidget","getSelectionLabel","charactersSelected","AccessibilityHelpNLS","singleSelectionRange","singleSelection","multiSelectionRange","multiSelection","noSelection","_isVisibleKey","setClassName","setDisplay","_contentDomNode","_layout","emergencyConfOn","accessibilitySupport","_buildContent","openingDocs","accessibilityHelpUrl","_descriptionForCommand","noKbMsg","readonlyDiffEditor","editableDiffEditor","readonlyEditor","editableEditor","turnOnMessage","changeConfigToOnMac","changeConfigToOnWinLinux","auto_on","auto_off","tabFocusModeOnMsg","tabFocusModeOnMsgNoKb","tabFocusModeOffMsg","tabFocusModeOffMsgNoKb","openDocMac","openDocWinLinux","outroMsg","w","WIDTH","HEIGHT","setWidth","setHeight","setTop","setLeft","ShowAccessibilityHelpAction","showAccessibilityHelpAction","AccessibilityHelpCommand","IPadShowKeyboard","isIPad","shouldHaveWidget","ShowKeyboardWidget","InspectTokensController","standaloneColorService","launch","InspectTokensWidget","IStandaloneThemeService","InspectTokens","InspectTokensNLS","inspectTokensAction","renderTokenText","charIndex","charCode","getSafeTokenizationSupport","languageIdentifier","tokenizationSupport","getInitialState","NULL_STATE","tokenize","deltaOffset","tokenize2","_tokenizationSupport","_ID","_getTokensAtLine","token1Index","tokens1","token2Index","tokens2","tokenStartIndex","tokenEndIndex","_decodeMetadata","_tokenTypeToString","_fontStyleToString","fontStyle","formatHex","colorMap","getColorMap","TokenMetadata","getLanguageId","getTokenType","getFontStyle","getForeground","getBackground","stateBeforeLine","_getStateBeforeLine","tokenizationResult1","tokenizationResult2","startState","endState","KeybindingLabel","os","areSame","getParts","firstPart","chordPart","renderPart","renderUnboundKeybindings","renderUnbound","modifierLabels","UILabelProvider","renderKey","keyLabel","IDS","QuickOpenEntry","labelHighlights","descriptionHighlights","getLabelOptions","getDescription","getDetail","getIcon","getTooltip","getDescriptionTooltip","getKeybinding","hidden","setHighlights","detailHighlights","getHighlights","QuickOpenEntryGroup","groupLabel","withBorder","getGroupLabel","setGroupLabel","showBorder","setShowBorder","NoActionProvider","hasActions","tree","templateEntry","templateEntryGroup","actionProvider","actionRunner","entryContainer","row1","row2","keybindingContainer","OS","detailContainer","actionBarContainer","actionBar","groupData","pickerGroupBorder","pickerGroupForeground","QuickOpenModel","_entries","_dataSource","_renderer","_filter","_runner","_accessibilityProvider","withUndefinedAsNull","modelProvider","dataSource","getParent","AccessibilityProvider","getPosInSet","getSetSize","Filter","KeybindingDispatcher","_arr","dispatch","toChord","DefaultController","clickBehavior","openMode","downKeyBindingDispatcher","upKeyBindingDispatcher","onUp","onDown","onLeft","onRight","onPageUp","onPageDown","onHome","onSpace","onEscape","onEnter","findParentWithClass","onLeftClick","isMac","eventish","payload","originalEvent","didClickOnTwistie","isClickOnTwistie","clearFocus","clearSelection","shouldToggleExpansion","isExpanded","collapse","errors","isDoubleClick","openOnSingleClick","twistieStyle","window","backgroundImage","twistieWidth","initialTarget","onKey","bindings","getHighlight","clearHighlight","focus_1","didCollapse","focusParent","focus_2","didExpand","focusFirstChild","toggleExpansion","DefaultDragAndDrop","getDragURI","onDragStart","onDragOver","targetElement","drop","DefaultFilter","DefaultAccessibilityProvider","DefaultTreestyler","styleElement","selectorSuffix","listFocusForeground","listActiveSelectionBackground","listActiveSelectionForeground","listFocusAndSelectionBackground","listFocusAndSelectionForeground","listInactiveSelectionBackground","listInactiveSelectionForeground","listHoverBackground","listHoverForeground","listDropBackground","listFocusOutline","newStyles","LockData","_onDispose","onDispose","_item","Lock","locks","isLocked","lock","getLock","ItemRegistry","_onDidRevealItem","EventMultiplexer","onDidRevealItem","_onExpandItem","onExpandItem","_onDidExpandItem","onDidExpandItem","_onCollapseItem","onCollapseItem","_onDidCollapseItem","onDidCollapseItem","_onDidAddTraitItem","onDidAddTraitItem","_onDidRemoveTraitItem","onDidRemoveTraitItem","_onDidRefreshItem","onDidRefreshItem","_onRefreshItemChildren","onRefreshItemChildren","_onDidRefreshItemChildren","onDidRefreshItemChildren","_onDidDisposeItem","onDidDisposeItem","Assert","ok","isRegistered","onDidReveal","onExpand","onDidExpand","onCollapse","onDidCollapse","onDidAddTrait","onDidRemoveTrait","onDidRefresh","onRefreshChildren","onDidRefreshChildren","deregister","getItem","Item","_onDidCreate","_onDidReveal","_onExpand","_onDidExpand","_onCollapse","_onDidCollapse","_onDidAddTrait","_onDidRemoveTrait","_onDidRefresh","_onRefreshChildren","_onDidRefreshChildren","_onDidDispose","doesHaveChildren","needsChildrenRefresh","lastChild","traits","shouldAutoexpand","getElement","getDepth","_setExpanded","relativeTop","eventData","refreshChildren","autoExpandSingleChildren","recursive","collapseChildrenPromise_1","forEachChild","addTrait","trait","removeTrait","hasTrait","getAllTraits","safe","setNeedsChildrenRefresh_1","doRefresh","isNested","staleItems","addChild","staleItemId","mapEachChild","updateVisibility","refresh","getNavigator","TreeNavigator","isAncestorOf","startItem","afterItem","atHead","atTail","isFirstChild","isLastChild","NaN","sorter","otherElement","RootItem","subTreeOnly","lastDescendantOf","parent_1","TreeModel","registryDisposable","_onSetInput","onSetInput","_onDidSetInput","onDidSetInput","_onRefresh","onRefresh","_onDidHighlight","onDidHighlight","_onDidSelect","_onDidFocus","Relay","traitsToItems","setHighlight","resolveUnknownParentChain","eventPayload","setTraits","includeHidden","getElementsWithTrait","nextItem","nav","previousItem","focusNth","navItem","fromItem","removeTraits","traitItems","itemsToRemoveTrait","ElementsDragAndDropData","dataTransfer","getData","ExternalElementsDragAndDropData","DesktopDragAndDropData","files","HeightMap","heightMap","getContentHeight","onInsertItems","afterItemId","totalSize","sizeDiff","boundSplice","itemsToInsert","createViewItem","onInsertItem","onRefreshItem","onRemoveItems","itemId","onRemoveItem","onRefreshItemSet","sortedItems","onRefreshItems","ArrayIterator","cummDiff","needsRender","indexAt","center","indexAfter","itemAtIndex","itemAfter","ContextMenuEvent","_posx","_posy","_target","MouseContextMenuEvent","KeyboardContextMenuEvent","removeFromParent","RowCache","alloc","cache","release","garbageCollect","cachedRow","unbindDragStart","Lifecycle","_draggable","_styles","_templateId","skipUserRender","draggable","accessibility","base64Id","safeBtoa","paddingOnRow","twistiePixels","indentPixels","firstElementChild","dnd","horizontalScrolling","Browser","isFirefox","getContentWidth","insertInDOM","afterElement","TreeView","BINDING","removeFromDOM","RootViewItem","reactionEquals","one","bubble","effect","lastPointerType","lastClickTimeStamp","contentWidthUpdateDelayer","isRefreshing","refreshingPreviousChildrenIds","currentDragAndDropData","currentDropTarget","currentDropTargets","currentDropDisposable","gestureDisposable","dragAndDropScrollInterval","dragAndDropScrollTimeout","dragAndDropMouseY","highlightedItemWasDraggable","onHiddenScrollTop","_onDOMFocus","onDOMFocus","_onDOMBlur","_onDidScroll","counter","instance","horizontalScrollMode","modelListeners","viewListeners","preventRootFocus","createStyleSheet","treeStyler","styler","alwaysFocused","verticalScrollMode","msTouchAction","msContentZooming","Touch","Gesture","addTarget","rowsContainer","showTwistie","focusTracker","button","onMouseMiddleClick","Tap","Change","onTouchChange","onMsPointerDown","onMsGestureTap","addDisposableThrottledListener","onThrottledMsGestureChange","lastEvent","translationY","translationX","onDrop","onDragEnd","lastRenderTop","lastRenderHeight","didJustPressContextMenuKey","shouldInvalidateDropReaction","onRowsChanged","setupMSGesture","getHTMLElement","isFocused","MSGesture","msGesture","isTreeVisible","viewHeight","viewWidth","renderTop","renderBottom","thisRenderBottom","insertItemInDOM","removeItemFromDOM","topItem","releaseModel","onRefreshing","onRefreshed","onClearingInput","onModelFocusChange","onItemChildrenRefreshing","onItemChildrenRefreshed","onItemRefresh","onItemExpanding","onItemExpanded","onItemCollapsing","onItemReveal","onItemAddTrait","onItemRemoveTrait","updateScrollWidth","keys_1","lastPageIndex","lastPageElement","currentlyFocusedElement","previousScrollTop","firstPageIndex","firstPageElement","scrollDimensions","getScrollDimensions","scrollPosition","getScrollPosition","MappedIterator","inputItem","showLoading","loadingTimer","LOADING_DECORATION_DELAY","childItem","childrenIds","navigator_1","previousChildrenIds_1","afterModelItems_1","navigator_2","skipDiff","doToInsertItemsAlreadyExist","Diff","LcsDiff","getElements","ComputeDiff","modifiedLength","modifiedStart","diff_1","diffChange","originalLength","originalStart","beforeItem","onItemsRefresh","viewItemBottom","wrapperBottom","refreshViewItem","shouldBeRendered","Mouse","StandardMouseEvent","getItemAround","Platform","resultEvent","Keyboard","StandardKeyboardEvent","effectAllowed","setData","DataTransfers","RESOURCES","setDragImage","getDragLabel","dragImage_1","CurrentDragAndDropData","DragMouseEvent","setupDragAndDropScrollInterval","viewTop","setInterval","scrollDiff","upperLimit","cancelDragAndDropScrollTimeout","cancelDragAndDropScrollInterval","clearInterval","DRAG_LEAVE","dropTarget","currentDropElement","StaticDND","reaction","canDrop","dropEffect","currentDropElementReaction","autoExpand","timeoutPromise_1","toDisposable","event_1","pointerType","MSPOINTER_TYPE_MOUSE","MSPOINTER_TYPE_TOUCH","addPointer","pointerId","elementFromPoint","clientX","clientY","elementAfter","parentNode","TreeContext","TreeDefaults","Tree","_onDidChangeFocus","_onDidChangeSelection","onDidChangeSelection","_onHighlightChange","Model","View","isDOMFocused","domBlur","css_done","css_active","css_infinite","css_discrete","css_progress_container","css_progress_bit","progressBarBackground","ProgressBar","workedVal","showDelayedScheduler","off","totalWork","doDone","delayed","QuickOpenController","DEFAULT_INPUT_ARIA_LABEL","QuickOpenWidget","callbacks","CONTEXT_MENU","gainingFocus","loosingFocus","KEY_DOWN","stops","currentTarget","querySelectorAll","progressBar","inputContainer","inputPlaceHolder","INPUT","onType","shouldOpenInBackground","navigateInTree","elementSelected","resultCount","treeContainer","createTree","treeCreator","treeElement","elementFocused","quickNavigateConfiguration","KEY_UP","keybindings","focus_3","layoutDimensions","helpText","isShift","oldFocus","newFocus","arivaActiveDescendant","keymods","extractKeyMods","runner","preferredMode","ctrlCmd","isLoosingFocus","doShowWithPrefix","restoreLastInput","doShowWithInput","autoFocus","inputSelection","onShow","lastInput","setInputAndLayout","isElementVisible","updateResultCount","autoFocusPrefixMatch","caseSensitiveMatch","caseInsensitiveMatch","lowerCasePrefix","entries_1","entryToFocus","autoFocusFirstEntry","autoFocusIndex","autoFocusSecondEntry","autoFocusLastEntry","itemHeight","minItemsToShow","preferredItemsHeight","MAX_ITEMS_HEIGHT","maxEntries","maxItemsToShow","entryHeight","onOk","onInputChanging","inputChangingTimeoutHandle","dimension","quickOpenWidth","MAX_WIDTH","relatedTarget","isAncestor","onFocusLost","QuickOpenEditorWidget","quickOpenWidget","inputAriaLabel","destroy","Dimension","rangeHighlightDecorationId","lastKnownEditorSelection","onClose","clearDecorations","getAutoFocus","decorateLine","BaseEditorQuickOpenAction","_inputAriaLabel","getController","searchValue","GotoLineEntry","parseResult","parseInput","numbers","diffModel","modified","validatePosition","GoToLineNLS","gotoLineLabelValidLineAndColumn","gotoLineLabelValidLine","gotoLineLabelEmptyWithLineLimit","gotoLineLabelEmptyWithLineAndColumnLimit","currentLine","gotoLineAriaLabel","runOpen","runPreview","toSelection","GotoLineAction","gotoLineActionInput","gotoLineActionLabel","EditorActionCommandEntry","keyAriaLabel","QuickCommandNLS","ariaLabelEntryWithKey","ariaLabelEntry","QuickCommandAction","quickCommandActionInput","quickCommandActionLabel","_editorActionsToEntries","_sort","elementA","elementB","elementAName","elementBName","getSupportedActions","TreeElement","findId","candidateId","_key","OutlineElement","OutlineGroup","providerIndex","MovingAverage","_n","_val","OutlineModel","_groups","_keys","for","_requests","promiseCnt","_create","now_1","avg","_requestDurations","DocumentSymbolProviderRegistry","provideDocumentSymbols","_makeOutlineElement","newProvider","_compact","childInfo","_counter","_hash","getDocumentSymbols","flat","roots","flatEntries","compareEntriesUsingStart","overrideContainerLabel","containerName","selectionRange","SCOPE_PREFIX","SymbolEntry","QuickOutlineNLS","entryAriaLabel","getRange","QuickOutlineAction","quickOutlineActionInput","quickOutlineActionLabel","hasDocumentSymbolProvider","toQuickOpenEntries","symbolEntry","flattened","normalizedSearchValue","flattened_1","SymbolKinds","toCssClassName","sortScoped","sortNormal","currentType","currentResult","typeCounter","typeToLabel","_symbols_","_modules_","_class_","_interface_","_method_","_function_","_property_","_variable_","_variable2_","_constructor_","_call_","elementARange","elementBRange","elementAType","elementBType","r_1","StandaloneReferencesController","configurationService","script","charset","onerror","onload","rel"],"mappings":"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","file":"monaco-features.935532da.js","sourceRoot":"../src","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n// Allow for running under nodejs/requirejs in tests\r\nvar _monaco = (typeof monaco === 'undefined' ? self.monaco : monaco);\r\nvar languageDefinitions = {};\r\nvar lazyLanguageLoaders = {};\r\nvar LazyLanguageLoader = /** @class */ (function () {\r\n    function LazyLanguageLoader(languageId) {\r\n        var _this = this;\r\n        this._languageId = languageId;\r\n        this._loadingTriggered = false;\r\n        this._lazyLoadPromise = new Promise(function (resolve, reject) {\r\n            _this._lazyLoadPromiseResolve = resolve;\r\n            _this._lazyLoadPromiseReject = reject;\r\n        });\r\n    }\r\n    LazyLanguageLoader.getOrCreate = function (languageId) {\r\n        if (!lazyLanguageLoaders[languageId]) {\r\n            lazyLanguageLoaders[languageId] = new LazyLanguageLoader(languageId);\r\n        }\r\n        return lazyLanguageLoaders[languageId];\r\n    };\r\n    LazyLanguageLoader.prototype.whenLoaded = function () {\r\n        return this._lazyLoadPromise;\r\n    };\r\n    LazyLanguageLoader.prototype.load = function () {\r\n        var _this = this;\r\n        if (!this._loadingTriggered) {\r\n            this._loadingTriggered = true;\r\n            languageDefinitions[this._languageId].loader().then(function (mod) { return _this._lazyLoadPromiseResolve(mod); }, function (err) { return _this._lazyLoadPromiseReject(err); });\r\n        }\r\n        return this._lazyLoadPromise;\r\n    };\r\n    return LazyLanguageLoader;\r\n}());\r\nexport function loadLanguage(languageId) {\r\n    return LazyLanguageLoader.getOrCreate(languageId).load();\r\n}\r\nexport function registerLanguage(def) {\r\n    var languageId = def.id;\r\n    languageDefinitions[languageId] = def;\r\n    _monaco.languages.register(def);\r\n    var lazyLanguageLoader = LazyLanguageLoader.getOrCreate(languageId);\r\n    _monaco.languages.setMonarchTokensProvider(languageId, lazyLanguageLoader.whenLoaded().then(function (mod) { return mod.language; }));\r\n    _monaco.languages.onLanguage(languageId, function () {\r\n        lazyLanguageLoader.load().then(function (mod) {\r\n            _monaco.languages.setLanguageConfiguration(languageId, mod.conf);\r\n        });\r\n    });\r\n}\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var getBundleURL = require('./bundle-url').getBundleURL;\n\nfunction loadBundlesLazy(bundles) {\n  if (!Array.isArray(bundles)) {\n    bundles = [bundles]\n  }\n\n  var id = bundles[bundles.length - 1];\n\n  try {\n    return Promise.resolve(require(id));\n  } catch (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      return new LazyPromise(function (resolve, reject) {\n        loadBundles(bundles.slice(0, -1))\n          .then(function () {\n            return require(id);\n          })\n          .then(resolve, reject);\n      });\n    }\n\n    throw err;\n  }\n}\n\nfunction loadBundles(bundles) {\n  return Promise.all(bundles.map(loadBundle));\n}\n\nvar bundleLoaders = {};\nfunction registerBundleLoader(type, loader) {\n  bundleLoaders[type] = loader;\n}\n\nmodule.exports = exports = loadBundlesLazy;\nexports.load = loadBundles;\nexports.register = registerBundleLoader;\n\nvar bundles = {};\nfunction loadBundle(bundle) {\n  var id;\n  if (Array.isArray(bundle)) {\n    id = bundle[1];\n    bundle = bundle[0];\n  }\n\n  if (bundles[bundle]) {\n    return bundles[bundle];\n  }\n\n  var type = (bundle.substring(bundle.lastIndexOf('.') + 1, bundle.length) || bundle).toLowerCase();\n  var bundleLoader = bundleLoaders[type];\n  if (bundleLoader) {\n    return bundles[bundle] = bundleLoader(getBundleURL() + bundle)\n      .then(function (resolved) {\n        if (resolved) {\n          module.bundle.register(id, resolved);\n        }\n\n        return resolved;\n      }).catch(function(e) {\n        delete bundles[bundle];\n        \n        throw e;\n      });\n  }\n}\n\nfunction LazyPromise(executor) {\n  this.executor = executor;\n  this.promise = null;\n}\n\nLazyPromise.prototype.then = function (onSuccess, onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.then(onSuccess, onError)\n};\n\nLazyPromise.prototype.catch = function (onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.catch(onError)\n};\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'abap',\r\n    extensions: ['.abap'],\r\n    aliases: ['abap', 'ABAP'],\r\n    loader: function () { return import('./abap'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'apex',\r\n    extensions: ['.cls'],\r\n    aliases: ['Apex', 'apex'],\r\n    mimetypes: ['text/x-apex-source', 'text/x-apex'],\r\n    loader: function () { return import('./apex'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'azcli',\r\n    extensions: ['.azcli'],\r\n    aliases: ['Azure CLI', 'azcli'],\r\n    loader: function () { return import('./azcli'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'bat',\r\n    extensions: ['.bat', '.cmd'],\r\n    aliases: ['Batch', 'bat'],\r\n    loader: function () { return import('./bat'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'cameligo',\r\n    extensions: ['.mligo'],\r\n    aliases: ['Cameligo'],\r\n    loader: function () { return import('./cameligo'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'clojure',\r\n    extensions: ['.clj', '.cljs', '.cljc', '.edn'],\r\n    aliases: ['clojure', 'Clojure'],\r\n    loader: function () { return import('./clojure'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'coffeescript',\r\n    extensions: ['.coffee'],\r\n    aliases: ['CoffeeScript', 'coffeescript', 'coffee'],\r\n    mimetypes: ['text/x-coffeescript', 'text/coffeescript'],\r\n    loader: function () { return import('./coffee'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'c',\r\n    extensions: ['.c', '.h'],\r\n    aliases: ['C', 'c'],\r\n    loader: function () { return import('./cpp'); }\r\n});\r\nregisterLanguage({\r\n    id: 'cpp',\r\n    extensions: ['.cpp', '.cc', '.cxx', '.hpp', '.hh', '.hxx'],\r\n    aliases: ['C++', 'Cpp', 'cpp'],\r\n    loader: function () { return import('./cpp'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'csharp',\r\n    extensions: ['.cs', '.csx', '.cake'],\r\n    aliases: ['C#', 'csharp'],\r\n    loader: function () { return import('./csharp'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'csp',\r\n    extensions: [],\r\n    aliases: ['CSP', 'csp'],\r\n    loader: function () { return import('./csp'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'css',\r\n    extensions: ['.css'],\r\n    aliases: ['CSS', 'css'],\r\n    mimetypes: ['text/css'],\r\n    loader: function () { return import('./css'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'dockerfile',\r\n    extensions: ['.dockerfile'],\r\n    filenames: ['Dockerfile'],\r\n    aliases: ['Dockerfile'],\r\n    loader: function () { return import('./dockerfile'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'fsharp',\r\n    extensions: ['.fs', '.fsi', '.ml', '.mli', '.fsx', '.fsscript'],\r\n    aliases: ['F#', 'FSharp', 'fsharp'],\r\n    loader: function () { return import('./fsharp'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'go',\r\n    extensions: ['.go'],\r\n    aliases: ['Go'],\r\n    loader: function () { return import('./go'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'graphql',\r\n    extensions: ['.graphql', '.gql'],\r\n    aliases: ['GraphQL', 'graphql', 'gql'],\r\n    mimetypes: ['application/graphql'],\r\n    loader: function () { return import('./graphql'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'handlebars',\r\n    extensions: ['.handlebars', '.hbs'],\r\n    aliases: ['Handlebars', 'handlebars'],\r\n    mimetypes: ['text/x-handlebars-template'],\r\n    loader: function () { return import('./handlebars'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'html',\r\n    extensions: ['.html', '.htm', '.shtml', '.xhtml', '.mdoc', '.jsp', '.asp', '.aspx', '.jshtm'],\r\n    aliases: ['HTML', 'htm', 'html', 'xhtml'],\r\n    mimetypes: ['text/html', 'text/x-jshtm', 'text/template', 'text/ng-template'],\r\n    loader: function () { return import('./html'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'ini',\r\n    extensions: ['.ini', '.properties', '.gitconfig'],\r\n    filenames: ['config', '.gitattributes', '.gitconfig', '.editorconfig'],\r\n    aliases: ['Ini', 'ini'],\r\n    loader: function () { return import('./ini'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'java',\r\n    extensions: ['.java', '.jav'],\r\n    aliases: ['Java', 'java'],\r\n    mimetypes: ['text/x-java-source', 'text/x-java'],\r\n    loader: function () { return import('./java'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'javascript',\r\n    extensions: ['.js', '.es6', '.jsx'],\r\n    firstLine: '^#!.*\\\\bnode',\r\n    filenames: ['jakefile'],\r\n    aliases: ['JavaScript', 'javascript', 'js'],\r\n    mimetypes: ['text/javascript'],\r\n    loader: function () { return import('./javascript'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'kotlin',\r\n    extensions: ['.kt'],\r\n    aliases: ['Kotlin', 'kotlin'],\r\n    mimetypes: ['text/x-kotlin-source', 'text/x-kotlin'],\r\n    loader: function () { return import('./kotlin'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'less',\r\n    extensions: ['.less'],\r\n    aliases: ['Less', 'less'],\r\n    mimetypes: ['text/x-less', 'text/less'],\r\n    loader: function () { return import('./less'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'lua',\r\n    extensions: ['.lua'],\r\n    aliases: ['Lua', 'lua'],\r\n    loader: function () { return import('./lua'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'markdown',\r\n    extensions: ['.md', '.markdown', '.mdown', '.mkdn', '.mkd', '.mdwn', '.mdtxt', '.mdtext'],\r\n    aliases: ['Markdown', 'markdown'],\r\n    loader: function () { return import('./markdown'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'mips',\r\n    extensions: ['.s'],\r\n    aliases: ['MIPS', 'MIPS-V'],\r\n    mimetypes: ['text/x-mips', 'text/mips', 'text/plaintext'],\r\n    loader: function () { return import('./mips'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'msdax',\r\n    extensions: ['.dax', '.msdax'],\r\n    aliases: ['DAX', 'MSDAX'],\r\n    loader: function () { return import('./msdax'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'mysql',\r\n    extensions: [],\r\n    aliases: ['MySQL', 'mysql'],\r\n    loader: function () { return import('./mysql'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'objective-c',\r\n    extensions: ['.m'],\r\n    aliases: ['Objective-C'],\r\n    loader: function () { return import('./objective-c'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'pascal',\r\n    extensions: ['.pas', '.p', '.pp'],\r\n    aliases: ['Pascal', 'pas'],\r\n    mimetypes: ['text/x-pascal-source', 'text/x-pascal'],\r\n    loader: function () { return import('./pascal'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'pascaligo',\r\n    extensions: ['.ligo'],\r\n    aliases: ['Pascaligo', 'ligo'],\r\n    loader: function () { return import('./pascaligo'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n*  Copyright (c) Microsoft Corporation. All rights reserved.\r\n*  Licensed under the MIT License. See License.txt in the project root for license information.\r\n*--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'perl',\r\n    extensions: ['.pl'],\r\n    aliases: ['Perl', 'pl'],\r\n    loader: function () { return import('./perl'); },\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'pgsql',\r\n    extensions: [],\r\n    aliases: ['PostgreSQL', 'postgres', 'pg', 'postgre'],\r\n    loader: function () { return import('./pgsql'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'php',\r\n    extensions: ['.php', '.php4', '.php5', '.phtml', '.ctp'],\r\n    aliases: ['PHP', 'php'],\r\n    mimetypes: ['application/x-php'],\r\n    loader: function () { return import('./php'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'postiats',\r\n    extensions: ['.dats', '.sats', '.hats'],\r\n    aliases: ['ATS', 'ATS/Postiats'],\r\n    loader: function () { return import('./postiats'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'powerquery',\r\n    extensions: ['.pq', '.pqm'],\r\n    aliases: ['PQ', 'M', 'Power Query', 'Power Query M'],\r\n    loader: function () { return import('./powerquery'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'powershell',\r\n    extensions: ['.ps1', '.psm1', '.psd1'],\r\n    aliases: ['PowerShell', 'powershell', 'ps', 'ps1'],\r\n    loader: function () { return import('./powershell'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'pug',\r\n    extensions: ['.jade', '.pug'],\r\n    aliases: ['Pug', 'Jade', 'jade'],\r\n    loader: function () { return import('./pug'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'python',\r\n    extensions: ['.py', '.rpy', '.pyw', '.cpy', '.gyp', '.gypi'],\r\n    aliases: ['Python', 'py'],\r\n    firstLine: '^#!/.*\\\\bpython[0-9.-]*\\\\b',\r\n    loader: function () { return import('./python'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'r',\r\n    extensions: ['.r', '.rhistory', '.rprofile', '.rt'],\r\n    aliases: ['R', 'r'],\r\n    loader: function () { return import('./r'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'razor',\r\n    extensions: ['.cshtml'],\r\n    aliases: ['Razor', 'razor'],\r\n    mimetypes: ['text/x-cshtml'],\r\n    loader: function () { return import('./razor'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'redis',\r\n    extensions: ['.redis'],\r\n    aliases: ['redis'],\r\n    loader: function () { return import('./redis'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'redshift',\r\n    extensions: [],\r\n    aliases: ['Redshift', 'redshift'],\r\n    loader: function () { return import('./redshift'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'restructuredtext',\r\n    extensions: ['.rst'],\r\n    aliases: ['reStructuredText', 'restructuredtext'],\r\n    loader: function () { return import('./restructuredtext'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'ruby',\r\n    extensions: ['.rb', '.rbx', '.rjs', '.gemspec', '.pp'],\r\n    filenames: ['rakefile'],\r\n    aliases: ['Ruby', 'rb'],\r\n    loader: function () { return import('./ruby'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'rust',\r\n    extensions: ['.rs', '.rlib'],\r\n    aliases: ['Rust', 'rust'],\r\n    loader: function () { return import('./rust'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'sb',\r\n    extensions: ['.sb'],\r\n    aliases: ['Small Basic', 'sb'],\r\n    loader: function () { return import('./sb'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'scheme',\r\n    extensions: ['.scm', '.ss', '.sch', '.rkt'],\r\n    aliases: ['scheme', 'Scheme'],\r\n    loader: function () { return import('./scheme'); },\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'scss',\r\n    extensions: ['.scss'],\r\n    aliases: ['Sass', 'sass', 'scss'],\r\n    mimetypes: ['text/x-scss', 'text/scss'],\r\n    loader: function () { return import('./scss'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n*  Copyright (c) Microsoft Corporation. All rights reserved.\r\n*  Licensed under the MIT License. See License.txt in the project root for license information.\r\n*--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'shell',\r\n    extensions: ['.sh', '.bash'],\r\n    aliases: ['Shell', 'sh'],\r\n    loader: function () { return import('./shell'); },\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'sol',\r\n    extensions: ['.sol'],\r\n    aliases: ['sol', 'solidity', 'Solidity'],\r\n    loader: function () { return import('./solidity'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'aes',\r\n    extensions: ['.aes'],\r\n    aliases: ['aes', 'sophia', 'Sophia'],\r\n    loader: function () { return import('./sophia'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'sql',\r\n    extensions: ['.sql'],\r\n    aliases: ['SQL'],\r\n    loader: function () { return import('./sql'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'st',\r\n    extensions: ['.st', '.iecst', '.iecplc', '.lc3lib'],\r\n    aliases: ['StructuredText', 'scl', 'stl'],\r\n    loader: function () { return import('./st'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'swift',\r\n    aliases: ['Swift', 'swift'],\r\n    extensions: ['.swift'],\r\n    mimetypes: ['text/swift'],\r\n    loader: function () { return import('./swift'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'tcl',\r\n    extensions: ['.tcl'],\r\n    aliases: ['tcl', 'Tcl', 'tcltk', 'TclTk', 'tcl/tk', 'Tcl/Tk'],\r\n    loader: function () { return import('./tcl'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'twig',\r\n    extensions: ['.twig'],\r\n    aliases: ['Twig', 'twig'],\r\n    mimetypes: ['text/x-twig'],\r\n    loader: function () { return import('./twig'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\n// Allow for running under nodejs/requirejs in tests\r\nvar _monaco = (typeof monaco === 'undefined' ? self.monaco : monaco);\r\nexport var conf = {\r\n    wordPattern: /(-?\\d*\\.\\d\\w*)|([^\\`\\~\\!\\@\\#\\%\\^\\&\\*\\(\\)\\-\\=\\+\\[\\{\\]\\}\\\\\\|\\;\\:\\'\\\"\\,\\.\\<\\>\\/\\?\\s]+)/g,\r\n    comments: {\r\n        lineComment: '//',\r\n        blockComment: ['/*', '*/']\r\n    },\r\n    brackets: [\r\n        ['{', '}'],\r\n        ['[', ']'],\r\n        ['(', ')']\r\n    ],\r\n    onEnterRules: [\r\n        {\r\n            // e.g. /** | */\r\n            beforeText: /^\\s*\\/\\*\\*(?!\\/)([^\\*]|\\*(?!\\/))*$/,\r\n            afterText: /^\\s*\\*\\/$/,\r\n            action: { indentAction: _monaco.languages.IndentAction.IndentOutdent, appendText: ' * ' }\r\n        },\r\n        {\r\n            // e.g. /** ...|\r\n            beforeText: /^\\s*\\/\\*\\*(?!\\/)([^\\*]|\\*(?!\\/))*$/,\r\n            action: { indentAction: _monaco.languages.IndentAction.None, appendText: ' * ' }\r\n        },\r\n        {\r\n            // e.g.  * ...|\r\n            beforeText: /^(\\t|(\\ \\ ))*\\ \\*(\\ ([^\\*]|\\*(?!\\/))*)?$/,\r\n            action: { indentAction: _monaco.languages.IndentAction.None, appendText: '* ' }\r\n        },\r\n        {\r\n            // e.g.  */|\r\n            beforeText: /^(\\t|(\\ \\ ))*\\ \\*\\/\\s*$/,\r\n            action: { indentAction: _monaco.languages.IndentAction.None, removeText: 1 }\r\n        }\r\n    ],\r\n    autoClosingPairs: [\r\n        { open: '{', close: '}' },\r\n        { open: '[', close: ']' },\r\n        { open: '(', close: ')' },\r\n        { open: '\"', close: '\"', notIn: ['string'] },\r\n        { open: '\\'', close: '\\'', notIn: ['string', 'comment'] },\r\n        { open: '`', close: '`', notIn: ['string', 'comment'] },\r\n        { open: \"/**\", close: \" */\", notIn: [\"string\"] }\r\n    ],\r\n    folding: {\r\n        markers: {\r\n            start: new RegExp(\"^\\\\s*//\\\\s*#?region\\\\b\"),\r\n            end: new RegExp(\"^\\\\s*//\\\\s*#?endregion\\\\b\")\r\n        }\r\n    }\r\n};\r\nexport var language = {\r\n    // Set defaultToken to invalid to see what you do not tokenize yet\r\n    defaultToken: 'invalid',\r\n    tokenPostfix: '.ts',\r\n    keywords: [\r\n        'abstract', 'as', 'break', 'case', 'catch', 'class', 'continue', 'const',\r\n        'constructor', 'debugger', 'declare', 'default', 'delete', 'do', 'else',\r\n        'enum', 'export', 'extends', 'false', 'finally', 'for', 'from', 'function',\r\n        'get', 'if', 'implements', 'import', 'in', 'infer', 'instanceof', 'interface',\r\n        'is', 'keyof', 'let', 'module', 'namespace', 'never', 'new', 'null', 'package',\r\n        'private', 'protected', 'public', 'readonly', 'require', 'global', 'return',\r\n        'set', 'static', 'super', 'switch', 'symbol', 'this', 'throw', 'true', 'try',\r\n        'type', 'typeof', 'unique', 'var', 'void', 'while', 'with', 'yield', 'async',\r\n        'await', 'of'\r\n    ],\r\n    typeKeywords: [\r\n        'any', 'boolean', 'number', 'object', 'string', 'undefined'\r\n    ],\r\n    operators: [\r\n        '<=', '>=', '==', '!=', '===', '!==', '=>', '+', '-', '**',\r\n        '*', '/', '%', '++', '--', '<<', '</', '>>', '>>>', '&',\r\n        '|', '^', '!', '~', '&&', '||', '??', '?', ':', '=', '+=', '-=',\r\n        '*=', '**=', '/=', '%=', '<<=', '>>=', '>>>=', '&=', '|=',\r\n        '^=', '@',\r\n    ],\r\n    // we include these common regular expressions\r\n    symbols: /[=><!~?:&|+\\-*\\/\\^%]+/,\r\n    escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\r\n    digits: /\\d+(_+\\d+)*/,\r\n    octaldigits: /[0-7]+(_+[0-7]+)*/,\r\n    binarydigits: /[0-1]+(_+[0-1]+)*/,\r\n    hexdigits: /[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,\r\n    regexpctl: /[(){}\\[\\]\\$\\^|\\-*+?\\.]/,\r\n    regexpesc: /\\\\(?:[bBdDfnrstvwWn0\\\\\\/]|@regexpctl|c[A-Z]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})/,\r\n    // The main tokenizer for our languages\r\n    tokenizer: {\r\n        root: [\r\n            [/[{}]/, 'delimiter.bracket'],\r\n            { include: 'common' }\r\n        ],\r\n        common: [\r\n            // identifiers and keywords\r\n            [/[a-z_$][\\w$]*/, {\r\n                    cases: {\r\n                        '@typeKeywords': 'keyword',\r\n                        '@keywords': 'keyword',\r\n                        '@default': 'identifier'\r\n                    }\r\n                }],\r\n            [/[A-Z][\\w\\$]*/, 'type.identifier'],\r\n            // [/[A-Z][\\w\\$]*/, 'identifier'],\r\n            // whitespace\r\n            { include: '@whitespace' },\r\n            // regular expression: ensure it is terminated before beginning (otherwise it is an opeator)\r\n            [/\\/(?=([^\\\\\\/]|\\\\.)+\\/([gimsuy]*)(\\s*)(\\.|;|,|\\)|\\]|\\}|$))/, { token: 'regexp', bracket: '@open', next: '@regexp' }],\r\n            // delimiters and operators\r\n            [/[()\\[\\]]/, '@brackets'],\r\n            [/[<>](?!@symbols)/, '@brackets'],\r\n            [/!(?=([^=]|$))/, 'delimiter'],\r\n            [/@symbols/, {\r\n                    cases: {\r\n                        '@operators': 'delimiter',\r\n                        '@default': ''\r\n                    }\r\n                }],\r\n            // numbers\r\n            [/(@digits)[eE]([\\-+]?(@digits))?/, 'number.float'],\r\n            [/(@digits)\\.(@digits)([eE][\\-+]?(@digits))?/, 'number.float'],\r\n            [/0[xX](@hexdigits)n?/, 'number.hex'],\r\n            [/0[oO]?(@octaldigits)n?/, 'number.octal'],\r\n            [/0[bB](@binarydigits)n?/, 'number.binary'],\r\n            [/(@digits)n?/, 'number'],\r\n            // delimiter: after number because of .\\d floats\r\n            [/[;,.]/, 'delimiter'],\r\n            // strings\r\n            [/\"([^\"\\\\]|\\\\.)*$/, 'string.invalid'],\r\n            [/'([^'\\\\]|\\\\.)*$/, 'string.invalid'],\r\n            [/\"/, 'string', '@string_double'],\r\n            [/'/, 'string', '@string_single'],\r\n            [/`/, 'string', '@string_backtick'],\r\n        ],\r\n        whitespace: [\r\n            [/[ \\t\\r\\n]+/, ''],\r\n            [/\\/\\*\\*(?!\\/)/, 'comment.doc', '@jsdoc'],\r\n            [/\\/\\*/, 'comment', '@comment'],\r\n            [/\\/\\/.*$/, 'comment'],\r\n        ],\r\n        comment: [\r\n            [/[^\\/*]+/, 'comment'],\r\n            [/\\*\\//, 'comment', '@pop'],\r\n            [/[\\/*]/, 'comment']\r\n        ],\r\n        jsdoc: [\r\n            [/[^\\/*]+/, 'comment.doc'],\r\n            [/\\*\\//, 'comment.doc', '@pop'],\r\n            [/[\\/*]/, 'comment.doc']\r\n        ],\r\n        // We match regular expression quite precisely\r\n        regexp: [\r\n            [/(\\{)(\\d+(?:,\\d*)?)(\\})/, ['regexp.escape.control', 'regexp.escape.control', 'regexp.escape.control']],\r\n            [/(\\[)(\\^?)(?=(?:[^\\]\\\\\\/]|\\\\.)+)/, ['regexp.escape.control', { token: 'regexp.escape.control', next: '@regexrange' }]],\r\n            [/(\\()(\\?:|\\?=|\\?!)/, ['regexp.escape.control', 'regexp.escape.control']],\r\n            [/[()]/, 'regexp.escape.control'],\r\n            [/@regexpctl/, 'regexp.escape.control'],\r\n            [/[^\\\\\\/]/, 'regexp'],\r\n            [/@regexpesc/, 'regexp.escape'],\r\n            [/\\\\\\./, 'regexp.invalid'],\r\n            [/(\\/)([gimsuy]*)/, [{ token: 'regexp', bracket: '@close', next: '@pop' }, 'keyword.other']],\r\n        ],\r\n        regexrange: [\r\n            [/-/, 'regexp.escape.control'],\r\n            [/\\^/, 'regexp.invalid'],\r\n            [/@regexpesc/, 'regexp.escape'],\r\n            [/[^\\]]/, 'regexp'],\r\n            [/\\]/, { token: 'regexp.escape.control', next: '@pop', bracket: '@close' }]\r\n        ],\r\n        string_double: [\r\n            [/[^\\\\\"]+/, 'string'],\r\n            [/@escapes/, 'string.escape'],\r\n            [/\\\\./, 'string.escape.invalid'],\r\n            [/\"/, 'string', '@pop']\r\n        ],\r\n        string_single: [\r\n            [/[^\\\\']+/, 'string'],\r\n            [/@escapes/, 'string.escape'],\r\n            [/\\\\./, 'string.escape.invalid'],\r\n            [/'/, 'string', '@pop']\r\n        ],\r\n        string_backtick: [\r\n            [/\\$\\{/, { token: 'delimiter.bracket', next: '@bracketCounting' }],\r\n            [/[^\\\\`$]+/, 'string'],\r\n            [/@escapes/, 'string.escape'],\r\n            [/\\\\./, 'string.escape.invalid'],\r\n            [/`/, 'string', '@pop']\r\n        ],\r\n        bracketCounting: [\r\n            [/\\{/, 'delimiter.bracket', '@bracketCounting'],\r\n            [/\\}/, 'delimiter.bracket', '@pop'],\r\n            { include: 'common' }\r\n        ],\r\n    },\r\n};\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'typescript',\r\n    extensions: ['.ts', '.tsx'],\r\n    aliases: ['TypeScript', 'ts', 'typescript'],\r\n    mimetypes: ['text/typescript'],\r\n    loader: function () { return import('./typescript'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'vb',\r\n    extensions: ['.vb'],\r\n    aliases: ['Visual Basic', 'vb'],\r\n    loader: function () { return import('./vb'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'xml',\r\n    extensions: ['.xml', '.dtd', '.ascx', '.csproj', '.config', '.wxi', '.wxl', '.wxs', '.xaml', '.svg', '.svgz', '.opf', '.xsl'],\r\n    firstLine: '(\\\\<\\\\?xml.*)|(\\\\<svg)|(\\\\<\\\\!doctype\\\\s+svg)',\r\n    aliases: ['XML', 'xml'],\r\n    mimetypes: ['text/xml', 'application/xml', 'application/xaml+xml', 'application/xml-dtd'],\r\n    loader: function () { return import('./xml'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { registerLanguage } from '../_.contribution';\r\nregisterLanguage({\r\n    id: 'yaml',\r\n    extensions: ['.yaml', '.yml'],\r\n    aliases: ['YAML', 'yaml', 'YML', 'yml'],\r\n    mimetypes: ['application/x-yaml'],\r\n    loader: function () { return import('./yaml'); }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport './abap/abap.contribution';\r\nimport './apex/apex.contribution';\r\nimport './azcli/azcli.contribution';\r\nimport './bat/bat.contribution';\r\nimport './cameligo/cameligo.contribution';\r\nimport './clojure/clojure.contribution';\r\nimport './coffee/coffee.contribution';\r\nimport './cpp/cpp.contribution';\r\nimport './csharp/csharp.contribution';\r\nimport './csp/csp.contribution';\r\nimport './css/css.contribution';\r\nimport './dockerfile/dockerfile.contribution';\r\nimport './fsharp/fsharp.contribution';\r\nimport './go/go.contribution';\r\nimport './graphql/graphql.contribution';\r\nimport './handlebars/handlebars.contribution';\r\nimport './html/html.contribution';\r\nimport './ini/ini.contribution';\r\nimport './java/java.contribution';\r\nimport './javascript/javascript.contribution';\r\nimport './kotlin/kotlin.contribution';\r\nimport './less/less.contribution';\r\nimport './lua/lua.contribution';\r\nimport './markdown/markdown.contribution';\r\nimport './mips/mips.contribution';\r\nimport './msdax/msdax.contribution';\r\nimport './mysql/mysql.contribution';\r\nimport './objective-c/objective-c.contribution';\r\nimport './pascal/pascal.contribution';\r\nimport './pascaligo/pascaligo.contribution';\r\nimport './perl/perl.contribution';\r\nimport './pgsql/pgsql.contribution';\r\nimport './php/php.contribution';\r\nimport './postiats/postiats.contribution';\r\nimport './powerquery/powerquery.contribution';\r\nimport './powershell/powershell.contribution';\r\nimport './pug/pug.contribution';\r\nimport './python/python.contribution';\r\nimport './r/r.contribution';\r\nimport './razor/razor.contribution';\r\nimport './redis/redis.contribution';\r\nimport './redshift/redshift.contribution';\r\nimport './restructuredtext/restructuredtext.contribution';\r\nimport './ruby/ruby.contribution';\r\nimport './rust/rust.contribution';\r\nimport './sb/sb.contribution';\r\nimport './scheme/scheme.contribution';\r\nimport './scss/scss.contribution';\r\nimport './shell/shell.contribution';\r\nimport './solidity/solidity.contribution';\r\nimport './sophia/sophia.contribution';\r\nimport './sql/sql.contribution';\r\nimport './st/st.contribution';\r\nimport './swift/swift.contribution';\r\nimport './tcl/tcl.contribution';\r\nimport './twig/twig.contribution';\r\nimport './typescript/typescript.contribution';\r\nimport './vb/vb.contribution';\r\nimport './xml/xml.contribution';\r\nimport './yaml/yaml.contribution';\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './bracketMatching.css';\r\nimport * as nls from '../../../nls.js';\r\nimport { RunOnceScheduler } from '../../../base/common/async.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { OverviewRulerLane } from '../../common/model.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { editorBracketMatchBackground, editorBracketMatchBorder } from '../../common/view/editorColorRegistry.js';\r\nimport { registerColor } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant, themeColorFromId } from '../../../platform/theme/common/themeService.js';\r\nimport { MenuRegistry } from '../../../platform/actions/common/actions.js';\r\nvar overviewRulerBracketMatchForeground = registerColor('editorOverviewRuler.bracketMatchForeground', { dark: '#A0A0A0', light: '#A0A0A0', hc: '#A0A0A0' }, nls.localize('overviewRulerBracketMatchForeground', 'Overview ruler marker color for matching brackets.'));\r\nvar JumpToBracketAction = /** @class */ (function (_super) {\r\n    __extends(JumpToBracketAction, _super);\r\n    function JumpToBracketAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.jumpToBracket',\r\n            label: nls.localize('smartSelect.jumpBracket', \"Go to Bracket\"),\r\n            alias: 'Go to Bracket',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 88 /* US_BACKSLASH */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    JumpToBracketAction.prototype.run = function (accessor, editor) {\r\n        var controller = BracketMatchingController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        controller.jumpToBracket();\r\n    };\r\n    return JumpToBracketAction;\r\n}(EditorAction));\r\nvar SelectToBracketAction = /** @class */ (function (_super) {\r\n    __extends(SelectToBracketAction, _super);\r\n    function SelectToBracketAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.selectToBracket',\r\n            label: nls.localize('smartSelect.selectToBracket', \"Select to Bracket\"),\r\n            alias: 'Select to Bracket',\r\n            precondition: undefined,\r\n            description: {\r\n                description: \"Select to Bracket\",\r\n                args: [{\r\n                        name: 'args',\r\n                        schema: {\r\n                            type: 'object',\r\n                            properties: {\r\n                                'selectBrackets': {\r\n                                    type: 'boolean',\r\n                                    default: true\r\n                                }\r\n                            },\r\n                        }\r\n                    }]\r\n            }\r\n        }) || this;\r\n    }\r\n    SelectToBracketAction.prototype.run = function (accessor, editor, args) {\r\n        var controller = BracketMatchingController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        var selectBrackets = true;\r\n        if (args && args.selectBrackets === false) {\r\n            selectBrackets = false;\r\n        }\r\n        controller.selectToBracket(selectBrackets);\r\n    };\r\n    return SelectToBracketAction;\r\n}(EditorAction));\r\nvar BracketsData = /** @class */ (function () {\r\n    function BracketsData(position, brackets, options) {\r\n        this.position = position;\r\n        this.brackets = brackets;\r\n        this.options = options;\r\n    }\r\n    return BracketsData;\r\n}());\r\nvar BracketMatchingController = /** @class */ (function (_super) {\r\n    __extends(BracketMatchingController, _super);\r\n    function BracketMatchingController(editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = editor;\r\n        _this._lastBracketsData = [];\r\n        _this._lastVersionId = 0;\r\n        _this._decorations = [];\r\n        _this._updateBracketsSoon = _this._register(new RunOnceScheduler(function () { return _this._updateBrackets(); }, 50));\r\n        _this._matchBrackets = _this._editor.getOption(51 /* matchBrackets */);\r\n        _this._updateBracketsSoon.schedule();\r\n        _this._register(editor.onDidChangeCursorPosition(function (e) {\r\n            if (_this._matchBrackets === 'never') {\r\n                // Early exit if nothing needs to be done!\r\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\r\n                return;\r\n            }\r\n            _this._updateBracketsSoon.schedule();\r\n        }));\r\n        _this._register(editor.onDidChangeModelContent(function (e) {\r\n            _this._updateBracketsSoon.schedule();\r\n        }));\r\n        _this._register(editor.onDidChangeModel(function (e) {\r\n            _this._lastBracketsData = [];\r\n            _this._decorations = [];\r\n            _this._updateBracketsSoon.schedule();\r\n        }));\r\n        _this._register(editor.onDidChangeModelLanguageConfiguration(function (e) {\r\n            _this._lastBracketsData = [];\r\n            _this._updateBracketsSoon.schedule();\r\n        }));\r\n        _this._register(editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(51 /* matchBrackets */)) {\r\n                _this._matchBrackets = _this._editor.getOption(51 /* matchBrackets */);\r\n                _this._decorations = _this._editor.deltaDecorations(_this._decorations, []);\r\n                _this._lastBracketsData = [];\r\n                _this._lastVersionId = 0;\r\n                _this._updateBracketsSoon.schedule();\r\n            }\r\n        }));\r\n        return _this;\r\n    }\r\n    BracketMatchingController.get = function (editor) {\r\n        return editor.getContribution(BracketMatchingController.ID);\r\n    };\r\n    BracketMatchingController.prototype.jumpToBracket = function () {\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var newSelections = this._editor.getSelections().map(function (selection) {\r\n            var position = selection.getStartPosition();\r\n            // find matching brackets if position is on a bracket\r\n            var brackets = model.matchBracket(position);\r\n            var newCursorPosition = null;\r\n            if (brackets) {\r\n                if (brackets[0].containsPosition(position)) {\r\n                    newCursorPosition = brackets[1].getStartPosition();\r\n                }\r\n                else if (brackets[1].containsPosition(position)) {\r\n                    newCursorPosition = brackets[0].getStartPosition();\r\n                }\r\n            }\r\n            else {\r\n                // find the enclosing brackets if the position isn't on a matching bracket\r\n                var enclosingBrackets = model.findEnclosingBrackets(position);\r\n                if (enclosingBrackets) {\r\n                    newCursorPosition = enclosingBrackets[0].getStartPosition();\r\n                }\r\n                else {\r\n                    // no enclosing brackets, try the very first next bracket\r\n                    var nextBracket = model.findNextBracket(position);\r\n                    if (nextBracket && nextBracket.range) {\r\n                        newCursorPosition = nextBracket.range.getStartPosition();\r\n                    }\r\n                }\r\n            }\r\n            if (newCursorPosition) {\r\n                return new Selection(newCursorPosition.lineNumber, newCursorPosition.column, newCursorPosition.lineNumber, newCursorPosition.column);\r\n            }\r\n            return new Selection(position.lineNumber, position.column, position.lineNumber, position.column);\r\n        });\r\n        this._editor.setSelections(newSelections);\r\n        this._editor.revealRange(newSelections[0]);\r\n    };\r\n    BracketMatchingController.prototype.selectToBracket = function (selectBrackets) {\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var newSelections = [];\r\n        this._editor.getSelections().forEach(function (selection) {\r\n            var position = selection.getStartPosition();\r\n            var brackets = model.matchBracket(position);\r\n            if (!brackets) {\r\n                brackets = model.findEnclosingBrackets(position);\r\n                if (!brackets) {\r\n                    var nextBracket = model.findNextBracket(position);\r\n                    if (nextBracket && nextBracket.range) {\r\n                        brackets = model.matchBracket(nextBracket.range.getStartPosition());\r\n                    }\r\n                }\r\n            }\r\n            var selectFrom = null;\r\n            var selectTo = null;\r\n            if (brackets) {\r\n                brackets.sort(Range.compareRangesUsingStarts);\r\n                var open_1 = brackets[0], close_1 = brackets[1];\r\n                selectFrom = selectBrackets ? open_1.getStartPosition() : open_1.getEndPosition();\r\n                selectTo = selectBrackets ? close_1.getEndPosition() : close_1.getStartPosition();\r\n            }\r\n            if (selectFrom && selectTo) {\r\n                newSelections.push(new Selection(selectFrom.lineNumber, selectFrom.column, selectTo.lineNumber, selectTo.column));\r\n            }\r\n        });\r\n        if (newSelections.length > 0) {\r\n            this._editor.setSelections(newSelections);\r\n            this._editor.revealRange(newSelections[0]);\r\n        }\r\n    };\r\n    BracketMatchingController.prototype._updateBrackets = function () {\r\n        if (this._matchBrackets === 'never') {\r\n            return;\r\n        }\r\n        this._recomputeBrackets();\r\n        var newDecorations = [], newDecorationsLen = 0;\r\n        for (var _i = 0, _a = this._lastBracketsData; _i < _a.length; _i++) {\r\n            var bracketData = _a[_i];\r\n            var brackets = bracketData.brackets;\r\n            if (brackets) {\r\n                newDecorations[newDecorationsLen++] = { range: brackets[0], options: bracketData.options };\r\n                newDecorations[newDecorationsLen++] = { range: brackets[1], options: bracketData.options };\r\n            }\r\n        }\r\n        this._decorations = this._editor.deltaDecorations(this._decorations, newDecorations);\r\n    };\r\n    BracketMatchingController.prototype._recomputeBrackets = function () {\r\n        if (!this._editor.hasModel()) {\r\n            // no model => no brackets!\r\n            this._lastBracketsData = [];\r\n            this._lastVersionId = 0;\r\n            return;\r\n        }\r\n        var selections = this._editor.getSelections();\r\n        if (selections.length > 100) {\r\n            // no bracket matching for high numbers of selections\r\n            this._lastBracketsData = [];\r\n            this._lastVersionId = 0;\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var versionId = model.getVersionId();\r\n        var previousData = [];\r\n        if (this._lastVersionId === versionId) {\r\n            // use the previous data only if the model is at the same version id\r\n            previousData = this._lastBracketsData;\r\n        }\r\n        var positions = [], positionsLen = 0;\r\n        for (var i = 0, len = selections.length; i < len; i++) {\r\n            var selection = selections[i];\r\n            if (selection.isEmpty()) {\r\n                // will bracket match a cursor only if the selection is collapsed\r\n                positions[positionsLen++] = selection.getStartPosition();\r\n            }\r\n        }\r\n        // sort positions for `previousData` cache hits\r\n        if (positions.length > 1) {\r\n            positions.sort(Position.compare);\r\n        }\r\n        var newData = [], newDataLen = 0;\r\n        var previousIndex = 0, previousLen = previousData.length;\r\n        for (var i = 0, len = positions.length; i < len; i++) {\r\n            var position = positions[i];\r\n            while (previousIndex < previousLen && previousData[previousIndex].position.isBefore(position)) {\r\n                previousIndex++;\r\n            }\r\n            if (previousIndex < previousLen && previousData[previousIndex].position.equals(position)) {\r\n                newData[newDataLen++] = previousData[previousIndex];\r\n            }\r\n            else {\r\n                var brackets = model.matchBracket(position);\r\n                var options = BracketMatchingController._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;\r\n                if (!brackets && this._matchBrackets === 'always') {\r\n                    brackets = model.findEnclosingBrackets(position, 20 /* give at most 20ms to compute */);\r\n                    options = BracketMatchingController._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER;\r\n                }\r\n                newData[newDataLen++] = new BracketsData(position, brackets, options);\r\n            }\r\n        }\r\n        this._lastBracketsData = newData;\r\n        this._lastVersionId = versionId;\r\n    };\r\n    BracketMatchingController.ID = 'editor.contrib.bracketMatchingController';\r\n    BracketMatchingController._DECORATION_OPTIONS_WITH_OVERVIEW_RULER = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'bracket-match',\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerBracketMatchForeground),\r\n            position: OverviewRulerLane.Center\r\n        }\r\n    });\r\n    BracketMatchingController._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'bracket-match'\r\n    });\r\n    return BracketMatchingController;\r\n}(Disposable));\r\nexport { BracketMatchingController };\r\nregisterEditorContribution(BracketMatchingController.ID, BracketMatchingController);\r\nregisterEditorAction(SelectToBracketAction);\r\nregisterEditorAction(JumpToBracketAction);\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var bracketMatchBackground = theme.getColor(editorBracketMatchBackground);\r\n    if (bracketMatchBackground) {\r\n        collector.addRule(\".monaco-editor .bracket-match { background-color: \" + bracketMatchBackground + \"; }\");\r\n    }\r\n    var bracketMatchBorder = theme.getColor(editorBracketMatchBorder);\r\n    if (bracketMatchBorder) {\r\n        collector.addRule(\".monaco-editor .bracket-match { border: 1px solid \" + bracketMatchBorder + \"; }\");\r\n    }\r\n});\r\n// Go to menu\r\nMenuRegistry.appendMenuItem(17 /* MenubarGoMenu */, {\r\n    group: '5_infile_nav',\r\n    command: {\r\n        id: 'editor.action.jumpToBracket',\r\n        title: nls.localize({ key: 'miGoToBracket', comment: ['&& denotes a mnemonic'] }, \"Go to &&Bracket\")\r\n    },\r\n    order: 2\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Range } from '../../common/core/range.js';\r\nvar MoveCaretCommand = /** @class */ (function () {\r\n    function MoveCaretCommand(selection, isMovingLeft) {\r\n        this._selection = selection;\r\n        this._isMovingLeft = isMovingLeft;\r\n        this._cutStartIndex = -1;\r\n        this._cutEndIndex = -1;\r\n        this._moved = false;\r\n        this._selectionId = null;\r\n    }\r\n    MoveCaretCommand.prototype.getEditOperations = function (model, builder) {\r\n        var s = this._selection;\r\n        this._selectionId = builder.trackSelection(s);\r\n        if (s.startLineNumber !== s.endLineNumber) {\r\n            return;\r\n        }\r\n        if (this._isMovingLeft && s.startColumn === 0) {\r\n            return;\r\n        }\r\n        else if (!this._isMovingLeft && s.endColumn === model.getLineMaxColumn(s.startLineNumber)) {\r\n            return;\r\n        }\r\n        var lineNumber = s.selectionStartLineNumber;\r\n        var lineContent = model.getLineContent(lineNumber);\r\n        var left;\r\n        var middle;\r\n        var right;\r\n        if (this._isMovingLeft) {\r\n            left = lineContent.substring(0, s.startColumn - 2);\r\n            middle = lineContent.substring(s.startColumn - 1, s.endColumn - 1);\r\n            right = lineContent.substring(s.startColumn - 2, s.startColumn - 1) + lineContent.substring(s.endColumn - 1);\r\n        }\r\n        else {\r\n            left = lineContent.substring(0, s.startColumn - 1) + lineContent.substring(s.endColumn - 1, s.endColumn);\r\n            middle = lineContent.substring(s.startColumn - 1, s.endColumn - 1);\r\n            right = lineContent.substring(s.endColumn);\r\n        }\r\n        var newLineContent = left + middle + right;\r\n        builder.addEditOperation(new Range(lineNumber, 1, lineNumber, model.getLineMaxColumn(lineNumber)), null);\r\n        builder.addEditOperation(new Range(lineNumber, 1, lineNumber, 1), newLineContent);\r\n        this._cutStartIndex = s.startColumn + (this._isMovingLeft ? -1 : 1);\r\n        this._cutEndIndex = this._cutStartIndex + s.endColumn - s.startColumn;\r\n        this._moved = true;\r\n    };\r\n    MoveCaretCommand.prototype.computeCursorState = function (model, helper) {\r\n        var result = helper.getTrackedSelection(this._selectionId);\r\n        if (this._moved) {\r\n            result = result.setStartPosition(result.startLineNumber, this._cutStartIndex);\r\n            result = result.setEndPosition(result.startLineNumber, this._cutEndIndex);\r\n        }\r\n        return result;\r\n    };\r\n    return MoveCaretCommand;\r\n}());\r\nexport { MoveCaretCommand };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { MoveCaretCommand } from './moveCaretCommand.js';\r\nvar MoveCaretAction = /** @class */ (function (_super) {\r\n    __extends(MoveCaretAction, _super);\r\n    function MoveCaretAction(left, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this.left = left;\r\n        return _this;\r\n    }\r\n    MoveCaretAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var commands = [];\r\n        var selections = editor.getSelections();\r\n        for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\r\n            var selection = selections_1[_i];\r\n            commands.push(new MoveCaretCommand(selection, this.left));\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return MoveCaretAction;\r\n}(EditorAction));\r\nvar MoveCaretLeftAction = /** @class */ (function (_super) {\r\n    __extends(MoveCaretLeftAction, _super);\r\n    function MoveCaretLeftAction() {\r\n        return _super.call(this, true, {\r\n            id: 'editor.action.moveCarretLeftAction',\r\n            label: nls.localize('caret.moveLeft', \"Move Caret Left\"),\r\n            alias: 'Move Caret Left',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return MoveCaretLeftAction;\r\n}(MoveCaretAction));\r\nvar MoveCaretRightAction = /** @class */ (function (_super) {\r\n    __extends(MoveCaretRightAction, _super);\r\n    function MoveCaretRightAction() {\r\n        return _super.call(this, false, {\r\n            id: 'editor.action.moveCarretRightAction',\r\n            label: nls.localize('caret.moveRight', \"Move Caret Right\"),\r\n            alias: 'Move Caret Right',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return MoveCaretRightAction;\r\n}(MoveCaretAction));\r\nregisterEditorAction(MoveCaretLeftAction);\r\nregisterEditorAction(MoveCaretRightAction);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { ReplaceCommand } from '../../common/commands/replaceCommand.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { MoveOperations } from '../../common/controller/cursorMoveOperations.js';\r\nvar TransposeLettersAction = /** @class */ (function (_super) {\r\n    __extends(TransposeLettersAction, _super);\r\n    function TransposeLettersAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.transposeLetters',\r\n            label: nls.localize('transposeLetters.label', \"Transpose Letters\"),\r\n            alias: 'Transpose Letters',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: {\r\n                    primary: 256 /* WinCtrl */ | 50 /* KEY_T */\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    TransposeLettersAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = editor.getModel();\r\n        var commands = [];\r\n        var selections = editor.getSelections();\r\n        for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\r\n            var selection = selections_1[_i];\r\n            if (!selection.isEmpty()) {\r\n                continue;\r\n            }\r\n            var lineNumber = selection.startLineNumber;\r\n            var column = selection.startColumn;\r\n            var lastColumn = model.getLineMaxColumn(lineNumber);\r\n            if (lineNumber === 1 && (column === 1 || (column === 2 && lastColumn === 2))) {\r\n                // at beginning of file, nothing to do\r\n                continue;\r\n            }\r\n            // handle special case: when at end of line, transpose left two chars\r\n            // otherwise, transpose left and right chars\r\n            var endPosition = (column === lastColumn) ?\r\n                selection.getPosition() :\r\n                MoveOperations.rightPosition(model, selection.getPosition().lineNumber, selection.getPosition().column);\r\n            var middlePosition = MoveOperations.leftPosition(model, endPosition.lineNumber, endPosition.column);\r\n            var beginPosition = MoveOperations.leftPosition(model, middlePosition.lineNumber, middlePosition.column);\r\n            var leftChar = model.getValueInRange(Range.fromPositions(beginPosition, middlePosition));\r\n            var rightChar = model.getValueInRange(Range.fromPositions(middlePosition, endPosition));\r\n            var replaceRange = Range.fromPositions(beginPosition, endPosition);\r\n            commands.push(new ReplaceCommand(replaceRange, rightChar + leftChar));\r\n        }\r\n        if (commands.length > 0) {\r\n            editor.pushUndoStop();\r\n            editor.executeCommands(this.id, commands);\r\n            editor.pushUndoStop();\r\n        }\r\n    };\r\n    return TransposeLettersAction;\r\n}(EditorAction));\r\nregisterEditorAction(TransposeLettersAction);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './clipboard.css';\r\nimport * as nls from '../../../nls.js';\r\nimport * as browser from '../../../base/browser/browser.js';\r\nimport * as platform from '../../../base/common/platform.js';\r\nimport { CopyOptions } from '../../browser/controller/textAreaInput.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nvar CLIPBOARD_CONTEXT_MENU_GROUP = '9_cutcopypaste';\r\nvar supportsCut = (platform.isNative || document.queryCommandSupported('cut'));\r\nvar supportsCopy = (platform.isNative || document.queryCommandSupported('copy'));\r\n// IE and Edge have trouble with setting html content in clipboard\r\nvar supportsCopyWithSyntaxHighlighting = (supportsCopy && !browser.isEdgeOrIE);\r\n// Chrome incorrectly returns true for document.queryCommandSupported('paste')\r\n// when the paste feature is available but the calling script has insufficient\r\n// privileges to actually perform the action\r\nvar supportsPaste = (platform.isNative || (!browser.isChrome && document.queryCommandSupported('paste')));\r\nvar ExecCommandAction = /** @class */ (function (_super) {\r\n    __extends(ExecCommandAction, _super);\r\n    function ExecCommandAction(browserCommand, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this.browserCommand = browserCommand;\r\n        return _this;\r\n    }\r\n    ExecCommandAction.prototype.runCommand = function (accessor, args) {\r\n        var focusedEditor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\r\n        // Only if editor text focus (i.e. not if editor has widget focus).\r\n        if (focusedEditor && focusedEditor.hasTextFocus()) {\r\n            focusedEditor.trigger('keyboard', this.id, args);\r\n            return;\r\n        }\r\n        document.execCommand(this.browserCommand);\r\n    };\r\n    ExecCommandAction.prototype.run = function (accessor, editor) {\r\n        editor.focus();\r\n        document.execCommand(this.browserCommand);\r\n    };\r\n    return ExecCommandAction;\r\n}(EditorAction));\r\nvar ExecCommandCutAction = /** @class */ (function (_super) {\r\n    __extends(ExecCommandCutAction, _super);\r\n    function ExecCommandCutAction() {\r\n        var _this = this;\r\n        var kbOpts = {\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 2048 /* CtrlCmd */ | 54 /* KEY_X */,\r\n            win: { primary: 2048 /* CtrlCmd */ | 54 /* KEY_X */, secondary: [1024 /* Shift */ | 20 /* Delete */] },\r\n            weight: 100 /* EditorContrib */\r\n        };\r\n        // Do not bind cut keybindings in the browser,\r\n        // since browsers do that for us and it avoids security prompts\r\n        if (!platform.isNative) {\r\n            kbOpts = undefined;\r\n        }\r\n        _this = _super.call(this, 'cut', {\r\n            id: 'editor.action.clipboardCutAction',\r\n            label: nls.localize('actions.clipboard.cutLabel', \"Cut\"),\r\n            alias: 'Cut',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: kbOpts,\r\n            contextMenuOpts: {\r\n                group: CLIPBOARD_CONTEXT_MENU_GROUP,\r\n                order: 1\r\n            },\r\n            menuOpts: {\r\n                menuId: 15 /* MenubarEditMenu */,\r\n                group: '2_ccp',\r\n                title: nls.localize({ key: 'miCut', comment: ['&& denotes a mnemonic'] }, \"Cu&&t\"),\r\n                order: 1\r\n            }\r\n        }) || this;\r\n        return _this;\r\n    }\r\n    ExecCommandCutAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var emptySelectionClipboard = editor.getOption(24 /* emptySelectionClipboard */);\r\n        if (!emptySelectionClipboard && editor.getSelection().isEmpty()) {\r\n            return;\r\n        }\r\n        _super.prototype.run.call(this, accessor, editor);\r\n    };\r\n    return ExecCommandCutAction;\r\n}(ExecCommandAction));\r\nvar ExecCommandCopyAction = /** @class */ (function (_super) {\r\n    __extends(ExecCommandCopyAction, _super);\r\n    function ExecCommandCopyAction() {\r\n        var _this = this;\r\n        var kbOpts = {\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 2048 /* CtrlCmd */ | 33 /* KEY_C */,\r\n            win: { primary: 2048 /* CtrlCmd */ | 33 /* KEY_C */, secondary: [2048 /* CtrlCmd */ | 19 /* Insert */] },\r\n            weight: 100 /* EditorContrib */\r\n        };\r\n        // Do not bind copy keybindings in the browser,\r\n        // since browsers do that for us and it avoids security prompts\r\n        if (!platform.isNative) {\r\n            kbOpts = undefined;\r\n        }\r\n        _this = _super.call(this, 'copy', {\r\n            id: 'editor.action.clipboardCopyAction',\r\n            label: nls.localize('actions.clipboard.copyLabel', \"Copy\"),\r\n            alias: 'Copy',\r\n            precondition: undefined,\r\n            kbOpts: kbOpts,\r\n            contextMenuOpts: {\r\n                group: CLIPBOARD_CONTEXT_MENU_GROUP,\r\n                order: 2\r\n            },\r\n            menuOpts: {\r\n                menuId: 15 /* MenubarEditMenu */,\r\n                group: '2_ccp',\r\n                title: nls.localize({ key: 'miCopy', comment: ['&& denotes a mnemonic'] }, \"&&Copy\"),\r\n                order: 2\r\n            }\r\n        }) || this;\r\n        return _this;\r\n    }\r\n    ExecCommandCopyAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var emptySelectionClipboard = editor.getOption(24 /* emptySelectionClipboard */);\r\n        if (!emptySelectionClipboard && editor.getSelection().isEmpty()) {\r\n            return;\r\n        }\r\n        _super.prototype.run.call(this, accessor, editor);\r\n    };\r\n    return ExecCommandCopyAction;\r\n}(ExecCommandAction));\r\nvar ExecCommandPasteAction = /** @class */ (function (_super) {\r\n    __extends(ExecCommandPasteAction, _super);\r\n    function ExecCommandPasteAction() {\r\n        var _this = this;\r\n        var kbOpts = {\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 2048 /* CtrlCmd */ | 52 /* KEY_V */,\r\n            win: { primary: 2048 /* CtrlCmd */ | 52 /* KEY_V */, secondary: [1024 /* Shift */ | 19 /* Insert */] },\r\n            weight: 100 /* EditorContrib */\r\n        };\r\n        // Do not bind paste keybindings in the browser,\r\n        // since browsers do that for us and it avoids security prompts\r\n        if (!platform.isNative) {\r\n            kbOpts = undefined;\r\n        }\r\n        _this = _super.call(this, 'paste', {\r\n            id: 'editor.action.clipboardPasteAction',\r\n            label: nls.localize('actions.clipboard.pasteLabel', \"Paste\"),\r\n            alias: 'Paste',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: kbOpts,\r\n            contextMenuOpts: {\r\n                group: CLIPBOARD_CONTEXT_MENU_GROUP,\r\n                order: 3\r\n            },\r\n            menuOpts: {\r\n                menuId: 15 /* MenubarEditMenu */,\r\n                group: '2_ccp',\r\n                title: nls.localize({ key: 'miPaste', comment: ['&& denotes a mnemonic'] }, \"&&Paste\"),\r\n                order: 3\r\n            }\r\n        }) || this;\r\n        return _this;\r\n    }\r\n    return ExecCommandPasteAction;\r\n}(ExecCommandAction));\r\nvar ExecCommandCopyWithSyntaxHighlightingAction = /** @class */ (function (_super) {\r\n    __extends(ExecCommandCopyWithSyntaxHighlightingAction, _super);\r\n    function ExecCommandCopyWithSyntaxHighlightingAction() {\r\n        return _super.call(this, 'copy', {\r\n            id: 'editor.action.clipboardCopyWithSyntaxHighlightingAction',\r\n            label: nls.localize('actions.clipboard.copyWithSyntaxHighlightingLabel', \"Copy With Syntax Highlighting\"),\r\n            alias: 'Copy With Syntax Highlighting',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    ExecCommandCopyWithSyntaxHighlightingAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var emptySelectionClipboard = editor.getOption(24 /* emptySelectionClipboard */);\r\n        if (!emptySelectionClipboard && editor.getSelection().isEmpty()) {\r\n            return;\r\n        }\r\n        CopyOptions.forceCopyWithSyntaxHighlighting = true;\r\n        _super.prototype.run.call(this, accessor, editor);\r\n        CopyOptions.forceCopyWithSyntaxHighlighting = false;\r\n    };\r\n    return ExecCommandCopyWithSyntaxHighlightingAction;\r\n}(ExecCommandAction));\r\nif (supportsCut) {\r\n    registerEditorAction(ExecCommandCutAction);\r\n}\r\nif (supportsCopy) {\r\n    registerEditorAction(ExecCommandCopyAction);\r\n}\r\nif (supportsPaste) {\r\n    registerEditorAction(ExecCommandPasteAction);\r\n}\r\nif (supportsCopyWithSyntaxHighlighting) {\r\n    registerEditorAction(ExecCommandCopyWithSyntaxHighlightingAction);\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar Lazy = /** @class */ (function () {\r\n    function Lazy(executor) {\r\n        this.executor = executor;\r\n        this._didRun = false;\r\n    }\r\n    /**\r\n     * Get the wrapped value.\r\n     *\r\n     * This will force evaluation of the lazy value if it has not been resolved yet. Lazy values are only\r\n     * resolved once. `getValue` will re-throw exceptions that are hit while resolving the value\r\n     */\r\n    Lazy.prototype.getValue = function () {\r\n        if (!this._didRun) {\r\n            try {\r\n                this._value = this.executor();\r\n            }\r\n            catch (err) {\r\n                this._error = err;\r\n            }\r\n            finally {\r\n                this._didRun = true;\r\n            }\r\n        }\r\n        if (this._error) {\r\n            throw this._error;\r\n        }\r\n        return this._value;\r\n    };\r\n    Object.defineProperty(Lazy.prototype, \"rawValue\", {\r\n        /**\r\n         * Get the wrapped value without forcing evaluation.\r\n         */\r\n        get: function () { return this._value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Lazy;\r\n}());\r\nexport { Lazy };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { startsWith } from '../../../base/common/strings.js';\r\nvar CodeActionKind = /** @class */ (function () {\r\n    function CodeActionKind(value) {\r\n        this.value = value;\r\n    }\r\n    CodeActionKind.prototype.equals = function (other) {\r\n        return this.value === other.value;\r\n    };\r\n    CodeActionKind.prototype.contains = function (other) {\r\n        return this.equals(other) || this.value === '' || startsWith(other.value, this.value + CodeActionKind.sep);\r\n    };\r\n    CodeActionKind.prototype.intersects = function (other) {\r\n        return this.contains(other) || other.contains(this);\r\n    };\r\n    CodeActionKind.prototype.append = function (part) {\r\n        return new CodeActionKind(this.value + CodeActionKind.sep + part);\r\n    };\r\n    CodeActionKind.sep = '.';\r\n    CodeActionKind.None = new CodeActionKind('@@none@@'); // Special code action that contains nothing\r\n    CodeActionKind.Empty = new CodeActionKind('');\r\n    CodeActionKind.QuickFix = new CodeActionKind('quickfix');\r\n    CodeActionKind.Refactor = new CodeActionKind('refactor');\r\n    CodeActionKind.Source = new CodeActionKind('source');\r\n    CodeActionKind.SourceOrganizeImports = CodeActionKind.Source.append('organizeImports');\r\n    CodeActionKind.SourceFixAll = CodeActionKind.Source.append('fixAll');\r\n    return CodeActionKind;\r\n}());\r\nexport { CodeActionKind };\r\nexport function mayIncludeActionsOfKind(filter, providedKind) {\r\n    // A provided kind may be a subset or superset of our filtered kind.\r\n    if (filter.include && !filter.include.intersects(providedKind)) {\r\n        return false;\r\n    }\r\n    // Don't return source actions unless they are explicitly requested\r\n    if (!filter.includeSourceActions && CodeActionKind.Source.contains(providedKind)) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\nexport function filtersAction(filter, action) {\r\n    var actionKind = action.kind ? new CodeActionKind(action.kind) : undefined;\r\n    // Filter out actions by kind\r\n    if (filter.include) {\r\n        if (!actionKind || !filter.include.contains(actionKind)) {\r\n            return false;\r\n        }\r\n    }\r\n    if (filter.excludes) {\r\n        if (actionKind && filter.excludes.some(function (exclude) {\r\n            // Excludes are overwritten by includes\r\n            return exclude.contains(actionKind) && (!filter.include || !filter.include.contains(actionKind));\r\n        })) {\r\n            return false;\r\n        }\r\n    }\r\n    // Don't return source actions unless they are explicitly requested\r\n    if (!filter.includeSourceActions) {\r\n        if (actionKind && CodeActionKind.Source.contains(actionKind)) {\r\n            return false;\r\n        }\r\n    }\r\n    if (filter.onlyIncludePreferredActions) {\r\n        if (!action.isPreferred) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nvar CodeActionCommandArgs = /** @class */ (function () {\r\n    function CodeActionCommandArgs(kind, apply, preferred) {\r\n        this.kind = kind;\r\n        this.apply = apply;\r\n        this.preferred = preferred;\r\n    }\r\n    CodeActionCommandArgs.fromUser = function (arg, defaults) {\r\n        if (!arg || typeof arg !== 'object') {\r\n            return new CodeActionCommandArgs(defaults.kind, defaults.apply, false);\r\n        }\r\n        return new CodeActionCommandArgs(CodeActionCommandArgs.getKindFromUser(arg, defaults.kind), CodeActionCommandArgs.getApplyFromUser(arg, defaults.apply), CodeActionCommandArgs.getPreferredUser(arg));\r\n    };\r\n    CodeActionCommandArgs.getApplyFromUser = function (arg, defaultAutoApply) {\r\n        switch (typeof arg.apply === 'string' ? arg.apply.toLowerCase() : '') {\r\n            case 'first': return \"first\" /* First */;\r\n            case 'never': return \"never\" /* Never */;\r\n            case 'ifsingle': return \"ifSingle\" /* IfSingle */;\r\n            default: return defaultAutoApply;\r\n        }\r\n    };\r\n    CodeActionCommandArgs.getKindFromUser = function (arg, defaultKind) {\r\n        return typeof arg.kind === 'string'\r\n            ? new CodeActionKind(arg.kind)\r\n            : defaultKind;\r\n    };\r\n    CodeActionCommandArgs.getPreferredUser = function (arg) {\r\n        return typeof arg.preferred === 'boolean'\r\n            ? arg.preferred\r\n            : false;\r\n    };\r\n    return CodeActionCommandArgs;\r\n}());\r\nexport { CodeActionCommandArgs };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { equals, flatten, isNonEmptyArray, mergeSort } from '../../../base/common/arrays.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { illegalArgument, isPromiseCanceledError, onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { registerLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { CodeActionProviderRegistry } from '../../common/modes.js';\r\nimport { IModelService } from '../../common/services/modelService.js';\r\nimport { CodeActionKind, filtersAction, mayIncludeActionsOfKind } from './types.js';\r\nimport { TextModelCancellationTokenSource } from '../../browser/core/editorState.js';\r\nimport { DisposableStore, Disposable } from '../../../base/common/lifecycle.js';\r\nexport var codeActionCommandId = 'editor.action.codeAction';\r\nexport var refactorCommandId = 'editor.action.refactor';\r\nexport var sourceActionCommandId = 'editor.action.sourceAction';\r\nexport var organizeImportsCommandId = 'editor.action.organizeImports';\r\nexport var fixAllCommandId = 'editor.action.fixAll';\r\nvar ManagedCodeActionSet = /** @class */ (function (_super) {\r\n    __extends(ManagedCodeActionSet, _super);\r\n    function ManagedCodeActionSet(actions, disposables) {\r\n        var _this = _super.call(this) || this;\r\n        _this._register(disposables);\r\n        _this.allActions = mergeSort(__spreadArrays(actions), ManagedCodeActionSet.codeActionsComparator);\r\n        _this.validActions = _this.allActions.filter(function (action) { return !action.disabled; });\r\n        return _this;\r\n    }\r\n    ManagedCodeActionSet.codeActionsComparator = function (a, b) {\r\n        if (isNonEmptyArray(a.diagnostics)) {\r\n            if (isNonEmptyArray(b.diagnostics)) {\r\n                return a.diagnostics[0].message.localeCompare(b.diagnostics[0].message);\r\n            }\r\n            else {\r\n                return -1;\r\n            }\r\n        }\r\n        else if (isNonEmptyArray(b.diagnostics)) {\r\n            return 1;\r\n        }\r\n        else {\r\n            return 0; // both have no diagnostics\r\n        }\r\n    };\r\n    Object.defineProperty(ManagedCodeActionSet.prototype, \"hasAutoFix\", {\r\n        get: function () {\r\n            return this.validActions.some(function (fix) { return !!fix.kind && CodeActionKind.QuickFix.contains(new CodeActionKind(fix.kind)) && !!fix.isPreferred; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ManagedCodeActionSet;\r\n}(Disposable));\r\nexport function getCodeActions(model, rangeOrSelection, trigger, token) {\r\n    var _this = this;\r\n    var _a;\r\n    var filter = trigger.filter || {};\r\n    var codeActionContext = {\r\n        only: (_a = filter.include) === null || _a === void 0 ? void 0 : _a.value,\r\n        trigger: trigger.type === 'manual' ? 2 /* Manual */ : 1 /* Automatic */\r\n    };\r\n    var cts = new TextModelCancellationTokenSource(model, token);\r\n    var providers = getCodeActionProviders(model, filter);\r\n    var disposables = new DisposableStore();\r\n    var promises = providers.map(function (provider) { return __awaiter(_this, void 0, void 0, function () {\r\n        var providedCodeActions, err_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    _a.trys.push([0, 2, , 3]);\r\n                    return [4 /*yield*/, provider.provideCodeActions(model, rangeOrSelection, codeActionContext, cts.token)];\r\n                case 1:\r\n                    providedCodeActions = _a.sent();\r\n                    if (cts.token.isCancellationRequested || !providedCodeActions) {\r\n                        return [2 /*return*/, []];\r\n                    }\r\n                    disposables.add(providedCodeActions);\r\n                    return [2 /*return*/, providedCodeActions.actions.filter(function (action) { return action && filtersAction(filter, action); })];\r\n                case 2:\r\n                    err_1 = _a.sent();\r\n                    if (isPromiseCanceledError(err_1)) {\r\n                        throw err_1;\r\n                    }\r\n                    onUnexpectedExternalError(err_1);\r\n                    return [2 /*return*/, []];\r\n                case 3: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); });\r\n    var listener = CodeActionProviderRegistry.onDidChange(function () {\r\n        var newProviders = CodeActionProviderRegistry.all(model);\r\n        if (!equals(newProviders, providers)) {\r\n            cts.cancel();\r\n        }\r\n    });\r\n    return Promise.all(promises)\r\n        .then(flatten)\r\n        .then(function (actions) { return new ManagedCodeActionSet(actions, disposables); })\r\n        .finally(function () {\r\n        listener.dispose();\r\n        cts.dispose();\r\n    });\r\n}\r\nfunction getCodeActionProviders(model, filter) {\r\n    return CodeActionProviderRegistry.all(model)\r\n        // Don't include providers that we know will not return code actions of interest\r\n        .filter(function (provider) {\r\n        if (!provider.providedCodeActionKinds) {\r\n            // We don't know what type of actions this provider will return.\r\n            return true;\r\n        }\r\n        return provider.providedCodeActionKinds.some(function (kind) { return mayIncludeActionsOfKind(filter, new CodeActionKind(kind)); });\r\n    });\r\n}\r\nregisterLanguageCommand('_executeCodeActionProvider', function (accessor, args) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var resource, rangeOrSelection, kind, model, validatedRangeOrSelection, codeActionSet;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    resource = args.resource, rangeOrSelection = args.rangeOrSelection, kind = args.kind;\r\n                    if (!(resource instanceof URI)) {\r\n                        throw illegalArgument();\r\n                    }\r\n                    model = accessor.get(IModelService).getModel(resource);\r\n                    if (!model) {\r\n                        throw illegalArgument();\r\n                    }\r\n                    validatedRangeOrSelection = Selection.isISelection(rangeOrSelection)\r\n                        ? Selection.liftSelection(rangeOrSelection)\r\n                        : Range.isIRange(rangeOrSelection)\r\n                            ? model.validateRange(rangeOrSelection)\r\n                            : undefined;\r\n                    if (!validatedRangeOrSelection) {\r\n                        throw illegalArgument();\r\n                    }\r\n                    return [4 /*yield*/, getCodeActions(model, validatedRangeOrSelection, { type: 'manual', filter: { includeSourceActions: true, include: kind && kind.value ? new CodeActionKind(kind.value) : undefined } }, CancellationToken.None)];\r\n                case 1:\r\n                    codeActionSet = _a.sent();\r\n                    setTimeout(function () { return codeActionSet.dispose(); }, 100);\r\n                    return [2 /*return*/, codeActionSet.validActions];\r\n            }\r\n        });\r\n    });\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport './messageController.css';\r\nimport * as nls from '../../../nls.js';\r\nimport { TimeoutTimer } from '../../../base/common/async.js';\r\nimport { Disposable, DisposableStore, MutableDisposable } from '../../../base/common/lifecycle.js';\r\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { registerEditorContribution, EditorCommand, registerEditorCommand } from '../../browser/editorExtensions.js';\r\nimport { IContextKeyService, RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { registerThemingParticipant, HIGH_CONTRAST } from '../../../platform/theme/common/themeService.js';\r\nimport { inputValidationInfoBorder, inputValidationInfoBackground, inputValidationInfoForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nvar MessageController = /** @class */ (function (_super) {\r\n    __extends(MessageController, _super);\r\n    function MessageController(editor, contextKeyService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.closeTimeout = 3000; // close after 3s\r\n        _this._messageWidget = _this._register(new MutableDisposable());\r\n        _this._messageListeners = _this._register(new DisposableStore());\r\n        _this._editor = editor;\r\n        _this._visible = MessageController.MESSAGE_VISIBLE.bindTo(contextKeyService);\r\n        _this._register(_this._editor.onDidAttemptReadOnlyEdit(function () { return _this._onDidAttemptReadOnlyEdit(); }));\r\n        return _this;\r\n    }\r\n    MessageController.get = function (editor) {\r\n        return editor.getContribution(MessageController.ID);\r\n    };\r\n    MessageController.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        this._visible.reset();\r\n    };\r\n    MessageController.prototype.showMessage = function (message, position) {\r\n        var _this = this;\r\n        alert(message);\r\n        this._visible.set(true);\r\n        this._messageWidget.clear();\r\n        this._messageListeners.clear();\r\n        this._messageWidget.value = new MessageWidget(this._editor, position, message);\r\n        // close on blur, cursor, model change, dispose\r\n        this._messageListeners.add(this._editor.onDidBlurEditorText(function () { return _this.closeMessage(); }));\r\n        this._messageListeners.add(this._editor.onDidChangeCursorPosition(function () { return _this.closeMessage(); }));\r\n        this._messageListeners.add(this._editor.onDidDispose(function () { return _this.closeMessage(); }));\r\n        this._messageListeners.add(this._editor.onDidChangeModel(function () { return _this.closeMessage(); }));\r\n        this._messageListeners.add(new TimeoutTimer(function () { return _this.closeMessage(); }, this.closeTimeout));\r\n        // close on mouse move\r\n        var bounds;\r\n        this._messageListeners.add(this._editor.onMouseMove(function (e) {\r\n            // outside the text area\r\n            if (!e.target.position) {\r\n                return;\r\n            }\r\n            if (!bounds) {\r\n                // define bounding box around position and first mouse occurance\r\n                bounds = new Range(position.lineNumber - 3, 1, e.target.position.lineNumber + 3, 1);\r\n            }\r\n            else if (!bounds.containsPosition(e.target.position)) {\r\n                // check if position is still in bounds\r\n                _this.closeMessage();\r\n            }\r\n        }));\r\n    };\r\n    MessageController.prototype.closeMessage = function () {\r\n        this._visible.reset();\r\n        this._messageListeners.clear();\r\n        if (this._messageWidget.value) {\r\n            this._messageListeners.add(MessageWidget.fadeOut(this._messageWidget.value));\r\n        }\r\n    };\r\n    MessageController.prototype._onDidAttemptReadOnlyEdit = function () {\r\n        if (this._editor.hasModel()) {\r\n            this.showMessage(nls.localize('editor.readonly', \"Cannot edit in read-only editor\"), this._editor.getPosition());\r\n        }\r\n    };\r\n    MessageController.ID = 'editor.contrib.messageController';\r\n    MessageController.MESSAGE_VISIBLE = new RawContextKey('messageVisible', false);\r\n    MessageController = __decorate([\r\n        __param(1, IContextKeyService)\r\n    ], MessageController);\r\n    return MessageController;\r\n}(Disposable));\r\nexport { MessageController };\r\nvar MessageCommand = EditorCommand.bindToContribution(MessageController.get);\r\nregisterEditorCommand(new MessageCommand({\r\n    id: 'leaveEditorMessage',\r\n    precondition: MessageController.MESSAGE_VISIBLE,\r\n    handler: function (c) { return c.closeMessage(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 30,\r\n        primary: 9 /* Escape */\r\n    }\r\n}));\r\nvar MessageWidget = /** @class */ (function () {\r\n    function MessageWidget(editor, _a, text) {\r\n        var lineNumber = _a.lineNumber, column = _a.column;\r\n        // Editor.IContentWidget.allowEditorOverflow\r\n        this.allowEditorOverflow = true;\r\n        this.suppressMouseDown = false;\r\n        this._editor = editor;\r\n        this._editor.revealLinesInCenterIfOutsideViewport(lineNumber, lineNumber, 0 /* Smooth */);\r\n        this._position = { lineNumber: lineNumber, column: column - 1 };\r\n        this._domNode = document.createElement('div');\r\n        this._domNode.classList.add('monaco-editor-overlaymessage');\r\n        var message = document.createElement('div');\r\n        message.classList.add('message');\r\n        message.textContent = text;\r\n        this._domNode.appendChild(message);\r\n        var anchor = document.createElement('div');\r\n        anchor.classList.add('anchor');\r\n        this._domNode.appendChild(anchor);\r\n        this._editor.addContentWidget(this);\r\n        this._domNode.classList.add('fadeIn');\r\n    }\r\n    MessageWidget.fadeOut = function (messageWidget) {\r\n        var handle;\r\n        var dispose = function () {\r\n            messageWidget.dispose();\r\n            clearTimeout(handle);\r\n            messageWidget.getDomNode().removeEventListener('animationend', dispose);\r\n        };\r\n        handle = setTimeout(dispose, 110);\r\n        messageWidget.getDomNode().addEventListener('animationend', dispose);\r\n        messageWidget.getDomNode().classList.add('fadeOut');\r\n        return { dispose: dispose };\r\n    };\r\n    MessageWidget.prototype.dispose = function () {\r\n        this._editor.removeContentWidget(this);\r\n    };\r\n    MessageWidget.prototype.getId = function () {\r\n        return 'messageoverlay';\r\n    };\r\n    MessageWidget.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    MessageWidget.prototype.getPosition = function () {\r\n        return { position: this._position, preference: [1 /* ABOVE */, 2 /* BELOW */] };\r\n    };\r\n    return MessageWidget;\r\n}());\r\nregisterEditorContribution(MessageController.ID, MessageController);\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var border = theme.getColor(inputValidationInfoBorder);\r\n    if (border) {\r\n        var borderWidth = theme.type === HIGH_CONTRAST ? 2 : 1;\r\n        collector.addRule(\".monaco-editor .monaco-editor-overlaymessage .anchor { border-top-color: \" + border + \"; }\");\r\n        collector.addRule(\".monaco-editor .monaco-editor-overlaymessage .message { border: \" + borderWidth + \"px solid \" + border + \"; }\");\r\n    }\r\n    var background = theme.getColor(inputValidationInfoBackground);\r\n    if (background) {\r\n        collector.addRule(\".monaco-editor .monaco-editor-overlaymessage .message { background-color: \" + background + \"; }\");\r\n    }\r\n    var foreground = theme.getColor(inputValidationInfoForeground);\r\n    if (foreground) {\r\n        collector.addRule(\".monaco-editor .monaco-editor-overlaymessage .message { color: \" + foreground + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { getDomNodePagePosition } from '../../../base/browser/dom.js';\r\nimport { Action } from '../../../base/common/actions.js';\r\nimport { canceled } from '../../../base/common/errors.js';\r\nimport { Lazy } from '../../../base/common/lazy.js';\r\nimport { Disposable, MutableDisposable } from '../../../base/common/lifecycle.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { refactorCommandId, sourceActionCommandId, codeActionCommandId, organizeImportsCommandId, fixAllCommandId } from './codeAction.js';\r\nimport { CodeActionCommandArgs, CodeActionKind } from './types.js';\r\nimport { IContextMenuService } from '../../../platform/contextview/browser/contextView.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nvar CodeActionAction = /** @class */ (function (_super) {\r\n    __extends(CodeActionAction, _super);\r\n    function CodeActionAction(action, callback) {\r\n        var _this = _super.call(this, action.command ? action.command.id : action.title, action.title, undefined, !action.disabled, callback) || this;\r\n        _this.action = action;\r\n        return _this;\r\n    }\r\n    return CodeActionAction;\r\n}(Action));\r\nvar CodeActionMenu = /** @class */ (function (_super) {\r\n    __extends(CodeActionMenu, _super);\r\n    function CodeActionMenu(_editor, _delegate, _contextMenuService, keybindingService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = _editor;\r\n        _this._delegate = _delegate;\r\n        _this._contextMenuService = _contextMenuService;\r\n        _this._visible = false;\r\n        _this._showingActions = _this._register(new MutableDisposable());\r\n        _this._keybindingResolver = new CodeActionKeybindingResolver({\r\n            getKeybindings: function () { return keybindingService.getKeybindings(); }\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CodeActionMenu.prototype, \"isVisible\", {\r\n        get: function () {\r\n            return this._visible;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CodeActionMenu.prototype.show = function (codeActions, at, options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var actionsToShow, menuActions, anchor, resolver;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                actionsToShow = options.includeDisabledActions ? codeActions.allActions : codeActions.validActions;\r\n                if (!actionsToShow.length) {\r\n                    this._visible = false;\r\n                    return [2 /*return*/];\r\n                }\r\n                if (!this._editor.getDomNode()) {\r\n                    // cancel when editor went off-dom\r\n                    this._visible = false;\r\n                    throw canceled();\r\n                }\r\n                this._visible = true;\r\n                this._showingActions.value = codeActions;\r\n                menuActions = actionsToShow.map(function (action) {\r\n                    return new CodeActionAction(action, function () { return _this._delegate.onSelectCodeAction(action); });\r\n                });\r\n                anchor = Position.isIPosition(at) ? this._toCoords(at) : at || { x: 0, y: 0 };\r\n                resolver = this._keybindingResolver.getResolver();\r\n                this._contextMenuService.showContextMenu({\r\n                    getAnchor: function () { return anchor; },\r\n                    getActions: function () { return menuActions; },\r\n                    onHide: function () {\r\n                        _this._visible = false;\r\n                        _this._editor.focus();\r\n                    },\r\n                    autoSelectFirstItem: true,\r\n                    getKeyBinding: function (action) { return action instanceof CodeActionAction ? resolver(action.action) : undefined; },\r\n                });\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    CodeActionMenu.prototype._toCoords = function (position) {\r\n        if (!this._editor.hasModel()) {\r\n            return { x: 0, y: 0 };\r\n        }\r\n        this._editor.revealPosition(position, 1 /* Immediate */);\r\n        this._editor.render();\r\n        // Translate to absolute editor position\r\n        var cursorCoords = this._editor.getScrolledVisiblePosition(position);\r\n        var editorCoords = getDomNodePagePosition(this._editor.getDomNode());\r\n        var x = editorCoords.left + cursorCoords.left;\r\n        var y = editorCoords.top + cursorCoords.top + cursorCoords.height;\r\n        return { x: x, y: y };\r\n    };\r\n    CodeActionMenu = __decorate([\r\n        __param(2, IContextMenuService),\r\n        __param(3, IKeybindingService)\r\n    ], CodeActionMenu);\r\n    return CodeActionMenu;\r\n}(Disposable));\r\nexport { CodeActionMenu };\r\nvar CodeActionKeybindingResolver = /** @class */ (function () {\r\n    function CodeActionKeybindingResolver(_keybindingProvider) {\r\n        this._keybindingProvider = _keybindingProvider;\r\n    }\r\n    CodeActionKeybindingResolver.prototype.getResolver = function () {\r\n        var _this = this;\r\n        // Lazy since we may not actually ever read the value\r\n        var allCodeActionBindings = new Lazy(function () {\r\n            return _this._keybindingProvider.getKeybindings()\r\n                .filter(function (item) { return CodeActionKeybindingResolver.codeActionCommands.indexOf(item.command) >= 0; })\r\n                .filter(function (item) { return item.resolvedKeybinding; })\r\n                .map(function (item) {\r\n                // Special case these commands since they come built-in with VS Code and don't use 'commandArgs'\r\n                var commandArgs = item.commandArgs;\r\n                if (item.command === organizeImportsCommandId) {\r\n                    commandArgs = { kind: CodeActionKind.SourceOrganizeImports.value };\r\n                }\r\n                else if (item.command === fixAllCommandId) {\r\n                    commandArgs = { kind: CodeActionKind.SourceFixAll.value };\r\n                }\r\n                return __assign({ resolvedKeybinding: item.resolvedKeybinding }, CodeActionCommandArgs.fromUser(commandArgs, {\r\n                    kind: CodeActionKind.None,\r\n                    apply: \"never\" /* Never */\r\n                }));\r\n            });\r\n        });\r\n        return function (action) {\r\n            var _a;\r\n            if (action.kind) {\r\n                var binding = _this.bestKeybindingForCodeAction(action, allCodeActionBindings.getValue());\r\n                return (_a = binding) === null || _a === void 0 ? void 0 : _a.resolvedKeybinding;\r\n            }\r\n            return undefined;\r\n        };\r\n    };\r\n    CodeActionKeybindingResolver.prototype.bestKeybindingForCodeAction = function (action, candidates) {\r\n        if (!action.kind) {\r\n            return undefined;\r\n        }\r\n        var kind = new CodeActionKind(action.kind);\r\n        return candidates\r\n            .filter(function (candidate) { return candidate.kind.contains(kind); })\r\n            .filter(function (candidate) {\r\n            if (candidate.preferred) {\r\n                // If the candidate keybinding only applies to preferred actions, the this action must also be preferred\r\n                return action.isPreferred;\r\n            }\r\n            return true;\r\n        })\r\n            .reduceRight(function (currentBest, candidate) {\r\n            if (!currentBest) {\r\n                return candidate;\r\n            }\r\n            // Select the more specific binding\r\n            return currentBest.kind.contains(candidate.kind) ? candidate : currentBest;\r\n        }, undefined);\r\n    };\r\n    CodeActionKeybindingResolver.codeActionCommands = [\r\n        refactorCommandId,\r\n        codeActionCommandId,\r\n        sourceActionCommandId,\r\n        organizeImportsCommandId,\r\n        fixAllCommandId\r\n    ];\r\n    return CodeActionKeybindingResolver;\r\n}());\r\nexport { CodeActionKeybindingResolver };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { GlobalMouseMoveMonitor, standardMouseMoveMerger } from '../../../base/browser/globalMouseMoveMonitor.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport './lightBulbWidget.css';\r\nimport { TextModel } from '../../common/model/textModel.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { editorLightBulbForeground, editorLightBulbAutoFixForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { Gesture } from '../../../base/browser/touch.js';\r\nvar LightBulbState;\r\n(function (LightBulbState) {\r\n    LightBulbState.Hidden = { type: 0 /* Hidden */ };\r\n    var Showing = /** @class */ (function () {\r\n        function Showing(actions, editorPosition, widgetPosition) {\r\n            this.actions = actions;\r\n            this.editorPosition = editorPosition;\r\n            this.widgetPosition = widgetPosition;\r\n            this.type = 1 /* Showing */;\r\n        }\r\n        return Showing;\r\n    }());\r\n    LightBulbState.Showing = Showing;\r\n})(LightBulbState || (LightBulbState = {}));\r\nvar LightBulbWidget = /** @class */ (function (_super) {\r\n    __extends(LightBulbWidget, _super);\r\n    function LightBulbWidget(_editor, _quickFixActionId, _preferredFixActionId, _keybindingService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = _editor;\r\n        _this._quickFixActionId = _quickFixActionId;\r\n        _this._preferredFixActionId = _preferredFixActionId;\r\n        _this._keybindingService = _keybindingService;\r\n        _this._onClick = _this._register(new Emitter());\r\n        _this.onClick = _this._onClick.event;\r\n        _this._state = LightBulbState.Hidden;\r\n        _this._domNode = document.createElement('div');\r\n        _this._domNode.className = 'codicon codicon-lightbulb';\r\n        _this._editor.addContentWidget(_this);\r\n        _this._register(_this._editor.onDidChangeModelContent(function (_) {\r\n            // cancel when the line in question has been removed\r\n            var editorModel = _this._editor.getModel();\r\n            if (_this.state.type !== 1 /* Showing */ || !editorModel || _this.state.editorPosition.lineNumber >= editorModel.getLineCount()) {\r\n                _this.hide();\r\n            }\r\n        }));\r\n        Gesture.ignoreTarget(_this._domNode);\r\n        _this._register(dom.addStandardDisposableGenericMouseDownListner(_this._domNode, function (e) {\r\n            if (_this.state.type !== 1 /* Showing */) {\r\n                return;\r\n            }\r\n            // Make sure that focus / cursor location is not lost when clicking widget icon\r\n            _this._editor.focus();\r\n            e.preventDefault();\r\n            // a bit of extra work to make sure the menu\r\n            // doesn't cover the line-text\r\n            var _a = dom.getDomNodePagePosition(_this._domNode), top = _a.top, height = _a.height;\r\n            var lineHeight = _this._editor.getOption(47 /* lineHeight */);\r\n            var pad = Math.floor(lineHeight / 3);\r\n            if (_this.state.widgetPosition.position !== null && _this.state.widgetPosition.position.lineNumber < _this.state.editorPosition.lineNumber) {\r\n                pad += lineHeight;\r\n            }\r\n            _this._onClick.fire({\r\n                x: e.posx,\r\n                y: top + height + pad,\r\n                actions: _this.state.actions\r\n            });\r\n        }));\r\n        _this._register(dom.addDisposableListener(_this._domNode, 'mouseenter', function (e) {\r\n            if ((e.buttons & 1) !== 1) {\r\n                return;\r\n            }\r\n            // mouse enters lightbulb while the primary/left button\r\n            // is being pressed -> hide the lightbulb and block future\r\n            // showings until mouse is released\r\n            _this.hide();\r\n            var monitor = new GlobalMouseMoveMonitor();\r\n            monitor.startMonitoring(standardMouseMoveMerger, function () { }, function () {\r\n                monitor.dispose();\r\n            });\r\n        }));\r\n        _this._register(_this._editor.onDidChangeConfiguration(function (e) {\r\n            // hide when told to do so\r\n            if (e.hasChanged(45 /* lightbulb */) && !_this._editor.getOption(45 /* lightbulb */).enabled) {\r\n                _this.hide();\r\n            }\r\n        }));\r\n        _this._updateLightBulbTitle();\r\n        _this._register(_this._keybindingService.onDidUpdateKeybindings(_this._updateLightBulbTitle, _this));\r\n        return _this;\r\n    }\r\n    LightBulbWidget.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        this._editor.removeContentWidget(this);\r\n    };\r\n    LightBulbWidget.prototype.getId = function () {\r\n        return 'LightBulbWidget';\r\n    };\r\n    LightBulbWidget.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    LightBulbWidget.prototype.getPosition = function () {\r\n        return this._state.type === 1 /* Showing */ ? this._state.widgetPosition : null;\r\n    };\r\n    LightBulbWidget.prototype.update = function (actions, atPosition) {\r\n        var _this = this;\r\n        if (actions.validActions.length <= 0) {\r\n            return this.hide();\r\n        }\r\n        var options = this._editor.getOptions();\r\n        if (!options.get(45 /* lightbulb */).enabled) {\r\n            return this.hide();\r\n        }\r\n        var lineNumber = atPosition.lineNumber, column = atPosition.column;\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return this.hide();\r\n        }\r\n        var tabSize = model.getOptions().tabSize;\r\n        var fontInfo = options.get(32 /* fontInfo */);\r\n        var lineContent = model.getLineContent(lineNumber);\r\n        var indent = TextModel.computeIndentLevel(lineContent, tabSize);\r\n        var lineHasSpace = fontInfo.spaceWidth * indent > 22;\r\n        var isFolded = function (lineNumber) {\r\n            return lineNumber > 2 && _this._editor.getTopForLineNumber(lineNumber) === _this._editor.getTopForLineNumber(lineNumber - 1);\r\n        };\r\n        var effectiveLineNumber = lineNumber;\r\n        if (!lineHasSpace) {\r\n            if (lineNumber > 1 && !isFolded(lineNumber - 1)) {\r\n                effectiveLineNumber -= 1;\r\n            }\r\n            else if (!isFolded(lineNumber + 1)) {\r\n                effectiveLineNumber += 1;\r\n            }\r\n            else if (column * fontInfo.spaceWidth < 22) {\r\n                // cannot show lightbulb above/below and showing\r\n                // it inline would overlay the cursor...\r\n                return this.hide();\r\n            }\r\n        }\r\n        this.state = new LightBulbState.Showing(actions, atPosition, {\r\n            position: { lineNumber: effectiveLineNumber, column: 1 },\r\n            preference: LightBulbWidget._posPref\r\n        });\r\n        dom.toggleClass(this._domNode, 'codicon-lightbulb-autofix', actions.hasAutoFix);\r\n        this._editor.layoutContentWidget(this);\r\n    };\r\n    LightBulbWidget.prototype.hide = function () {\r\n        this.state = LightBulbState.Hidden;\r\n        this._editor.layoutContentWidget(this);\r\n    };\r\n    Object.defineProperty(LightBulbWidget.prototype, \"state\", {\r\n        get: function () { return this._state; },\r\n        set: function (value) {\r\n            this._state = value;\r\n            this._updateLightBulbTitle();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    LightBulbWidget.prototype._updateLightBulbTitle = function () {\r\n        if (this.state.type === 1 /* Showing */ && this.state.actions.hasAutoFix) {\r\n            var preferredKb = this._keybindingService.lookupKeybinding(this._preferredFixActionId);\r\n            if (preferredKb) {\r\n                this.title = nls.localize('prefferedQuickFixWithKb', \"Show Fixes. Preferred Fix Available ({0})\", preferredKb.getLabel());\r\n                return;\r\n            }\r\n        }\r\n        var kb = this._keybindingService.lookupKeybinding(this._quickFixActionId);\r\n        if (kb) {\r\n            this.title = nls.localize('quickFixWithKb', \"Show Fixes ({0})\", kb.getLabel());\r\n        }\r\n        else {\r\n            this.title = nls.localize('quickFix', \"Show Fixes\");\r\n        }\r\n    };\r\n    Object.defineProperty(LightBulbWidget.prototype, \"title\", {\r\n        set: function (value) {\r\n            this._domNode.title = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    LightBulbWidget._posPref = [0 /* EXACT */];\r\n    LightBulbWidget = __decorate([\r\n        __param(3, IKeybindingService)\r\n    ], LightBulbWidget);\r\n    return LightBulbWidget;\r\n}(Disposable));\r\nexport { LightBulbWidget };\r\nregisterThemingParticipant(function (theme, collector) {\r\n    // Lightbulb Icon\r\n    var editorLightBulbForegroundColor = theme.getColor(editorLightBulbForeground);\r\n    if (editorLightBulbForegroundColor) {\r\n        collector.addRule(\"\\n\\t\\t.monaco-editor .contentWidgets .codicon-lightbulb,\\n\\t\\t.monaco-workbench .markers-panel-container .codicon-lightbulb {\\n\\t\\t\\tcolor: \" + editorLightBulbForegroundColor + \";\\n\\t\\t}\");\r\n    }\r\n    // Lightbulb Auto Fix Icon\r\n    var editorLightBulbAutoFixForegroundColor = theme.getColor(editorLightBulbAutoFixForeground);\r\n    if (editorLightBulbAutoFixForegroundColor) {\r\n        collector.addRule(\"\\n\\t\\t.monaco-editor .contentWidgets .codicon-lightbulb-autofix,\\n\\t\\t.monaco-workbench .markers-panel-container .codicon-lightbulb-autofix {\\n\\t\\t\\tcolor: \" + editorLightBulbAutoFixForegroundColor + \";\\n\\t\\t}\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { find } from '../../../base/common/arrays.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { Lazy } from '../../../base/common/lazy.js';\r\nimport { Disposable, MutableDisposable } from '../../../base/common/lifecycle.js';\r\nimport { MessageController } from '../message/messageController.js';\r\nimport { CodeActionMenu } from './codeActionMenu.js';\r\nimport { LightBulbWidget } from './lightBulbWidget.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nvar CodeActionUi = /** @class */ (function (_super) {\r\n    __extends(CodeActionUi, _super);\r\n    function CodeActionUi(_editor, quickFixActionId, preferredFixActionId, delegate, instantiationService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = _editor;\r\n        _this.delegate = delegate;\r\n        _this._activeCodeActions = _this._register(new MutableDisposable());\r\n        _this._codeActionWidget = new Lazy(function () {\r\n            return _this._register(instantiationService.createInstance(CodeActionMenu, _this._editor, {\r\n                onSelectCodeAction: function (action) { return __awaiter(_this, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        this.delegate.applyCodeAction(action, /* retrigger */ true);\r\n                        return [2 /*return*/];\r\n                    });\r\n                }); }\r\n            }));\r\n        });\r\n        _this._lightBulbWidget = new Lazy(function () {\r\n            var widget = _this._register(instantiationService.createInstance(LightBulbWidget, _this._editor, quickFixActionId, preferredFixActionId));\r\n            _this._register(widget.onClick(function (e) { return _this.showCodeActionList(e.actions, e, { includeDisabledActions: false }); }));\r\n            return widget;\r\n        });\r\n        return _this;\r\n    }\r\n    CodeActionUi.prototype.update = function (newState) {\r\n        var _a, _b, _c;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var actions, e_1, validActionToApply, invalidAction, includeDisabledActions;\r\n            return __generator(this, function (_d) {\r\n                switch (_d.label) {\r\n                    case 0:\r\n                        if (newState.type !== 1 /* Triggered */) {\r\n                            (_a = this._lightBulbWidget.rawValue) === null || _a === void 0 ? void 0 : _a.hide();\r\n                            return [2 /*return*/];\r\n                        }\r\n                        _d.label = 1;\r\n                    case 1:\r\n                        _d.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, newState.actions];\r\n                    case 2:\r\n                        actions = _d.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        e_1 = _d.sent();\r\n                        onUnexpectedError(e_1);\r\n                        return [2 /*return*/];\r\n                    case 4:\r\n                        this._lightBulbWidget.getValue().update(actions, newState.position);\r\n                        if (!(newState.trigger.type === 'manual')) return [3 /*break*/, 11];\r\n                        if (!((_b = newState.trigger.filter) === null || _b === void 0 ? void 0 : _b.include)) return [3 /*break*/, 10];\r\n                        validActionToApply = this.tryGetValidActionToApply(newState.trigger, actions);\r\n                        if (!validActionToApply) return [3 /*break*/, 9];\r\n                        _d.label = 5;\r\n                    case 5:\r\n                        _d.trys.push([5, , 7, 8]);\r\n                        return [4 /*yield*/, this.delegate.applyCodeAction(validActionToApply, false)];\r\n                    case 6:\r\n                        _d.sent();\r\n                        return [3 /*break*/, 8];\r\n                    case 7:\r\n                        actions.dispose();\r\n                        return [7 /*endfinally*/];\r\n                    case 8: return [2 /*return*/];\r\n                    case 9:\r\n                        // Check to see if there is an action that we would have applied were it not invalid\r\n                        if (newState.trigger.context) {\r\n                            invalidAction = this.getInvalidActionThatWouldHaveBeenApplied(newState.trigger, actions);\r\n                            if (invalidAction && invalidAction.disabled) {\r\n                                MessageController.get(this._editor).showMessage(invalidAction.disabled, newState.trigger.context.position);\r\n                                actions.dispose();\r\n                                return [2 /*return*/];\r\n                            }\r\n                        }\r\n                        _d.label = 10;\r\n                    case 10:\r\n                        includeDisabledActions = !!((_c = newState.trigger.filter) === null || _c === void 0 ? void 0 : _c.include);\r\n                        if (newState.trigger.context) {\r\n                            if (!actions.allActions.length || !includeDisabledActions && !actions.validActions.length) {\r\n                                MessageController.get(this._editor).showMessage(newState.trigger.context.notAvailableMessage, newState.trigger.context.position);\r\n                                this._activeCodeActions.value = actions;\r\n                                actions.dispose();\r\n                                return [2 /*return*/];\r\n                            }\r\n                        }\r\n                        this._activeCodeActions.value = actions;\r\n                        this._codeActionWidget.getValue().show(actions, newState.position, { includeDisabledActions: includeDisabledActions });\r\n                        return [3 /*break*/, 12];\r\n                    case 11:\r\n                        // auto magically triggered\r\n                        if (this._codeActionWidget.getValue().isVisible) {\r\n                            // TODO: Figure out if we should update the showing menu?\r\n                            actions.dispose();\r\n                        }\r\n                        else {\r\n                            this._activeCodeActions.value = actions;\r\n                        }\r\n                        _d.label = 12;\r\n                    case 12: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    CodeActionUi.prototype.getInvalidActionThatWouldHaveBeenApplied = function (trigger, actions) {\r\n        if (!actions.allActions.length) {\r\n            return undefined;\r\n        }\r\n        if ((trigger.autoApply === \"first\" /* First */ && actions.validActions.length === 0)\r\n            || (trigger.autoApply === \"ifSingle\" /* IfSingle */ && actions.allActions.length === 1)) {\r\n            return find(actions.allActions, function (action) { return action.disabled; });\r\n        }\r\n        return undefined;\r\n    };\r\n    CodeActionUi.prototype.tryGetValidActionToApply = function (trigger, actions) {\r\n        if (!actions.validActions.length) {\r\n            return undefined;\r\n        }\r\n        if ((trigger.autoApply === \"first\" /* First */ && actions.validActions.length > 0)\r\n            || (trigger.autoApply === \"ifSingle\" /* IfSingle */ && actions.validActions.length === 1)) {\r\n            return actions.validActions[0];\r\n        }\r\n        return undefined;\r\n    };\r\n    CodeActionUi.prototype.showCodeActionList = function (actions, at, options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                this._codeActionWidget.getValue().show(actions, at, options);\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    CodeActionUi = __decorate([\r\n        __param(4, IInstantiationService)\r\n    ], CodeActionUi);\r\n    return CodeActionUi;\r\n}(Disposable));\r\nexport { CodeActionUi };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { createCancelablePromise, TimeoutTimer } from '../../../base/common/async.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Disposable, MutableDisposable } from '../../../base/common/lifecycle.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { CodeActionProviderRegistry } from '../../common/modes.js';\r\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { getCodeActions } from './codeAction.js';\r\nimport { isEqual } from '../../../base/common/resources.js';\r\nexport var SUPPORTED_CODE_ACTIONS = new RawContextKey('supportedCodeAction', '');\r\nvar CodeActionOracle = /** @class */ (function (_super) {\r\n    __extends(CodeActionOracle, _super);\r\n    function CodeActionOracle(_editor, _markerService, _signalChange, _delay) {\r\n        if (_delay === void 0) { _delay = 250; }\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = _editor;\r\n        _this._markerService = _markerService;\r\n        _this._signalChange = _signalChange;\r\n        _this._delay = _delay;\r\n        _this._autoTriggerTimer = _this._register(new TimeoutTimer());\r\n        _this._register(_this._markerService.onMarkerChanged(function (e) { return _this._onMarkerChanges(e); }));\r\n        _this._register(_this._editor.onDidChangeCursorPosition(function () { return _this._onCursorChange(); }));\r\n        return _this;\r\n    }\r\n    CodeActionOracle.prototype.trigger = function (trigger) {\r\n        var selection = this._getRangeOfSelectionUnlessWhitespaceEnclosed(trigger);\r\n        return this._createEventAndSignalChange(trigger, selection);\r\n    };\r\n    CodeActionOracle.prototype._onMarkerChanges = function (resources) {\r\n        var _this = this;\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return;\r\n        }\r\n        if (resources.some(function (resource) { return isEqual(resource, model.uri); })) {\r\n            this._autoTriggerTimer.cancelAndSet(function () {\r\n                _this.trigger({ type: 'auto' });\r\n            }, this._delay);\r\n        }\r\n    };\r\n    CodeActionOracle.prototype._onCursorChange = function () {\r\n        var _this = this;\r\n        this._autoTriggerTimer.cancelAndSet(function () {\r\n            _this.trigger({ type: 'auto' });\r\n        }, this._delay);\r\n    };\r\n    CodeActionOracle.prototype._getRangeOfMarker = function (selection) {\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return undefined;\r\n        }\r\n        for (var _i = 0, _a = this._markerService.read({ resource: model.uri }); _i < _a.length; _i++) {\r\n            var marker = _a[_i];\r\n            var markerRange = model.validateRange(marker);\r\n            if (Range.intersectRanges(markerRange, selection)) {\r\n                return Range.lift(markerRange);\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    CodeActionOracle.prototype._getRangeOfSelectionUnlessWhitespaceEnclosed = function (trigger) {\r\n        if (!this._editor.hasModel()) {\r\n            return undefined;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var selection = this._editor.getSelection();\r\n        if (selection.isEmpty() && trigger.type === 'auto') {\r\n            var _a = selection.getPosition(), lineNumber = _a.lineNumber, column = _a.column;\r\n            var line = model.getLineContent(lineNumber);\r\n            if (line.length === 0) {\r\n                // empty line\r\n                return undefined;\r\n            }\r\n            else if (column === 1) {\r\n                // look only right\r\n                if (/\\s/.test(line[0])) {\r\n                    return undefined;\r\n                }\r\n            }\r\n            else if (column === model.getLineMaxColumn(lineNumber)) {\r\n                // look only left\r\n                if (/\\s/.test(line[line.length - 1])) {\r\n                    return undefined;\r\n                }\r\n            }\r\n            else {\r\n                // look left and right\r\n                if (/\\s/.test(line[column - 2]) && /\\s/.test(line[column - 1])) {\r\n                    return undefined;\r\n                }\r\n            }\r\n        }\r\n        return selection;\r\n    };\r\n    CodeActionOracle.prototype._createEventAndSignalChange = function (trigger, selection) {\r\n        var model = this._editor.getModel();\r\n        if (!selection || !model) {\r\n            // cancel\r\n            this._signalChange(undefined);\r\n            return undefined;\r\n        }\r\n        var markerRange = this._getRangeOfMarker(selection);\r\n        var position = markerRange ? markerRange.getStartPosition() : selection.getStartPosition();\r\n        var e = {\r\n            trigger: trigger,\r\n            selection: selection,\r\n            position: position\r\n        };\r\n        this._signalChange(e);\r\n        return e;\r\n    };\r\n    return CodeActionOracle;\r\n}(Disposable));\r\nexport var CodeActionsState;\r\n(function (CodeActionsState) {\r\n    CodeActionsState.Empty = { type: 0 /* Empty */ };\r\n    var Triggered = /** @class */ (function () {\r\n        function Triggered(trigger, rangeOrSelection, position, actions) {\r\n            this.trigger = trigger;\r\n            this.rangeOrSelection = rangeOrSelection;\r\n            this.position = position;\r\n            this.actions = actions;\r\n            this.type = 1 /* Triggered */;\r\n        }\r\n        return Triggered;\r\n    }());\r\n    CodeActionsState.Triggered = Triggered;\r\n})(CodeActionsState || (CodeActionsState = {}));\r\nvar CodeActionModel = /** @class */ (function (_super) {\r\n    __extends(CodeActionModel, _super);\r\n    function CodeActionModel(_editor, _markerService, contextKeyService, _progressService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = _editor;\r\n        _this._markerService = _markerService;\r\n        _this._progressService = _progressService;\r\n        _this._codeActionOracle = _this._register(new MutableDisposable());\r\n        _this._state = CodeActionsState.Empty;\r\n        _this._onDidChangeState = _this._register(new Emitter());\r\n        _this.onDidChangeState = _this._onDidChangeState.event;\r\n        _this._supportedCodeActions = SUPPORTED_CODE_ACTIONS.bindTo(contextKeyService);\r\n        _this._register(_this._editor.onDidChangeModel(function () { return _this._update(); }));\r\n        _this._register(_this._editor.onDidChangeModelLanguage(function () { return _this._update(); }));\r\n        _this._register(CodeActionProviderRegistry.onDidChange(function () { return _this._update(); }));\r\n        _this._update();\r\n        return _this;\r\n    }\r\n    CodeActionModel.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        this.setState(CodeActionsState.Empty, true);\r\n    };\r\n    CodeActionModel.prototype._update = function () {\r\n        var _this = this;\r\n        this._codeActionOracle.value = undefined;\r\n        this.setState(CodeActionsState.Empty);\r\n        var model = this._editor.getModel();\r\n        if (model\r\n            && CodeActionProviderRegistry.has(model)\r\n            && !this._editor.getOption(65 /* readOnly */)) {\r\n            var supportedActions = [];\r\n            for (var _i = 0, _a = CodeActionProviderRegistry.all(model); _i < _a.length; _i++) {\r\n                var provider = _a[_i];\r\n                if (Array.isArray(provider.providedCodeActionKinds)) {\r\n                    supportedActions.push.apply(supportedActions, provider.providedCodeActionKinds);\r\n                }\r\n            }\r\n            this._supportedCodeActions.set(supportedActions.join(' '));\r\n            this._codeActionOracle.value = new CodeActionOracle(this._editor, this._markerService, function (trigger) {\r\n                if (!trigger) {\r\n                    _this.setState(CodeActionsState.Empty);\r\n                    return;\r\n                }\r\n                var actions = createCancelablePromise(function (token) { return getCodeActions(model, trigger.selection, trigger.trigger, token); });\r\n                if (_this._progressService && trigger.trigger.type === 'manual') {\r\n                    _this._progressService.showWhile(actions, 250);\r\n                }\r\n                _this.setState(new CodeActionsState.Triggered(trigger.trigger, trigger.selection, trigger.position, actions));\r\n            }, undefined);\r\n            this._codeActionOracle.value.trigger({ type: 'auto' });\r\n        }\r\n        else {\r\n            this._supportedCodeActions.reset();\r\n        }\r\n    };\r\n    CodeActionModel.prototype.trigger = function (trigger) {\r\n        if (this._codeActionOracle.value) {\r\n            this._codeActionOracle.value.trigger(trigger);\r\n        }\r\n    };\r\n    CodeActionModel.prototype.setState = function (newState, skipNotify) {\r\n        if (newState === this._state) {\r\n            return;\r\n        }\r\n        // Cancel old request\r\n        if (this._state.type === 1 /* Triggered */) {\r\n            this._state.actions.cancel();\r\n        }\r\n        this._state = newState;\r\n        if (!skipNotify) {\r\n            this._onDidChangeState.fire(newState);\r\n        }\r\n    };\r\n    return CodeActionModel;\r\n}(Disposable));\r\nexport { CodeActionModel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { Lazy } from '../../../base/common/lazy.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { escapeRegExpCharacters } from '../../../base/common/strings.js';\r\nimport { EditorAction, EditorCommand } from '../../browser/editorExtensions.js';\r\nimport { IBulkEditService } from '../../browser/services/bulkEditService.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { refactorCommandId, sourceActionCommandId, codeActionCommandId, organizeImportsCommandId, fixAllCommandId } from './codeAction.js';\r\nimport { CodeActionUi } from './codeActionUi.js';\r\nimport { MessageController } from '../message/messageController.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { ICommandService } from '../../../platform/commands/common/commands.js';\r\nimport { ContextKeyExpr, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IContextMenuService } from '../../../platform/contextview/browser/contextView.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { IMarkerService } from '../../../platform/markers/common/markers.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nimport { IEditorProgressService } from '../../../platform/progress/common/progress.js';\r\nimport { CodeActionModel, SUPPORTED_CODE_ACTIONS } from './codeActionModel.js';\r\nimport { CodeActionKind, CodeActionCommandArgs } from './types.js';\r\nfunction contextKeyForSupportedActions(kind) {\r\n    return ContextKeyExpr.regex(SUPPORTED_CODE_ACTIONS.keys()[0], new RegExp('(\\\\s|^)' + escapeRegExpCharacters(kind.value) + '\\\\b'));\r\n}\r\nvar argsSchema = {\r\n    type: 'object',\r\n    required: ['kind'],\r\n    defaultSnippets: [{ body: { kind: '' } }],\r\n    properties: {\r\n        'kind': {\r\n            type: 'string',\r\n            description: nls.localize('args.schema.kind', \"Kind of the code action to run.\"),\r\n        },\r\n        'apply': {\r\n            type: 'string',\r\n            description: nls.localize('args.schema.apply', \"Controls when the returned actions are applied.\"),\r\n            default: \"ifSingle\" /* IfSingle */,\r\n            enum: [\"first\" /* First */, \"ifSingle\" /* IfSingle */, \"never\" /* Never */],\r\n            enumDescriptions: [\r\n                nls.localize('args.schema.apply.first', \"Always apply the first returned code action.\"),\r\n                nls.localize('args.schema.apply.ifSingle', \"Apply the first returned code action if it is the only one.\"),\r\n                nls.localize('args.schema.apply.never', \"Do not apply the returned code actions.\"),\r\n            ]\r\n        },\r\n        'preferred': {\r\n            type: 'boolean',\r\n            default: false,\r\n            description: nls.localize('args.schema.preferred', \"Controls if only preferred code actions should be returned.\"),\r\n        }\r\n    }\r\n};\r\nvar QuickFixController = /** @class */ (function (_super) {\r\n    __extends(QuickFixController, _super);\r\n    function QuickFixController(editor, markerService, contextKeyService, progressService, contextMenuService, keybindingService, _commandService, _bulkEditService, _instantiationService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._commandService = _commandService;\r\n        _this._bulkEditService = _bulkEditService;\r\n        _this._instantiationService = _instantiationService;\r\n        _this._editor = editor;\r\n        _this._model = _this._register(new CodeActionModel(_this._editor, markerService, contextKeyService, progressService));\r\n        _this._register(_this._model.onDidChangeState(function (newState) { return _this.update(newState); }));\r\n        _this._ui = new Lazy(function () {\r\n            return _this._register(new CodeActionUi(editor, QuickFixAction.Id, AutoFixAction.Id, {\r\n                applyCodeAction: function (action, retrigger) { return __awaiter(_this, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0:\r\n                                _a.trys.push([0, , 2, 3]);\r\n                                return [4 /*yield*/, this._applyCodeAction(action)];\r\n                            case 1:\r\n                                _a.sent();\r\n                                return [3 /*break*/, 3];\r\n                            case 2:\r\n                                if (retrigger) {\r\n                                    this._trigger({ type: 'auto', filter: {} });\r\n                                }\r\n                                return [7 /*endfinally*/];\r\n                            case 3: return [2 /*return*/];\r\n                        }\r\n                    });\r\n                }); }\r\n            }, _this._instantiationService));\r\n        });\r\n        return _this;\r\n    }\r\n    QuickFixController.get = function (editor) {\r\n        return editor.getContribution(QuickFixController.ID);\r\n    };\r\n    QuickFixController.prototype.update = function (newState) {\r\n        this._ui.getValue().update(newState);\r\n    };\r\n    QuickFixController.prototype.showCodeActions = function (actions, at) {\r\n        return this._ui.getValue().showCodeActionList(actions, at, { includeDisabledActions: false });\r\n    };\r\n    QuickFixController.prototype.manualTriggerAtCurrentPosition = function (notAvailableMessage, filter, autoApply) {\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        MessageController.get(this._editor).closeMessage();\r\n        var triggerPosition = this._editor.getPosition();\r\n        this._trigger({ type: 'manual', filter: filter, autoApply: autoApply, context: { notAvailableMessage: notAvailableMessage, position: triggerPosition } });\r\n    };\r\n    QuickFixController.prototype._trigger = function (trigger) {\r\n        return this._model.trigger(trigger);\r\n    };\r\n    QuickFixController.prototype._applyCodeAction = function (action) {\r\n        return this._instantiationService.invokeFunction(applyCodeAction, action, this._bulkEditService, this._commandService, this._editor);\r\n    };\r\n    QuickFixController.ID = 'editor.contrib.quickFixController';\r\n    QuickFixController = __decorate([\r\n        __param(1, IMarkerService),\r\n        __param(2, IContextKeyService),\r\n        __param(3, IEditorProgressService),\r\n        __param(4, IContextMenuService),\r\n        __param(5, IKeybindingService),\r\n        __param(6, ICommandService),\r\n        __param(7, IBulkEditService),\r\n        __param(8, IInstantiationService)\r\n    ], QuickFixController);\r\n    return QuickFixController;\r\n}(Disposable));\r\nexport { QuickFixController };\r\nexport function applyCodeAction(accessor, action, bulkEditService, commandService, editor) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var notificationService, err_1, message;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    notificationService = accessor.get(INotificationService);\r\n                    if (!action.edit) return [3 /*break*/, 2];\r\n                    return [4 /*yield*/, bulkEditService.apply(action.edit, { editor: editor })];\r\n                case 1:\r\n                    _a.sent();\r\n                    _a.label = 2;\r\n                case 2:\r\n                    if (!action.command) return [3 /*break*/, 6];\r\n                    _a.label = 3;\r\n                case 3:\r\n                    _a.trys.push([3, 5, , 6]);\r\n                    return [4 /*yield*/, commandService.executeCommand.apply(commandService, __spreadArrays([action.command.id], (action.command.arguments || [])))];\r\n                case 4:\r\n                    _a.sent();\r\n                    return [3 /*break*/, 6];\r\n                case 5:\r\n                    err_1 = _a.sent();\r\n                    message = asMessage(err_1);\r\n                    notificationService.error(typeof message === 'string'\r\n                        ? message\r\n                        : nls.localize('applyCodeActionFailed', \"An unknown error occurred while applying the code action\"));\r\n                    return [3 /*break*/, 6];\r\n                case 6: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction asMessage(err) {\r\n    if (typeof err === 'string') {\r\n        return err;\r\n    }\r\n    else if (err instanceof Error && typeof err.message === 'string') {\r\n        return err.message;\r\n    }\r\n    else {\r\n        return undefined;\r\n    }\r\n}\r\nfunction triggerCodeActionsForEditorSelection(editor, notAvailableMessage, filter, autoApply) {\r\n    if (editor.hasModel()) {\r\n        var controller = QuickFixController.get(editor);\r\n        if (controller) {\r\n            controller.manualTriggerAtCurrentPosition(notAvailableMessage, filter, autoApply);\r\n        }\r\n    }\r\n}\r\nvar QuickFixAction = /** @class */ (function (_super) {\r\n    __extends(QuickFixAction, _super);\r\n    function QuickFixAction() {\r\n        return _super.call(this, {\r\n            id: QuickFixAction.Id,\r\n            label: nls.localize('quickfix.trigger.label', \"Quick Fix...\"),\r\n            alias: 'Quick Fix...',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 84 /* US_DOT */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    QuickFixAction.prototype.run = function (_accessor, editor) {\r\n        return triggerCodeActionsForEditorSelection(editor, nls.localize('editor.action.quickFix.noneMessage', \"No code actions available\"), undefined, undefined);\r\n    };\r\n    QuickFixAction.Id = 'editor.action.quickFix';\r\n    return QuickFixAction;\r\n}(EditorAction));\r\nexport { QuickFixAction };\r\nvar CodeActionCommand = /** @class */ (function (_super) {\r\n    __extends(CodeActionCommand, _super);\r\n    function CodeActionCommand() {\r\n        return _super.call(this, {\r\n            id: codeActionCommandId,\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\r\n            description: {\r\n                description: 'Trigger a code action',\r\n                args: [{ name: 'args', schema: argsSchema, }]\r\n            }\r\n        }) || this;\r\n    }\r\n    CodeActionCommand.prototype.runEditorCommand = function (_accessor, editor, userArgs) {\r\n        var _a;\r\n        var args = CodeActionCommandArgs.fromUser(userArgs, {\r\n            kind: CodeActionKind.Empty,\r\n            apply: \"ifSingle\" /* IfSingle */,\r\n        });\r\n        return triggerCodeActionsForEditorSelection(editor, typeof ((_a = userArgs) === null || _a === void 0 ? void 0 : _a.kind) === 'string'\r\n            ? args.preferred\r\n                ? nls.localize('editor.action.codeAction.noneMessage.preferred.kind', \"No preferred code actions for '{0}' available\", userArgs.kind)\r\n                : nls.localize('editor.action.codeAction.noneMessage.kind', \"No code actions for '{0}' available\", userArgs.kind)\r\n            : args.preferred\r\n                ? nls.localize('editor.action.codeAction.noneMessage.preferred', \"No preferred code actions available\")\r\n                : nls.localize('editor.action.codeAction.noneMessage', \"No code actions available\"), {\r\n            include: args.kind,\r\n            includeSourceActions: true,\r\n            onlyIncludePreferredActions: args.preferred,\r\n        }, args.apply);\r\n    };\r\n    return CodeActionCommand;\r\n}(EditorCommand));\r\nexport { CodeActionCommand };\r\nvar RefactorAction = /** @class */ (function (_super) {\r\n    __extends(RefactorAction, _super);\r\n    function RefactorAction() {\r\n        return _super.call(this, {\r\n            id: refactorCommandId,\r\n            label: nls.localize('refactor.label', \"Refactor...\"),\r\n            alias: 'Refactor...',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 48 /* KEY_R */,\r\n                mac: {\r\n                    primary: 256 /* WinCtrl */ | 1024 /* Shift */ | 48 /* KEY_R */\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                group: '1_modification',\r\n                order: 2,\r\n                when: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.Refactor)),\r\n            },\r\n            description: {\r\n                description: 'Refactor...',\r\n                args: [{ name: 'args', schema: argsSchema }]\r\n            }\r\n        }) || this;\r\n    }\r\n    RefactorAction.prototype.run = function (_accessor, editor, userArgs) {\r\n        var _a;\r\n        var args = CodeActionCommandArgs.fromUser(userArgs, {\r\n            kind: CodeActionKind.Refactor,\r\n            apply: \"never\" /* Never */\r\n        });\r\n        return triggerCodeActionsForEditorSelection(editor, typeof ((_a = userArgs) === null || _a === void 0 ? void 0 : _a.kind) === 'string'\r\n            ? args.preferred\r\n                ? nls.localize('editor.action.refactor.noneMessage.preferred.kind', \"No preferred refactorings for '{0}' available\", userArgs.kind)\r\n                : nls.localize('editor.action.refactor.noneMessage.kind', \"No refactorings for '{0}' available\", userArgs.kind)\r\n            : args.preferred\r\n                ? nls.localize('editor.action.refactor.noneMessage.preferred', \"No preferred refactorings available\")\r\n                : nls.localize('editor.action.refactor.noneMessage', \"No refactorings available\"), {\r\n            include: CodeActionKind.Refactor.contains(args.kind) ? args.kind : CodeActionKind.None,\r\n            onlyIncludePreferredActions: args.preferred,\r\n        }, args.apply);\r\n    };\r\n    return RefactorAction;\r\n}(EditorAction));\r\nexport { RefactorAction };\r\nvar SourceAction = /** @class */ (function (_super) {\r\n    __extends(SourceAction, _super);\r\n    function SourceAction() {\r\n        return _super.call(this, {\r\n            id: sourceActionCommandId,\r\n            label: nls.localize('source.label', \"Source Action...\"),\r\n            alias: 'Source Action...',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCodeActionsProvider),\r\n            contextMenuOpts: {\r\n                group: '1_modification',\r\n                order: 2.1,\r\n                when: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.Source)),\r\n            },\r\n            description: {\r\n                description: 'Source Action...',\r\n                args: [{ name: 'args', schema: argsSchema }]\r\n            }\r\n        }) || this;\r\n    }\r\n    SourceAction.prototype.run = function (_accessor, editor, userArgs) {\r\n        var _a;\r\n        var args = CodeActionCommandArgs.fromUser(userArgs, {\r\n            kind: CodeActionKind.Source,\r\n            apply: \"never\" /* Never */\r\n        });\r\n        return triggerCodeActionsForEditorSelection(editor, typeof ((_a = userArgs) === null || _a === void 0 ? void 0 : _a.kind) === 'string'\r\n            ? args.preferred\r\n                ? nls.localize('editor.action.source.noneMessage.preferred.kind', \"No preferred source actions for '{0}' available\", userArgs.kind)\r\n                : nls.localize('editor.action.source.noneMessage.kind', \"No source actions for '{0}' available\", userArgs.kind)\r\n            : args.preferred\r\n                ? nls.localize('editor.action.source.noneMessage.preferred', \"No preferred source actions available\")\r\n                : nls.localize('editor.action.source.noneMessage', \"No source actions available\"), {\r\n            include: CodeActionKind.Source.contains(args.kind) ? args.kind : CodeActionKind.None,\r\n            includeSourceActions: true,\r\n            onlyIncludePreferredActions: args.preferred,\r\n        }, args.apply);\r\n    };\r\n    return SourceAction;\r\n}(EditorAction));\r\nexport { SourceAction };\r\nvar OrganizeImportsAction = /** @class */ (function (_super) {\r\n    __extends(OrganizeImportsAction, _super);\r\n    function OrganizeImportsAction() {\r\n        return _super.call(this, {\r\n            id: organizeImportsCommandId,\r\n            label: nls.localize('organizeImports.label', \"Organize Imports\"),\r\n            alias: 'Organize Imports',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.SourceOrganizeImports)),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 45 /* KEY_O */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n        }) || this;\r\n    }\r\n    OrganizeImportsAction.prototype.run = function (_accessor, editor) {\r\n        return triggerCodeActionsForEditorSelection(editor, nls.localize('editor.action.organize.noneMessage', \"No organize imports action available\"), { include: CodeActionKind.SourceOrganizeImports, includeSourceActions: true }, \"ifSingle\" /* IfSingle */);\r\n    };\r\n    return OrganizeImportsAction;\r\n}(EditorAction));\r\nexport { OrganizeImportsAction };\r\nvar FixAllAction = /** @class */ (function (_super) {\r\n    __extends(FixAllAction, _super);\r\n    function FixAllAction() {\r\n        return _super.call(this, {\r\n            id: fixAllCommandId,\r\n            label: nls.localize('fixAll.label', \"Fix All\"),\r\n            alias: 'Fix All',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.SourceFixAll))\r\n        }) || this;\r\n    }\r\n    FixAllAction.prototype.run = function (_accessor, editor) {\r\n        return triggerCodeActionsForEditorSelection(editor, nls.localize('fixAll.noneMessage', \"No fix all action available\"), { include: CodeActionKind.SourceFixAll, includeSourceActions: true }, \"ifSingle\" /* IfSingle */);\r\n    };\r\n    return FixAllAction;\r\n}(EditorAction));\r\nexport { FixAllAction };\r\nvar AutoFixAction = /** @class */ (function (_super) {\r\n    __extends(AutoFixAction, _super);\r\n    function AutoFixAction() {\r\n        return _super.call(this, {\r\n            id: AutoFixAction.Id,\r\n            label: nls.localize('autoFix.label', \"Auto Fix...\"),\r\n            alias: 'Auto Fix...',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, contextKeyForSupportedActions(CodeActionKind.QuickFix)),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 512 /* Alt */ | 1024 /* Shift */ | 84 /* US_DOT */,\r\n                mac: {\r\n                    primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 84 /* US_DOT */\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    AutoFixAction.prototype.run = function (_accessor, editor) {\r\n        return triggerCodeActionsForEditorSelection(editor, nls.localize('editor.action.autoFix.noneMessage', \"No auto fixes available\"), {\r\n            include: CodeActionKind.QuickFix,\r\n            onlyIncludePreferredActions: true\r\n        }, \"ifSingle\" /* IfSingle */);\r\n    };\r\n    AutoFixAction.Id = 'editor.action.autoFix';\r\n    return AutoFixAction;\r\n}(EditorAction));\r\nexport { AutoFixAction };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { registerEditorAction, registerEditorCommand, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { CodeActionCommand, OrganizeImportsAction, QuickFixAction, QuickFixController, RefactorAction, SourceAction, AutoFixAction, FixAllAction } from './codeActionCommands.js';\r\nregisterEditorContribution(QuickFixController.ID, QuickFixController);\r\nregisterEditorAction(QuickFixAction);\r\nregisterEditorAction(RefactorAction);\r\nregisterEditorAction(SourceAction);\r\nregisterEditorAction(OrganizeImportsAction);\r\nregisterEditorAction(AutoFixAction);\r\nregisterEditorAction(FixAllAction);\r\nregisterEditorCommand(new CodeActionCommand());\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { mergeSort } from '../../../base/common/arrays.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { illegalArgument, onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { registerLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport { CodeLensProviderRegistry } from '../../common/modes.js';\r\nimport { IModelService } from '../../common/services/modelService.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nvar CodeLensModel = /** @class */ (function () {\r\n    function CodeLensModel() {\r\n        this.lenses = [];\r\n        this._disposables = new DisposableStore();\r\n    }\r\n    CodeLensModel.prototype.dispose = function () {\r\n        this._disposables.dispose();\r\n    };\r\n    CodeLensModel.prototype.add = function (list, provider) {\r\n        this._disposables.add(list);\r\n        for (var _i = 0, _a = list.lenses; _i < _a.length; _i++) {\r\n            var symbol = _a[_i];\r\n            this.lenses.push({ symbol: symbol, provider: provider });\r\n        }\r\n    };\r\n    return CodeLensModel;\r\n}());\r\nexport { CodeLensModel };\r\nexport function getCodeLensData(model, token) {\r\n    var provider = CodeLensProviderRegistry.ordered(model);\r\n    var providerRanks = new Map();\r\n    var result = new CodeLensModel();\r\n    var promises = provider.map(function (provider, i) {\r\n        providerRanks.set(provider, i);\r\n        return Promise.resolve(provider.provideCodeLenses(model, token))\r\n            .then(function (list) { return list && result.add(list, provider); })\r\n            .catch(onUnexpectedExternalError);\r\n    });\r\n    return Promise.all(promises).then(function () {\r\n        result.lenses = mergeSort(result.lenses, function (a, b) {\r\n            // sort by lineNumber, provider-rank, and column\r\n            if (a.symbol.range.startLineNumber < b.symbol.range.startLineNumber) {\r\n                return -1;\r\n            }\r\n            else if (a.symbol.range.startLineNumber > b.symbol.range.startLineNumber) {\r\n                return 1;\r\n            }\r\n            else if (providerRanks.get(a.provider) < providerRanks.get(b.provider)) {\r\n                return -1;\r\n            }\r\n            else if (providerRanks.get(a.provider) > providerRanks.get(b.provider)) {\r\n                return 1;\r\n            }\r\n            else if (a.symbol.range.startColumn < b.symbol.range.startColumn) {\r\n                return -1;\r\n            }\r\n            else if (a.symbol.range.startColumn > b.symbol.range.startColumn) {\r\n                return 1;\r\n            }\r\n            else {\r\n                return 0;\r\n            }\r\n        });\r\n        return result;\r\n    });\r\n}\r\nregisterLanguageCommand('_executeCodeLensProvider', function (accessor, args) {\r\n    var resource = args.resource, itemResolveCount = args.itemResolveCount;\r\n    if (!(resource instanceof URI)) {\r\n        throw illegalArgument();\r\n    }\r\n    var model = accessor.get(IModelService).getModel(resource);\r\n    if (!model) {\r\n        throw illegalArgument();\r\n    }\r\n    var result = [];\r\n    var disposables = new DisposableStore();\r\n    return getCodeLensData(model, CancellationToken.None).then(function (value) {\r\n        disposables.add(value);\r\n        var resolve = [];\r\n        var _loop_1 = function (item) {\r\n            if (typeof itemResolveCount === 'undefined' || Boolean(item.symbol.command)) {\r\n                result.push(item.symbol);\r\n            }\r\n            else if (itemResolveCount-- > 0 && item.provider.resolveCodeLens) {\r\n                resolve.push(Promise.resolve(item.provider.resolveCodeLens(model, item.symbol, CancellationToken.None)).then(function (symbol) { return result.push(symbol || item.symbol); }));\r\n            }\r\n        };\r\n        for (var _i = 0, _a = value.lenses; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            _loop_1(item);\r\n        }\r\n        return Promise.all(resolve);\r\n    }).then(function () {\r\n        return result;\r\n    }).finally(function () {\r\n        // make sure to return results, then (on next tick)\r\n        // dispose the results\r\n        setTimeout(function () { return disposables.dispose(); }, 100);\r\n    });\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './codicon/codicon.css';\r\nimport './codicon/codicon-animations.css';\r\nimport { escape } from '../../../common/strings.js';\r\nfunction expand(text) {\r\n    return text.replace(/\\$\\((([a-z0-9\\-]+?)(~([a-z0-9\\-]*?))?)\\)/gi, function (_match, _g1, name, _g3, animation) {\r\n        return \"<span class=\\\"codicon codicon-\" + name + \" \" + (animation ? \"codicon-animation-\" + animation : '') + \"\\\"></span>\";\r\n    });\r\n}\r\nexport function renderCodicons(label) {\r\n    return expand(escape(label));\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './codelensWidget.css';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { renderCodicons } from '../../../base/browser/ui/codiconLabel/codiconLabel.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { editorCodeLensForeground } from '../../common/view/editorColorRegistry.js';\r\nimport { editorActiveLinkForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nvar CodeLensViewZone = /** @class */ (function () {\r\n    function CodeLensViewZone(afterLineNumber, onHeight) {\r\n        this.afterLineNumber = afterLineNumber;\r\n        this._onHeight = onHeight;\r\n        this.heightInLines = 1;\r\n        this.suppressMouseDown = true;\r\n        this.domNode = document.createElement('div');\r\n    }\r\n    CodeLensViewZone.prototype.onComputedHeight = function (height) {\r\n        if (this._lastHeight === undefined) {\r\n            this._lastHeight = height;\r\n        }\r\n        else if (this._lastHeight !== height) {\r\n            this._lastHeight = height;\r\n            this._onHeight();\r\n        }\r\n    };\r\n    return CodeLensViewZone;\r\n}());\r\nvar CodeLensContentWidget = /** @class */ (function () {\r\n    function CodeLensContentWidget(editor, className, line) {\r\n        // Editor.IContentWidget.allowEditorOverflow\r\n        this.allowEditorOverflow = false;\r\n        this.suppressMouseDown = true;\r\n        this._commands = new Map();\r\n        this._isEmpty = true;\r\n        this._editor = editor;\r\n        this._id = \"codelens.widget-\" + (CodeLensContentWidget._idPool++);\r\n        this.updatePosition(line);\r\n        this._domNode = document.createElement('span');\r\n        this._domNode.className = \"codelens-decoration \" + className;\r\n    }\r\n    CodeLensContentWidget.prototype.withCommands = function (lenses, animate) {\r\n        this._commands.clear();\r\n        var innerHtml = '';\r\n        var hasSymbol = false;\r\n        for (var i = 0; i < lenses.length; i++) {\r\n            var lens = lenses[i];\r\n            if (!lens) {\r\n                continue;\r\n            }\r\n            hasSymbol = true;\r\n            if (lens.command) {\r\n                var title = renderCodicons(lens.command.title);\r\n                if (lens.command.id) {\r\n                    innerHtml += \"<a id=\" + i + \">\" + title + \"</a>\";\r\n                    this._commands.set(String(i), lens.command);\r\n                }\r\n                else {\r\n                    innerHtml += \"<span>\" + title + \"</span>\";\r\n                }\r\n                if (i + 1 < lenses.length) {\r\n                    innerHtml += '<span>&#160;|&#160;</span>';\r\n                }\r\n            }\r\n        }\r\n        if (!hasSymbol) {\r\n            // symbols but no commands\r\n            this._domNode.innerHTML = '<span>no commands</span>';\r\n        }\r\n        else {\r\n            // symbols and commands\r\n            if (!innerHtml) {\r\n                innerHtml = '&#160;';\r\n            }\r\n            this._domNode.innerHTML = innerHtml;\r\n            if (this._isEmpty && animate) {\r\n                dom.addClass(this._domNode, 'fadein');\r\n            }\r\n            this._isEmpty = false;\r\n        }\r\n    };\r\n    CodeLensContentWidget.prototype.getCommand = function (link) {\r\n        return link.parentElement === this._domNode\r\n            ? this._commands.get(link.id)\r\n            : undefined;\r\n    };\r\n    CodeLensContentWidget.prototype.getId = function () {\r\n        return this._id;\r\n    };\r\n    CodeLensContentWidget.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    CodeLensContentWidget.prototype.updatePosition = function (line) {\r\n        var column = this._editor.getModel().getLineFirstNonWhitespaceColumn(line);\r\n        this._widgetPosition = {\r\n            position: { lineNumber: line, column: column },\r\n            preference: [1 /* ABOVE */]\r\n        };\r\n    };\r\n    CodeLensContentWidget.prototype.getPosition = function () {\r\n        return this._widgetPosition || null;\r\n    };\r\n    CodeLensContentWidget._idPool = 0;\r\n    return CodeLensContentWidget;\r\n}());\r\nvar CodeLensHelper = /** @class */ (function () {\r\n    function CodeLensHelper() {\r\n        this._removeDecorations = [];\r\n        this._addDecorations = [];\r\n        this._addDecorationsCallbacks = [];\r\n    }\r\n    CodeLensHelper.prototype.addDecoration = function (decoration, callback) {\r\n        this._addDecorations.push(decoration);\r\n        this._addDecorationsCallbacks.push(callback);\r\n    };\r\n    CodeLensHelper.prototype.removeDecoration = function (decorationId) {\r\n        this._removeDecorations.push(decorationId);\r\n    };\r\n    CodeLensHelper.prototype.commit = function (changeAccessor) {\r\n        var resultingDecorations = changeAccessor.deltaDecorations(this._removeDecorations, this._addDecorations);\r\n        for (var i = 0, len = resultingDecorations.length; i < len; i++) {\r\n            this._addDecorationsCallbacks[i](resultingDecorations[i]);\r\n        }\r\n    };\r\n    return CodeLensHelper;\r\n}());\r\nexport { CodeLensHelper };\r\nvar CodeLensWidget = /** @class */ (function () {\r\n    function CodeLensWidget(data, editor, className, helper, viewZoneChangeAccessor, updateCallback) {\r\n        var _this = this;\r\n        this._isDisposed = false;\r\n        this._editor = editor;\r\n        this._className = className;\r\n        this._data = data;\r\n        // create combined range, track all ranges with decorations,\r\n        // check if there is already something to render\r\n        this._decorationIds = [];\r\n        var range;\r\n        var lenses = [];\r\n        this._data.forEach(function (codeLensData, i) {\r\n            if (codeLensData.symbol.command) {\r\n                lenses.push(codeLensData.symbol);\r\n            }\r\n            helper.addDecoration({\r\n                range: codeLensData.symbol.range,\r\n                options: ModelDecorationOptions.EMPTY\r\n            }, function (id) { return _this._decorationIds[i] = id; });\r\n            // the range contains all lenses on this line\r\n            if (!range) {\r\n                range = Range.lift(codeLensData.symbol.range);\r\n            }\r\n            else {\r\n                range = Range.plusRange(range, codeLensData.symbol.range);\r\n            }\r\n        });\r\n        this._viewZone = new CodeLensViewZone(range.startLineNumber - 1, updateCallback);\r\n        this._viewZoneId = viewZoneChangeAccessor.addZone(this._viewZone);\r\n        if (lenses.length > 0) {\r\n            this._createContentWidgetIfNecessary();\r\n            this._contentWidget.withCommands(lenses, false);\r\n        }\r\n    }\r\n    CodeLensWidget.prototype._createContentWidgetIfNecessary = function () {\r\n        if (!this._contentWidget) {\r\n            this._contentWidget = new CodeLensContentWidget(this._editor, this._className, this._viewZone.afterLineNumber + 1);\r\n            this._editor.addContentWidget(this._contentWidget);\r\n        }\r\n    };\r\n    CodeLensWidget.prototype.dispose = function (helper, viewZoneChangeAccessor) {\r\n        this._decorationIds.forEach(helper.removeDecoration, helper);\r\n        this._decorationIds = [];\r\n        if (viewZoneChangeAccessor) {\r\n            viewZoneChangeAccessor.removeZone(this._viewZoneId);\r\n        }\r\n        if (this._contentWidget) {\r\n            this._editor.removeContentWidget(this._contentWidget);\r\n            this._contentWidget = undefined;\r\n        }\r\n        this._isDisposed = true;\r\n    };\r\n    CodeLensWidget.prototype.isDisposed = function () {\r\n        return this._isDisposed;\r\n    };\r\n    CodeLensWidget.prototype.isValid = function () {\r\n        var _this = this;\r\n        return this._decorationIds.some(function (id, i) {\r\n            var range = _this._editor.getModel().getDecorationRange(id);\r\n            var symbol = _this._data[i].symbol;\r\n            return !!(range && Range.isEmpty(symbol.range) === range.isEmpty());\r\n        });\r\n    };\r\n    CodeLensWidget.prototype.updateCodeLensSymbols = function (data, helper) {\r\n        var _this = this;\r\n        this._decorationIds.forEach(helper.removeDecoration, helper);\r\n        this._decorationIds = [];\r\n        this._data = data;\r\n        this._data.forEach(function (codeLensData, i) {\r\n            helper.addDecoration({\r\n                range: codeLensData.symbol.range,\r\n                options: ModelDecorationOptions.EMPTY\r\n            }, function (id) { return _this._decorationIds[i] = id; });\r\n        });\r\n    };\r\n    CodeLensWidget.prototype.computeIfNecessary = function (model) {\r\n        if (!this._viewZone.domNode.hasAttribute('monaco-visible-view-zone')) {\r\n            return null;\r\n        }\r\n        // Read editor current state\r\n        for (var i = 0; i < this._decorationIds.length; i++) {\r\n            var range = model.getDecorationRange(this._decorationIds[i]);\r\n            if (range) {\r\n                this._data[i].symbol.range = range;\r\n            }\r\n        }\r\n        return this._data;\r\n    };\r\n    CodeLensWidget.prototype.updateCommands = function (symbols) {\r\n        this._createContentWidgetIfNecessary();\r\n        this._contentWidget.withCommands(symbols, true);\r\n        for (var i = 0; i < this._data.length; i++) {\r\n            var resolved = symbols[i];\r\n            if (resolved) {\r\n                var symbol = this._data[i].symbol;\r\n                symbol.command = resolved.command || symbol.command;\r\n            }\r\n        }\r\n    };\r\n    CodeLensWidget.prototype.getCommand = function (link) {\r\n        var _a;\r\n        return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.getCommand(link);\r\n    };\r\n    CodeLensWidget.prototype.getLineNumber = function () {\r\n        var range = this._editor.getModel().getDecorationRange(this._decorationIds[0]);\r\n        if (range) {\r\n            return range.startLineNumber;\r\n        }\r\n        return -1;\r\n    };\r\n    CodeLensWidget.prototype.update = function (viewZoneChangeAccessor) {\r\n        if (this.isValid()) {\r\n            var range = this._editor.getModel().getDecorationRange(this._decorationIds[0]);\r\n            if (range) {\r\n                this._viewZone.afterLineNumber = range.startLineNumber - 1;\r\n                viewZoneChangeAccessor.layoutZone(this._viewZoneId);\r\n                if (this._contentWidget) {\r\n                    this._contentWidget.updatePosition(range.startLineNumber);\r\n                    this._editor.layoutContentWidget(this._contentWidget);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return CodeLensWidget;\r\n}());\r\nexport { CodeLensWidget };\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var codeLensForeground = theme.getColor(editorCodeLensForeground);\r\n    if (codeLensForeground) {\r\n        collector.addRule(\".monaco-editor .codelens-decoration { color: \" + codeLensForeground + \"; }\");\r\n    }\r\n    var activeLinkForeground = theme.getColor(editorActiveLinkForeground);\r\n    if (activeLinkForeground) {\r\n        collector.addRule(\".monaco-editor .codelens-decoration > a:hover { color: \" + activeLinkForeground + \" !important; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\r\nimport { CodeLensModel } from './codelens.js';\r\nimport { LRUCache, values } from '../../../base/common/map.js';\r\nimport { IStorageService, WillSaveStateReason } from '../../../platform/storage/common/storage.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { runWhenIdle } from '../../../base/common/async.js';\r\nimport { once } from '../../../base/common/functional.js';\r\nexport var ICodeLensCache = createDecorator('ICodeLensCache');\r\nvar CacheItem = /** @class */ (function () {\r\n    function CacheItem(lineCount, data) {\r\n        this.lineCount = lineCount;\r\n        this.data = data;\r\n    }\r\n    return CacheItem;\r\n}());\r\nvar CodeLensCache = /** @class */ (function () {\r\n    function CodeLensCache(storageService) {\r\n        var _this = this;\r\n        this._fakeProvider = new /** @class */ (function () {\r\n            function class_1() {\r\n            }\r\n            class_1.prototype.provideCodeLenses = function () {\r\n                throw new Error('not supported');\r\n            };\r\n            return class_1;\r\n        }());\r\n        this._cache = new LRUCache(20, 0.75);\r\n        // remove old data\r\n        var oldkey = 'codelens/cache';\r\n        runWhenIdle(function () { return storageService.remove(oldkey, 1 /* WORKSPACE */); });\r\n        // restore lens data on start\r\n        var key = 'codelens/cache2';\r\n        var raw = storageService.get(key, 1 /* WORKSPACE */, '{}');\r\n        this._deserialize(raw);\r\n        // store lens data on shutdown\r\n        once(storageService.onWillSaveState)(function (e) {\r\n            if (e.reason === WillSaveStateReason.SHUTDOWN) {\r\n                storageService.store(key, _this._serialize(), 1 /* WORKSPACE */);\r\n            }\r\n        });\r\n    }\r\n    CodeLensCache.prototype.put = function (model, data) {\r\n        // create a copy of the model that is without command-ids\r\n        // but with comand-labels\r\n        var copyItems = data.lenses.map(function (item) {\r\n            var _a;\r\n            return {\r\n                range: item.symbol.range,\r\n                command: item.symbol.command && { id: '', title: (_a = item.symbol.command) === null || _a === void 0 ? void 0 : _a.title },\r\n            };\r\n        });\r\n        var copyModel = new CodeLensModel();\r\n        copyModel.add({ lenses: copyItems, dispose: function () { } }, this._fakeProvider);\r\n        var item = new CacheItem(model.getLineCount(), copyModel);\r\n        this._cache.set(model.uri.toString(), item);\r\n    };\r\n    CodeLensCache.prototype.get = function (model) {\r\n        var item = this._cache.get(model.uri.toString());\r\n        return item && item.lineCount === model.getLineCount() ? item.data : undefined;\r\n    };\r\n    CodeLensCache.prototype.delete = function (model) {\r\n        this._cache.delete(model.uri.toString());\r\n    };\r\n    // --- persistence\r\n    CodeLensCache.prototype._serialize = function () {\r\n        var data = Object.create(null);\r\n        this._cache.forEach(function (value, key) {\r\n            var lines = new Set();\r\n            for (var _i = 0, _a = value.data.lenses; _i < _a.length; _i++) {\r\n                var d = _a[_i];\r\n                lines.add(d.symbol.range.startLineNumber);\r\n            }\r\n            data[key] = {\r\n                lineCount: value.lineCount,\r\n                lines: values(lines)\r\n            };\r\n        });\r\n        return JSON.stringify(data);\r\n    };\r\n    CodeLensCache.prototype._deserialize = function (raw) {\r\n        try {\r\n            var data = JSON.parse(raw);\r\n            for (var key in data) {\r\n                var element = data[key];\r\n                var lenses = [];\r\n                for (var _i = 0, _a = element.lines; _i < _a.length; _i++) {\r\n                    var line = _a[_i];\r\n                    lenses.push({ range: new Range(line, 1, line, 11) });\r\n                }\r\n                var model = new CodeLensModel();\r\n                model.add({ lenses: lenses, dispose: function () { } }, this._fakeProvider);\r\n                this._cache.set(key, new CacheItem(element.lineCount, model));\r\n            }\r\n        }\r\n        catch (_b) {\r\n            // ignore...\r\n        }\r\n    };\r\n    CodeLensCache = __decorate([\r\n        __param(0, IStorageService)\r\n    ], CodeLensCache);\r\n    return CodeLensCache;\r\n}());\r\nexport { CodeLensCache };\r\nregisterSingleton(ICodeLensCache, CodeLensCache);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { RunOnceScheduler, createCancelablePromise, disposableTimeout } from '../../../base/common/async.js';\r\nimport { onUnexpectedError, onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { toDisposable, DisposableStore, dispose } from '../../../base/common/lifecycle.js';\r\nimport { StableEditorScrollState } from '../../browser/core/editorState.js';\r\nimport { registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { CodeLensProviderRegistry } from '../../common/modes.js';\r\nimport { getCodeLensData } from './codelens.js';\r\nimport { CodeLensWidget, CodeLensHelper } from './codelensWidget.js';\r\nimport { ICommandService } from '../../../platform/commands/common/commands.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nimport { ICodeLensCache } from './codeLensCache.js';\r\nimport { createStyleSheet } from '../../../base/browser/dom.js';\r\nimport { hash } from '../../../base/common/hash.js';\r\nvar CodeLensContribution = /** @class */ (function () {\r\n    function CodeLensContribution(_editor, _commandService, _notificationService, _codeLensCache) {\r\n        var _this = this;\r\n        this._editor = _editor;\r\n        this._commandService = _commandService;\r\n        this._notificationService = _notificationService;\r\n        this._codeLensCache = _codeLensCache;\r\n        this._globalToDispose = new DisposableStore();\r\n        this._localToDispose = new DisposableStore();\r\n        this._lenses = [];\r\n        this._oldCodeLensModels = new DisposableStore();\r\n        this._modelChangeCounter = 0;\r\n        this._isEnabled = this._editor.getOption(11 /* codeLens */);\r\n        this._globalToDispose.add(this._editor.onDidChangeModel(function () { return _this._onModelChange(); }));\r\n        this._globalToDispose.add(this._editor.onDidChangeModelLanguage(function () { return _this._onModelChange(); }));\r\n        this._globalToDispose.add(this._editor.onDidChangeConfiguration(function () {\r\n            var prevIsEnabled = _this._isEnabled;\r\n            _this._isEnabled = _this._editor.getOption(11 /* codeLens */);\r\n            if (prevIsEnabled !== _this._isEnabled) {\r\n                _this._onModelChange();\r\n            }\r\n        }));\r\n        this._globalToDispose.add(CodeLensProviderRegistry.onDidChange(this._onModelChange, this));\r\n        this._globalToDispose.add(this._editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(32 /* fontInfo */)) {\r\n                _this._updateLensStyle();\r\n            }\r\n        }));\r\n        this._onModelChange();\r\n        this._styleClassName = hash(this._editor.getId()).toString(16);\r\n        this._styleElement = createStyleSheet();\r\n        this._updateLensStyle();\r\n    }\r\n    CodeLensContribution.prototype.dispose = function () {\r\n        this._localDispose();\r\n        this._globalToDispose.dispose();\r\n        this._oldCodeLensModels.dispose();\r\n        dispose(this._currentCodeLensModel);\r\n    };\r\n    CodeLensContribution.prototype._updateLensStyle = function () {\r\n        var options = this._editor.getOptions();\r\n        var fontInfo = options.get(32 /* fontInfo */);\r\n        var lineHeight = options.get(47 /* lineHeight */);\r\n        var newStyle = \".monaco-editor .codelens-decoration.\" + this._styleClassName + \" { height: \" + Math.round(lineHeight * 1.1) + \"px; line-height: \" + lineHeight + \"px; font-size: \" + Math.round(fontInfo.fontSize * 0.9) + \"px; padding-right: \" + Math.round(fontInfo.fontSize * 0.45) + \"px;}\";\r\n        this._styleElement.innerHTML = newStyle;\r\n    };\r\n    CodeLensContribution.prototype._localDispose = function () {\r\n        if (this._currentFindCodeLensSymbolsPromise) {\r\n            this._currentFindCodeLensSymbolsPromise.cancel();\r\n            this._currentFindCodeLensSymbolsPromise = undefined;\r\n            this._modelChangeCounter++;\r\n        }\r\n        if (this._currentResolveCodeLensSymbolsPromise) {\r\n            this._currentResolveCodeLensSymbolsPromise.cancel();\r\n            this._currentResolveCodeLensSymbolsPromise = undefined;\r\n        }\r\n        this._localToDispose.clear();\r\n        this._oldCodeLensModels.clear();\r\n        dispose(this._currentCodeLensModel);\r\n    };\r\n    CodeLensContribution.prototype._onModelChange = function () {\r\n        var _this = this;\r\n        this._localDispose();\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return;\r\n        }\r\n        if (!this._isEnabled) {\r\n            return;\r\n        }\r\n        var cachedLenses = this._codeLensCache.get(model);\r\n        if (cachedLenses) {\r\n            this._renderCodeLensSymbols(cachedLenses);\r\n        }\r\n        if (!CodeLensProviderRegistry.has(model)) {\r\n            // no provider -> return but check with\r\n            // cached lenses. they expire after 30 seconds\r\n            if (cachedLenses) {\r\n                this._localToDispose.add(disposableTimeout(function () {\r\n                    var cachedLensesNow = _this._codeLensCache.get(model);\r\n                    if (cachedLenses === cachedLensesNow) {\r\n                        _this._codeLensCache.delete(model);\r\n                        _this._onModelChange();\r\n                    }\r\n                }, 30 * 1000));\r\n            }\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = CodeLensProviderRegistry.all(model); _i < _a.length; _i++) {\r\n            var provider = _a[_i];\r\n            if (typeof provider.onDidChange === 'function') {\r\n                var registration = provider.onDidChange(function () { return scheduler.schedule(); });\r\n                this._localToDispose.add(registration);\r\n            }\r\n        }\r\n        var detectVisibleLenses = this._detectVisibleLenses = new RunOnceScheduler(function () { return _this._onViewportChanged(); }, 250);\r\n        var scheduler = new RunOnceScheduler(function () {\r\n            var counterValue = ++_this._modelChangeCounter;\r\n            if (_this._currentFindCodeLensSymbolsPromise) {\r\n                _this._currentFindCodeLensSymbolsPromise.cancel();\r\n            }\r\n            _this._currentFindCodeLensSymbolsPromise = createCancelablePromise(function (token) { return getCodeLensData(model, token); });\r\n            _this._currentFindCodeLensSymbolsPromise.then(function (result) {\r\n                if (counterValue === _this._modelChangeCounter) { // only the last one wins\r\n                    if (_this._currentCodeLensModel) {\r\n                        _this._oldCodeLensModels.add(_this._currentCodeLensModel);\r\n                    }\r\n                    _this._currentCodeLensModel = result;\r\n                    // cache model to reduce flicker\r\n                    _this._codeLensCache.put(model, result);\r\n                    // render lenses\r\n                    _this._renderCodeLensSymbols(result);\r\n                    detectVisibleLenses.schedule();\r\n                }\r\n            }, onUnexpectedError);\r\n        }, 250);\r\n        this._localToDispose.add(scheduler);\r\n        this._localToDispose.add(detectVisibleLenses);\r\n        this._localToDispose.add(this._editor.onDidChangeModelContent(function () {\r\n            _this._editor.changeDecorations(function (decorationsAccessor) {\r\n                _this._editor.changeViewZones(function (viewZonesAccessor) {\r\n                    var toDispose = [];\r\n                    var lastLensLineNumber = -1;\r\n                    _this._lenses.forEach(function (lens) {\r\n                        if (!lens.isValid() || lastLensLineNumber === lens.getLineNumber()) {\r\n                            // invalid -> lens collapsed, attach range doesn't exist anymore\r\n                            // line_number -> lenses should never be on the same line\r\n                            toDispose.push(lens);\r\n                        }\r\n                        else {\r\n                            lens.update(viewZonesAccessor);\r\n                            lastLensLineNumber = lens.getLineNumber();\r\n                        }\r\n                    });\r\n                    var helper = new CodeLensHelper();\r\n                    toDispose.forEach(function (l) {\r\n                        l.dispose(helper, viewZonesAccessor);\r\n                        _this._lenses.splice(_this._lenses.indexOf(l), 1);\r\n                    });\r\n                    helper.commit(decorationsAccessor);\r\n                });\r\n            });\r\n            // Compute new `visible` code lenses\r\n            detectVisibleLenses.schedule();\r\n            // Ask for all references again\r\n            scheduler.schedule();\r\n        }));\r\n        this._localToDispose.add(this._editor.onDidScrollChange(function (e) {\r\n            if (e.scrollTopChanged && _this._lenses.length > 0) {\r\n                detectVisibleLenses.schedule();\r\n            }\r\n        }));\r\n        this._localToDispose.add(this._editor.onDidLayoutChange(function () {\r\n            detectVisibleLenses.schedule();\r\n        }));\r\n        this._localToDispose.add(toDisposable(function () {\r\n            if (_this._editor.getModel()) {\r\n                var scrollState = StableEditorScrollState.capture(_this._editor);\r\n                _this._editor.changeDecorations(function (decorationsAccessor) {\r\n                    _this._editor.changeViewZones(function (viewZonesAccessor) {\r\n                        _this._disposeAllLenses(decorationsAccessor, viewZonesAccessor);\r\n                    });\r\n                });\r\n                scrollState.restore(_this._editor);\r\n            }\r\n            else {\r\n                // No accessors available\r\n                _this._disposeAllLenses(undefined, undefined);\r\n            }\r\n        }));\r\n        this._localToDispose.add(this._editor.onMouseUp(function (e) {\r\n            var _a;\r\n            var _b, _c;\r\n            if (e.target.type !== 9 /* CONTENT_WIDGET */) {\r\n                return;\r\n            }\r\n            var target = e.target.element;\r\n            if (((_b = target) === null || _b === void 0 ? void 0 : _b.tagName) === 'SPAN') {\r\n                target = target.parentElement;\r\n            }\r\n            if (((_c = target) === null || _c === void 0 ? void 0 : _c.tagName) === 'A') {\r\n                for (var _i = 0, _d = _this._lenses; _i < _d.length; _i++) {\r\n                    var lens = _d[_i];\r\n                    var command = lens.getCommand(target);\r\n                    if (command) {\r\n                        (_a = _this._commandService).executeCommand.apply(_a, __spreadArrays([command.id], (command.arguments || []))).catch(function (err) { return _this._notificationService.error(err); });\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        scheduler.schedule();\r\n    };\r\n    CodeLensContribution.prototype._disposeAllLenses = function (decChangeAccessor, viewZoneChangeAccessor) {\r\n        var helper = new CodeLensHelper();\r\n        for (var _i = 0, _a = this._lenses; _i < _a.length; _i++) {\r\n            var lens = _a[_i];\r\n            lens.dispose(helper, viewZoneChangeAccessor);\r\n        }\r\n        if (decChangeAccessor) {\r\n            helper.commit(decChangeAccessor);\r\n        }\r\n        this._lenses = [];\r\n    };\r\n    CodeLensContribution.prototype._renderCodeLensSymbols = function (symbols) {\r\n        var _this = this;\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var maxLineNumber = this._editor.getModel().getLineCount();\r\n        var groups = [];\r\n        var lastGroup;\r\n        for (var _i = 0, _a = symbols.lenses; _i < _a.length; _i++) {\r\n            var symbol = _a[_i];\r\n            var line = symbol.symbol.range.startLineNumber;\r\n            if (line < 1 || line > maxLineNumber) {\r\n                // invalid code lens\r\n                continue;\r\n            }\r\n            else if (lastGroup && lastGroup[lastGroup.length - 1].symbol.range.startLineNumber === line) {\r\n                // on same line as previous\r\n                lastGroup.push(symbol);\r\n            }\r\n            else {\r\n                // on later line as previous\r\n                lastGroup = [symbol];\r\n                groups.push(lastGroup);\r\n            }\r\n        }\r\n        var scrollState = StableEditorScrollState.capture(this._editor);\r\n        this._editor.changeDecorations(function (decorationsAccessor) {\r\n            _this._editor.changeViewZones(function (viewZoneAccessor) {\r\n                var helper = new CodeLensHelper();\r\n                var codeLensIndex = 0;\r\n                var groupsIndex = 0;\r\n                while (groupsIndex < groups.length && codeLensIndex < _this._lenses.length) {\r\n                    var symbolsLineNumber = groups[groupsIndex][0].symbol.range.startLineNumber;\r\n                    var codeLensLineNumber = _this._lenses[codeLensIndex].getLineNumber();\r\n                    if (codeLensLineNumber < symbolsLineNumber) {\r\n                        _this._lenses[codeLensIndex].dispose(helper, viewZoneAccessor);\r\n                        _this._lenses.splice(codeLensIndex, 1);\r\n                    }\r\n                    else if (codeLensLineNumber === symbolsLineNumber) {\r\n                        _this._lenses[codeLensIndex].updateCodeLensSymbols(groups[groupsIndex], helper);\r\n                        groupsIndex++;\r\n                        codeLensIndex++;\r\n                    }\r\n                    else {\r\n                        _this._lenses.splice(codeLensIndex, 0, new CodeLensWidget(groups[groupsIndex], _this._editor, _this._styleClassName, helper, viewZoneAccessor, function () { return _this._detectVisibleLenses && _this._detectVisibleLenses.schedule(); }));\r\n                        codeLensIndex++;\r\n                        groupsIndex++;\r\n                    }\r\n                }\r\n                // Delete extra code lenses\r\n                while (codeLensIndex < _this._lenses.length) {\r\n                    _this._lenses[codeLensIndex].dispose(helper, viewZoneAccessor);\r\n                    _this._lenses.splice(codeLensIndex, 1);\r\n                }\r\n                // Create extra symbols\r\n                while (groupsIndex < groups.length) {\r\n                    _this._lenses.push(new CodeLensWidget(groups[groupsIndex], _this._editor, _this._styleClassName, helper, viewZoneAccessor, function () { return _this._detectVisibleLenses && _this._detectVisibleLenses.schedule(); }));\r\n                    groupsIndex++;\r\n                }\r\n                helper.commit(decorationsAccessor);\r\n            });\r\n        });\r\n        scrollState.restore(this._editor);\r\n    };\r\n    CodeLensContribution.prototype._onViewportChanged = function () {\r\n        var _this = this;\r\n        if (this._currentResolveCodeLensSymbolsPromise) {\r\n            this._currentResolveCodeLensSymbolsPromise.cancel();\r\n            this._currentResolveCodeLensSymbolsPromise = undefined;\r\n        }\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return;\r\n        }\r\n        var toResolve = [];\r\n        var lenses = [];\r\n        this._lenses.forEach(function (lens) {\r\n            var request = lens.computeIfNecessary(model);\r\n            if (request) {\r\n                toResolve.push(request);\r\n                lenses.push(lens);\r\n            }\r\n        });\r\n        if (toResolve.length === 0) {\r\n            return;\r\n        }\r\n        var resolvePromise = createCancelablePromise(function (token) {\r\n            var promises = toResolve.map(function (request, i) {\r\n                var resolvedSymbols = new Array(request.length);\r\n                var promises = request.map(function (request, i) {\r\n                    if (!request.symbol.command && typeof request.provider.resolveCodeLens === 'function') {\r\n                        return Promise.resolve(request.provider.resolveCodeLens(model, request.symbol, token)).then(function (symbol) {\r\n                            resolvedSymbols[i] = symbol;\r\n                        }, onUnexpectedExternalError);\r\n                    }\r\n                    else {\r\n                        resolvedSymbols[i] = request.symbol;\r\n                        return Promise.resolve(undefined);\r\n                    }\r\n                });\r\n                return Promise.all(promises).then(function () {\r\n                    if (!token.isCancellationRequested && !lenses[i].isDisposed()) {\r\n                        lenses[i].updateCommands(resolvedSymbols);\r\n                    }\r\n                });\r\n            });\r\n            return Promise.all(promises);\r\n        });\r\n        this._currentResolveCodeLensSymbolsPromise = resolvePromise;\r\n        this._currentResolveCodeLensSymbolsPromise.then(function () {\r\n            if (_this._currentCodeLensModel) { // update the cached state with new resolved items\r\n                _this._codeLensCache.put(model, _this._currentCodeLensModel);\r\n            }\r\n            _this._oldCodeLensModels.clear(); // dispose old models once we have updated the UI with the current model\r\n            if (resolvePromise === _this._currentResolveCodeLensSymbolsPromise) {\r\n                _this._currentResolveCodeLensSymbolsPromise = undefined;\r\n            }\r\n        }, function (err) {\r\n            onUnexpectedError(err); // can also be cancellation!\r\n            if (resolvePromise === _this._currentResolveCodeLensSymbolsPromise) {\r\n                _this._currentResolveCodeLensSymbolsPromise = undefined;\r\n            }\r\n        });\r\n    };\r\n    CodeLensContribution.ID = 'css.editor.codeLens';\r\n    CodeLensContribution = __decorate([\r\n        __param(1, ICommandService),\r\n        __param(2, INotificationService),\r\n        __param(3, ICodeLensCache)\r\n    ], CodeLensContribution);\r\n    return CodeLensContribution;\r\n}());\r\nexport { CodeLensContribution };\r\nregisterEditorContribution(CodeLensContribution.ID, CodeLensContribution);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { illegalArgument } from '../../../base/common/errors.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { registerLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { ColorProviderRegistry } from '../../common/modes.js';\r\nimport { IModelService } from '../../common/services/modelService.js';\r\nexport function getColors(model, token) {\r\n    var colors = [];\r\n    var providers = ColorProviderRegistry.ordered(model).reverse();\r\n    var promises = providers.map(function (provider) { return Promise.resolve(provider.provideDocumentColors(model, token)).then(function (result) {\r\n        if (Array.isArray(result)) {\r\n            for (var _i = 0, result_1 = result; _i < result_1.length; _i++) {\r\n                var colorInfo = result_1[_i];\r\n                colors.push({ colorInfo: colorInfo, provider: provider });\r\n            }\r\n        }\r\n    }); });\r\n    return Promise.all(promises).then(function () { return colors; });\r\n}\r\nexport function getColorPresentations(model, colorInfo, provider, token) {\r\n    return Promise.resolve(provider.provideColorPresentations(model, colorInfo, token));\r\n}\r\nregisterLanguageCommand('_executeDocumentColorProvider', function (accessor, args) {\r\n    var resource = args.resource;\r\n    if (!(resource instanceof URI)) {\r\n        throw illegalArgument();\r\n    }\r\n    var model = accessor.get(IModelService).getModel(resource);\r\n    if (!model) {\r\n        throw illegalArgument();\r\n    }\r\n    var rawCIs = [];\r\n    var providers = ColorProviderRegistry.ordered(model).reverse();\r\n    var promises = providers.map(function (provider) { return Promise.resolve(provider.provideDocumentColors(model, CancellationToken.None)).then(function (result) {\r\n        if (Array.isArray(result)) {\r\n            for (var _i = 0, result_2 = result; _i < result_2.length; _i++) {\r\n                var ci = result_2[_i];\r\n                rawCIs.push({ range: ci.range, color: [ci.color.red, ci.color.green, ci.color.blue, ci.color.alpha] });\r\n            }\r\n        }\r\n    }); });\r\n    return Promise.all(promises).then(function () { return rawCIs; });\r\n});\r\nregisterLanguageCommand('_executeColorPresentationProvider', function (accessor, args) {\r\n    var resource = args.resource, color = args.color, range = args.range;\r\n    if (!(resource instanceof URI) || !Array.isArray(color) || color.length !== 4 || !Range.isIRange(range)) {\r\n        throw illegalArgument();\r\n    }\r\n    var red = color[0], green = color[1], blue = color[2], alpha = color[3];\r\n    var model = accessor.get(IModelService).getModel(resource);\r\n    if (!model) {\r\n        throw illegalArgument();\r\n    }\r\n    var colorInfo = {\r\n        range: range,\r\n        color: { red: red, green: green, blue: blue, alpha: alpha }\r\n    };\r\n    var presentations = [];\r\n    var providers = ColorProviderRegistry.ordered(model).reverse();\r\n    var promises = providers.map(function (provider) { return Promise.resolve(provider.provideColorPresentations(model, colorInfo, CancellationToken.None)).then(function (result) {\r\n        if (Array.isArray(result)) {\r\n            presentations.push.apply(presentations, result);\r\n        }\r\n    }); });\r\n    return Promise.all(promises).then(function () { return presentations; });\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { TimeoutTimer, createCancelablePromise } from '../../../base/common/async.js';\r\nimport { RGBA } from '../../../base/common/color.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { hash } from '../../../base/common/hash.js';\r\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { ColorProviderRegistry } from '../../common/modes.js';\r\nimport { getColors } from './color.js';\r\nimport { IConfigurationService } from '../../../platform/configuration/common/configuration.js';\r\nvar MAX_DECORATORS = 500;\r\nvar ColorDetector = /** @class */ (function (_super) {\r\n    __extends(ColorDetector, _super);\r\n    function ColorDetector(_editor, _codeEditorService, _configurationService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = _editor;\r\n        _this._codeEditorService = _codeEditorService;\r\n        _this._configurationService = _configurationService;\r\n        _this._localToDispose = _this._register(new DisposableStore());\r\n        _this._decorationsIds = [];\r\n        _this._colorDatas = new Map();\r\n        _this._colorDecoratorIds = [];\r\n        _this._decorationsTypes = new Set();\r\n        _this._register(_editor.onDidChangeModel(function (e) {\r\n            _this._isEnabled = _this.isEnabled();\r\n            _this.onModelChanged();\r\n        }));\r\n        _this._register(_editor.onDidChangeModelLanguage(function (e) { return _this.onModelChanged(); }));\r\n        _this._register(ColorProviderRegistry.onDidChange(function (e) { return _this.onModelChanged(); }));\r\n        _this._register(_editor.onDidChangeConfiguration(function (e) {\r\n            var prevIsEnabled = _this._isEnabled;\r\n            _this._isEnabled = _this.isEnabled();\r\n            if (prevIsEnabled !== _this._isEnabled) {\r\n                if (_this._isEnabled) {\r\n                    _this.onModelChanged();\r\n                }\r\n                else {\r\n                    _this.removeAllDecorations();\r\n                }\r\n            }\r\n        }));\r\n        _this._timeoutTimer = null;\r\n        _this._computePromise = null;\r\n        _this._isEnabled = _this.isEnabled();\r\n        _this.onModelChanged();\r\n        return _this;\r\n    }\r\n    ColorDetector.prototype.isEnabled = function () {\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return false;\r\n        }\r\n        var languageId = model.getLanguageIdentifier();\r\n        // handle deprecated settings. [languageId].colorDecorators.enable\r\n        var deprecatedConfig = this._configurationService.getValue(languageId.language);\r\n        if (deprecatedConfig) {\r\n            var colorDecorators = deprecatedConfig['colorDecorators']; // deprecatedConfig.valueOf('.colorDecorators.enable');\r\n            if (colorDecorators && colorDecorators['enable'] !== undefined && !colorDecorators['enable']) {\r\n                return colorDecorators['enable'];\r\n            }\r\n        }\r\n        return this._editor.getOption(12 /* colorDecorators */);\r\n    };\r\n    ColorDetector.get = function (editor) {\r\n        return editor.getContribution(this.ID);\r\n    };\r\n    ColorDetector.prototype.dispose = function () {\r\n        this.stop();\r\n        this.removeAllDecorations();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    ColorDetector.prototype.onModelChanged = function () {\r\n        var _this = this;\r\n        this.stop();\r\n        if (!this._isEnabled) {\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        if (!model || !ColorProviderRegistry.has(model)) {\r\n            return;\r\n        }\r\n        this._localToDispose.add(this._editor.onDidChangeModelContent(function (e) {\r\n            if (!_this._timeoutTimer) {\r\n                _this._timeoutTimer = new TimeoutTimer();\r\n                _this._timeoutTimer.cancelAndSet(function () {\r\n                    _this._timeoutTimer = null;\r\n                    _this.beginCompute();\r\n                }, ColorDetector.RECOMPUTE_TIME);\r\n            }\r\n        }));\r\n        this.beginCompute();\r\n    };\r\n    ColorDetector.prototype.beginCompute = function () {\r\n        var _this = this;\r\n        this._computePromise = createCancelablePromise(function (token) {\r\n            var model = _this._editor.getModel();\r\n            if (!model) {\r\n                return Promise.resolve([]);\r\n            }\r\n            return getColors(model, token);\r\n        });\r\n        this._computePromise.then(function (colorInfos) {\r\n            _this.updateDecorations(colorInfos);\r\n            _this.updateColorDecorators(colorInfos);\r\n            _this._computePromise = null;\r\n        }, onUnexpectedError);\r\n    };\r\n    ColorDetector.prototype.stop = function () {\r\n        if (this._timeoutTimer) {\r\n            this._timeoutTimer.cancel();\r\n            this._timeoutTimer = null;\r\n        }\r\n        if (this._computePromise) {\r\n            this._computePromise.cancel();\r\n            this._computePromise = null;\r\n        }\r\n        this._localToDispose.clear();\r\n    };\r\n    ColorDetector.prototype.updateDecorations = function (colorDatas) {\r\n        var _this = this;\r\n        var decorations = colorDatas.map(function (c) { return ({\r\n            range: {\r\n                startLineNumber: c.colorInfo.range.startLineNumber,\r\n                startColumn: c.colorInfo.range.startColumn,\r\n                endLineNumber: c.colorInfo.range.endLineNumber,\r\n                endColumn: c.colorInfo.range.endColumn\r\n            },\r\n            options: ModelDecorationOptions.EMPTY\r\n        }); });\r\n        this._decorationsIds = this._editor.deltaDecorations(this._decorationsIds, decorations);\r\n        this._colorDatas = new Map();\r\n        this._decorationsIds.forEach(function (id, i) { return _this._colorDatas.set(id, colorDatas[i]); });\r\n    };\r\n    ColorDetector.prototype.updateColorDecorators = function (colorData) {\r\n        var _this = this;\r\n        var decorations = [];\r\n        var newDecorationsTypes = {};\r\n        for (var i = 0; i < colorData.length && decorations.length < MAX_DECORATORS; i++) {\r\n            var _a = colorData[i].colorInfo.color, red = _a.red, green = _a.green, blue = _a.blue, alpha = _a.alpha;\r\n            var rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\r\n            var subKey = hash(rgba).toString(16);\r\n            var color = \"rgba(\" + rgba.r + \", \" + rgba.g + \", \" + rgba.b + \", \" + rgba.a + \")\";\r\n            var key = 'colorBox-' + subKey;\r\n            if (!this._decorationsTypes.has(key) && !newDecorationsTypes[key]) {\r\n                this._codeEditorService.registerDecorationType(key, {\r\n                    before: {\r\n                        contentText: ' ',\r\n                        border: 'solid 0.1em #000',\r\n                        margin: '0.1em 0.2em 0 0.2em',\r\n                        width: '0.8em',\r\n                        height: '0.8em',\r\n                        backgroundColor: color\r\n                    },\r\n                    dark: {\r\n                        before: {\r\n                            border: 'solid 0.1em #eee'\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            newDecorationsTypes[key] = true;\r\n            decorations.push({\r\n                range: {\r\n                    startLineNumber: colorData[i].colorInfo.range.startLineNumber,\r\n                    startColumn: colorData[i].colorInfo.range.startColumn,\r\n                    endLineNumber: colorData[i].colorInfo.range.endLineNumber,\r\n                    endColumn: colorData[i].colorInfo.range.endColumn\r\n                },\r\n                options: this._codeEditorService.resolveDecorationOptions(key, true)\r\n            });\r\n        }\r\n        this._decorationsTypes.forEach(function (subType) {\r\n            if (!newDecorationsTypes[subType]) {\r\n                _this._codeEditorService.removeDecorationType(subType);\r\n            }\r\n        });\r\n        this._colorDecoratorIds = this._editor.deltaDecorations(this._colorDecoratorIds, decorations);\r\n    };\r\n    ColorDetector.prototype.removeAllDecorations = function () {\r\n        var _this = this;\r\n        this._decorationsIds = this._editor.deltaDecorations(this._decorationsIds, []);\r\n        this._colorDecoratorIds = this._editor.deltaDecorations(this._colorDecoratorIds, []);\r\n        this._decorationsTypes.forEach(function (subType) {\r\n            _this._codeEditorService.removeDecorationType(subType);\r\n        });\r\n    };\r\n    ColorDetector.prototype.getColorData = function (position) {\r\n        var _this = this;\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return null;\r\n        }\r\n        var decorations = model\r\n            .getDecorationsInRange(Range.fromPositions(position, position))\r\n            .filter(function (d) { return _this._colorDatas.has(d.id); });\r\n        if (decorations.length === 0) {\r\n            return null;\r\n        }\r\n        return this._colorDatas.get(decorations[0].id);\r\n    };\r\n    ColorDetector.ID = 'editor.contrib.colorDetector';\r\n    ColorDetector.RECOMPUTE_TIME = 1000; // ms\r\n    ColorDetector = __decorate([\r\n        __param(1, ICodeEditorService),\r\n        __param(2, IConfigurationService)\r\n    ], ColorDetector);\r\n    return ColorDetector;\r\n}(Disposable));\r\nexport { ColorDetector };\r\nregisterEditorContribution(ColorDetector.ID, ColorDetector);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { EditOperation } from '../../common/core/editOperation.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { LanguageConfigurationRegistry } from '../../common/modes/languageConfigurationRegistry.js';\r\nvar BlockCommentCommand = /** @class */ (function () {\r\n    function BlockCommentCommand(selection) {\r\n        this._selection = selection;\r\n        this._usedEndToken = null;\r\n    }\r\n    BlockCommentCommand._haystackHasNeedleAtOffset = function (haystack, needle, offset) {\r\n        if (offset < 0) {\r\n            return false;\r\n        }\r\n        var needleLength = needle.length;\r\n        var haystackLength = haystack.length;\r\n        if (offset + needleLength > haystackLength) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < needleLength; i++) {\r\n            var codeA = haystack.charCodeAt(offset + i);\r\n            var codeB = needle.charCodeAt(i);\r\n            if (codeA === codeB) {\r\n                continue;\r\n            }\r\n            if (codeA >= 65 /* A */ && codeA <= 90 /* Z */ && codeA + 32 === codeB) {\r\n                // codeA is upper-case variant of codeB\r\n                continue;\r\n            }\r\n            if (codeB >= 65 /* A */ && codeB <= 90 /* Z */ && codeB + 32 === codeA) {\r\n                // codeB is upper-case variant of codeA\r\n                continue;\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    BlockCommentCommand.prototype._createOperationsForBlockComment = function (selection, startToken, endToken, model, builder) {\r\n        var startLineNumber = selection.startLineNumber;\r\n        var startColumn = selection.startColumn;\r\n        var endLineNumber = selection.endLineNumber;\r\n        var endColumn = selection.endColumn;\r\n        var startLineText = model.getLineContent(startLineNumber);\r\n        var endLineText = model.getLineContent(endLineNumber);\r\n        var startTokenIndex = startLineText.lastIndexOf(startToken, startColumn - 1 + startToken.length);\r\n        var endTokenIndex = endLineText.indexOf(endToken, endColumn - 1 - endToken.length);\r\n        if (startTokenIndex !== -1 && endTokenIndex !== -1) {\r\n            if (startLineNumber === endLineNumber) {\r\n                var lineBetweenTokens = startLineText.substring(startTokenIndex + startToken.length, endTokenIndex);\r\n                if (lineBetweenTokens.indexOf(endToken) >= 0) {\r\n                    // force to add a block comment\r\n                    startTokenIndex = -1;\r\n                    endTokenIndex = -1;\r\n                }\r\n            }\r\n            else {\r\n                var startLineAfterStartToken = startLineText.substring(startTokenIndex + startToken.length);\r\n                var endLineBeforeEndToken = endLineText.substring(0, endTokenIndex);\r\n                if (startLineAfterStartToken.indexOf(endToken) >= 0 || endLineBeforeEndToken.indexOf(endToken) >= 0) {\r\n                    // force to add a block comment\r\n                    startTokenIndex = -1;\r\n                    endTokenIndex = -1;\r\n                }\r\n            }\r\n        }\r\n        var ops;\r\n        if (startTokenIndex !== -1 && endTokenIndex !== -1) {\r\n            // Consider spaces as part of the comment tokens\r\n            if (startTokenIndex + startToken.length < startLineText.length) {\r\n                if (startLineText.charCodeAt(startTokenIndex + startToken.length) === 32 /* Space */) {\r\n                    // Pretend the start token contains a trailing space\r\n                    startToken = startToken + ' ';\r\n                }\r\n            }\r\n            if (endTokenIndex > 0) {\r\n                if (endLineText.charCodeAt(endTokenIndex - 1) === 32 /* Space */) {\r\n                    // Pretend the end token contains a leading space\r\n                    endToken = ' ' + endToken;\r\n                    endTokenIndex -= 1;\r\n                }\r\n            }\r\n            ops = BlockCommentCommand._createRemoveBlockCommentOperations(new Range(startLineNumber, startTokenIndex + startToken.length + 1, endLineNumber, endTokenIndex + 1), startToken, endToken);\r\n        }\r\n        else {\r\n            ops = BlockCommentCommand._createAddBlockCommentOperations(selection, startToken, endToken);\r\n            this._usedEndToken = ops.length === 1 ? endToken : null;\r\n        }\r\n        for (var _i = 0, ops_1 = ops; _i < ops_1.length; _i++) {\r\n            var op = ops_1[_i];\r\n            builder.addTrackedEditOperation(op.range, op.text);\r\n        }\r\n    };\r\n    BlockCommentCommand._createRemoveBlockCommentOperations = function (r, startToken, endToken) {\r\n        var res = [];\r\n        if (!Range.isEmpty(r)) {\r\n            // Remove block comment start\r\n            res.push(EditOperation.delete(new Range(r.startLineNumber, r.startColumn - startToken.length, r.startLineNumber, r.startColumn)));\r\n            // Remove block comment end\r\n            res.push(EditOperation.delete(new Range(r.endLineNumber, r.endColumn, r.endLineNumber, r.endColumn + endToken.length)));\r\n        }\r\n        else {\r\n            // Remove both continuously\r\n            res.push(EditOperation.delete(new Range(r.startLineNumber, r.startColumn - startToken.length, r.endLineNumber, r.endColumn + endToken.length)));\r\n        }\r\n        return res;\r\n    };\r\n    BlockCommentCommand._createAddBlockCommentOperations = function (r, startToken, endToken) {\r\n        var res = [];\r\n        if (!Range.isEmpty(r)) {\r\n            // Insert block comment start\r\n            res.push(EditOperation.insert(new Position(r.startLineNumber, r.startColumn), startToken + ' '));\r\n            // Insert block comment end\r\n            res.push(EditOperation.insert(new Position(r.endLineNumber, r.endColumn), ' ' + endToken));\r\n        }\r\n        else {\r\n            // Insert both continuously\r\n            res.push(EditOperation.replace(new Range(r.startLineNumber, r.startColumn, r.endLineNumber, r.endColumn), startToken + '  ' + endToken));\r\n        }\r\n        return res;\r\n    };\r\n    BlockCommentCommand.prototype.getEditOperations = function (model, builder) {\r\n        var startLineNumber = this._selection.startLineNumber;\r\n        var startColumn = this._selection.startColumn;\r\n        model.tokenizeIfCheap(startLineNumber);\r\n        var languageId = model.getLanguageIdAtPosition(startLineNumber, startColumn);\r\n        var config = LanguageConfigurationRegistry.getComments(languageId);\r\n        if (!config || !config.blockCommentStartToken || !config.blockCommentEndToken) {\r\n            // Mode does not support block comments\r\n            return;\r\n        }\r\n        this._createOperationsForBlockComment(this._selection, config.blockCommentStartToken, config.blockCommentEndToken, model, builder);\r\n    };\r\n    BlockCommentCommand.prototype.computeCursorState = function (model, helper) {\r\n        var inverseEditOperations = helper.getInverseEditOperations();\r\n        if (inverseEditOperations.length === 2) {\r\n            var startTokenEditOperation = inverseEditOperations[0];\r\n            var endTokenEditOperation = inverseEditOperations[1];\r\n            return new Selection(startTokenEditOperation.range.endLineNumber, startTokenEditOperation.range.endColumn, endTokenEditOperation.range.startLineNumber, endTokenEditOperation.range.startColumn);\r\n        }\r\n        else {\r\n            var srcRange = inverseEditOperations[0].range;\r\n            var deltaColumn = this._usedEndToken ? -this._usedEndToken.length - 1 : 0; // minus 1 space before endToken\r\n            return new Selection(srcRange.endLineNumber, srcRange.endColumn + deltaColumn, srcRange.endLineNumber, srcRange.endColumn + deltaColumn);\r\n        }\r\n    };\r\n    return BlockCommentCommand;\r\n}());\r\nexport { BlockCommentCommand };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { EditOperation } from '../../common/core/editOperation.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { LanguageConfigurationRegistry } from '../../common/modes/languageConfigurationRegistry.js';\r\nimport { BlockCommentCommand } from './blockCommentCommand.js';\r\nvar LineCommentCommand = /** @class */ (function () {\r\n    function LineCommentCommand(selection, tabSize, type) {\r\n        this._selection = selection;\r\n        this._selectionId = null;\r\n        this._tabSize = tabSize;\r\n        this._type = type;\r\n        this._deltaColumn = 0;\r\n        this._moveEndPositionDown = false;\r\n    }\r\n    /**\r\n     * Do an initial pass over the lines and gather info about the line comment string.\r\n     * Returns null if any of the lines doesn't support a line comment string.\r\n     */\r\n    LineCommentCommand._gatherPreflightCommentStrings = function (model, startLineNumber, endLineNumber) {\r\n        model.tokenizeIfCheap(startLineNumber);\r\n        var languageId = model.getLanguageIdAtPosition(startLineNumber, 1);\r\n        var config = LanguageConfigurationRegistry.getComments(languageId);\r\n        var commentStr = (config ? config.lineCommentToken : null);\r\n        if (!commentStr) {\r\n            // Mode does not support line comments\r\n            return null;\r\n        }\r\n        var lines = [];\r\n        for (var i = 0, lineCount = endLineNumber - startLineNumber + 1; i < lineCount; i++) {\r\n            lines[i] = {\r\n                ignore: false,\r\n                commentStr: commentStr,\r\n                commentStrOffset: 0,\r\n                commentStrLength: commentStr.length\r\n            };\r\n        }\r\n        return lines;\r\n    };\r\n    /**\r\n     * Analyze lines and decide which lines are relevant and what the toggle should do.\r\n     * Also, build up several offsets and lengths useful in the generation of editor operations.\r\n     */\r\n    LineCommentCommand._analyzeLines = function (type, model, lines, startLineNumber) {\r\n        var onlyWhitespaceLines = true;\r\n        var shouldRemoveComments;\r\n        if (type === 0 /* Toggle */) {\r\n            shouldRemoveComments = true;\r\n        }\r\n        else if (type === 1 /* ForceAdd */) {\r\n            shouldRemoveComments = false;\r\n        }\r\n        else {\r\n            shouldRemoveComments = true;\r\n        }\r\n        for (var i = 0, lineCount = lines.length; i < lineCount; i++) {\r\n            var lineData = lines[i];\r\n            var lineNumber = startLineNumber + i;\r\n            var lineContent = model.getLineContent(lineNumber);\r\n            var lineContentStartOffset = strings.firstNonWhitespaceIndex(lineContent);\r\n            if (lineContentStartOffset === -1) {\r\n                // Empty or whitespace only line\r\n                if (type === 0 /* Toggle */) {\r\n                    lineData.ignore = true;\r\n                }\r\n                else if (type === 1 /* ForceAdd */) {\r\n                    lineData.ignore = true;\r\n                }\r\n                else {\r\n                    lineData.ignore = true;\r\n                }\r\n                lineData.commentStrOffset = lineContent.length;\r\n                continue;\r\n            }\r\n            onlyWhitespaceLines = false;\r\n            lineData.ignore = false;\r\n            lineData.commentStrOffset = lineContentStartOffset;\r\n            if (shouldRemoveComments && !BlockCommentCommand._haystackHasNeedleAtOffset(lineContent, lineData.commentStr, lineContentStartOffset)) {\r\n                if (type === 0 /* Toggle */) {\r\n                    // Every line so far has been a line comment, but this one is not\r\n                    shouldRemoveComments = false;\r\n                }\r\n                else if (type === 1 /* ForceAdd */) {\r\n                    // Will not happen\r\n                }\r\n                else {\r\n                    lineData.ignore = true;\r\n                }\r\n            }\r\n            if (shouldRemoveComments) {\r\n                var commentStrEndOffset = lineContentStartOffset + lineData.commentStrLength;\r\n                if (commentStrEndOffset < lineContent.length && lineContent.charCodeAt(commentStrEndOffset) === 32 /* Space */) {\r\n                    lineData.commentStrLength += 1;\r\n                }\r\n            }\r\n        }\r\n        if (type === 0 /* Toggle */ && onlyWhitespaceLines) {\r\n            // For only whitespace lines, we insert comments\r\n            shouldRemoveComments = false;\r\n            // Also, no longer ignore them\r\n            for (var i = 0, lineCount = lines.length; i < lineCount; i++) {\r\n                lines[i].ignore = false;\r\n            }\r\n        }\r\n        return {\r\n            supported: true,\r\n            shouldRemoveComments: shouldRemoveComments,\r\n            lines: lines\r\n        };\r\n    };\r\n    /**\r\n     * Analyze all lines and decide exactly what to do => not supported | insert line comments | remove line comments\r\n     */\r\n    LineCommentCommand._gatherPreflightData = function (type, model, startLineNumber, endLineNumber) {\r\n        var lines = LineCommentCommand._gatherPreflightCommentStrings(model, startLineNumber, endLineNumber);\r\n        if (lines === null) {\r\n            return {\r\n                supported: false\r\n            };\r\n        }\r\n        return LineCommentCommand._analyzeLines(type, model, lines, startLineNumber);\r\n    };\r\n    /**\r\n     * Given a successful analysis, execute either insert line comments, either remove line comments\r\n     */\r\n    LineCommentCommand.prototype._executeLineComments = function (model, builder, data, s) {\r\n        var ops;\r\n        if (data.shouldRemoveComments) {\r\n            ops = LineCommentCommand._createRemoveLineCommentsOperations(data.lines, s.startLineNumber);\r\n        }\r\n        else {\r\n            LineCommentCommand._normalizeInsertionPoint(model, data.lines, s.startLineNumber, this._tabSize);\r\n            ops = LineCommentCommand._createAddLineCommentsOperations(data.lines, s.startLineNumber);\r\n        }\r\n        var cursorPosition = new Position(s.positionLineNumber, s.positionColumn);\r\n        for (var i = 0, len = ops.length; i < len; i++) {\r\n            builder.addEditOperation(ops[i].range, ops[i].text);\r\n            if (ops[i].range.isEmpty() && ops[i].range.getStartPosition().equals(cursorPosition)) {\r\n                var lineContent = model.getLineContent(cursorPosition.lineNumber);\r\n                if (lineContent.length + 1 === cursorPosition.column) {\r\n                    this._deltaColumn = (ops[i].text || '').length;\r\n                }\r\n            }\r\n        }\r\n        this._selectionId = builder.trackSelection(s);\r\n    };\r\n    LineCommentCommand.prototype._attemptRemoveBlockComment = function (model, s, startToken, endToken) {\r\n        var startLineNumber = s.startLineNumber;\r\n        var endLineNumber = s.endLineNumber;\r\n        var startTokenAllowedBeforeColumn = endToken.length + Math.max(model.getLineFirstNonWhitespaceColumn(s.startLineNumber), s.startColumn);\r\n        var startTokenIndex = model.getLineContent(startLineNumber).lastIndexOf(startToken, startTokenAllowedBeforeColumn - 1);\r\n        var endTokenIndex = model.getLineContent(endLineNumber).indexOf(endToken, s.endColumn - 1 - startToken.length);\r\n        if (startTokenIndex !== -1 && endTokenIndex === -1) {\r\n            endTokenIndex = model.getLineContent(startLineNumber).indexOf(endToken, startTokenIndex + startToken.length);\r\n            endLineNumber = startLineNumber;\r\n        }\r\n        if (startTokenIndex === -1 && endTokenIndex !== -1) {\r\n            startTokenIndex = model.getLineContent(endLineNumber).lastIndexOf(startToken, endTokenIndex);\r\n            startLineNumber = endLineNumber;\r\n        }\r\n        if (s.isEmpty() && (startTokenIndex === -1 || endTokenIndex === -1)) {\r\n            startTokenIndex = model.getLineContent(startLineNumber).indexOf(startToken);\r\n            if (startTokenIndex !== -1) {\r\n                endTokenIndex = model.getLineContent(startLineNumber).indexOf(endToken, startTokenIndex + startToken.length);\r\n            }\r\n        }\r\n        // We have to adjust to possible inner white space.\r\n        // For Space after startToken, add Space to startToken - range math will work out.\r\n        if (startTokenIndex !== -1 && model.getLineContent(startLineNumber).charCodeAt(startTokenIndex + startToken.length) === 32 /* Space */) {\r\n            startToken += ' ';\r\n        }\r\n        // For Space before endToken, add Space before endToken and shift index one left.\r\n        if (endTokenIndex !== -1 && model.getLineContent(endLineNumber).charCodeAt(endTokenIndex - 1) === 32 /* Space */) {\r\n            endToken = ' ' + endToken;\r\n            endTokenIndex -= 1;\r\n        }\r\n        if (startTokenIndex !== -1 && endTokenIndex !== -1) {\r\n            return BlockCommentCommand._createRemoveBlockCommentOperations(new Range(startLineNumber, startTokenIndex + startToken.length + 1, endLineNumber, endTokenIndex + 1), startToken, endToken);\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Given an unsuccessful analysis, delegate to the block comment command\r\n     */\r\n    LineCommentCommand.prototype._executeBlockComment = function (model, builder, s) {\r\n        model.tokenizeIfCheap(s.startLineNumber);\r\n        var languageId = model.getLanguageIdAtPosition(s.startLineNumber, 1);\r\n        var config = LanguageConfigurationRegistry.getComments(languageId);\r\n        if (!config || !config.blockCommentStartToken || !config.blockCommentEndToken) {\r\n            // Mode does not support block comments\r\n            return;\r\n        }\r\n        var startToken = config.blockCommentStartToken;\r\n        var endToken = config.blockCommentEndToken;\r\n        var ops = this._attemptRemoveBlockComment(model, s, startToken, endToken);\r\n        if (!ops) {\r\n            if (s.isEmpty()) {\r\n                var lineContent = model.getLineContent(s.startLineNumber);\r\n                var firstNonWhitespaceIndex = strings.firstNonWhitespaceIndex(lineContent);\r\n                if (firstNonWhitespaceIndex === -1) {\r\n                    // Line is empty or contains only whitespace\r\n                    firstNonWhitespaceIndex = lineContent.length;\r\n                }\r\n                ops = BlockCommentCommand._createAddBlockCommentOperations(new Range(s.startLineNumber, firstNonWhitespaceIndex + 1, s.startLineNumber, lineContent.length + 1), startToken, endToken);\r\n            }\r\n            else {\r\n                ops = BlockCommentCommand._createAddBlockCommentOperations(new Range(s.startLineNumber, model.getLineFirstNonWhitespaceColumn(s.startLineNumber), s.endLineNumber, model.getLineMaxColumn(s.endLineNumber)), startToken, endToken);\r\n            }\r\n            if (ops.length === 1) {\r\n                // Leave cursor after token and Space\r\n                this._deltaColumn = startToken.length + 1;\r\n            }\r\n        }\r\n        this._selectionId = builder.trackSelection(s);\r\n        for (var _i = 0, ops_1 = ops; _i < ops_1.length; _i++) {\r\n            var op = ops_1[_i];\r\n            builder.addEditOperation(op.range, op.text);\r\n        }\r\n    };\r\n    LineCommentCommand.prototype.getEditOperations = function (model, builder) {\r\n        var s = this._selection;\r\n        this._moveEndPositionDown = false;\r\n        if (s.startLineNumber < s.endLineNumber && s.endColumn === 1) {\r\n            this._moveEndPositionDown = true;\r\n            s = s.setEndPosition(s.endLineNumber - 1, model.getLineMaxColumn(s.endLineNumber - 1));\r\n        }\r\n        var data = LineCommentCommand._gatherPreflightData(this._type, model, s.startLineNumber, s.endLineNumber);\r\n        if (data.supported) {\r\n            return this._executeLineComments(model, builder, data, s);\r\n        }\r\n        return this._executeBlockComment(model, builder, s);\r\n    };\r\n    LineCommentCommand.prototype.computeCursorState = function (model, helper) {\r\n        var result = helper.getTrackedSelection(this._selectionId);\r\n        if (this._moveEndPositionDown) {\r\n            result = result.setEndPosition(result.endLineNumber + 1, 1);\r\n        }\r\n        return new Selection(result.selectionStartLineNumber, result.selectionStartColumn + this._deltaColumn, result.positionLineNumber, result.positionColumn + this._deltaColumn);\r\n    };\r\n    /**\r\n     * Generate edit operations in the remove line comment case\r\n     */\r\n    LineCommentCommand._createRemoveLineCommentsOperations = function (lines, startLineNumber) {\r\n        var res = [];\r\n        for (var i = 0, len = lines.length; i < len; i++) {\r\n            var lineData = lines[i];\r\n            if (lineData.ignore) {\r\n                continue;\r\n            }\r\n            res.push(EditOperation.delete(new Range(startLineNumber + i, lineData.commentStrOffset + 1, startLineNumber + i, lineData.commentStrOffset + lineData.commentStrLength + 1)));\r\n        }\r\n        return res;\r\n    };\r\n    /**\r\n     * Generate edit operations in the add line comment case\r\n     */\r\n    LineCommentCommand._createAddLineCommentsOperations = function (lines, startLineNumber) {\r\n        var res = [];\r\n        for (var i = 0, len = lines.length; i < len; i++) {\r\n            var lineData = lines[i];\r\n            if (lineData.ignore) {\r\n                continue;\r\n            }\r\n            res.push(EditOperation.insert(new Position(startLineNumber + i, lineData.commentStrOffset + 1), lineData.commentStr + ' '));\r\n        }\r\n        return res;\r\n    };\r\n    // TODO@Alex -> duplicated in characterHardWrappingLineMapper\r\n    LineCommentCommand.nextVisibleColumn = function (currentVisibleColumn, tabSize, isTab, columnSize) {\r\n        if (isTab) {\r\n            return currentVisibleColumn + (tabSize - (currentVisibleColumn % tabSize));\r\n        }\r\n        return currentVisibleColumn + columnSize;\r\n    };\r\n    /**\r\n     * Adjust insertion points to have them vertically aligned in the add line comment case\r\n     */\r\n    LineCommentCommand._normalizeInsertionPoint = function (model, lines, startLineNumber, tabSize) {\r\n        var minVisibleColumn = 1073741824 /* MAX_SAFE_SMALL_INTEGER */;\r\n        var j;\r\n        var lenJ;\r\n        for (var i = 0, len = lines.length; i < len; i++) {\r\n            if (lines[i].ignore) {\r\n                continue;\r\n            }\r\n            var lineContent = model.getLineContent(startLineNumber + i);\r\n            var currentVisibleColumn = 0;\r\n            for (var j_1 = 0, lenJ_1 = lines[i].commentStrOffset; currentVisibleColumn < minVisibleColumn && j_1 < lenJ_1; j_1++) {\r\n                currentVisibleColumn = LineCommentCommand.nextVisibleColumn(currentVisibleColumn, tabSize, lineContent.charCodeAt(j_1) === 9 /* Tab */, 1);\r\n            }\r\n            if (currentVisibleColumn < minVisibleColumn) {\r\n                minVisibleColumn = currentVisibleColumn;\r\n            }\r\n        }\r\n        minVisibleColumn = Math.floor(minVisibleColumn / tabSize) * tabSize;\r\n        for (var i = 0, len = lines.length; i < len; i++) {\r\n            if (lines[i].ignore) {\r\n                continue;\r\n            }\r\n            var lineContent = model.getLineContent(startLineNumber + i);\r\n            var currentVisibleColumn = 0;\r\n            for (j = 0, lenJ = lines[i].commentStrOffset; currentVisibleColumn < minVisibleColumn && j < lenJ; j++) {\r\n                currentVisibleColumn = LineCommentCommand.nextVisibleColumn(currentVisibleColumn, tabSize, lineContent.charCodeAt(j) === 9 /* Tab */, 1);\r\n            }\r\n            if (currentVisibleColumn > minVisibleColumn) {\r\n                lines[i].commentStrOffset = j - 1;\r\n            }\r\n            else {\r\n                lines[i].commentStrOffset = j;\r\n            }\r\n        }\r\n    };\r\n    return LineCommentCommand;\r\n}());\r\nexport { LineCommentCommand };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { KeyChord } from '../../../base/common/keyCodes.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { BlockCommentCommand } from './blockCommentCommand.js';\r\nimport { LineCommentCommand } from './lineCommentCommand.js';\r\nvar CommentLineAction = /** @class */ (function (_super) {\r\n    __extends(CommentLineAction, _super);\r\n    function CommentLineAction(type, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._type = type;\r\n        return _this;\r\n    }\r\n    CommentLineAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = editor.getModel();\r\n        var commands = [];\r\n        var selections = editor.getSelections();\r\n        var opts = model.getOptions();\r\n        for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\r\n            var selection = selections_1[_i];\r\n            commands.push(new LineCommentCommand(selection, opts.tabSize, this._type));\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return CommentLineAction;\r\n}(EditorAction));\r\nvar ToggleCommentLineAction = /** @class */ (function (_super) {\r\n    __extends(ToggleCommentLineAction, _super);\r\n    function ToggleCommentLineAction() {\r\n        return _super.call(this, 0 /* Toggle */, {\r\n            id: 'editor.action.commentLine',\r\n            label: nls.localize('comment.line', \"Toggle Line Comment\"),\r\n            alias: 'Toggle Line Comment',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 85 /* US_SLASH */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 15 /* MenubarEditMenu */,\r\n                group: '5_insert',\r\n                title: nls.localize({ key: 'miToggleLineComment', comment: ['&& denotes a mnemonic'] }, \"&&Toggle Line Comment\"),\r\n                order: 1\r\n            }\r\n        }) || this;\r\n    }\r\n    return ToggleCommentLineAction;\r\n}(CommentLineAction));\r\nvar AddLineCommentAction = /** @class */ (function (_super) {\r\n    __extends(AddLineCommentAction, _super);\r\n    function AddLineCommentAction() {\r\n        return _super.call(this, 1 /* ForceAdd */, {\r\n            id: 'editor.action.addCommentLine',\r\n            label: nls.localize('comment.line.add', \"Add Line Comment\"),\r\n            alias: 'Add Line Comment',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 33 /* KEY_C */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return AddLineCommentAction;\r\n}(CommentLineAction));\r\nvar RemoveLineCommentAction = /** @class */ (function (_super) {\r\n    __extends(RemoveLineCommentAction, _super);\r\n    function RemoveLineCommentAction() {\r\n        return _super.call(this, 2 /* ForceRemove */, {\r\n            id: 'editor.action.removeCommentLine',\r\n            label: nls.localize('comment.line.remove', \"Remove Line Comment\"),\r\n            alias: 'Remove Line Comment',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 51 /* KEY_U */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return RemoveLineCommentAction;\r\n}(CommentLineAction));\r\nvar BlockCommentAction = /** @class */ (function (_super) {\r\n    __extends(BlockCommentAction, _super);\r\n    function BlockCommentAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.blockComment',\r\n            label: nls.localize('comment.block', \"Toggle Block Comment\"),\r\n            alias: 'Toggle Block Comment',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 31 /* KEY_A */,\r\n                linux: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 31 /* KEY_A */ },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 15 /* MenubarEditMenu */,\r\n                group: '5_insert',\r\n                title: nls.localize({ key: 'miToggleBlockComment', comment: ['&& denotes a mnemonic'] }, \"Toggle &&Block Comment\"),\r\n                order: 2\r\n            }\r\n        }) || this;\r\n    }\r\n    BlockCommentAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var commands = [];\r\n        var selections = editor.getSelections();\r\n        for (var _i = 0, selections_2 = selections; _i < selections_2.length; _i++) {\r\n            var selection = selections_2[_i];\r\n            commands.push(new BlockCommentCommand(selection));\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return BlockCommentAction;\r\n}(EditorAction));\r\nregisterEditorAction(ToggleCommentLineAction);\r\nregisterEditorAction(AddLineCommentAction);\r\nregisterEditorAction(RemoveLineCommentAction);\r\nregisterEditorAction(BlockCommentAction);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { SubmenuAction } from './ui/menu/menu.js';\r\nvar ContextSubMenu = /** @class */ (function (_super) {\r\n    __extends(ContextSubMenu, _super);\r\n    function ContextSubMenu(label, entries) {\r\n        var _this = _super.call(this, label, entries, 'contextsubmenu') || this;\r\n        _this.entries = entries;\r\n        return _this;\r\n    }\r\n    return ContextSubMenu;\r\n}(SubmenuAction));\r\nexport { ContextSubMenu };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { ActionViewItem, Separator } from '../../../base/browser/ui/actionbar/actionbar.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { IMenuService, SubmenuItemAction } from '../../../platform/actions/common/actions.js';\r\nimport { IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IContextMenuService, IContextViewService } from '../../../platform/contextview/browser/contextView.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { ContextSubMenu } from '../../../base/browser/contextmenu.js';\r\nvar ContextMenuController = /** @class */ (function () {\r\n    function ContextMenuController(editor, _contextMenuService, _contextViewService, _contextKeyService, _keybindingService, _menuService) {\r\n        var _this = this;\r\n        this._contextMenuService = _contextMenuService;\r\n        this._contextViewService = _contextViewService;\r\n        this._contextKeyService = _contextKeyService;\r\n        this._keybindingService = _keybindingService;\r\n        this._menuService = _menuService;\r\n        this._toDispose = new DisposableStore();\r\n        this._contextMenuIsBeingShownCount = 0;\r\n        this._editor = editor;\r\n        this._toDispose.add(this._editor.onContextMenu(function (e) { return _this._onContextMenu(e); }));\r\n        this._toDispose.add(this._editor.onMouseWheel(function (e) {\r\n            if (_this._contextMenuIsBeingShownCount > 0) {\r\n                _this._contextViewService.hideContextView();\r\n            }\r\n        }));\r\n        this._toDispose.add(this._editor.onKeyDown(function (e) {\r\n            if (e.keyCode === 58 /* ContextMenu */) {\r\n                // Chrome is funny like that\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                _this.showContextMenu();\r\n            }\r\n        }));\r\n    }\r\n    ContextMenuController.get = function (editor) {\r\n        return editor.getContribution(ContextMenuController.ID);\r\n    };\r\n    ContextMenuController.prototype._onContextMenu = function (e) {\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        if (!this._editor.getOption(13 /* contextmenu */)) {\r\n            this._editor.focus();\r\n            // Ensure the cursor is at the position of the mouse click\r\n            if (e.target.position && !this._editor.getSelection().containsPosition(e.target.position)) {\r\n                this._editor.setPosition(e.target.position);\r\n            }\r\n            return; // Context menu is turned off through configuration\r\n        }\r\n        if (e.target.type === 12 /* OVERLAY_WIDGET */) {\r\n            return; // allow native menu on widgets to support right click on input field for example in find\r\n        }\r\n        e.event.preventDefault();\r\n        if (e.target.type !== 6 /* CONTENT_TEXT */ && e.target.type !== 7 /* CONTENT_EMPTY */ && e.target.type !== 1 /* TEXTAREA */) {\r\n            return; // only support mouse click into text or native context menu key for now\r\n        }\r\n        // Ensure the editor gets focus if it hasn't, so the right events are being sent to other contributions\r\n        this._editor.focus();\r\n        // Ensure the cursor is at the position of the mouse click\r\n        if (e.target.position) {\r\n            var hasSelectionAtPosition = false;\r\n            for (var _i = 0, _a = this._editor.getSelections(); _i < _a.length; _i++) {\r\n                var selection = _a[_i];\r\n                if (selection.containsPosition(e.target.position)) {\r\n                    hasSelectionAtPosition = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!hasSelectionAtPosition) {\r\n                this._editor.setPosition(e.target.position);\r\n            }\r\n        }\r\n        // Unless the user triggerd the context menu through Shift+F10, use the mouse position as menu position\r\n        var anchor = null;\r\n        if (e.target.type !== 1 /* TEXTAREA */) {\r\n            anchor = { x: e.event.posx - 1, width: 2, y: e.event.posy - 1, height: 2 };\r\n        }\r\n        // Show the context menu\r\n        this.showContextMenu(anchor);\r\n    };\r\n    ContextMenuController.prototype.showContextMenu = function (anchor) {\r\n        if (!this._editor.getOption(13 /* contextmenu */)) {\r\n            return; // Context menu is turned off through configuration\r\n        }\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        if (!this._contextMenuService) {\r\n            this._editor.focus();\r\n            return; // We need the context menu service to function\r\n        }\r\n        // Find actions available for menu\r\n        var menuActions = this._getMenuActions(this._editor.getModel(), 7 /* EditorContext */);\r\n        // Show menu if we have actions to show\r\n        if (menuActions.length > 0) {\r\n            this._doShowContextMenu(menuActions, anchor);\r\n        }\r\n    };\r\n    ContextMenuController.prototype._getMenuActions = function (model, menuId) {\r\n        var result = [];\r\n        // get menu groups\r\n        var menu = this._menuService.createMenu(menuId, this._contextKeyService);\r\n        var groups = menu.getActions({ arg: model.uri });\r\n        menu.dispose();\r\n        // translate them into other actions\r\n        for (var _i = 0, groups_1 = groups; _i < groups_1.length; _i++) {\r\n            var group = groups_1[_i];\r\n            var actions = group[1];\r\n            var addedItems = 0;\r\n            for (var _a = 0, actions_1 = actions; _a < actions_1.length; _a++) {\r\n                var action = actions_1[_a];\r\n                if (action instanceof SubmenuItemAction) {\r\n                    var subActions = this._getMenuActions(model, action.item.submenu);\r\n                    if (subActions.length > 0) {\r\n                        result.push(new ContextSubMenu(action.label, subActions));\r\n                        addedItems++;\r\n                    }\r\n                }\r\n                else {\r\n                    result.push(action);\r\n                    addedItems++;\r\n                }\r\n            }\r\n            if (addedItems) {\r\n                result.push(new Separator());\r\n            }\r\n        }\r\n        if (result.length) {\r\n            result.pop(); // remove last separator\r\n        }\r\n        return result;\r\n    };\r\n    ContextMenuController.prototype._doShowContextMenu = function (actions, anchor) {\r\n        var _this = this;\r\n        if (anchor === void 0) { anchor = null; }\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        // Disable hover\r\n        var oldHoverSetting = this._editor.getOption(42 /* hover */);\r\n        this._editor.updateOptions({\r\n            hover: {\r\n                enabled: false\r\n            }\r\n        });\r\n        if (!anchor) {\r\n            // Ensure selection is visible\r\n            this._editor.revealPosition(this._editor.getPosition(), 1 /* Immediate */);\r\n            this._editor.render();\r\n            var cursorCoords = this._editor.getScrolledVisiblePosition(this._editor.getPosition());\r\n            // Translate to absolute editor position\r\n            var editorCoords = dom.getDomNodePagePosition(this._editor.getDomNode());\r\n            var posx = editorCoords.left + cursorCoords.left;\r\n            var posy = editorCoords.top + cursorCoords.top + cursorCoords.height;\r\n            anchor = { x: posx, y: posy };\r\n        }\r\n        // Show menu\r\n        this._contextMenuIsBeingShownCount++;\r\n        this._contextMenuService.showContextMenu({\r\n            getAnchor: function () { return anchor; },\r\n            getActions: function () { return actions; },\r\n            getActionViewItem: function (action) {\r\n                var keybinding = _this._keybindingFor(action);\r\n                if (keybinding) {\r\n                    return new ActionViewItem(action, action, { label: true, keybinding: keybinding.getLabel(), isMenu: true });\r\n                }\r\n                var customActionViewItem = action;\r\n                if (typeof customActionViewItem.getActionViewItem === 'function') {\r\n                    return customActionViewItem.getActionViewItem();\r\n                }\r\n                return new ActionViewItem(action, action, { icon: true, label: true, isMenu: true });\r\n            },\r\n            getKeyBinding: function (action) {\r\n                return _this._keybindingFor(action);\r\n            },\r\n            onHide: function (wasCancelled) {\r\n                _this._contextMenuIsBeingShownCount--;\r\n                _this._editor.focus();\r\n                _this._editor.updateOptions({\r\n                    hover: oldHoverSetting\r\n                });\r\n            }\r\n        });\r\n    };\r\n    ContextMenuController.prototype._keybindingFor = function (action) {\r\n        return this._keybindingService.lookupKeybinding(action.id);\r\n    };\r\n    ContextMenuController.prototype.dispose = function () {\r\n        if (this._contextMenuIsBeingShownCount > 0) {\r\n            this._contextViewService.hideContextView();\r\n        }\r\n        this._toDispose.dispose();\r\n    };\r\n    ContextMenuController.ID = 'editor.contrib.contextmenu';\r\n    ContextMenuController = __decorate([\r\n        __param(1, IContextMenuService),\r\n        __param(2, IContextViewService),\r\n        __param(3, IContextKeyService),\r\n        __param(4, IKeybindingService),\r\n        __param(5, IMenuService)\r\n    ], ContextMenuController);\r\n    return ContextMenuController;\r\n}());\r\nexport { ContextMenuController };\r\nvar ShowContextMenu = /** @class */ (function (_super) {\r\n    __extends(ShowContextMenu, _super);\r\n    function ShowContextMenu() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.showContextMenu',\r\n            label: nls.localize('action.showContextMenu.label', \"Show Editor Context Menu\"),\r\n            alias: 'Show Editor Context Menu',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 1024 /* Shift */ | 68 /* F10 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    ShowContextMenu.prototype.run = function (accessor, editor) {\r\n        var contribution = ContextMenuController.get(editor);\r\n        contribution.showContextMenu();\r\n    };\r\n    return ShowContextMenu;\r\n}(EditorAction));\r\nregisterEditorContribution(ContextMenuController.ID, ContextMenuController);\r\nregisterEditorAction(ShowContextMenu);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nvar CursorState = /** @class */ (function () {\r\n    function CursorState(selections) {\r\n        this.selections = selections;\r\n    }\r\n    CursorState.prototype.equals = function (other) {\r\n        var thisLen = this.selections.length;\r\n        var otherLen = other.selections.length;\r\n        if (thisLen !== otherLen) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < thisLen; i++) {\r\n            if (!this.selections[i].equalsSelection(other.selections[i])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    return CursorState;\r\n}());\r\nvar CursorUndoRedoController = /** @class */ (function (_super) {\r\n    __extends(CursorUndoRedoController, _super);\r\n    function CursorUndoRedoController(editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = editor;\r\n        _this._isCursorUndoRedo = false;\r\n        _this._undoStack = [];\r\n        _this._redoStack = [];\r\n        _this._register(editor.onDidChangeModel(function (e) {\r\n            _this._undoStack = [];\r\n            _this._redoStack = [];\r\n        }));\r\n        _this._register(editor.onDidChangeModelContent(function (e) {\r\n            _this._undoStack = [];\r\n            _this._redoStack = [];\r\n        }));\r\n        _this._register(editor.onDidChangeCursorSelection(function (e) {\r\n            if (_this._isCursorUndoRedo) {\r\n                return;\r\n            }\r\n            if (!e.oldSelections) {\r\n                return;\r\n            }\r\n            if (e.oldModelVersionId !== e.modelVersionId) {\r\n                return;\r\n            }\r\n            var prevState = new CursorState(e.oldSelections);\r\n            var isEqualToLastUndoStack = (_this._undoStack.length > 0 && _this._undoStack[_this._undoStack.length - 1].equals(prevState));\r\n            if (!isEqualToLastUndoStack) {\r\n                _this._undoStack.push(prevState);\r\n                _this._redoStack = [];\r\n                if (_this._undoStack.length > 50) {\r\n                    // keep the cursor undo stack bounded\r\n                    _this._undoStack.shift();\r\n                }\r\n            }\r\n        }));\r\n        return _this;\r\n    }\r\n    CursorUndoRedoController.get = function (editor) {\r\n        return editor.getContribution(CursorUndoRedoController.ID);\r\n    };\r\n    CursorUndoRedoController.prototype.cursorUndo = function () {\r\n        if (!this._editor.hasModel() || this._undoStack.length === 0) {\r\n            return;\r\n        }\r\n        this._redoStack.push(new CursorState(this._editor.getSelections()));\r\n        this._applyState(this._undoStack.pop());\r\n    };\r\n    CursorUndoRedoController.prototype.cursorRedo = function () {\r\n        if (!this._editor.hasModel() || this._redoStack.length === 0) {\r\n            return;\r\n        }\r\n        this._undoStack.push(new CursorState(this._editor.getSelections()));\r\n        this._applyState(this._redoStack.pop());\r\n    };\r\n    CursorUndoRedoController.prototype._applyState = function (state) {\r\n        this._isCursorUndoRedo = true;\r\n        this._editor.setSelections(state.selections);\r\n        this._editor.revealRangeInCenterIfOutsideViewport(state.selections[0], 0 /* Smooth */);\r\n        this._isCursorUndoRedo = false;\r\n    };\r\n    CursorUndoRedoController.ID = 'editor.contrib.cursorUndoRedoController';\r\n    return CursorUndoRedoController;\r\n}(Disposable));\r\nexport { CursorUndoRedoController };\r\nvar CursorUndo = /** @class */ (function (_super) {\r\n    __extends(CursorUndo, _super);\r\n    function CursorUndo() {\r\n        return _super.call(this, {\r\n            id: 'cursorUndo',\r\n            label: nls.localize('cursor.undo', \"Cursor Undo\"),\r\n            alias: 'Cursor Undo',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 51 /* KEY_U */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    CursorUndo.prototype.run = function (accessor, editor, args) {\r\n        CursorUndoRedoController.get(editor).cursorUndo();\r\n    };\r\n    return CursorUndo;\r\n}(EditorAction));\r\nexport { CursorUndo };\r\nvar CursorRedo = /** @class */ (function (_super) {\r\n    __extends(CursorRedo, _super);\r\n    function CursorRedo() {\r\n        return _super.call(this, {\r\n            id: 'cursorRedo',\r\n            label: nls.localize('cursor.redo', \"Cursor Redo\"),\r\n            alias: 'Cursor Redo',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    CursorRedo.prototype.run = function (accessor, editor, args) {\r\n        CursorUndoRedoController.get(editor).cursorRedo();\r\n    };\r\n    return CursorRedo;\r\n}(EditorAction));\r\nexport { CursorRedo };\r\nregisterEditorContribution(CursorUndoRedoController.ID, CursorUndoRedoController);\r\nregisterEditorAction(CursorUndo);\r\nregisterEditorAction(CursorRedo);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { Range } from '../../common/core/range.js';\r\nvar DragAndDropCommand = /** @class */ (function () {\r\n    function DragAndDropCommand(selection, targetPosition, copy) {\r\n        this.selection = selection;\r\n        this.targetPosition = targetPosition;\r\n        this.copy = copy;\r\n        this.targetSelection = null;\r\n    }\r\n    DragAndDropCommand.prototype.getEditOperations = function (model, builder) {\r\n        var text = model.getValueInRange(this.selection);\r\n        if (!this.copy) {\r\n            builder.addEditOperation(this.selection, null);\r\n        }\r\n        builder.addEditOperation(new Range(this.targetPosition.lineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.targetPosition.column), text);\r\n        if (this.selection.containsPosition(this.targetPosition) && !(this.copy && (this.selection.getEndPosition().equals(this.targetPosition) || this.selection.getStartPosition().equals(this.targetPosition)) // we allow users to paste content beside the selection\r\n        )) {\r\n            this.targetSelection = this.selection;\r\n            return;\r\n        }\r\n        if (this.copy) {\r\n            this.targetSelection = new Selection(this.targetPosition.lineNumber, this.targetPosition.column, this.selection.endLineNumber - this.selection.startLineNumber + this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\r\n                this.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\r\n                this.selection.endColumn);\r\n            return;\r\n        }\r\n        if (this.targetPosition.lineNumber > this.selection.endLineNumber) {\r\n            // Drag the selection downwards\r\n            this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\r\n                this.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\r\n                this.selection.endColumn);\r\n            return;\r\n        }\r\n        if (this.targetPosition.lineNumber < this.selection.endLineNumber) {\r\n            // Drag the selection upwards\r\n            this.targetSelection = new Selection(this.targetPosition.lineNumber, this.targetPosition.column, this.targetPosition.lineNumber + this.selection.endLineNumber - this.selection.startLineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\r\n                this.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\r\n                this.selection.endColumn);\r\n            return;\r\n        }\r\n        // The target position is at the same line as the selection's end position.\r\n        if (this.selection.endColumn <= this.targetPosition.column) {\r\n            // The target position is after the selection's end position\r\n            this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\r\n                this.targetPosition.column - this.selection.endColumn + this.selection.startColumn :\r\n                this.targetPosition.column - this.selection.endColumn + this.selection.startColumn, this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\r\n                this.targetPosition.column :\r\n                this.selection.endColumn);\r\n        }\r\n        else {\r\n            // The target position is before the selection's end position. Since the selection doesn't contain the target position, the selection is one-line and target position is before this selection.\r\n            this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.targetPosition.column + this.selection.endColumn - this.selection.startColumn);\r\n        }\r\n    };\r\n    DragAndDropCommand.prototype.computeCursorState = function (model, helper) {\r\n        return this.targetSelection;\r\n    };\r\n    return DragAndDropCommand;\r\n}());\r\nexport { DragAndDropCommand };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './dnd.css';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { isMacintosh } from '../../../base/common/platform.js';\r\nimport { registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { DragAndDropCommand } from './dragAndDropCommand.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nfunction hasTriggerModifier(e) {\r\n    if (isMacintosh) {\r\n        return e.altKey;\r\n    }\r\n    else {\r\n        return e.ctrlKey;\r\n    }\r\n}\r\nvar DragAndDropController = /** @class */ (function (_super) {\r\n    __extends(DragAndDropController, _super);\r\n    function DragAndDropController(editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = editor;\r\n        _this._register(_this._editor.onMouseDown(function (e) { return _this._onEditorMouseDown(e); }));\r\n        _this._register(_this._editor.onMouseUp(function (e) { return _this._onEditorMouseUp(e); }));\r\n        _this._register(_this._editor.onMouseDrag(function (e) { return _this._onEditorMouseDrag(e); }));\r\n        _this._register(_this._editor.onMouseDrop(function (e) { return _this._onEditorMouseDrop(e); }));\r\n        _this._register(_this._editor.onKeyDown(function (e) { return _this.onEditorKeyDown(e); }));\r\n        _this._register(_this._editor.onKeyUp(function (e) { return _this.onEditorKeyUp(e); }));\r\n        _this._register(_this._editor.onDidBlurEditorWidget(function () { return _this.onEditorBlur(); }));\r\n        _this._dndDecorationIds = [];\r\n        _this._mouseDown = false;\r\n        _this._modifierPressed = false;\r\n        _this._dragSelection = null;\r\n        return _this;\r\n    }\r\n    DragAndDropController.prototype.onEditorBlur = function () {\r\n        this._removeDecoration();\r\n        this._dragSelection = null;\r\n        this._mouseDown = false;\r\n        this._modifierPressed = false;\r\n    };\r\n    DragAndDropController.prototype.onEditorKeyDown = function (e) {\r\n        if (!this._editor.getOption(23 /* dragAndDrop */)) {\r\n            return;\r\n        }\r\n        if (hasTriggerModifier(e)) {\r\n            this._modifierPressed = true;\r\n        }\r\n        if (this._mouseDown && hasTriggerModifier(e)) {\r\n            this._editor.updateOptions({\r\n                mouseStyle: 'copy'\r\n            });\r\n        }\r\n    };\r\n    DragAndDropController.prototype.onEditorKeyUp = function (e) {\r\n        if (!this._editor.getOption(23 /* dragAndDrop */)) {\r\n            return;\r\n        }\r\n        if (hasTriggerModifier(e)) {\r\n            this._modifierPressed = false;\r\n        }\r\n        if (this._mouseDown && e.keyCode === DragAndDropController.TRIGGER_KEY_VALUE) {\r\n            this._editor.updateOptions({\r\n                mouseStyle: 'default'\r\n            });\r\n        }\r\n    };\r\n    DragAndDropController.prototype._onEditorMouseDown = function (mouseEvent) {\r\n        this._mouseDown = true;\r\n    };\r\n    DragAndDropController.prototype._onEditorMouseUp = function (mouseEvent) {\r\n        this._mouseDown = false;\r\n        // Whenever users release the mouse, the drag and drop operation should finish and the cursor should revert to text.\r\n        this._editor.updateOptions({\r\n            mouseStyle: 'text'\r\n        });\r\n    };\r\n    DragAndDropController.prototype._onEditorMouseDrag = function (mouseEvent) {\r\n        var target = mouseEvent.target;\r\n        if (this._dragSelection === null) {\r\n            var selections = this._editor.getSelections() || [];\r\n            var possibleSelections = selections.filter(function (selection) { return target.position && selection.containsPosition(target.position); });\r\n            if (possibleSelections.length === 1) {\r\n                this._dragSelection = possibleSelections[0];\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n        }\r\n        if (hasTriggerModifier(mouseEvent.event)) {\r\n            this._editor.updateOptions({\r\n                mouseStyle: 'copy'\r\n            });\r\n        }\r\n        else {\r\n            this._editor.updateOptions({\r\n                mouseStyle: 'default'\r\n            });\r\n        }\r\n        if (target.position) {\r\n            if (this._dragSelection.containsPosition(target.position)) {\r\n                this._removeDecoration();\r\n            }\r\n            else {\r\n                this.showAt(target.position);\r\n            }\r\n        }\r\n    };\r\n    DragAndDropController.prototype._onEditorMouseDrop = function (mouseEvent) {\r\n        if (mouseEvent.target && (this._hitContent(mouseEvent.target) || this._hitMargin(mouseEvent.target)) && mouseEvent.target.position) {\r\n            var newCursorPosition_1 = new Position(mouseEvent.target.position.lineNumber, mouseEvent.target.position.column);\r\n            if (this._dragSelection === null) {\r\n                var newSelections = null;\r\n                if (mouseEvent.event.shiftKey) {\r\n                    var primarySelection = this._editor.getSelection();\r\n                    if (primarySelection) {\r\n                        var selectionStartLineNumber = primarySelection.selectionStartLineNumber, selectionStartColumn = primarySelection.selectionStartColumn;\r\n                        newSelections = [new Selection(selectionStartLineNumber, selectionStartColumn, newCursorPosition_1.lineNumber, newCursorPosition_1.column)];\r\n                    }\r\n                }\r\n                else {\r\n                    newSelections = (this._editor.getSelections() || []).map(function (selection) {\r\n                        if (selection.containsPosition(newCursorPosition_1)) {\r\n                            return new Selection(newCursorPosition_1.lineNumber, newCursorPosition_1.column, newCursorPosition_1.lineNumber, newCursorPosition_1.column);\r\n                        }\r\n                        else {\r\n                            return selection;\r\n                        }\r\n                    });\r\n                }\r\n                // Use `mouse` as the source instead of `api`.\r\n                this._editor.setSelections(newSelections || [], 'mouse');\r\n            }\r\n            else if (!this._dragSelection.containsPosition(newCursorPosition_1) ||\r\n                ((hasTriggerModifier(mouseEvent.event) ||\r\n                    this._modifierPressed) && (this._dragSelection.getEndPosition().equals(newCursorPosition_1) || this._dragSelection.getStartPosition().equals(newCursorPosition_1)) // we allow users to paste content beside the selection\r\n                )) {\r\n                this._editor.pushUndoStop();\r\n                this._editor.executeCommand(DragAndDropController.ID, new DragAndDropCommand(this._dragSelection, newCursorPosition_1, hasTriggerModifier(mouseEvent.event) || this._modifierPressed));\r\n                this._editor.pushUndoStop();\r\n            }\r\n        }\r\n        this._editor.updateOptions({\r\n            mouseStyle: 'text'\r\n        });\r\n        this._removeDecoration();\r\n        this._dragSelection = null;\r\n        this._mouseDown = false;\r\n    };\r\n    DragAndDropController.prototype.showAt = function (position) {\r\n        var newDecorations = [{\r\n                range: new Range(position.lineNumber, position.column, position.lineNumber, position.column),\r\n                options: DragAndDropController._DECORATION_OPTIONS\r\n            }];\r\n        this._dndDecorationIds = this._editor.deltaDecorations(this._dndDecorationIds, newDecorations);\r\n        this._editor.revealPosition(position, 1 /* Immediate */);\r\n    };\r\n    DragAndDropController.prototype._removeDecoration = function () {\r\n        this._dndDecorationIds = this._editor.deltaDecorations(this._dndDecorationIds, []);\r\n    };\r\n    DragAndDropController.prototype._hitContent = function (target) {\r\n        return target.type === 6 /* CONTENT_TEXT */ ||\r\n            target.type === 7 /* CONTENT_EMPTY */;\r\n    };\r\n    DragAndDropController.prototype._hitMargin = function (target) {\r\n        return target.type === 2 /* GUTTER_GLYPH_MARGIN */ ||\r\n            target.type === 3 /* GUTTER_LINE_NUMBERS */ ||\r\n            target.type === 4 /* GUTTER_LINE_DECORATIONS */;\r\n    };\r\n    DragAndDropController.prototype.dispose = function () {\r\n        this._removeDecoration();\r\n        this._dragSelection = null;\r\n        this._mouseDown = false;\r\n        this._modifierPressed = false;\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    DragAndDropController.ID = 'editor.contrib.dragAndDrop';\r\n    DragAndDropController.TRIGGER_KEY_VALUE = isMacintosh ? 6 /* Alt */ : 5 /* Ctrl */;\r\n    DragAndDropController._DECORATION_OPTIONS = ModelDecorationOptions.register({\r\n        className: 'dnd-target'\r\n    });\r\n    return DragAndDropController;\r\n}(Disposable));\r\nexport { DragAndDropController };\r\nregisterEditorContribution(DragAndDropController.ID, DragAndDropController);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Range } from '../../common/core/range.js';\r\nimport { OverviewRulerLane, MinimapPosition } from '../../common/model.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { overviewRulerFindMatchForeground, minimapFindMatch } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { themeColorFromId } from '../../../platform/theme/common/themeService.js';\r\nvar FindDecorations = /** @class */ (function () {\r\n    function FindDecorations(editor) {\r\n        this._editor = editor;\r\n        this._decorations = [];\r\n        this._overviewRulerApproximateDecorations = [];\r\n        this._findScopeDecorationId = null;\r\n        this._rangeHighlightDecorationId = null;\r\n        this._highlightedDecorationId = null;\r\n        this._startPosition = this._editor.getPosition();\r\n    }\r\n    FindDecorations.prototype.dispose = function () {\r\n        this._editor.deltaDecorations(this._allDecorations(), []);\r\n        this._decorations = [];\r\n        this._overviewRulerApproximateDecorations = [];\r\n        this._findScopeDecorationId = null;\r\n        this._rangeHighlightDecorationId = null;\r\n        this._highlightedDecorationId = null;\r\n    };\r\n    FindDecorations.prototype.reset = function () {\r\n        this._decorations = [];\r\n        this._overviewRulerApproximateDecorations = [];\r\n        this._findScopeDecorationId = null;\r\n        this._rangeHighlightDecorationId = null;\r\n        this._highlightedDecorationId = null;\r\n    };\r\n    FindDecorations.prototype.getCount = function () {\r\n        return this._decorations.length;\r\n    };\r\n    FindDecorations.prototype.getFindScope = function () {\r\n        if (this._findScopeDecorationId) {\r\n            return this._editor.getModel().getDecorationRange(this._findScopeDecorationId);\r\n        }\r\n        return null;\r\n    };\r\n    FindDecorations.prototype.getStartPosition = function () {\r\n        return this._startPosition;\r\n    };\r\n    FindDecorations.prototype.setStartPosition = function (newStartPosition) {\r\n        this._startPosition = newStartPosition;\r\n        this.setCurrentFindMatch(null);\r\n    };\r\n    FindDecorations.prototype._getDecorationIndex = function (decorationId) {\r\n        var index = this._decorations.indexOf(decorationId);\r\n        if (index >= 0) {\r\n            return index + 1;\r\n        }\r\n        return 1;\r\n    };\r\n    FindDecorations.prototype.getCurrentMatchesPosition = function (desiredRange) {\r\n        var candidates = this._editor.getModel().getDecorationsInRange(desiredRange);\r\n        for (var _i = 0, candidates_1 = candidates; _i < candidates_1.length; _i++) {\r\n            var candidate = candidates_1[_i];\r\n            var candidateOpts = candidate.options;\r\n            if (candidateOpts === FindDecorations._FIND_MATCH_DECORATION || candidateOpts === FindDecorations._CURRENT_FIND_MATCH_DECORATION) {\r\n                return this._getDecorationIndex(candidate.id);\r\n            }\r\n        }\r\n        return 1;\r\n    };\r\n    FindDecorations.prototype.setCurrentFindMatch = function (nextMatch) {\r\n        var _this = this;\r\n        var newCurrentDecorationId = null;\r\n        var matchPosition = 0;\r\n        if (nextMatch) {\r\n            for (var i = 0, len = this._decorations.length; i < len; i++) {\r\n                var range = this._editor.getModel().getDecorationRange(this._decorations[i]);\r\n                if (nextMatch.equalsRange(range)) {\r\n                    newCurrentDecorationId = this._decorations[i];\r\n                    matchPosition = (i + 1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (this._highlightedDecorationId !== null || newCurrentDecorationId !== null) {\r\n            this._editor.changeDecorations(function (changeAccessor) {\r\n                if (_this._highlightedDecorationId !== null) {\r\n                    changeAccessor.changeDecorationOptions(_this._highlightedDecorationId, FindDecorations._FIND_MATCH_DECORATION);\r\n                    _this._highlightedDecorationId = null;\r\n                }\r\n                if (newCurrentDecorationId !== null) {\r\n                    _this._highlightedDecorationId = newCurrentDecorationId;\r\n                    changeAccessor.changeDecorationOptions(_this._highlightedDecorationId, FindDecorations._CURRENT_FIND_MATCH_DECORATION);\r\n                }\r\n                if (_this._rangeHighlightDecorationId !== null) {\r\n                    changeAccessor.removeDecoration(_this._rangeHighlightDecorationId);\r\n                    _this._rangeHighlightDecorationId = null;\r\n                }\r\n                if (newCurrentDecorationId !== null) {\r\n                    var rng = _this._editor.getModel().getDecorationRange(newCurrentDecorationId);\r\n                    if (rng.startLineNumber !== rng.endLineNumber && rng.endColumn === 1) {\r\n                        var lineBeforeEnd = rng.endLineNumber - 1;\r\n                        var lineBeforeEndMaxColumn = _this._editor.getModel().getLineMaxColumn(lineBeforeEnd);\r\n                        rng = new Range(rng.startLineNumber, rng.startColumn, lineBeforeEnd, lineBeforeEndMaxColumn);\r\n                    }\r\n                    _this._rangeHighlightDecorationId = changeAccessor.addDecoration(rng, FindDecorations._RANGE_HIGHLIGHT_DECORATION);\r\n                }\r\n            });\r\n        }\r\n        return matchPosition;\r\n    };\r\n    FindDecorations.prototype.set = function (findMatches, findScope) {\r\n        var _this = this;\r\n        this._editor.changeDecorations(function (accessor) {\r\n            var findMatchesOptions = FindDecorations._FIND_MATCH_DECORATION;\r\n            var newOverviewRulerApproximateDecorations = [];\r\n            if (findMatches.length > 1000) {\r\n                // we go into a mode where the overview ruler gets \"approximate\" decorations\r\n                // the reason is that the overview ruler paints all the decorations in the file and we don't want to cause freezes\r\n                findMatchesOptions = FindDecorations._FIND_MATCH_NO_OVERVIEW_DECORATION;\r\n                // approximate a distance in lines where matches should be merged\r\n                var lineCount = _this._editor.getModel().getLineCount();\r\n                var height = _this._editor.getLayoutInfo().height;\r\n                var approxPixelsPerLine = height / lineCount;\r\n                var mergeLinesDelta = Math.max(2, Math.ceil(3 / approxPixelsPerLine));\r\n                // merge decorations as much as possible\r\n                var prevStartLineNumber = findMatches[0].range.startLineNumber;\r\n                var prevEndLineNumber = findMatches[0].range.endLineNumber;\r\n                for (var i = 1, len = findMatches.length; i < len; i++) {\r\n                    var range = findMatches[i].range;\r\n                    if (prevEndLineNumber + mergeLinesDelta >= range.startLineNumber) {\r\n                        if (range.endLineNumber > prevEndLineNumber) {\r\n                            prevEndLineNumber = range.endLineNumber;\r\n                        }\r\n                    }\r\n                    else {\r\n                        newOverviewRulerApproximateDecorations.push({\r\n                            range: new Range(prevStartLineNumber, 1, prevEndLineNumber, 1),\r\n                            options: FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION\r\n                        });\r\n                        prevStartLineNumber = range.startLineNumber;\r\n                        prevEndLineNumber = range.endLineNumber;\r\n                    }\r\n                }\r\n                newOverviewRulerApproximateDecorations.push({\r\n                    range: new Range(prevStartLineNumber, 1, prevEndLineNumber, 1),\r\n                    options: FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION\r\n                });\r\n            }\r\n            // Find matches\r\n            var newFindMatchesDecorations = new Array(findMatches.length);\r\n            for (var i = 0, len = findMatches.length; i < len; i++) {\r\n                newFindMatchesDecorations[i] = {\r\n                    range: findMatches[i].range,\r\n                    options: findMatchesOptions\r\n                };\r\n            }\r\n            _this._decorations = accessor.deltaDecorations(_this._decorations, newFindMatchesDecorations);\r\n            // Overview ruler approximate decorations\r\n            _this._overviewRulerApproximateDecorations = accessor.deltaDecorations(_this._overviewRulerApproximateDecorations, newOverviewRulerApproximateDecorations);\r\n            // Range highlight\r\n            if (_this._rangeHighlightDecorationId) {\r\n                accessor.removeDecoration(_this._rangeHighlightDecorationId);\r\n                _this._rangeHighlightDecorationId = null;\r\n            }\r\n            // Find scope\r\n            if (_this._findScopeDecorationId) {\r\n                accessor.removeDecoration(_this._findScopeDecorationId);\r\n                _this._findScopeDecorationId = null;\r\n            }\r\n            if (findScope) {\r\n                _this._findScopeDecorationId = accessor.addDecoration(findScope, FindDecorations._FIND_SCOPE_DECORATION);\r\n            }\r\n        });\r\n    };\r\n    FindDecorations.prototype.matchBeforePosition = function (position) {\r\n        if (this._decorations.length === 0) {\r\n            return null;\r\n        }\r\n        for (var i = this._decorations.length - 1; i >= 0; i--) {\r\n            var decorationId = this._decorations[i];\r\n            var r = this._editor.getModel().getDecorationRange(decorationId);\r\n            if (!r || r.endLineNumber > position.lineNumber) {\r\n                continue;\r\n            }\r\n            if (r.endLineNumber < position.lineNumber) {\r\n                return r;\r\n            }\r\n            if (r.endColumn > position.column) {\r\n                continue;\r\n            }\r\n            return r;\r\n        }\r\n        return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length - 1]);\r\n    };\r\n    FindDecorations.prototype.matchAfterPosition = function (position) {\r\n        if (this._decorations.length === 0) {\r\n            return null;\r\n        }\r\n        for (var i = 0, len = this._decorations.length; i < len; i++) {\r\n            var decorationId = this._decorations[i];\r\n            var r = this._editor.getModel().getDecorationRange(decorationId);\r\n            if (!r || r.startLineNumber < position.lineNumber) {\r\n                continue;\r\n            }\r\n            if (r.startLineNumber > position.lineNumber) {\r\n                return r;\r\n            }\r\n            if (r.startColumn < position.column) {\r\n                continue;\r\n            }\r\n            return r;\r\n        }\r\n        return this._editor.getModel().getDecorationRange(this._decorations[0]);\r\n    };\r\n    FindDecorations.prototype._allDecorations = function () {\r\n        var result = [];\r\n        result = result.concat(this._decorations);\r\n        result = result.concat(this._overviewRulerApproximateDecorations);\r\n        if (this._findScopeDecorationId) {\r\n            result.push(this._findScopeDecorationId);\r\n        }\r\n        if (this._rangeHighlightDecorationId) {\r\n            result.push(this._rangeHighlightDecorationId);\r\n        }\r\n        return result;\r\n    };\r\n    FindDecorations._CURRENT_FIND_MATCH_DECORATION = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        zIndex: 13,\r\n        className: 'currentFindMatch',\r\n        showIfCollapsed: true,\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerFindMatchForeground),\r\n            position: OverviewRulerLane.Center\r\n        },\r\n        minimap: {\r\n            color: themeColorFromId(minimapFindMatch),\r\n            position: MinimapPosition.Inline\r\n        }\r\n    });\r\n    FindDecorations._FIND_MATCH_DECORATION = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'findMatch',\r\n        showIfCollapsed: true,\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerFindMatchForeground),\r\n            position: OverviewRulerLane.Center\r\n        },\r\n        minimap: {\r\n            color: themeColorFromId(minimapFindMatch),\r\n            position: MinimapPosition.Inline\r\n        }\r\n    });\r\n    FindDecorations._FIND_MATCH_NO_OVERVIEW_DECORATION = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'findMatch',\r\n        showIfCollapsed: true\r\n    });\r\n    FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerFindMatchForeground),\r\n            position: OverviewRulerLane.Center\r\n        }\r\n    });\r\n    FindDecorations._RANGE_HIGHLIGHT_DECORATION = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'rangeHighlight',\r\n        isWholeLine: true\r\n    });\r\n    FindDecorations._FIND_SCOPE_DECORATION = ModelDecorationOptions.register({\r\n        className: 'findScope',\r\n        isWholeLine: true\r\n    });\r\n    return FindDecorations;\r\n}());\r\nexport { FindDecorations };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Range } from '../../common/core/range.js';\r\nvar ReplaceAllCommand = /** @class */ (function () {\r\n    function ReplaceAllCommand(editorSelection, ranges, replaceStrings) {\r\n        this._editorSelection = editorSelection;\r\n        this._ranges = ranges;\r\n        this._replaceStrings = replaceStrings;\r\n        this._trackedEditorSelectionId = null;\r\n    }\r\n    ReplaceAllCommand.prototype.getEditOperations = function (model, builder) {\r\n        if (this._ranges.length > 0) {\r\n            // Collect all edit operations\r\n            var ops = [];\r\n            for (var i = 0; i < this._ranges.length; i++) {\r\n                ops.push({\r\n                    range: this._ranges[i],\r\n                    text: this._replaceStrings[i]\r\n                });\r\n            }\r\n            // Sort them in ascending order by range starts\r\n            ops.sort(function (o1, o2) {\r\n                return Range.compareRangesUsingStarts(o1.range, o2.range);\r\n            });\r\n            // Merge operations that touch each other\r\n            var resultOps = [];\r\n            var previousOp = ops[0];\r\n            for (var i = 1; i < ops.length; i++) {\r\n                if (previousOp.range.endLineNumber === ops[i].range.startLineNumber && previousOp.range.endColumn === ops[i].range.startColumn) {\r\n                    // These operations are one after another and can be merged\r\n                    previousOp.range = previousOp.range.plusRange(ops[i].range);\r\n                    previousOp.text = previousOp.text + ops[i].text;\r\n                }\r\n                else {\r\n                    resultOps.push(previousOp);\r\n                    previousOp = ops[i];\r\n                }\r\n            }\r\n            resultOps.push(previousOp);\r\n            for (var _i = 0, resultOps_1 = resultOps; _i < resultOps_1.length; _i++) {\r\n                var op = resultOps_1[_i];\r\n                builder.addEditOperation(op.range, op.text);\r\n            }\r\n        }\r\n        this._trackedEditorSelectionId = builder.trackSelection(this._editorSelection);\r\n    };\r\n    ReplaceAllCommand.prototype.computeCursorState = function (model, helper) {\r\n        return helper.getTrackedSelection(this._trackedEditorSelectionId);\r\n    };\r\n    return ReplaceAllCommand;\r\n}());\r\nexport { ReplaceAllCommand };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as strings from './strings.js';\r\nexport function buildReplaceStringWithCasePreserved(matches, pattern) {\r\n    if (matches && (matches[0] !== '')) {\r\n        var containsHyphens = validateSpecificSpecialCharacter(matches, pattern, '-');\r\n        var containsUnderscores = validateSpecificSpecialCharacter(matches, pattern, '_');\r\n        if (containsHyphens && !containsUnderscores) {\r\n            return buildReplaceStringForSpecificSpecialCharacter(matches, pattern, '-');\r\n        }\r\n        else if (!containsHyphens && containsUnderscores) {\r\n            return buildReplaceStringForSpecificSpecialCharacter(matches, pattern, '_');\r\n        }\r\n        if (matches[0].toUpperCase() === matches[0]) {\r\n            return pattern.toUpperCase();\r\n        }\r\n        else if (matches[0].toLowerCase() === matches[0]) {\r\n            return pattern.toLowerCase();\r\n        }\r\n        else if (strings.containsUppercaseCharacter(matches[0][0])) {\r\n            return pattern[0].toUpperCase() + pattern.substr(1);\r\n        }\r\n        else {\r\n            // we don't understand its pattern yet.\r\n            return pattern;\r\n        }\r\n    }\r\n    else {\r\n        return pattern;\r\n    }\r\n}\r\nfunction validateSpecificSpecialCharacter(matches, pattern, specialCharacter) {\r\n    var doesContainSpecialCharacter = matches[0].indexOf(specialCharacter) !== -1 && pattern.indexOf(specialCharacter) !== -1;\r\n    return doesContainSpecialCharacter && matches[0].split(specialCharacter).length === pattern.split(specialCharacter).length;\r\n}\r\nfunction buildReplaceStringForSpecificSpecialCharacter(matches, pattern, specialCharacter) {\r\n    var splitPatternAtSpecialCharacter = pattern.split(specialCharacter);\r\n    var splitMatchAtSpecialCharacter = matches[0].split(specialCharacter);\r\n    var replaceString = '';\r\n    splitPatternAtSpecialCharacter.forEach(function (splitValue, index) {\r\n        replaceString += buildReplaceStringWithCasePreserved([splitMatchAtSpecialCharacter[index]], splitValue) + specialCharacter;\r\n    });\r\n    return replaceString.slice(0, -1);\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { buildReplaceStringWithCasePreserved } from '../../../base/common/search.js';\r\n/**\r\n * Assigned when the replace pattern is entirely static.\r\n */\r\nvar StaticValueReplacePattern = /** @class */ (function () {\r\n    function StaticValueReplacePattern(staticValue) {\r\n        this.staticValue = staticValue;\r\n        this.kind = 0 /* StaticValue */;\r\n    }\r\n    return StaticValueReplacePattern;\r\n}());\r\n/**\r\n * Assigned when the replace pattern has replacemend patterns.\r\n */\r\nvar DynamicPiecesReplacePattern = /** @class */ (function () {\r\n    function DynamicPiecesReplacePattern(pieces) {\r\n        this.pieces = pieces;\r\n        this.kind = 1 /* DynamicPieces */;\r\n    }\r\n    return DynamicPiecesReplacePattern;\r\n}());\r\nvar ReplacePattern = /** @class */ (function () {\r\n    function ReplacePattern(pieces) {\r\n        if (!pieces || pieces.length === 0) {\r\n            this._state = new StaticValueReplacePattern('');\r\n        }\r\n        else if (pieces.length === 1 && pieces[0].staticValue !== null) {\r\n            this._state = new StaticValueReplacePattern(pieces[0].staticValue);\r\n        }\r\n        else {\r\n            this._state = new DynamicPiecesReplacePattern(pieces);\r\n        }\r\n    }\r\n    ReplacePattern.fromStaticValue = function (value) {\r\n        return new ReplacePattern([ReplacePiece.staticValue(value)]);\r\n    };\r\n    Object.defineProperty(ReplacePattern.prototype, \"hasReplacementPatterns\", {\r\n        get: function () {\r\n            return (this._state.kind === 1 /* DynamicPieces */);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ReplacePattern.prototype.buildReplaceString = function (matches, preserveCase) {\r\n        if (this._state.kind === 0 /* StaticValue */) {\r\n            if (preserveCase) {\r\n                return buildReplaceStringWithCasePreserved(matches, this._state.staticValue);\r\n            }\r\n            else {\r\n                return this._state.staticValue;\r\n            }\r\n        }\r\n        var result = '';\r\n        for (var i = 0, len = this._state.pieces.length; i < len; i++) {\r\n            var piece = this._state.pieces[i];\r\n            if (piece.staticValue !== null) {\r\n                // static value ReplacePiece\r\n                result += piece.staticValue;\r\n                continue;\r\n            }\r\n            // match index ReplacePiece\r\n            result += ReplacePattern._substitute(piece.matchIndex, matches);\r\n        }\r\n        return result;\r\n    };\r\n    ReplacePattern._substitute = function (matchIndex, matches) {\r\n        if (matches === null) {\r\n            return '';\r\n        }\r\n        if (matchIndex === 0) {\r\n            return matches[0];\r\n        }\r\n        var remainder = '';\r\n        while (matchIndex > 0) {\r\n            if (matchIndex < matches.length) {\r\n                // A match can be undefined\r\n                var match = (matches[matchIndex] || '');\r\n                return match + remainder;\r\n            }\r\n            remainder = String(matchIndex % 10) + remainder;\r\n            matchIndex = Math.floor(matchIndex / 10);\r\n        }\r\n        return '$' + remainder;\r\n    };\r\n    return ReplacePattern;\r\n}());\r\nexport { ReplacePattern };\r\n/**\r\n * A replace piece can either be a static string or an index to a specific match.\r\n */\r\nvar ReplacePiece = /** @class */ (function () {\r\n    function ReplacePiece(staticValue, matchIndex) {\r\n        this.staticValue = staticValue;\r\n        this.matchIndex = matchIndex;\r\n    }\r\n    ReplacePiece.staticValue = function (value) {\r\n        return new ReplacePiece(value, -1);\r\n    };\r\n    ReplacePiece.matchIndex = function (index) {\r\n        return new ReplacePiece(null, index);\r\n    };\r\n    return ReplacePiece;\r\n}());\r\nexport { ReplacePiece };\r\nvar ReplacePieceBuilder = /** @class */ (function () {\r\n    function ReplacePieceBuilder(source) {\r\n        this._source = source;\r\n        this._lastCharIndex = 0;\r\n        this._result = [];\r\n        this._resultLen = 0;\r\n        this._currentStaticPiece = '';\r\n    }\r\n    ReplacePieceBuilder.prototype.emitUnchanged = function (toCharIndex) {\r\n        this._emitStatic(this._source.substring(this._lastCharIndex, toCharIndex));\r\n        this._lastCharIndex = toCharIndex;\r\n    };\r\n    ReplacePieceBuilder.prototype.emitStatic = function (value, toCharIndex) {\r\n        this._emitStatic(value);\r\n        this._lastCharIndex = toCharIndex;\r\n    };\r\n    ReplacePieceBuilder.prototype._emitStatic = function (value) {\r\n        if (value.length === 0) {\r\n            return;\r\n        }\r\n        this._currentStaticPiece += value;\r\n    };\r\n    ReplacePieceBuilder.prototype.emitMatchIndex = function (index, toCharIndex) {\r\n        if (this._currentStaticPiece.length !== 0) {\r\n            this._result[this._resultLen++] = ReplacePiece.staticValue(this._currentStaticPiece);\r\n            this._currentStaticPiece = '';\r\n        }\r\n        this._result[this._resultLen++] = ReplacePiece.matchIndex(index);\r\n        this._lastCharIndex = toCharIndex;\r\n    };\r\n    ReplacePieceBuilder.prototype.finalize = function () {\r\n        this.emitUnchanged(this._source.length);\r\n        if (this._currentStaticPiece.length !== 0) {\r\n            this._result[this._resultLen++] = ReplacePiece.staticValue(this._currentStaticPiece);\r\n            this._currentStaticPiece = '';\r\n        }\r\n        return new ReplacePattern(this._result);\r\n    };\r\n    return ReplacePieceBuilder;\r\n}());\r\n/**\r\n * \\n\t\t\t=> inserts a LF\r\n * \\t\t\t\t=> inserts a TAB\r\n * \\\\\t\t\t=> inserts a \"\\\".\r\n * $$\t\t\t=> inserts a \"$\".\r\n * $& and $0\t=> inserts the matched substring.\r\n * $n\t\t\t=> Where n is a non-negative integer lesser than 100, inserts the nth parenthesized submatch string\r\n * everything else stays untouched\r\n *\r\n * Also see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#Specifying_a_string_as_a_parameter\r\n */\r\nexport function parseReplaceString(replaceString) {\r\n    if (!replaceString || replaceString.length === 0) {\r\n        return new ReplacePattern(null);\r\n    }\r\n    var result = new ReplacePieceBuilder(replaceString);\r\n    for (var i = 0, len = replaceString.length; i < len; i++) {\r\n        var chCode = replaceString.charCodeAt(i);\r\n        if (chCode === 92 /* Backslash */) {\r\n            // move to next char\r\n            i++;\r\n            if (i >= len) {\r\n                // string ends with a \\\r\n                break;\r\n            }\r\n            var nextChCode = replaceString.charCodeAt(i);\r\n            // let replaceWithCharacter: string | null = null;\r\n            switch (nextChCode) {\r\n                case 92 /* Backslash */:\r\n                    // \\\\ => inserts a \"\\\"\r\n                    result.emitUnchanged(i - 1);\r\n                    result.emitStatic('\\\\', i + 1);\r\n                    break;\r\n                case 110 /* n */:\r\n                    // \\n => inserts a LF\r\n                    result.emitUnchanged(i - 1);\r\n                    result.emitStatic('\\n', i + 1);\r\n                    break;\r\n                case 116 /* t */:\r\n                    // \\t => inserts a TAB\r\n                    result.emitUnchanged(i - 1);\r\n                    result.emitStatic('\\t', i + 1);\r\n                    break;\r\n            }\r\n            continue;\r\n        }\r\n        if (chCode === 36 /* DollarSign */) {\r\n            // move to next char\r\n            i++;\r\n            if (i >= len) {\r\n                // string ends with a $\r\n                break;\r\n            }\r\n            var nextChCode = replaceString.charCodeAt(i);\r\n            if (nextChCode === 36 /* DollarSign */) {\r\n                // $$ => inserts a \"$\"\r\n                result.emitUnchanged(i - 1);\r\n                result.emitStatic('$', i + 1);\r\n                continue;\r\n            }\r\n            if (nextChCode === 48 /* Digit0 */ || nextChCode === 38 /* Ampersand */) {\r\n                // $& and $0 => inserts the matched substring.\r\n                result.emitUnchanged(i - 1);\r\n                result.emitMatchIndex(0, i + 1);\r\n                continue;\r\n            }\r\n            if (49 /* Digit1 */ <= nextChCode && nextChCode <= 57 /* Digit9 */) {\r\n                // $n\r\n                var matchIndex = nextChCode - 48 /* Digit0 */;\r\n                // peek next char to probe for $nn\r\n                if (i + 1 < len) {\r\n                    var nextNextChCode = replaceString.charCodeAt(i + 1);\r\n                    if (48 /* Digit0 */ <= nextNextChCode && nextNextChCode <= 57 /* Digit9 */) {\r\n                        // $nn\r\n                        // move to next char\r\n                        i++;\r\n                        matchIndex = matchIndex * 10 + (nextNextChCode - 48 /* Digit0 */);\r\n                        result.emitUnchanged(i - 2);\r\n                        result.emitMatchIndex(matchIndex, i + 1);\r\n                        continue;\r\n                    }\r\n                }\r\n                result.emitUnchanged(i - 1);\r\n                result.emitMatchIndex(matchIndex, i + 1);\r\n                continue;\r\n            }\r\n        }\r\n    }\r\n    return result.finalize();\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { RunOnceScheduler, TimeoutTimer } from '../../../base/common/async.js';\r\nimport { dispose, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { ReplaceCommand, ReplaceCommandThatPreservesSelection } from '../../common/commands/replaceCommand.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { SearchParams } from '../../common/model/textModelSearch.js';\r\nimport { FindDecorations } from './findDecorations.js';\r\nimport { ReplaceAllCommand } from './replaceAllCommand.js';\r\nimport { ReplacePattern, parseReplaceString } from './replacePattern.js';\r\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nexport var CONTEXT_FIND_WIDGET_VISIBLE = new RawContextKey('findWidgetVisible', false);\r\n// Keep ContextKey use of 'Focussed' to not break when clauses\r\nexport var CONTEXT_FIND_INPUT_FOCUSED = new RawContextKey('findInputFocussed', false);\r\nexport var CONTEXT_REPLACE_INPUT_FOCUSED = new RawContextKey('replaceInputFocussed', false);\r\nexport var ToggleCaseSensitiveKeybinding = {\r\n    primary: 512 /* Alt */ | 33 /* KEY_C */,\r\n    mac: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 33 /* KEY_C */ }\r\n};\r\nexport var ToggleWholeWordKeybinding = {\r\n    primary: 512 /* Alt */ | 53 /* KEY_W */,\r\n    mac: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 53 /* KEY_W */ }\r\n};\r\nexport var ToggleRegexKeybinding = {\r\n    primary: 512 /* Alt */ | 48 /* KEY_R */,\r\n    mac: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 48 /* KEY_R */ }\r\n};\r\nexport var ToggleSearchScopeKeybinding = {\r\n    primary: 512 /* Alt */ | 42 /* KEY_L */,\r\n    mac: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 42 /* KEY_L */ }\r\n};\r\nexport var FIND_IDS = {\r\n    StartFindAction: 'actions.find',\r\n    StartFindWithSelection: 'actions.findWithSelection',\r\n    NextMatchFindAction: 'editor.action.nextMatchFindAction',\r\n    PreviousMatchFindAction: 'editor.action.previousMatchFindAction',\r\n    NextSelectionMatchFindAction: 'editor.action.nextSelectionMatchFindAction',\r\n    PreviousSelectionMatchFindAction: 'editor.action.previousSelectionMatchFindAction',\r\n    StartFindReplaceAction: 'editor.action.startFindReplaceAction',\r\n    CloseFindWidgetCommand: 'closeFindWidget',\r\n    ToggleCaseSensitiveCommand: 'toggleFindCaseSensitive',\r\n    ToggleWholeWordCommand: 'toggleFindWholeWord',\r\n    ToggleRegexCommand: 'toggleFindRegex',\r\n    ToggleSearchScopeCommand: 'toggleFindInSelection',\r\n    TogglePreserveCaseCommand: 'togglePreserveCase',\r\n    ReplaceOneAction: 'editor.action.replaceOne',\r\n    ReplaceAllAction: 'editor.action.replaceAll',\r\n    SelectAllMatchesAction: 'editor.action.selectAllMatches'\r\n};\r\nexport var MATCHES_LIMIT = 19999;\r\nvar RESEARCH_DELAY = 240;\r\nvar FindModelBoundToEditorModel = /** @class */ (function () {\r\n    function FindModelBoundToEditorModel(editor, state) {\r\n        var _this = this;\r\n        this._toDispose = new DisposableStore();\r\n        this._editor = editor;\r\n        this._state = state;\r\n        this._isDisposed = false;\r\n        this._startSearchingTimer = new TimeoutTimer();\r\n        this._decorations = new FindDecorations(editor);\r\n        this._toDispose.add(this._decorations);\r\n        this._updateDecorationsScheduler = new RunOnceScheduler(function () { return _this.research(false); }, 100);\r\n        this._toDispose.add(this._updateDecorationsScheduler);\r\n        this._toDispose.add(this._editor.onDidChangeCursorPosition(function (e) {\r\n            if (e.reason === 3 /* Explicit */\r\n                || e.reason === 5 /* Undo */\r\n                || e.reason === 6 /* Redo */) {\r\n                _this._decorations.setStartPosition(_this._editor.getPosition());\r\n            }\r\n        }));\r\n        this._ignoreModelContentChanged = false;\r\n        this._toDispose.add(this._editor.onDidChangeModelContent(function (e) {\r\n            if (_this._ignoreModelContentChanged) {\r\n                return;\r\n            }\r\n            if (e.isFlush) {\r\n                // a model.setValue() was called\r\n                _this._decorations.reset();\r\n            }\r\n            _this._decorations.setStartPosition(_this._editor.getPosition());\r\n            _this._updateDecorationsScheduler.schedule();\r\n        }));\r\n        this._toDispose.add(this._state.onFindReplaceStateChange(function (e) { return _this._onStateChanged(e); }));\r\n        this.research(false, this._state.searchScope);\r\n    }\r\n    FindModelBoundToEditorModel.prototype.dispose = function () {\r\n        this._isDisposed = true;\r\n        dispose(this._startSearchingTimer);\r\n        this._toDispose.dispose();\r\n    };\r\n    FindModelBoundToEditorModel.prototype._onStateChanged = function (e) {\r\n        var _this = this;\r\n        if (this._isDisposed) {\r\n            // The find model is disposed during a find state changed event\r\n            return;\r\n        }\r\n        if (!this._editor.hasModel()) {\r\n            // The find model will be disposed momentarily\r\n            return;\r\n        }\r\n        if (e.searchString || e.isReplaceRevealed || e.isRegex || e.wholeWord || e.matchCase || e.searchScope) {\r\n            var model = this._editor.getModel();\r\n            if (model.isTooLargeForSyncing()) {\r\n                this._startSearchingTimer.cancel();\r\n                this._startSearchingTimer.setIfNotSet(function () {\r\n                    if (e.searchScope) {\r\n                        _this.research(e.moveCursor, _this._state.searchScope);\r\n                    }\r\n                    else {\r\n                        _this.research(e.moveCursor);\r\n                    }\r\n                }, RESEARCH_DELAY);\r\n            }\r\n            else {\r\n                if (e.searchScope) {\r\n                    this.research(e.moveCursor, this._state.searchScope);\r\n                }\r\n                else {\r\n                    this.research(e.moveCursor);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    FindModelBoundToEditorModel._getSearchRange = function (model, findScope) {\r\n        // If we have set now or before a find scope, use it for computing the search range\r\n        if (findScope) {\r\n            return findScope;\r\n        }\r\n        return model.getFullModelRange();\r\n    };\r\n    FindModelBoundToEditorModel.prototype.research = function (moveCursor, newFindScope) {\r\n        var findScope = null;\r\n        if (typeof newFindScope !== 'undefined') {\r\n            findScope = newFindScope;\r\n        }\r\n        else {\r\n            findScope = this._decorations.getFindScope();\r\n        }\r\n        if (findScope !== null) {\r\n            if (findScope.startLineNumber !== findScope.endLineNumber) {\r\n                if (findScope.endColumn === 1) {\r\n                    findScope = new Range(findScope.startLineNumber, 1, findScope.endLineNumber - 1, this._editor.getModel().getLineMaxColumn(findScope.endLineNumber - 1));\r\n                }\r\n                else {\r\n                    // multiline find scope => expand to line starts / ends\r\n                    findScope = new Range(findScope.startLineNumber, 1, findScope.endLineNumber, this._editor.getModel().getLineMaxColumn(findScope.endLineNumber));\r\n                }\r\n            }\r\n        }\r\n        var findMatches = this._findMatches(findScope, false, MATCHES_LIMIT);\r\n        this._decorations.set(findMatches, findScope);\r\n        this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()), this._decorations.getCount(), undefined);\r\n        if (moveCursor) {\r\n            this._moveToNextMatch(this._decorations.getStartPosition());\r\n        }\r\n    };\r\n    FindModelBoundToEditorModel.prototype._hasMatches = function () {\r\n        return (this._state.matchesCount > 0);\r\n    };\r\n    FindModelBoundToEditorModel.prototype._cannotFind = function () {\r\n        if (!this._hasMatches()) {\r\n            var findScope = this._decorations.getFindScope();\r\n            if (findScope) {\r\n                // Reveal the selection so user is reminded that 'selection find' is on.\r\n                this._editor.revealRangeInCenterIfOutsideViewport(findScope, 0 /* Smooth */);\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    FindModelBoundToEditorModel.prototype._setCurrentFindMatch = function (match) {\r\n        var matchesPosition = this._decorations.setCurrentFindMatch(match);\r\n        this._state.changeMatchInfo(matchesPosition, this._decorations.getCount(), match);\r\n        this._editor.setSelection(match);\r\n        this._editor.revealRangeInCenterIfOutsideViewport(match, 0 /* Smooth */);\r\n    };\r\n    FindModelBoundToEditorModel.prototype._prevSearchPosition = function (before) {\r\n        var isUsingLineStops = this._state.isRegex && (this._state.searchString.indexOf('^') >= 0\r\n            || this._state.searchString.indexOf('$') >= 0);\r\n        var lineNumber = before.lineNumber, column = before.column;\r\n        var model = this._editor.getModel();\r\n        if (isUsingLineStops || column === 1) {\r\n            if (lineNumber === 1) {\r\n                lineNumber = model.getLineCount();\r\n            }\r\n            else {\r\n                lineNumber--;\r\n            }\r\n            column = model.getLineMaxColumn(lineNumber);\r\n        }\r\n        else {\r\n            column--;\r\n        }\r\n        return new Position(lineNumber, column);\r\n    };\r\n    FindModelBoundToEditorModel.prototype._moveToPrevMatch = function (before, isRecursed) {\r\n        if (isRecursed === void 0) { isRecursed = false; }\r\n        if (this._decorations.getCount() < MATCHES_LIMIT) {\r\n            var prevMatchRange = this._decorations.matchBeforePosition(before);\r\n            if (prevMatchRange && prevMatchRange.isEmpty() && prevMatchRange.getStartPosition().equals(before)) {\r\n                before = this._prevSearchPosition(before);\r\n                prevMatchRange = this._decorations.matchBeforePosition(before);\r\n            }\r\n            if (prevMatchRange) {\r\n                this._setCurrentFindMatch(prevMatchRange);\r\n            }\r\n            return;\r\n        }\r\n        if (this._cannotFind()) {\r\n            return;\r\n        }\r\n        var findScope = this._decorations.getFindScope();\r\n        var searchRange = FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(), findScope);\r\n        // ...(----)...|...\r\n        if (searchRange.getEndPosition().isBefore(before)) {\r\n            before = searchRange.getEndPosition();\r\n        }\r\n        // ...|...(----)...\r\n        if (before.isBefore(searchRange.getStartPosition())) {\r\n            before = searchRange.getEndPosition();\r\n        }\r\n        var lineNumber = before.lineNumber, column = before.column;\r\n        var model = this._editor.getModel();\r\n        var position = new Position(lineNumber, column);\r\n        var prevMatch = model.findPreviousMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(92 /* wordSeparators */) : null, false);\r\n        if (prevMatch && prevMatch.range.isEmpty() && prevMatch.range.getStartPosition().equals(position)) {\r\n            // Looks like we're stuck at this position, unacceptable!\r\n            position = this._prevSearchPosition(position);\r\n            prevMatch = model.findPreviousMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(92 /* wordSeparators */) : null, false);\r\n        }\r\n        if (!prevMatch) {\r\n            // there is precisely one match and selection is on top of it\r\n            return;\r\n        }\r\n        if (!isRecursed && !searchRange.containsRange(prevMatch.range)) {\r\n            return this._moveToPrevMatch(prevMatch.range.getStartPosition(), true);\r\n        }\r\n        this._setCurrentFindMatch(prevMatch.range);\r\n    };\r\n    FindModelBoundToEditorModel.prototype.moveToPrevMatch = function () {\r\n        this._moveToPrevMatch(this._editor.getSelection().getStartPosition());\r\n    };\r\n    FindModelBoundToEditorModel.prototype._nextSearchPosition = function (after) {\r\n        var isUsingLineStops = this._state.isRegex && (this._state.searchString.indexOf('^') >= 0\r\n            || this._state.searchString.indexOf('$') >= 0);\r\n        var lineNumber = after.lineNumber, column = after.column;\r\n        var model = this._editor.getModel();\r\n        if (isUsingLineStops || column === model.getLineMaxColumn(lineNumber)) {\r\n            if (lineNumber === model.getLineCount()) {\r\n                lineNumber = 1;\r\n            }\r\n            else {\r\n                lineNumber++;\r\n            }\r\n            column = 1;\r\n        }\r\n        else {\r\n            column++;\r\n        }\r\n        return new Position(lineNumber, column);\r\n    };\r\n    FindModelBoundToEditorModel.prototype._moveToNextMatch = function (after) {\r\n        if (this._decorations.getCount() < MATCHES_LIMIT) {\r\n            var nextMatchRange = this._decorations.matchAfterPosition(after);\r\n            if (nextMatchRange && nextMatchRange.isEmpty() && nextMatchRange.getStartPosition().equals(after)) {\r\n                // Looks like we're stuck at this position, unacceptable!\r\n                after = this._nextSearchPosition(after);\r\n                nextMatchRange = this._decorations.matchAfterPosition(after);\r\n            }\r\n            if (nextMatchRange) {\r\n                this._setCurrentFindMatch(nextMatchRange);\r\n            }\r\n            return;\r\n        }\r\n        var nextMatch = this._getNextMatch(after, false, true);\r\n        if (nextMatch) {\r\n            this._setCurrentFindMatch(nextMatch.range);\r\n        }\r\n    };\r\n    FindModelBoundToEditorModel.prototype._getNextMatch = function (after, captureMatches, forceMove, isRecursed) {\r\n        if (isRecursed === void 0) { isRecursed = false; }\r\n        if (this._cannotFind()) {\r\n            return null;\r\n        }\r\n        var findScope = this._decorations.getFindScope();\r\n        var searchRange = FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(), findScope);\r\n        // ...(----)...|...\r\n        if (searchRange.getEndPosition().isBefore(after)) {\r\n            after = searchRange.getStartPosition();\r\n        }\r\n        // ...|...(----)...\r\n        if (after.isBefore(searchRange.getStartPosition())) {\r\n            after = searchRange.getStartPosition();\r\n        }\r\n        var lineNumber = after.lineNumber, column = after.column;\r\n        var model = this._editor.getModel();\r\n        var position = new Position(lineNumber, column);\r\n        var nextMatch = model.findNextMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(92 /* wordSeparators */) : null, captureMatches);\r\n        if (forceMove && nextMatch && nextMatch.range.isEmpty() && nextMatch.range.getStartPosition().equals(position)) {\r\n            // Looks like we're stuck at this position, unacceptable!\r\n            position = this._nextSearchPosition(position);\r\n            nextMatch = model.findNextMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(92 /* wordSeparators */) : null, captureMatches);\r\n        }\r\n        if (!nextMatch) {\r\n            // there is precisely one match and selection is on top of it\r\n            return null;\r\n        }\r\n        if (!isRecursed && !searchRange.containsRange(nextMatch.range)) {\r\n            return this._getNextMatch(nextMatch.range.getEndPosition(), captureMatches, forceMove, true);\r\n        }\r\n        return nextMatch;\r\n    };\r\n    FindModelBoundToEditorModel.prototype.moveToNextMatch = function () {\r\n        this._moveToNextMatch(this._editor.getSelection().getEndPosition());\r\n    };\r\n    FindModelBoundToEditorModel.prototype._getReplacePattern = function () {\r\n        if (this._state.isRegex) {\r\n            return parseReplaceString(this._state.replaceString);\r\n        }\r\n        return ReplacePattern.fromStaticValue(this._state.replaceString);\r\n    };\r\n    FindModelBoundToEditorModel.prototype.replace = function () {\r\n        if (!this._hasMatches()) {\r\n            return;\r\n        }\r\n        var replacePattern = this._getReplacePattern();\r\n        var selection = this._editor.getSelection();\r\n        var nextMatch = this._getNextMatch(selection.getStartPosition(), true, false);\r\n        if (nextMatch) {\r\n            if (selection.equalsRange(nextMatch.range)) {\r\n                // selection sits on a find match => replace it!\r\n                var replaceString = replacePattern.buildReplaceString(nextMatch.matches, this._state.preserveCase);\r\n                var command = new ReplaceCommand(selection, replaceString);\r\n                this._executeEditorCommand('replace', command);\r\n                this._decorations.setStartPosition(new Position(selection.startLineNumber, selection.startColumn + replaceString.length));\r\n                this.research(true);\r\n            }\r\n            else {\r\n                this._decorations.setStartPosition(this._editor.getPosition());\r\n                this._setCurrentFindMatch(nextMatch.range);\r\n            }\r\n        }\r\n    };\r\n    FindModelBoundToEditorModel.prototype._findMatches = function (findScope, captureMatches, limitResultCount) {\r\n        var searchRange = FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(), findScope);\r\n        return this._editor.getModel().findMatches(this._state.searchString, searchRange, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(92 /* wordSeparators */) : null, captureMatches, limitResultCount);\r\n    };\r\n    FindModelBoundToEditorModel.prototype.replaceAll = function () {\r\n        if (!this._hasMatches()) {\r\n            return;\r\n        }\r\n        var findScope = this._decorations.getFindScope();\r\n        if (findScope === null && this._state.matchesCount >= MATCHES_LIMIT) {\r\n            // Doing a replace on the entire file that is over ${MATCHES_LIMIT} matches\r\n            this._largeReplaceAll();\r\n        }\r\n        else {\r\n            this._regularReplaceAll(findScope);\r\n        }\r\n        this.research(false);\r\n    };\r\n    FindModelBoundToEditorModel.prototype._largeReplaceAll = function () {\r\n        var searchParams = new SearchParams(this._state.searchString, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(92 /* wordSeparators */) : null);\r\n        var searchData = searchParams.parseSearchRequest();\r\n        if (!searchData) {\r\n            return;\r\n        }\r\n        var searchRegex = searchData.regex;\r\n        if (!searchRegex.multiline) {\r\n            var mod = 'mu';\r\n            if (searchRegex.ignoreCase) {\r\n                mod += 'i';\r\n            }\r\n            if (searchRegex.global) {\r\n                mod += 'g';\r\n            }\r\n            searchRegex = new RegExp(searchRegex.source, mod);\r\n        }\r\n        var model = this._editor.getModel();\r\n        var modelText = model.getValue(1 /* LF */);\r\n        var fullModelRange = model.getFullModelRange();\r\n        var replacePattern = this._getReplacePattern();\r\n        var resultText;\r\n        var preserveCase = this._state.preserveCase;\r\n        if (replacePattern.hasReplacementPatterns || preserveCase) {\r\n            resultText = modelText.replace(searchRegex, function () {\r\n                return replacePattern.buildReplaceString(arguments, preserveCase);\r\n            });\r\n        }\r\n        else {\r\n            resultText = modelText.replace(searchRegex, replacePattern.buildReplaceString(null, preserveCase));\r\n        }\r\n        var command = new ReplaceCommandThatPreservesSelection(fullModelRange, resultText, this._editor.getSelection());\r\n        this._executeEditorCommand('replaceAll', command);\r\n    };\r\n    FindModelBoundToEditorModel.prototype._regularReplaceAll = function (findScope) {\r\n        var replacePattern = this._getReplacePattern();\r\n        // Get all the ranges (even more than the highlighted ones)\r\n        var matches = this._findMatches(findScope, replacePattern.hasReplacementPatterns || this._state.preserveCase, 1073741824 /* MAX_SAFE_SMALL_INTEGER */);\r\n        var replaceStrings = [];\r\n        for (var i = 0, len = matches.length; i < len; i++) {\r\n            replaceStrings[i] = replacePattern.buildReplaceString(matches[i].matches, this._state.preserveCase);\r\n        }\r\n        var command = new ReplaceAllCommand(this._editor.getSelection(), matches.map(function (m) { return m.range; }), replaceStrings);\r\n        this._executeEditorCommand('replaceAll', command);\r\n    };\r\n    FindModelBoundToEditorModel.prototype.selectAllMatches = function () {\r\n        if (!this._hasMatches()) {\r\n            return;\r\n        }\r\n        var findScope = this._decorations.getFindScope();\r\n        // Get all the ranges (even more than the highlighted ones)\r\n        var matches = this._findMatches(findScope, false, 1073741824 /* MAX_SAFE_SMALL_INTEGER */);\r\n        var selections = matches.map(function (m) { return new Selection(m.range.startLineNumber, m.range.startColumn, m.range.endLineNumber, m.range.endColumn); });\r\n        // If one of the ranges is the editor selection, then maintain it as primary\r\n        var editorSelection = this._editor.getSelection();\r\n        for (var i = 0, len = selections.length; i < len; i++) {\r\n            var sel = selections[i];\r\n            if (sel.equalsRange(editorSelection)) {\r\n                selections = [editorSelection].concat(selections.slice(0, i)).concat(selections.slice(i + 1));\r\n                break;\r\n            }\r\n        }\r\n        this._editor.setSelections(selections);\r\n    };\r\n    FindModelBoundToEditorModel.prototype._executeEditorCommand = function (source, command) {\r\n        try {\r\n            this._ignoreModelContentChanged = true;\r\n            this._editor.pushUndoStop();\r\n            this._editor.executeCommand(source, command);\r\n            this._editor.pushUndoStop();\r\n        }\r\n        finally {\r\n            this._ignoreModelContentChanged = false;\r\n        }\r\n    };\r\n    return FindModelBoundToEditorModel;\r\n}());\r\nexport { FindModelBoundToEditorModel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './checkbox.css';\r\nimport * as DOM from '../../dom.js';\r\nimport { Widget } from '../widget.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { Emitter } from '../../../common/event.js';\r\nimport * as objects from '../../../common/objects.js';\r\nvar defaultOpts = {\r\n    inputActiveOptionBorder: Color.fromHex('#007ACC00'),\r\n    inputActiveOptionBackground: Color.fromHex('#0E639C50')\r\n};\r\nvar Checkbox = /** @class */ (function (_super) {\r\n    __extends(Checkbox, _super);\r\n    function Checkbox(opts) {\r\n        var _this = _super.call(this) || this;\r\n        _this._onChange = _this._register(new Emitter());\r\n        _this.onChange = _this._onChange.event;\r\n        _this._onKeyDown = _this._register(new Emitter());\r\n        _this.onKeyDown = _this._onKeyDown.event;\r\n        _this._opts = objects.deepClone(opts);\r\n        objects.mixin(_this._opts, defaultOpts, false);\r\n        _this._checked = _this._opts.isChecked;\r\n        _this.domNode = document.createElement('div');\r\n        _this.domNode.title = _this._opts.title;\r\n        _this.domNode.className = 'monaco-custom-checkbox codicon ' + (_this._opts.actionClassName || '') + ' ' + (_this._checked ? 'checked' : 'unchecked');\r\n        _this.domNode.tabIndex = 0;\r\n        _this.domNode.setAttribute('role', 'checkbox');\r\n        _this.domNode.setAttribute('aria-checked', String(_this._checked));\r\n        _this.domNode.setAttribute('aria-label', _this._opts.title);\r\n        _this.applyStyles();\r\n        _this.onclick(_this.domNode, function (ev) {\r\n            _this.checked = !_this._checked;\r\n            _this._onChange.fire(false);\r\n            ev.preventDefault();\r\n        });\r\n        _this.ignoreGesture(_this.domNode);\r\n        _this.onkeydown(_this.domNode, function (keyboardEvent) {\r\n            if (keyboardEvent.keyCode === 10 /* Space */ || keyboardEvent.keyCode === 3 /* Enter */) {\r\n                _this.checked = !_this._checked;\r\n                _this._onChange.fire(true);\r\n                keyboardEvent.preventDefault();\r\n                return;\r\n            }\r\n            _this._onKeyDown.fire(keyboardEvent);\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Checkbox.prototype, \"enabled\", {\r\n        get: function () {\r\n            return this.domNode.getAttribute('aria-disabled') !== 'true';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Checkbox.prototype.focus = function () {\r\n        this.domNode.focus();\r\n    };\r\n    Object.defineProperty(Checkbox.prototype, \"checked\", {\r\n        get: function () {\r\n            return this._checked;\r\n        },\r\n        set: function (newIsChecked) {\r\n            this._checked = newIsChecked;\r\n            this.domNode.setAttribute('aria-checked', String(this._checked));\r\n            if (this._checked) {\r\n                this.domNode.classList.add('checked');\r\n            }\r\n            else {\r\n                this.domNode.classList.remove('checked');\r\n            }\r\n            this.applyStyles();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Checkbox.prototype.width = function () {\r\n        return 2 /*marginleft*/ + 2 /*border*/ + 2 /*padding*/ + 16 /* icon width */;\r\n    };\r\n    Checkbox.prototype.style = function (styles) {\r\n        if (styles.inputActiveOptionBorder) {\r\n            this._opts.inputActiveOptionBorder = styles.inputActiveOptionBorder;\r\n        }\r\n        if (styles.inputActiveOptionBackground) {\r\n            this._opts.inputActiveOptionBackground = styles.inputActiveOptionBackground;\r\n        }\r\n        this.applyStyles();\r\n    };\r\n    Checkbox.prototype.applyStyles = function () {\r\n        if (this.domNode) {\r\n            this.domNode.style.borderColor = this._checked && this._opts.inputActiveOptionBorder ? this._opts.inputActiveOptionBorder.toString() : 'transparent';\r\n            this.domNode.style.backgroundColor = this._checked && this._opts.inputActiveOptionBackground ? this._opts.inputActiveOptionBackground.toString() : 'transparent';\r\n        }\r\n    };\r\n    Checkbox.prototype.enable = function () {\r\n        this.domNode.tabIndex = 0;\r\n        this.domNode.setAttribute('aria-disabled', String(false));\r\n    };\r\n    Checkbox.prototype.disable = function () {\r\n        DOM.removeTabIndexAndUpdateFocus(this.domNode);\r\n        this.domNode.setAttribute('aria-disabled', String(true));\r\n    };\r\n    return Checkbox;\r\n}(Widget));\r\nexport { Checkbox };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Checkbox } from '../checkbox/checkbox.js';\r\nimport * as nls from '../../../../nls.js';\r\nvar NLS_CASE_SENSITIVE_CHECKBOX_LABEL = nls.localize('caseDescription', \"Match Case\");\r\nvar NLS_WHOLE_WORD_CHECKBOX_LABEL = nls.localize('wordsDescription', \"Match Whole Word\");\r\nvar NLS_REGEX_CHECKBOX_LABEL = nls.localize('regexDescription', \"Use Regular Expression\");\r\nvar CaseSensitiveCheckbox = /** @class */ (function (_super) {\r\n    __extends(CaseSensitiveCheckbox, _super);\r\n    function CaseSensitiveCheckbox(opts) {\r\n        return _super.call(this, {\r\n            actionClassName: 'codicon-case-sensitive',\r\n            title: NLS_CASE_SENSITIVE_CHECKBOX_LABEL + opts.appendTitle,\r\n            isChecked: opts.isChecked,\r\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\r\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\r\n        }) || this;\r\n    }\r\n    return CaseSensitiveCheckbox;\r\n}(Checkbox));\r\nexport { CaseSensitiveCheckbox };\r\nvar WholeWordsCheckbox = /** @class */ (function (_super) {\r\n    __extends(WholeWordsCheckbox, _super);\r\n    function WholeWordsCheckbox(opts) {\r\n        return _super.call(this, {\r\n            actionClassName: 'codicon-whole-word',\r\n            title: NLS_WHOLE_WORD_CHECKBOX_LABEL + opts.appendTitle,\r\n            isChecked: opts.isChecked,\r\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\r\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\r\n        }) || this;\r\n    }\r\n    return WholeWordsCheckbox;\r\n}(Checkbox));\r\nexport { WholeWordsCheckbox };\r\nvar RegexCheckbox = /** @class */ (function (_super) {\r\n    __extends(RegexCheckbox, _super);\r\n    function RegexCheckbox(opts) {\r\n        return _super.call(this, {\r\n            actionClassName: 'codicon-regex',\r\n            title: NLS_REGEX_CHECKBOX_LABEL + opts.appendTitle,\r\n            isChecked: opts.isChecked,\r\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\r\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\r\n        }) || this;\r\n    }\r\n    return RegexCheckbox;\r\n}(Checkbox));\r\nexport { RegexCheckbox };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { CaseSensitiveCheckbox, RegexCheckbox, WholeWordsCheckbox } from '../../../base/browser/ui/findinput/findInputCheckboxes.js';\r\nimport { Widget } from '../../../base/browser/ui/widget.js';\r\nimport { RunOnceScheduler } from '../../../base/common/async.js';\r\nimport { FIND_IDS } from './findModel.js';\r\nimport { contrastBorder, editorWidgetBackground, inputActiveOptionBorder, inputActiveOptionBackground, widgetShadow, editorWidgetForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nvar FindOptionsWidget = /** @class */ (function (_super) {\r\n    __extends(FindOptionsWidget, _super);\r\n    function FindOptionsWidget(editor, state, keybindingService, themeService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._hideSoon = _this._register(new RunOnceScheduler(function () { return _this._hide(); }, 2000));\r\n        _this._isVisible = false;\r\n        _this._editor = editor;\r\n        _this._state = state;\r\n        _this._keybindingService = keybindingService;\r\n        _this._domNode = document.createElement('div');\r\n        _this._domNode.className = 'findOptionsWidget';\r\n        _this._domNode.style.display = 'none';\r\n        _this._domNode.style.top = '10px';\r\n        _this._domNode.setAttribute('role', 'presentation');\r\n        _this._domNode.setAttribute('aria-hidden', 'true');\r\n        var inputActiveOptionBorderColor = themeService.getTheme().getColor(inputActiveOptionBorder);\r\n        var inputActiveOptionBackgroundColor = themeService.getTheme().getColor(inputActiveOptionBackground);\r\n        _this.caseSensitive = _this._register(new CaseSensitiveCheckbox({\r\n            appendTitle: _this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand),\r\n            isChecked: _this._state.matchCase,\r\n            inputActiveOptionBorder: inputActiveOptionBorderColor,\r\n            inputActiveOptionBackground: inputActiveOptionBackgroundColor\r\n        }));\r\n        _this._domNode.appendChild(_this.caseSensitive.domNode);\r\n        _this._register(_this.caseSensitive.onChange(function () {\r\n            _this._state.change({\r\n                matchCase: _this.caseSensitive.checked\r\n            }, false);\r\n        }));\r\n        _this.wholeWords = _this._register(new WholeWordsCheckbox({\r\n            appendTitle: _this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand),\r\n            isChecked: _this._state.wholeWord,\r\n            inputActiveOptionBorder: inputActiveOptionBorderColor,\r\n            inputActiveOptionBackground: inputActiveOptionBackgroundColor\r\n        }));\r\n        _this._domNode.appendChild(_this.wholeWords.domNode);\r\n        _this._register(_this.wholeWords.onChange(function () {\r\n            _this._state.change({\r\n                wholeWord: _this.wholeWords.checked\r\n            }, false);\r\n        }));\r\n        _this.regex = _this._register(new RegexCheckbox({\r\n            appendTitle: _this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand),\r\n            isChecked: _this._state.isRegex,\r\n            inputActiveOptionBorder: inputActiveOptionBorderColor,\r\n            inputActiveOptionBackground: inputActiveOptionBackgroundColor\r\n        }));\r\n        _this._domNode.appendChild(_this.regex.domNode);\r\n        _this._register(_this.regex.onChange(function () {\r\n            _this._state.change({\r\n                isRegex: _this.regex.checked\r\n            }, false);\r\n        }));\r\n        _this._editor.addOverlayWidget(_this);\r\n        _this._register(_this._state.onFindReplaceStateChange(function (e) {\r\n            var somethingChanged = false;\r\n            if (e.isRegex) {\r\n                _this.regex.checked = _this._state.isRegex;\r\n                somethingChanged = true;\r\n            }\r\n            if (e.wholeWord) {\r\n                _this.wholeWords.checked = _this._state.wholeWord;\r\n                somethingChanged = true;\r\n            }\r\n            if (e.matchCase) {\r\n                _this.caseSensitive.checked = _this._state.matchCase;\r\n                somethingChanged = true;\r\n            }\r\n            if (!_this._state.isRevealed && somethingChanged) {\r\n                _this._revealTemporarily();\r\n            }\r\n        }));\r\n        _this._register(dom.addDisposableNonBubblingMouseOutListener(_this._domNode, function (e) { return _this._onMouseOut(); }));\r\n        _this._register(dom.addDisposableListener(_this._domNode, 'mouseover', function (e) { return _this._onMouseOver(); }));\r\n        _this._applyTheme(themeService.getTheme());\r\n        _this._register(themeService.onThemeChange(_this._applyTheme.bind(_this)));\r\n        return _this;\r\n    }\r\n    FindOptionsWidget.prototype._keybindingLabelFor = function (actionId) {\r\n        var kb = this._keybindingService.lookupKeybinding(actionId);\r\n        if (!kb) {\r\n            return '';\r\n        }\r\n        return \" (\" + kb.getLabel() + \")\";\r\n    };\r\n    FindOptionsWidget.prototype.dispose = function () {\r\n        this._editor.removeOverlayWidget(this);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    // ----- IOverlayWidget API\r\n    FindOptionsWidget.prototype.getId = function () {\r\n        return FindOptionsWidget.ID;\r\n    };\r\n    FindOptionsWidget.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    FindOptionsWidget.prototype.getPosition = function () {\r\n        return {\r\n            preference: 0 /* TOP_RIGHT_CORNER */\r\n        };\r\n    };\r\n    FindOptionsWidget.prototype.highlightFindOptions = function () {\r\n        this._revealTemporarily();\r\n    };\r\n    FindOptionsWidget.prototype._revealTemporarily = function () {\r\n        this._show();\r\n        this._hideSoon.schedule();\r\n    };\r\n    FindOptionsWidget.prototype._onMouseOut = function () {\r\n        this._hideSoon.schedule();\r\n    };\r\n    FindOptionsWidget.prototype._onMouseOver = function () {\r\n        this._hideSoon.cancel();\r\n    };\r\n    FindOptionsWidget.prototype._show = function () {\r\n        if (this._isVisible) {\r\n            return;\r\n        }\r\n        this._isVisible = true;\r\n        this._domNode.style.display = 'block';\r\n    };\r\n    FindOptionsWidget.prototype._hide = function () {\r\n        if (!this._isVisible) {\r\n            return;\r\n        }\r\n        this._isVisible = false;\r\n        this._domNode.style.display = 'none';\r\n    };\r\n    FindOptionsWidget.prototype._applyTheme = function (theme) {\r\n        var inputStyles = {\r\n            inputActiveOptionBorder: theme.getColor(inputActiveOptionBorder),\r\n            inputActiveOptionBackground: theme.getColor(inputActiveOptionBackground)\r\n        };\r\n        this.caseSensitive.style(inputStyles);\r\n        this.wholeWords.style(inputStyles);\r\n        this.regex.style(inputStyles);\r\n    };\r\n    FindOptionsWidget.ID = 'editor.contrib.findOptionsWidget';\r\n    return FindOptionsWidget;\r\n}(Widget));\r\nexport { FindOptionsWidget };\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var widgetBackground = theme.getColor(editorWidgetBackground);\r\n    if (widgetBackground) {\r\n        collector.addRule(\".monaco-editor .findOptionsWidget { background-color: \" + widgetBackground + \"; }\");\r\n    }\r\n    var widgetForeground = theme.getColor(editorWidgetForeground);\r\n    if (widgetForeground) {\r\n        collector.addRule(\".monaco-editor .findOptionsWidget { color: \" + widgetForeground + \"; }\");\r\n    }\r\n    var widgetShadowColor = theme.getColor(widgetShadow);\r\n    if (widgetShadowColor) {\r\n        collector.addRule(\".monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px \" + widgetShadowColor + \"; }\");\r\n    }\r\n    var hcBorder = theme.getColor(contrastBorder);\r\n    if (hcBorder) {\r\n        collector.addRule(\".monaco-editor .findOptionsWidget { border: 2px solid \" + hcBorder + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { Range } from '../../common/core/range.js';\r\nfunction effectiveOptionValue(override, value) {\r\n    if (override === 1 /* True */) {\r\n        return true;\r\n    }\r\n    if (override === 2 /* False */) {\r\n        return false;\r\n    }\r\n    return value;\r\n}\r\nvar FindReplaceState = /** @class */ (function (_super) {\r\n    __extends(FindReplaceState, _super);\r\n    function FindReplaceState() {\r\n        var _this = _super.call(this) || this;\r\n        _this._onFindReplaceStateChange = _this._register(new Emitter());\r\n        _this.onFindReplaceStateChange = _this._onFindReplaceStateChange.event;\r\n        _this._searchString = '';\r\n        _this._replaceString = '';\r\n        _this._isRevealed = false;\r\n        _this._isReplaceRevealed = false;\r\n        _this._isRegex = false;\r\n        _this._isRegexOverride = 0 /* NotSet */;\r\n        _this._wholeWord = false;\r\n        _this._wholeWordOverride = 0 /* NotSet */;\r\n        _this._matchCase = false;\r\n        _this._matchCaseOverride = 0 /* NotSet */;\r\n        _this._preserveCase = false;\r\n        _this._preserveCaseOverride = 0 /* NotSet */;\r\n        _this._searchScope = null;\r\n        _this._matchesPosition = 0;\r\n        _this._matchesCount = 0;\r\n        _this._currentMatch = null;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(FindReplaceState.prototype, \"searchString\", {\r\n        get: function () { return this._searchString; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"replaceString\", {\r\n        get: function () { return this._replaceString; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"isRevealed\", {\r\n        get: function () { return this._isRevealed; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"isReplaceRevealed\", {\r\n        get: function () { return this._isReplaceRevealed; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"isRegex\", {\r\n        get: function () { return effectiveOptionValue(this._isRegexOverride, this._isRegex); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"wholeWord\", {\r\n        get: function () { return effectiveOptionValue(this._wholeWordOverride, this._wholeWord); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"matchCase\", {\r\n        get: function () { return effectiveOptionValue(this._matchCaseOverride, this._matchCase); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"preserveCase\", {\r\n        get: function () { return effectiveOptionValue(this._preserveCaseOverride, this._preserveCase); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"actualIsRegex\", {\r\n        get: function () { return this._isRegex; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"actualWholeWord\", {\r\n        get: function () { return this._wholeWord; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"actualMatchCase\", {\r\n        get: function () { return this._matchCase; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"actualPreserveCase\", {\r\n        get: function () { return this._preserveCase; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"searchScope\", {\r\n        get: function () { return this._searchScope; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"matchesPosition\", {\r\n        get: function () { return this._matchesPosition; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"matchesCount\", {\r\n        get: function () { return this._matchesCount; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FindReplaceState.prototype, \"currentMatch\", {\r\n        get: function () { return this._currentMatch; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FindReplaceState.prototype.changeMatchInfo = function (matchesPosition, matchesCount, currentMatch) {\r\n        var changeEvent = {\r\n            moveCursor: false,\r\n            updateHistory: false,\r\n            searchString: false,\r\n            replaceString: false,\r\n            isRevealed: false,\r\n            isReplaceRevealed: false,\r\n            isRegex: false,\r\n            wholeWord: false,\r\n            matchCase: false,\r\n            preserveCase: false,\r\n            searchScope: false,\r\n            matchesPosition: false,\r\n            matchesCount: false,\r\n            currentMatch: false\r\n        };\r\n        var somethingChanged = false;\r\n        if (matchesCount === 0) {\r\n            matchesPosition = 0;\r\n        }\r\n        if (matchesPosition > matchesCount) {\r\n            matchesPosition = matchesCount;\r\n        }\r\n        if (this._matchesPosition !== matchesPosition) {\r\n            this._matchesPosition = matchesPosition;\r\n            changeEvent.matchesPosition = true;\r\n            somethingChanged = true;\r\n        }\r\n        if (this._matchesCount !== matchesCount) {\r\n            this._matchesCount = matchesCount;\r\n            changeEvent.matchesCount = true;\r\n            somethingChanged = true;\r\n        }\r\n        if (typeof currentMatch !== 'undefined') {\r\n            if (!Range.equalsRange(this._currentMatch, currentMatch)) {\r\n                this._currentMatch = currentMatch;\r\n                changeEvent.currentMatch = true;\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n        if (somethingChanged) {\r\n            this._onFindReplaceStateChange.fire(changeEvent);\r\n        }\r\n    };\r\n    FindReplaceState.prototype.change = function (newState, moveCursor, updateHistory) {\r\n        if (updateHistory === void 0) { updateHistory = true; }\r\n        var changeEvent = {\r\n            moveCursor: moveCursor,\r\n            updateHistory: updateHistory,\r\n            searchString: false,\r\n            replaceString: false,\r\n            isRevealed: false,\r\n            isReplaceRevealed: false,\r\n            isRegex: false,\r\n            wholeWord: false,\r\n            matchCase: false,\r\n            preserveCase: false,\r\n            searchScope: false,\r\n            matchesPosition: false,\r\n            matchesCount: false,\r\n            currentMatch: false\r\n        };\r\n        var somethingChanged = false;\r\n        var oldEffectiveIsRegex = this.isRegex;\r\n        var oldEffectiveWholeWords = this.wholeWord;\r\n        var oldEffectiveMatchCase = this.matchCase;\r\n        var oldEffectivePreserveCase = this.preserveCase;\r\n        if (typeof newState.searchString !== 'undefined') {\r\n            if (this._searchString !== newState.searchString) {\r\n                this._searchString = newState.searchString;\r\n                changeEvent.searchString = true;\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n        if (typeof newState.replaceString !== 'undefined') {\r\n            if (this._replaceString !== newState.replaceString) {\r\n                this._replaceString = newState.replaceString;\r\n                changeEvent.replaceString = true;\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n        if (typeof newState.isRevealed !== 'undefined') {\r\n            if (this._isRevealed !== newState.isRevealed) {\r\n                this._isRevealed = newState.isRevealed;\r\n                changeEvent.isRevealed = true;\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n        if (typeof newState.isReplaceRevealed !== 'undefined') {\r\n            if (this._isReplaceRevealed !== newState.isReplaceRevealed) {\r\n                this._isReplaceRevealed = newState.isReplaceRevealed;\r\n                changeEvent.isReplaceRevealed = true;\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n        if (typeof newState.isRegex !== 'undefined') {\r\n            this._isRegex = newState.isRegex;\r\n        }\r\n        if (typeof newState.wholeWord !== 'undefined') {\r\n            this._wholeWord = newState.wholeWord;\r\n        }\r\n        if (typeof newState.matchCase !== 'undefined') {\r\n            this._matchCase = newState.matchCase;\r\n        }\r\n        if (typeof newState.preserveCase !== 'undefined') {\r\n            this._preserveCase = newState.preserveCase;\r\n        }\r\n        if (typeof newState.searchScope !== 'undefined') {\r\n            if (!Range.equalsRange(this._searchScope, newState.searchScope)) {\r\n                this._searchScope = newState.searchScope;\r\n                changeEvent.searchScope = true;\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n        // Overrides get set when they explicitly come in and get reset anytime something else changes\r\n        this._isRegexOverride = (typeof newState.isRegexOverride !== 'undefined' ? newState.isRegexOverride : 0 /* NotSet */);\r\n        this._wholeWordOverride = (typeof newState.wholeWordOverride !== 'undefined' ? newState.wholeWordOverride : 0 /* NotSet */);\r\n        this._matchCaseOverride = (typeof newState.matchCaseOverride !== 'undefined' ? newState.matchCaseOverride : 0 /* NotSet */);\r\n        this._preserveCaseOverride = (typeof newState.preserveCaseOverride !== 'undefined' ? newState.preserveCaseOverride : 0 /* NotSet */);\r\n        if (oldEffectiveIsRegex !== this.isRegex) {\r\n            somethingChanged = true;\r\n            changeEvent.isRegex = true;\r\n        }\r\n        if (oldEffectiveWholeWords !== this.wholeWord) {\r\n            somethingChanged = true;\r\n            changeEvent.wholeWord = true;\r\n        }\r\n        if (oldEffectiveMatchCase !== this.matchCase) {\r\n            somethingChanged = true;\r\n            changeEvent.matchCase = true;\r\n        }\r\n        if (oldEffectivePreserveCase !== this.preserveCase) {\r\n            somethingChanged = true;\r\n            changeEvent.preserveCase = true;\r\n        }\r\n        if (somethingChanged) {\r\n            this._onFindReplaceStateChange.fire(changeEvent);\r\n        }\r\n    };\r\n    return FindReplaceState;\r\n}(Disposable));\r\nexport { FindReplaceState };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as DOM from './dom.js';\r\nexport function renderText(text, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var element = createElement(options);\r\n    element.textContent = text;\r\n    return element;\r\n}\r\nexport function renderFormattedText(formattedText, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var element = createElement(options);\r\n    _renderFormattedText(element, parseFormattedText(formattedText), options.actionHandler);\r\n    return element;\r\n}\r\nexport function createElement(options) {\r\n    var tagName = options.inline ? 'span' : 'div';\r\n    var element = document.createElement(tagName);\r\n    if (options.className) {\r\n        element.className = options.className;\r\n    }\r\n    return element;\r\n}\r\nvar StringStream = /** @class */ (function () {\r\n    function StringStream(source) {\r\n        this.source = source;\r\n        this.index = 0;\r\n    }\r\n    StringStream.prototype.eos = function () {\r\n        return this.index >= this.source.length;\r\n    };\r\n    StringStream.prototype.next = function () {\r\n        var next = this.peek();\r\n        this.advance();\r\n        return next;\r\n    };\r\n    StringStream.prototype.peek = function () {\r\n        return this.source[this.index];\r\n    };\r\n    StringStream.prototype.advance = function () {\r\n        this.index++;\r\n    };\r\n    return StringStream;\r\n}());\r\nfunction _renderFormattedText(element, treeNode, actionHandler) {\r\n    var child;\r\n    if (treeNode.type === 2 /* Text */) {\r\n        child = document.createTextNode(treeNode.content || '');\r\n    }\r\n    else if (treeNode.type === 3 /* Bold */) {\r\n        child = document.createElement('b');\r\n    }\r\n    else if (treeNode.type === 4 /* Italics */) {\r\n        child = document.createElement('i');\r\n    }\r\n    else if (treeNode.type === 5 /* Action */ && actionHandler) {\r\n        var a = document.createElement('a');\r\n        a.href = '#';\r\n        actionHandler.disposeables.add(DOM.addStandardDisposableListener(a, 'click', function (event) {\r\n            actionHandler.callback(String(treeNode.index), event);\r\n        }));\r\n        child = a;\r\n    }\r\n    else if (treeNode.type === 7 /* NewLine */) {\r\n        child = document.createElement('br');\r\n    }\r\n    else if (treeNode.type === 1 /* Root */) {\r\n        child = element;\r\n    }\r\n    if (child && element !== child) {\r\n        element.appendChild(child);\r\n    }\r\n    if (child && Array.isArray(treeNode.children)) {\r\n        treeNode.children.forEach(function (nodeChild) {\r\n            _renderFormattedText(child, nodeChild, actionHandler);\r\n        });\r\n    }\r\n}\r\nfunction parseFormattedText(content) {\r\n    var root = {\r\n        type: 1 /* Root */,\r\n        children: []\r\n    };\r\n    var actionViewItemIndex = 0;\r\n    var current = root;\r\n    var stack = [];\r\n    var stream = new StringStream(content);\r\n    while (!stream.eos()) {\r\n        var next = stream.next();\r\n        var isEscapedFormatType = (next === '\\\\' && formatTagType(stream.peek()) !== 0 /* Invalid */);\r\n        if (isEscapedFormatType) {\r\n            next = stream.next(); // unread the backslash if it escapes a format tag type\r\n        }\r\n        if (!isEscapedFormatType && isFormatTag(next) && next === stream.peek()) {\r\n            stream.advance();\r\n            if (current.type === 2 /* Text */) {\r\n                current = stack.pop();\r\n            }\r\n            var type = formatTagType(next);\r\n            if (current.type === type || (current.type === 5 /* Action */ && type === 6 /* ActionClose */)) {\r\n                current = stack.pop();\r\n            }\r\n            else {\r\n                var newCurrent = {\r\n                    type: type,\r\n                    children: []\r\n                };\r\n                if (type === 5 /* Action */) {\r\n                    newCurrent.index = actionViewItemIndex;\r\n                    actionViewItemIndex++;\r\n                }\r\n                current.children.push(newCurrent);\r\n                stack.push(current);\r\n                current = newCurrent;\r\n            }\r\n        }\r\n        else if (next === '\\n') {\r\n            if (current.type === 2 /* Text */) {\r\n                current = stack.pop();\r\n            }\r\n            current.children.push({\r\n                type: 7 /* NewLine */\r\n            });\r\n        }\r\n        else {\r\n            if (current.type !== 2 /* Text */) {\r\n                var textCurrent = {\r\n                    type: 2 /* Text */,\r\n                    content: next\r\n                };\r\n                current.children.push(textCurrent);\r\n                stack.push(current);\r\n                current = textCurrent;\r\n            }\r\n            else {\r\n                current.content += next;\r\n            }\r\n        }\r\n    }\r\n    if (current.type === 2 /* Text */) {\r\n        current = stack.pop();\r\n    }\r\n    if (stack.length) {\r\n        // incorrectly formatted string literal\r\n    }\r\n    return root;\r\n}\r\nfunction isFormatTag(char) {\r\n    return formatTagType(char) !== 0 /* Invalid */;\r\n}\r\nfunction formatTagType(char) {\r\n    switch (char) {\r\n        case '*':\r\n            return 3 /* Bold */;\r\n        case '_':\r\n            return 4 /* Italics */;\r\n        case '[':\r\n            return 5 /* Action */;\r\n        case ']':\r\n            return 6 /* ActionClose */;\r\n        default:\r\n            return 0 /* Invalid */;\r\n    }\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { ArrayNavigator } from './iterator.js';\r\nvar HistoryNavigator = /** @class */ (function () {\r\n    function HistoryNavigator(history, limit) {\r\n        if (history === void 0) { history = []; }\r\n        if (limit === void 0) { limit = 10; }\r\n        this._initialize(history);\r\n        this._limit = limit;\r\n        this._onChange();\r\n    }\r\n    HistoryNavigator.prototype.add = function (t) {\r\n        this._history.delete(t);\r\n        this._history.add(t);\r\n        this._onChange();\r\n    };\r\n    HistoryNavigator.prototype.next = function () {\r\n        return this._navigator.next();\r\n    };\r\n    HistoryNavigator.prototype.previous = function () {\r\n        return this._navigator.previous();\r\n    };\r\n    HistoryNavigator.prototype.current = function () {\r\n        return this._navigator.current();\r\n    };\r\n    HistoryNavigator.prototype.parent = function () {\r\n        return null;\r\n    };\r\n    HistoryNavigator.prototype.first = function () {\r\n        return this._navigator.first();\r\n    };\r\n    HistoryNavigator.prototype.last = function () {\r\n        return this._navigator.last();\r\n    };\r\n    HistoryNavigator.prototype.has = function (t) {\r\n        return this._history.has(t);\r\n    };\r\n    HistoryNavigator.prototype._onChange = function () {\r\n        this._reduceToLimit();\r\n        var elements = this._elements;\r\n        this._navigator = new ArrayNavigator(elements, 0, elements.length, elements.length);\r\n    };\r\n    HistoryNavigator.prototype._reduceToLimit = function () {\r\n        var data = this._elements;\r\n        if (data.length > this._limit) {\r\n            this._initialize(data.slice(data.length - this._limit));\r\n        }\r\n    };\r\n    HistoryNavigator.prototype._initialize = function (history) {\r\n        this._history = new Set();\r\n        for (var _i = 0, history_1 = history; _i < history_1.length; _i++) {\r\n            var entry = history_1[_i];\r\n            this._history.add(entry);\r\n        }\r\n    };\r\n    Object.defineProperty(HistoryNavigator.prototype, \"_elements\", {\r\n        get: function () {\r\n            var elements = [];\r\n            this._history.forEach(function (e) { return elements.push(e); });\r\n            return elements;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return HistoryNavigator;\r\n}());\r\nexport { HistoryNavigator };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './inputBox.css';\r\nimport * as nls from '../../../../nls.js';\r\nimport * as Bal from '../../browser.js';\r\nimport * as dom from '../../dom.js';\r\nimport { renderFormattedText, renderText } from '../../formattedTextRenderer.js';\r\nimport * as aria from '../aria/aria.js';\r\nimport { ActionBar } from '../actionbar/actionbar.js';\r\nimport { Event, Emitter } from '../../../common/event.js';\r\nimport { Widget } from '../widget.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { mixin } from '../../../common/objects.js';\r\nimport { HistoryNavigator } from '../../../common/history.js';\r\nimport { ScrollableElement } from '../scrollbar/scrollableElement.js';\r\nimport { domEvent } from '../../event.js';\r\nvar $ = dom.$;\r\nvar defaultOpts = {\r\n    inputBackground: Color.fromHex('#3C3C3C'),\r\n    inputForeground: Color.fromHex('#CCCCCC'),\r\n    inputValidationInfoBorder: Color.fromHex('#55AAFF'),\r\n    inputValidationInfoBackground: Color.fromHex('#063B49'),\r\n    inputValidationWarningBorder: Color.fromHex('#B89500'),\r\n    inputValidationWarningBackground: Color.fromHex('#352A05'),\r\n    inputValidationErrorBorder: Color.fromHex('#BE1100'),\r\n    inputValidationErrorBackground: Color.fromHex('#5A1D1D')\r\n};\r\nvar InputBox = /** @class */ (function (_super) {\r\n    __extends(InputBox, _super);\r\n    function InputBox(container, contextViewProvider, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.state = 'idle';\r\n        _this.maxHeight = Number.POSITIVE_INFINITY;\r\n        _this._onDidChange = _this._register(new Emitter());\r\n        _this.onDidChange = _this._onDidChange.event;\r\n        _this._onDidHeightChange = _this._register(new Emitter());\r\n        _this.onDidHeightChange = _this._onDidHeightChange.event;\r\n        _this.contextViewProvider = contextViewProvider;\r\n        _this.options = options || Object.create(null);\r\n        mixin(_this.options, defaultOpts, false);\r\n        _this.message = null;\r\n        _this.placeholder = _this.options.placeholder || '';\r\n        _this.ariaLabel = _this.options.ariaLabel || '';\r\n        _this.inputBackground = _this.options.inputBackground;\r\n        _this.inputForeground = _this.options.inputForeground;\r\n        _this.inputBorder = _this.options.inputBorder;\r\n        _this.inputValidationInfoBorder = _this.options.inputValidationInfoBorder;\r\n        _this.inputValidationInfoBackground = _this.options.inputValidationInfoBackground;\r\n        _this.inputValidationInfoForeground = _this.options.inputValidationInfoForeground;\r\n        _this.inputValidationWarningBorder = _this.options.inputValidationWarningBorder;\r\n        _this.inputValidationWarningBackground = _this.options.inputValidationWarningBackground;\r\n        _this.inputValidationWarningForeground = _this.options.inputValidationWarningForeground;\r\n        _this.inputValidationErrorBorder = _this.options.inputValidationErrorBorder;\r\n        _this.inputValidationErrorBackground = _this.options.inputValidationErrorBackground;\r\n        _this.inputValidationErrorForeground = _this.options.inputValidationErrorForeground;\r\n        if (_this.options.validationOptions) {\r\n            _this.validation = _this.options.validationOptions.validation;\r\n        }\r\n        _this.element = dom.append(container, $('.monaco-inputbox.idle'));\r\n        var tagName = _this.options.flexibleHeight ? 'textarea' : 'input';\r\n        var wrapper = dom.append(_this.element, $('.wrapper'));\r\n        _this.input = dom.append(wrapper, $(tagName + '.input.empty'));\r\n        _this.input.setAttribute('autocorrect', 'off');\r\n        _this.input.setAttribute('autocapitalize', 'off');\r\n        _this.input.setAttribute('spellcheck', 'false');\r\n        _this.onfocus(_this.input, function () { return dom.addClass(_this.element, 'synthetic-focus'); });\r\n        _this.onblur(_this.input, function () { return dom.removeClass(_this.element, 'synthetic-focus'); });\r\n        if (_this.options.flexibleHeight) {\r\n            _this.maxHeight = typeof _this.options.flexibleMaxHeight === 'number' ? _this.options.flexibleMaxHeight : Number.POSITIVE_INFINITY;\r\n            _this.mirror = dom.append(wrapper, $('div.mirror'));\r\n            _this.mirror.innerHTML = '&#160;';\r\n            _this.scrollableElement = new ScrollableElement(_this.element, { vertical: 1 /* Auto */ });\r\n            if (_this.options.flexibleWidth) {\r\n                _this.input.setAttribute('wrap', 'off');\r\n                _this.mirror.style.whiteSpace = 'pre';\r\n                _this.mirror.style.wordWrap = 'initial';\r\n            }\r\n            dom.append(container, _this.scrollableElement.getDomNode());\r\n            _this._register(_this.scrollableElement);\r\n            // from ScrollableElement to DOM\r\n            _this._register(_this.scrollableElement.onScroll(function (e) { return _this.input.scrollTop = e.scrollTop; }));\r\n            var onSelectionChange = Event.filter(domEvent(document, 'selectionchange'), function () {\r\n                var _a;\r\n                var selection = document.getSelection();\r\n                return ((_a = selection) === null || _a === void 0 ? void 0 : _a.anchorNode) === wrapper;\r\n            });\r\n            // from DOM to ScrollableElement\r\n            _this._register(onSelectionChange(_this.updateScrollDimensions, _this));\r\n            _this._register(_this.onDidHeightChange(_this.updateScrollDimensions, _this));\r\n        }\r\n        else {\r\n            _this.input.type = _this.options.type || 'text';\r\n            _this.input.setAttribute('wrap', 'off');\r\n        }\r\n        if (_this.ariaLabel) {\r\n            _this.input.setAttribute('aria-label', _this.ariaLabel);\r\n        }\r\n        if (_this.placeholder) {\r\n            _this.setPlaceHolder(_this.placeholder);\r\n        }\r\n        _this.oninput(_this.input, function () { return _this.onValueChange(); });\r\n        _this.onblur(_this.input, function () { return _this.onBlur(); });\r\n        _this.onfocus(_this.input, function () { return _this.onFocus(); });\r\n        // Add placeholder shim for IE because IE decides to hide the placeholder on focus (we dont want that!)\r\n        if (_this.placeholder && Bal.isIE) {\r\n            _this.onclick(_this.input, function (e) {\r\n                dom.EventHelper.stop(e, true);\r\n                _this.input.focus();\r\n            });\r\n        }\r\n        _this.ignoreGesture(_this.input);\r\n        setTimeout(function () { return _this.updateMirror(); }, 0);\r\n        // Support actions\r\n        if (_this.options.actions) {\r\n            _this.actionbar = _this._register(new ActionBar(_this.element));\r\n            _this.actionbar.push(_this.options.actions, { icon: true, label: false });\r\n        }\r\n        _this.applyStyles();\r\n        return _this;\r\n    }\r\n    InputBox.prototype.onBlur = function () {\r\n        this._hideMessage();\r\n    };\r\n    InputBox.prototype.onFocus = function () {\r\n        this._showMessage();\r\n    };\r\n    InputBox.prototype.setPlaceHolder = function (placeHolder) {\r\n        this.placeholder = placeHolder;\r\n        this.input.setAttribute('placeholder', placeHolder);\r\n        this.input.title = placeHolder;\r\n    };\r\n    InputBox.prototype.setAriaLabel = function (label) {\r\n        this.ariaLabel = label;\r\n        if (label) {\r\n            this.input.setAttribute('aria-label', this.ariaLabel);\r\n        }\r\n        else {\r\n            this.input.removeAttribute('aria-label');\r\n        }\r\n    };\r\n    Object.defineProperty(InputBox.prototype, \"inputElement\", {\r\n        get: function () {\r\n            return this.input;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputBox.prototype, \"value\", {\r\n        get: function () {\r\n            return this.input.value;\r\n        },\r\n        set: function (newValue) {\r\n            if (this.input.value !== newValue) {\r\n                this.input.value = newValue;\r\n                this.onValueChange();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputBox.prototype, \"height\", {\r\n        get: function () {\r\n            return typeof this.cachedHeight === 'number' ? this.cachedHeight : dom.getTotalHeight(this.element);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InputBox.prototype.focus = function () {\r\n        this.input.focus();\r\n    };\r\n    InputBox.prototype.blur = function () {\r\n        this.input.blur();\r\n    };\r\n    InputBox.prototype.hasFocus = function () {\r\n        return document.activeElement === this.input;\r\n    };\r\n    InputBox.prototype.select = function (range) {\r\n        if (range === void 0) { range = null; }\r\n        this.input.select();\r\n        if (range) {\r\n            this.input.setSelectionRange(range.start, range.end);\r\n        }\r\n    };\r\n    InputBox.prototype.enable = function () {\r\n        this.input.removeAttribute('disabled');\r\n    };\r\n    InputBox.prototype.disable = function () {\r\n        this.blur();\r\n        this.input.disabled = true;\r\n        this._hideMessage();\r\n    };\r\n    Object.defineProperty(InputBox.prototype, \"width\", {\r\n        get: function () {\r\n            return dom.getTotalWidth(this.input);\r\n        },\r\n        set: function (width) {\r\n            if (this.options.flexibleHeight && this.options.flexibleWidth) {\r\n                // textarea with horizontal scrolling\r\n                var horizontalPadding = 0;\r\n                if (this.mirror) {\r\n                    var paddingLeft = parseFloat(this.mirror.style.paddingLeft || '') || 0;\r\n                    var paddingRight = parseFloat(this.mirror.style.paddingRight || '') || 0;\r\n                    horizontalPadding = paddingLeft + paddingRight;\r\n                }\r\n                this.input.style.width = (width - horizontalPadding) + 'px';\r\n            }\r\n            else {\r\n                this.input.style.width = width + 'px';\r\n            }\r\n            if (this.mirror) {\r\n                this.mirror.style.width = width + 'px';\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputBox.prototype, \"paddingRight\", {\r\n        set: function (paddingRight) {\r\n            if (this.options.flexibleHeight && this.options.flexibleWidth) {\r\n                this.input.style.width = \"calc(100% - \" + paddingRight + \"px)\";\r\n            }\r\n            else {\r\n                this.input.style.paddingRight = paddingRight + 'px';\r\n            }\r\n            if (this.mirror) {\r\n                this.mirror.style.paddingRight = paddingRight + 'px';\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InputBox.prototype.updateScrollDimensions = function () {\r\n        if (typeof this.cachedContentHeight !== 'number' || typeof this.cachedHeight !== 'number' || !this.scrollableElement) {\r\n            return;\r\n        }\r\n        var scrollHeight = this.cachedContentHeight;\r\n        var height = this.cachedHeight;\r\n        var scrollTop = this.input.scrollTop;\r\n        this.scrollableElement.setScrollDimensions({ scrollHeight: scrollHeight, height: height });\r\n        this.scrollableElement.setScrollPosition({ scrollTop: scrollTop });\r\n    };\r\n    InputBox.prototype.showMessage = function (message, force) {\r\n        this.message = message;\r\n        dom.removeClass(this.element, 'idle');\r\n        dom.removeClass(this.element, 'info');\r\n        dom.removeClass(this.element, 'warning');\r\n        dom.removeClass(this.element, 'error');\r\n        dom.addClass(this.element, this.classForType(message.type));\r\n        var styles = this.stylesForType(this.message.type);\r\n        this.element.style.border = styles.border ? \"1px solid \" + styles.border : '';\r\n        // ARIA Support\r\n        var alertText;\r\n        if (message.type === 3 /* ERROR */) {\r\n            alertText = nls.localize('alertErrorMessage', \"Error: {0}\", message.content);\r\n        }\r\n        else if (message.type === 2 /* WARNING */) {\r\n            alertText = nls.localize('alertWarningMessage', \"Warning: {0}\", message.content);\r\n        }\r\n        else {\r\n            alertText = nls.localize('alertInfoMessage', \"Info: {0}\", message.content);\r\n        }\r\n        aria.alert(alertText);\r\n        if (this.hasFocus() || force) {\r\n            this._showMessage();\r\n        }\r\n    };\r\n    InputBox.prototype.hideMessage = function () {\r\n        this.message = null;\r\n        dom.removeClass(this.element, 'info');\r\n        dom.removeClass(this.element, 'warning');\r\n        dom.removeClass(this.element, 'error');\r\n        dom.addClass(this.element, 'idle');\r\n        this._hideMessage();\r\n        this.applyStyles();\r\n    };\r\n    InputBox.prototype.validate = function () {\r\n        var errorMsg = null;\r\n        if (this.validation) {\r\n            errorMsg = this.validation(this.value);\r\n            if (errorMsg) {\r\n                this.inputElement.setAttribute('aria-invalid', 'true');\r\n                this.showMessage(errorMsg);\r\n            }\r\n            else if (this.inputElement.hasAttribute('aria-invalid')) {\r\n                this.inputElement.removeAttribute('aria-invalid');\r\n                this.hideMessage();\r\n            }\r\n        }\r\n        return !errorMsg;\r\n    };\r\n    InputBox.prototype.stylesForType = function (type) {\r\n        switch (type) {\r\n            case 1 /* INFO */: return { border: this.inputValidationInfoBorder, background: this.inputValidationInfoBackground, foreground: this.inputValidationInfoForeground };\r\n            case 2 /* WARNING */: return { border: this.inputValidationWarningBorder, background: this.inputValidationWarningBackground, foreground: this.inputValidationWarningForeground };\r\n            default: return { border: this.inputValidationErrorBorder, background: this.inputValidationErrorBackground, foreground: this.inputValidationErrorForeground };\r\n        }\r\n    };\r\n    InputBox.prototype.classForType = function (type) {\r\n        switch (type) {\r\n            case 1 /* INFO */: return 'info';\r\n            case 2 /* WARNING */: return 'warning';\r\n            default: return 'error';\r\n        }\r\n    };\r\n    InputBox.prototype._showMessage = function () {\r\n        var _this = this;\r\n        if (!this.contextViewProvider || !this.message) {\r\n            return;\r\n        }\r\n        var div;\r\n        var layout = function () { return div.style.width = dom.getTotalWidth(_this.element) + 'px'; };\r\n        this.contextViewProvider.showContextView({\r\n            getAnchor: function () { return _this.element; },\r\n            anchorAlignment: 1 /* RIGHT */,\r\n            render: function (container) {\r\n                if (!_this.message) {\r\n                    return null;\r\n                }\r\n                div = dom.append(container, $('.monaco-inputbox-container'));\r\n                layout();\r\n                var renderOptions = {\r\n                    inline: true,\r\n                    className: 'monaco-inputbox-message'\r\n                };\r\n                var spanElement = (_this.message.formatContent\r\n                    ? renderFormattedText(_this.message.content, renderOptions)\r\n                    : renderText(_this.message.content, renderOptions));\r\n                dom.addClass(spanElement, _this.classForType(_this.message.type));\r\n                var styles = _this.stylesForType(_this.message.type);\r\n                spanElement.style.backgroundColor = styles.background ? styles.background.toString() : '';\r\n                spanElement.style.color = styles.foreground ? styles.foreground.toString() : null;\r\n                spanElement.style.border = styles.border ? \"1px solid \" + styles.border : '';\r\n                dom.append(div, spanElement);\r\n                return null;\r\n            },\r\n            onHide: function () {\r\n                _this.state = 'closed';\r\n            },\r\n            layout: layout\r\n        });\r\n        this.state = 'open';\r\n    };\r\n    InputBox.prototype._hideMessage = function () {\r\n        if (!this.contextViewProvider) {\r\n            return;\r\n        }\r\n        if (this.state === 'open') {\r\n            this.contextViewProvider.hideContextView();\r\n        }\r\n        this.state = 'idle';\r\n    };\r\n    InputBox.prototype.onValueChange = function () {\r\n        this._onDidChange.fire(this.value);\r\n        this.validate();\r\n        this.updateMirror();\r\n        dom.toggleClass(this.input, 'empty', !this.value);\r\n        if (this.state === 'open' && this.contextViewProvider) {\r\n            this.contextViewProvider.layout();\r\n        }\r\n    };\r\n    InputBox.prototype.updateMirror = function () {\r\n        if (!this.mirror) {\r\n            return;\r\n        }\r\n        var value = this.value;\r\n        var lastCharCode = value.charCodeAt(value.length - 1);\r\n        var suffix = lastCharCode === 10 ? ' ' : '';\r\n        var mirrorTextContent = value + suffix;\r\n        if (mirrorTextContent) {\r\n            this.mirror.textContent = value + suffix;\r\n        }\r\n        else {\r\n            this.mirror.innerHTML = '&#160;';\r\n        }\r\n        this.layout();\r\n    };\r\n    InputBox.prototype.style = function (styles) {\r\n        this.inputBackground = styles.inputBackground;\r\n        this.inputForeground = styles.inputForeground;\r\n        this.inputBorder = styles.inputBorder;\r\n        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\r\n        this.inputValidationInfoForeground = styles.inputValidationInfoForeground;\r\n        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\r\n        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\r\n        this.inputValidationWarningForeground = styles.inputValidationWarningForeground;\r\n        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\r\n        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\r\n        this.inputValidationErrorForeground = styles.inputValidationErrorForeground;\r\n        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\r\n        this.applyStyles();\r\n    };\r\n    InputBox.prototype.applyStyles = function () {\r\n        var background = this.inputBackground ? this.inputBackground.toString() : '';\r\n        var foreground = this.inputForeground ? this.inputForeground.toString() : '';\r\n        var border = this.inputBorder ? this.inputBorder.toString() : '';\r\n        this.element.style.backgroundColor = background;\r\n        this.element.style.color = foreground;\r\n        this.input.style.backgroundColor = background;\r\n        this.input.style.color = foreground;\r\n        this.element.style.borderWidth = border ? '1px' : '';\r\n        this.element.style.borderStyle = border ? 'solid' : '';\r\n        this.element.style.borderColor = border;\r\n    };\r\n    InputBox.prototype.layout = function () {\r\n        if (!this.mirror) {\r\n            return;\r\n        }\r\n        var previousHeight = this.cachedContentHeight;\r\n        this.cachedContentHeight = dom.getTotalHeight(this.mirror);\r\n        if (previousHeight !== this.cachedContentHeight) {\r\n            this.cachedHeight = Math.min(this.cachedContentHeight, this.maxHeight);\r\n            this.input.style.height = this.cachedHeight + 'px';\r\n            this._onDidHeightChange.fire(this.cachedContentHeight);\r\n        }\r\n    };\r\n    InputBox.prototype.insertAtCursor = function (text) {\r\n        var inputElement = this.inputElement;\r\n        var start = inputElement.selectionStart;\r\n        var end = inputElement.selectionEnd;\r\n        var content = inputElement.value;\r\n        if (start !== null && end !== null) {\r\n            this.value = content.substr(0, start) + text + content.substr(end);\r\n            inputElement.setSelectionRange(start + 1, start + 1);\r\n            this.layout();\r\n        }\r\n    };\r\n    InputBox.prototype.dispose = function () {\r\n        this._hideMessage();\r\n        this.message = null;\r\n        if (this.actionbar) {\r\n            this.actionbar.dispose();\r\n        }\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    return InputBox;\r\n}(Widget));\r\nexport { InputBox };\r\nvar HistoryInputBox = /** @class */ (function (_super) {\r\n    __extends(HistoryInputBox, _super);\r\n    function HistoryInputBox(container, contextViewProvider, options) {\r\n        var _this = _super.call(this, container, contextViewProvider, options) || this;\r\n        _this.history = new HistoryNavigator(options.history, 100);\r\n        return _this;\r\n    }\r\n    HistoryInputBox.prototype.addToHistory = function () {\r\n        if (this.value && this.value !== this.getCurrentValue()) {\r\n            this.history.add(this.value);\r\n        }\r\n    };\r\n    HistoryInputBox.prototype.showNextValue = function () {\r\n        if (!this.history.has(this.value)) {\r\n            this.addToHistory();\r\n        }\r\n        var next = this.getNextValue();\r\n        if (next) {\r\n            next = next === this.value ? this.getNextValue() : next;\r\n        }\r\n        if (next) {\r\n            this.value = next;\r\n            aria.status(this.value);\r\n        }\r\n    };\r\n    HistoryInputBox.prototype.showPreviousValue = function () {\r\n        if (!this.history.has(this.value)) {\r\n            this.addToHistory();\r\n        }\r\n        var previous = this.getPreviousValue();\r\n        if (previous) {\r\n            previous = previous === this.value ? this.getPreviousValue() : previous;\r\n        }\r\n        if (previous) {\r\n            this.value = previous;\r\n            aria.status(this.value);\r\n        }\r\n    };\r\n    HistoryInputBox.prototype.getCurrentValue = function () {\r\n        var currentValue = this.history.current();\r\n        if (!currentValue) {\r\n            currentValue = this.history.last();\r\n            this.history.next();\r\n        }\r\n        return currentValue;\r\n    };\r\n    HistoryInputBox.prototype.getPreviousValue = function () {\r\n        return this.history.previous() || this.history.first();\r\n    };\r\n    HistoryInputBox.prototype.getNextValue = function () {\r\n        return this.history.next() || this.history.last();\r\n    };\r\n    return HistoryInputBox;\r\n}(InputBox));\r\nexport { HistoryInputBox };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './findInput.css';\r\nimport * as nls from '../../../../nls.js';\r\nimport * as dom from '../../dom.js';\r\nimport { HistoryInputBox } from '../inputbox/inputBox.js';\r\nimport { Widget } from '../widget.js';\r\nimport { Emitter } from '../../../common/event.js';\r\nimport { CaseSensitiveCheckbox, WholeWordsCheckbox, RegexCheckbox } from './findInputCheckboxes.js';\r\nvar NLS_DEFAULT_LABEL = nls.localize('defaultLabel', \"input\");\r\nvar FindInput = /** @class */ (function (_super) {\r\n    __extends(FindInput, _super);\r\n    function FindInput(parent, contextViewProvider, _showOptionButtons, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this._showOptionButtons = _showOptionButtons;\r\n        _this.fixFocusOnOptionClickEnabled = true;\r\n        _this._onDidOptionChange = _this._register(new Emitter());\r\n        _this.onDidOptionChange = _this._onDidOptionChange.event;\r\n        _this._onKeyDown = _this._register(new Emitter());\r\n        _this.onKeyDown = _this._onKeyDown.event;\r\n        _this._onMouseDown = _this._register(new Emitter());\r\n        _this.onMouseDown = _this._onMouseDown.event;\r\n        _this._onInput = _this._register(new Emitter());\r\n        _this._onKeyUp = _this._register(new Emitter());\r\n        _this._onCaseSensitiveKeyDown = _this._register(new Emitter());\r\n        _this.onCaseSensitiveKeyDown = _this._onCaseSensitiveKeyDown.event;\r\n        _this._onRegexKeyDown = _this._register(new Emitter());\r\n        _this.onRegexKeyDown = _this._onRegexKeyDown.event;\r\n        _this._lastHighlightFindOptions = 0;\r\n        _this.contextViewProvider = contextViewProvider;\r\n        _this.placeholder = options.placeholder || '';\r\n        _this.validation = options.validation;\r\n        _this.label = options.label || NLS_DEFAULT_LABEL;\r\n        _this.inputActiveOptionBorder = options.inputActiveOptionBorder;\r\n        _this.inputActiveOptionBackground = options.inputActiveOptionBackground;\r\n        _this.inputBackground = options.inputBackground;\r\n        _this.inputForeground = options.inputForeground;\r\n        _this.inputBorder = options.inputBorder;\r\n        _this.inputValidationInfoBorder = options.inputValidationInfoBorder;\r\n        _this.inputValidationInfoBackground = options.inputValidationInfoBackground;\r\n        _this.inputValidationInfoForeground = options.inputValidationInfoForeground;\r\n        _this.inputValidationWarningBorder = options.inputValidationWarningBorder;\r\n        _this.inputValidationWarningBackground = options.inputValidationWarningBackground;\r\n        _this.inputValidationWarningForeground = options.inputValidationWarningForeground;\r\n        _this.inputValidationErrorBorder = options.inputValidationErrorBorder;\r\n        _this.inputValidationErrorBackground = options.inputValidationErrorBackground;\r\n        _this.inputValidationErrorForeground = options.inputValidationErrorForeground;\r\n        var appendCaseSensitiveLabel = options.appendCaseSensitiveLabel || '';\r\n        var appendWholeWordsLabel = options.appendWholeWordsLabel || '';\r\n        var appendRegexLabel = options.appendRegexLabel || '';\r\n        var history = options.history || [];\r\n        var flexibleHeight = !!options.flexibleHeight;\r\n        var flexibleWidth = !!options.flexibleWidth;\r\n        var flexibleMaxHeight = options.flexibleMaxHeight;\r\n        _this.domNode = document.createElement('div');\r\n        dom.addClass(_this.domNode, 'monaco-findInput');\r\n        _this.inputBox = _this._register(new HistoryInputBox(_this.domNode, _this.contextViewProvider, {\r\n            placeholder: _this.placeholder || '',\r\n            ariaLabel: _this.label || '',\r\n            validationOptions: {\r\n                validation: _this.validation\r\n            },\r\n            inputBackground: _this.inputBackground,\r\n            inputForeground: _this.inputForeground,\r\n            inputBorder: _this.inputBorder,\r\n            inputValidationInfoBackground: _this.inputValidationInfoBackground,\r\n            inputValidationInfoForeground: _this.inputValidationInfoForeground,\r\n            inputValidationInfoBorder: _this.inputValidationInfoBorder,\r\n            inputValidationWarningBackground: _this.inputValidationWarningBackground,\r\n            inputValidationWarningForeground: _this.inputValidationWarningForeground,\r\n            inputValidationWarningBorder: _this.inputValidationWarningBorder,\r\n            inputValidationErrorBackground: _this.inputValidationErrorBackground,\r\n            inputValidationErrorForeground: _this.inputValidationErrorForeground,\r\n            inputValidationErrorBorder: _this.inputValidationErrorBorder,\r\n            history: history,\r\n            flexibleHeight: flexibleHeight,\r\n            flexibleWidth: flexibleWidth,\r\n            flexibleMaxHeight: flexibleMaxHeight\r\n        }));\r\n        _this.regex = _this._register(new RegexCheckbox({\r\n            appendTitle: appendRegexLabel,\r\n            isChecked: false,\r\n            inputActiveOptionBorder: _this.inputActiveOptionBorder,\r\n            inputActiveOptionBackground: _this.inputActiveOptionBackground\r\n        }));\r\n        _this._register(_this.regex.onChange(function (viaKeyboard) {\r\n            _this._onDidOptionChange.fire(viaKeyboard);\r\n            if (!viaKeyboard && _this.fixFocusOnOptionClickEnabled) {\r\n                _this.inputBox.focus();\r\n            }\r\n            _this.validate();\r\n        }));\r\n        _this._register(_this.regex.onKeyDown(function (e) {\r\n            _this._onRegexKeyDown.fire(e);\r\n        }));\r\n        _this.wholeWords = _this._register(new WholeWordsCheckbox({\r\n            appendTitle: appendWholeWordsLabel,\r\n            isChecked: false,\r\n            inputActiveOptionBorder: _this.inputActiveOptionBorder,\r\n            inputActiveOptionBackground: _this.inputActiveOptionBackground\r\n        }));\r\n        _this._register(_this.wholeWords.onChange(function (viaKeyboard) {\r\n            _this._onDidOptionChange.fire(viaKeyboard);\r\n            if (!viaKeyboard && _this.fixFocusOnOptionClickEnabled) {\r\n                _this.inputBox.focus();\r\n            }\r\n            _this.validate();\r\n        }));\r\n        _this.caseSensitive = _this._register(new CaseSensitiveCheckbox({\r\n            appendTitle: appendCaseSensitiveLabel,\r\n            isChecked: false,\r\n            inputActiveOptionBorder: _this.inputActiveOptionBorder,\r\n            inputActiveOptionBackground: _this.inputActiveOptionBackground\r\n        }));\r\n        _this._register(_this.caseSensitive.onChange(function (viaKeyboard) {\r\n            _this._onDidOptionChange.fire(viaKeyboard);\r\n            if (!viaKeyboard && _this.fixFocusOnOptionClickEnabled) {\r\n                _this.inputBox.focus();\r\n            }\r\n            _this.validate();\r\n        }));\r\n        _this._register(_this.caseSensitive.onKeyDown(function (e) {\r\n            _this._onCaseSensitiveKeyDown.fire(e);\r\n        }));\r\n        if (_this._showOptionButtons) {\r\n            _this.inputBox.paddingRight = _this.caseSensitive.width() + _this.wholeWords.width() + _this.regex.width();\r\n        }\r\n        // Arrow-Key support to navigate between options\r\n        var indexes = [_this.caseSensitive.domNode, _this.wholeWords.domNode, _this.regex.domNode];\r\n        _this.onkeydown(_this.domNode, function (event) {\r\n            if (event.equals(15 /* LeftArrow */) || event.equals(17 /* RightArrow */) || event.equals(9 /* Escape */)) {\r\n                var index = indexes.indexOf(document.activeElement);\r\n                if (index >= 0) {\r\n                    var newIndex = -1;\r\n                    if (event.equals(17 /* RightArrow */)) {\r\n                        newIndex = (index + 1) % indexes.length;\r\n                    }\r\n                    else if (event.equals(15 /* LeftArrow */)) {\r\n                        if (index === 0) {\r\n                            newIndex = indexes.length - 1;\r\n                        }\r\n                        else {\r\n                            newIndex = index - 1;\r\n                        }\r\n                    }\r\n                    if (event.equals(9 /* Escape */)) {\r\n                        indexes[index].blur();\r\n                    }\r\n                    else if (newIndex >= 0) {\r\n                        indexes[newIndex].focus();\r\n                    }\r\n                    dom.EventHelper.stop(event, true);\r\n                }\r\n            }\r\n        });\r\n        var controls = document.createElement('div');\r\n        controls.className = 'controls';\r\n        controls.style.display = _this._showOptionButtons ? 'block' : 'none';\r\n        controls.appendChild(_this.caseSensitive.domNode);\r\n        controls.appendChild(_this.wholeWords.domNode);\r\n        controls.appendChild(_this.regex.domNode);\r\n        _this.domNode.appendChild(controls);\r\n        if (parent) {\r\n            parent.appendChild(_this.domNode);\r\n        }\r\n        _this.onkeydown(_this.inputBox.inputElement, function (e) { return _this._onKeyDown.fire(e); });\r\n        _this.onkeyup(_this.inputBox.inputElement, function (e) { return _this._onKeyUp.fire(e); });\r\n        _this.oninput(_this.inputBox.inputElement, function (e) { return _this._onInput.fire(); });\r\n        _this.onmousedown(_this.inputBox.inputElement, function (e) { return _this._onMouseDown.fire(e); });\r\n        return _this;\r\n    }\r\n    FindInput.prototype.enable = function () {\r\n        dom.removeClass(this.domNode, 'disabled');\r\n        this.inputBox.enable();\r\n        this.regex.enable();\r\n        this.wholeWords.enable();\r\n        this.caseSensitive.enable();\r\n    };\r\n    FindInput.prototype.disable = function () {\r\n        dom.addClass(this.domNode, 'disabled');\r\n        this.inputBox.disable();\r\n        this.regex.disable();\r\n        this.wholeWords.disable();\r\n        this.caseSensitive.disable();\r\n    };\r\n    FindInput.prototype.setFocusInputOnOptionClick = function (value) {\r\n        this.fixFocusOnOptionClickEnabled = value;\r\n    };\r\n    FindInput.prototype.setEnabled = function (enabled) {\r\n        if (enabled) {\r\n            this.enable();\r\n        }\r\n        else {\r\n            this.disable();\r\n        }\r\n    };\r\n    FindInput.prototype.getValue = function () {\r\n        return this.inputBox.value;\r\n    };\r\n    FindInput.prototype.setValue = function (value) {\r\n        if (this.inputBox.value !== value) {\r\n            this.inputBox.value = value;\r\n        }\r\n    };\r\n    FindInput.prototype.style = function (styles) {\r\n        this.inputActiveOptionBorder = styles.inputActiveOptionBorder;\r\n        this.inputActiveOptionBackground = styles.inputActiveOptionBackground;\r\n        this.inputBackground = styles.inputBackground;\r\n        this.inputForeground = styles.inputForeground;\r\n        this.inputBorder = styles.inputBorder;\r\n        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\r\n        this.inputValidationInfoForeground = styles.inputValidationInfoForeground;\r\n        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\r\n        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\r\n        this.inputValidationWarningForeground = styles.inputValidationWarningForeground;\r\n        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\r\n        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\r\n        this.inputValidationErrorForeground = styles.inputValidationErrorForeground;\r\n        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\r\n        this.applyStyles();\r\n    };\r\n    FindInput.prototype.applyStyles = function () {\r\n        if (this.domNode) {\r\n            var checkBoxStyles = {\r\n                inputActiveOptionBorder: this.inputActiveOptionBorder,\r\n                inputActiveOptionBackground: this.inputActiveOptionBackground,\r\n            };\r\n            this.regex.style(checkBoxStyles);\r\n            this.wholeWords.style(checkBoxStyles);\r\n            this.caseSensitive.style(checkBoxStyles);\r\n            var inputBoxStyles = {\r\n                inputBackground: this.inputBackground,\r\n                inputForeground: this.inputForeground,\r\n                inputBorder: this.inputBorder,\r\n                inputValidationInfoBackground: this.inputValidationInfoBackground,\r\n                inputValidationInfoForeground: this.inputValidationInfoForeground,\r\n                inputValidationInfoBorder: this.inputValidationInfoBorder,\r\n                inputValidationWarningBackground: this.inputValidationWarningBackground,\r\n                inputValidationWarningForeground: this.inputValidationWarningForeground,\r\n                inputValidationWarningBorder: this.inputValidationWarningBorder,\r\n                inputValidationErrorBackground: this.inputValidationErrorBackground,\r\n                inputValidationErrorForeground: this.inputValidationErrorForeground,\r\n                inputValidationErrorBorder: this.inputValidationErrorBorder\r\n            };\r\n            this.inputBox.style(inputBoxStyles);\r\n        }\r\n    };\r\n    FindInput.prototype.select = function () {\r\n        this.inputBox.select();\r\n    };\r\n    FindInput.prototype.focus = function () {\r\n        this.inputBox.focus();\r\n    };\r\n    FindInput.prototype.getCaseSensitive = function () {\r\n        return this.caseSensitive.checked;\r\n    };\r\n    FindInput.prototype.setCaseSensitive = function (value) {\r\n        this.caseSensitive.checked = value;\r\n    };\r\n    FindInput.prototype.getWholeWords = function () {\r\n        return this.wholeWords.checked;\r\n    };\r\n    FindInput.prototype.setWholeWords = function (value) {\r\n        this.wholeWords.checked = value;\r\n    };\r\n    FindInput.prototype.getRegex = function () {\r\n        return this.regex.checked;\r\n    };\r\n    FindInput.prototype.setRegex = function (value) {\r\n        this.regex.checked = value;\r\n        this.validate();\r\n    };\r\n    FindInput.prototype.focusOnCaseSensitive = function () {\r\n        this.caseSensitive.focus();\r\n    };\r\n    FindInput.prototype.highlightFindOptions = function () {\r\n        dom.removeClass(this.domNode, 'highlight-' + (this._lastHighlightFindOptions));\r\n        this._lastHighlightFindOptions = 1 - this._lastHighlightFindOptions;\r\n        dom.addClass(this.domNode, 'highlight-' + (this._lastHighlightFindOptions));\r\n    };\r\n    FindInput.prototype.validate = function () {\r\n        this.inputBox.validate();\r\n    };\r\n    FindInput.prototype.clearMessage = function () {\r\n        this.inputBox.hideMessage();\r\n    };\r\n    return FindInput;\r\n}(Widget));\r\nexport { FindInput };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './findInput.css';\r\nimport * as nls from '../../../../nls.js';\r\nimport * as dom from '../../dom.js';\r\nimport { HistoryInputBox } from '../inputbox/inputBox.js';\r\nimport { Widget } from '../widget.js';\r\nimport { Emitter } from '../../../common/event.js';\r\nimport { Checkbox } from '../checkbox/checkbox.js';\r\nvar NLS_DEFAULT_LABEL = nls.localize('defaultLabel', \"input\");\r\nvar NLS_PRESERVE_CASE_LABEL = nls.localize('label.preserveCaseCheckbox', \"Preserve Case\");\r\nvar PreserveCaseCheckbox = /** @class */ (function (_super) {\r\n    __extends(PreserveCaseCheckbox, _super);\r\n    function PreserveCaseCheckbox(opts) {\r\n        return _super.call(this, {\r\n            // TODO: does this need its own icon?\r\n            actionClassName: 'codicon-preserve-case',\r\n            title: NLS_PRESERVE_CASE_LABEL + opts.appendTitle,\r\n            isChecked: opts.isChecked,\r\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\r\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\r\n        }) || this;\r\n    }\r\n    return PreserveCaseCheckbox;\r\n}(Checkbox));\r\nexport { PreserveCaseCheckbox };\r\nvar ReplaceInput = /** @class */ (function (_super) {\r\n    __extends(ReplaceInput, _super);\r\n    function ReplaceInput(parent, contextViewProvider, _showOptionButtons, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this._showOptionButtons = _showOptionButtons;\r\n        _this.fixFocusOnOptionClickEnabled = true;\r\n        _this.cachedOptionsWidth = 0;\r\n        _this._onDidOptionChange = _this._register(new Emitter());\r\n        _this.onDidOptionChange = _this._onDidOptionChange.event;\r\n        _this._onKeyDown = _this._register(new Emitter());\r\n        _this.onKeyDown = _this._onKeyDown.event;\r\n        _this._onMouseDown = _this._register(new Emitter());\r\n        _this._onInput = _this._register(new Emitter());\r\n        _this._onKeyUp = _this._register(new Emitter());\r\n        _this._onPreserveCaseKeyDown = _this._register(new Emitter());\r\n        _this.onPreserveCaseKeyDown = _this._onPreserveCaseKeyDown.event;\r\n        _this.contextViewProvider = contextViewProvider;\r\n        _this.placeholder = options.placeholder || '';\r\n        _this.validation = options.validation;\r\n        _this.label = options.label || NLS_DEFAULT_LABEL;\r\n        _this.inputActiveOptionBorder = options.inputActiveOptionBorder;\r\n        _this.inputActiveOptionBackground = options.inputActiveOptionBackground;\r\n        _this.inputBackground = options.inputBackground;\r\n        _this.inputForeground = options.inputForeground;\r\n        _this.inputBorder = options.inputBorder;\r\n        _this.inputValidationInfoBorder = options.inputValidationInfoBorder;\r\n        _this.inputValidationInfoBackground = options.inputValidationInfoBackground;\r\n        _this.inputValidationInfoForeground = options.inputValidationInfoForeground;\r\n        _this.inputValidationWarningBorder = options.inputValidationWarningBorder;\r\n        _this.inputValidationWarningBackground = options.inputValidationWarningBackground;\r\n        _this.inputValidationWarningForeground = options.inputValidationWarningForeground;\r\n        _this.inputValidationErrorBorder = options.inputValidationErrorBorder;\r\n        _this.inputValidationErrorBackground = options.inputValidationErrorBackground;\r\n        _this.inputValidationErrorForeground = options.inputValidationErrorForeground;\r\n        var history = options.history || [];\r\n        var flexibleHeight = !!options.flexibleHeight;\r\n        var flexibleWidth = !!options.flexibleWidth;\r\n        var flexibleMaxHeight = options.flexibleMaxHeight;\r\n        _this.domNode = document.createElement('div');\r\n        dom.addClass(_this.domNode, 'monaco-findInput');\r\n        _this.inputBox = _this._register(new HistoryInputBox(_this.domNode, _this.contextViewProvider, {\r\n            ariaLabel: _this.label || '',\r\n            placeholder: _this.placeholder || '',\r\n            validationOptions: {\r\n                validation: _this.validation\r\n            },\r\n            inputBackground: _this.inputBackground,\r\n            inputForeground: _this.inputForeground,\r\n            inputBorder: _this.inputBorder,\r\n            inputValidationInfoBackground: _this.inputValidationInfoBackground,\r\n            inputValidationInfoForeground: _this.inputValidationInfoForeground,\r\n            inputValidationInfoBorder: _this.inputValidationInfoBorder,\r\n            inputValidationWarningBackground: _this.inputValidationWarningBackground,\r\n            inputValidationWarningForeground: _this.inputValidationWarningForeground,\r\n            inputValidationWarningBorder: _this.inputValidationWarningBorder,\r\n            inputValidationErrorBackground: _this.inputValidationErrorBackground,\r\n            inputValidationErrorForeground: _this.inputValidationErrorForeground,\r\n            inputValidationErrorBorder: _this.inputValidationErrorBorder,\r\n            history: history,\r\n            flexibleHeight: flexibleHeight,\r\n            flexibleWidth: flexibleWidth,\r\n            flexibleMaxHeight: flexibleMaxHeight\r\n        }));\r\n        _this.preserveCase = _this._register(new PreserveCaseCheckbox({\r\n            appendTitle: '',\r\n            isChecked: false,\r\n            inputActiveOptionBorder: _this.inputActiveOptionBorder,\r\n            inputActiveOptionBackground: _this.inputActiveOptionBackground,\r\n        }));\r\n        _this._register(_this.preserveCase.onChange(function (viaKeyboard) {\r\n            _this._onDidOptionChange.fire(viaKeyboard);\r\n            if (!viaKeyboard && _this.fixFocusOnOptionClickEnabled) {\r\n                _this.inputBox.focus();\r\n            }\r\n            _this.validate();\r\n        }));\r\n        _this._register(_this.preserveCase.onKeyDown(function (e) {\r\n            _this._onPreserveCaseKeyDown.fire(e);\r\n        }));\r\n        if (_this._showOptionButtons) {\r\n            _this.cachedOptionsWidth = _this.preserveCase.width();\r\n        }\r\n        else {\r\n            _this.cachedOptionsWidth = 0;\r\n        }\r\n        // Arrow-Key support to navigate between options\r\n        var indexes = [_this.preserveCase.domNode];\r\n        _this.onkeydown(_this.domNode, function (event) {\r\n            if (event.equals(15 /* LeftArrow */) || event.equals(17 /* RightArrow */) || event.equals(9 /* Escape */)) {\r\n                var index = indexes.indexOf(document.activeElement);\r\n                if (index >= 0) {\r\n                    var newIndex = -1;\r\n                    if (event.equals(17 /* RightArrow */)) {\r\n                        newIndex = (index + 1) % indexes.length;\r\n                    }\r\n                    else if (event.equals(15 /* LeftArrow */)) {\r\n                        if (index === 0) {\r\n                            newIndex = indexes.length - 1;\r\n                        }\r\n                        else {\r\n                            newIndex = index - 1;\r\n                        }\r\n                    }\r\n                    if (event.equals(9 /* Escape */)) {\r\n                        indexes[index].blur();\r\n                    }\r\n                    else if (newIndex >= 0) {\r\n                        indexes[newIndex].focus();\r\n                    }\r\n                    dom.EventHelper.stop(event, true);\r\n                }\r\n            }\r\n        });\r\n        var controls = document.createElement('div');\r\n        controls.className = 'controls';\r\n        controls.style.display = _this._showOptionButtons ? 'block' : 'none';\r\n        controls.appendChild(_this.preserveCase.domNode);\r\n        _this.domNode.appendChild(controls);\r\n        if (parent) {\r\n            parent.appendChild(_this.domNode);\r\n        }\r\n        _this.onkeydown(_this.inputBox.inputElement, function (e) { return _this._onKeyDown.fire(e); });\r\n        _this.onkeyup(_this.inputBox.inputElement, function (e) { return _this._onKeyUp.fire(e); });\r\n        _this.oninput(_this.inputBox.inputElement, function (e) { return _this._onInput.fire(); });\r\n        _this.onmousedown(_this.inputBox.inputElement, function (e) { return _this._onMouseDown.fire(e); });\r\n        return _this;\r\n    }\r\n    ReplaceInput.prototype.enable = function () {\r\n        dom.removeClass(this.domNode, 'disabled');\r\n        this.inputBox.enable();\r\n        this.preserveCase.enable();\r\n    };\r\n    ReplaceInput.prototype.disable = function () {\r\n        dom.addClass(this.domNode, 'disabled');\r\n        this.inputBox.disable();\r\n        this.preserveCase.disable();\r\n    };\r\n    ReplaceInput.prototype.setEnabled = function (enabled) {\r\n        if (enabled) {\r\n            this.enable();\r\n        }\r\n        else {\r\n            this.disable();\r\n        }\r\n    };\r\n    ReplaceInput.prototype.style = function (styles) {\r\n        this.inputActiveOptionBorder = styles.inputActiveOptionBorder;\r\n        this.inputActiveOptionBackground = styles.inputActiveOptionBackground;\r\n        this.inputBackground = styles.inputBackground;\r\n        this.inputForeground = styles.inputForeground;\r\n        this.inputBorder = styles.inputBorder;\r\n        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\r\n        this.inputValidationInfoForeground = styles.inputValidationInfoForeground;\r\n        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\r\n        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\r\n        this.inputValidationWarningForeground = styles.inputValidationWarningForeground;\r\n        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\r\n        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\r\n        this.inputValidationErrorForeground = styles.inputValidationErrorForeground;\r\n        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\r\n        this.applyStyles();\r\n    };\r\n    ReplaceInput.prototype.applyStyles = function () {\r\n        if (this.domNode) {\r\n            var checkBoxStyles = {\r\n                inputActiveOptionBorder: this.inputActiveOptionBorder,\r\n                inputActiveOptionBackground: this.inputActiveOptionBackground,\r\n            };\r\n            this.preserveCase.style(checkBoxStyles);\r\n            var inputBoxStyles = {\r\n                inputBackground: this.inputBackground,\r\n                inputForeground: this.inputForeground,\r\n                inputBorder: this.inputBorder,\r\n                inputValidationInfoBackground: this.inputValidationInfoBackground,\r\n                inputValidationInfoForeground: this.inputValidationInfoForeground,\r\n                inputValidationInfoBorder: this.inputValidationInfoBorder,\r\n                inputValidationWarningBackground: this.inputValidationWarningBackground,\r\n                inputValidationWarningForeground: this.inputValidationWarningForeground,\r\n                inputValidationWarningBorder: this.inputValidationWarningBorder,\r\n                inputValidationErrorBackground: this.inputValidationErrorBackground,\r\n                inputValidationErrorForeground: this.inputValidationErrorForeground,\r\n                inputValidationErrorBorder: this.inputValidationErrorBorder\r\n            };\r\n            this.inputBox.style(inputBoxStyles);\r\n        }\r\n    };\r\n    ReplaceInput.prototype.select = function () {\r\n        this.inputBox.select();\r\n    };\r\n    ReplaceInput.prototype.focus = function () {\r\n        this.inputBox.focus();\r\n    };\r\n    ReplaceInput.prototype.getPreserveCase = function () {\r\n        return this.preserveCase.checked;\r\n    };\r\n    ReplaceInput.prototype.setPreserveCase = function (value) {\r\n        this.preserveCase.checked = value;\r\n    };\r\n    ReplaceInput.prototype.focusOnPreserve = function () {\r\n        this.preserveCase.focus();\r\n    };\r\n    ReplaceInput.prototype.validate = function () {\r\n        if (this.inputBox) {\r\n            this.inputBox.validate();\r\n        }\r\n    };\r\n    Object.defineProperty(ReplaceInput.prototype, \"width\", {\r\n        set: function (newWidth) {\r\n            this.inputBox.paddingRight = this.cachedOptionsWidth;\r\n            this.inputBox.width = newWidth;\r\n            this.domNode.style.width = newWidth + 'px';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ReplaceInput.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    return ReplaceInput;\r\n}(Widget));\r\nexport { ReplaceInput };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { IContextKeyService, ContextKeyExpr, RawContextKey } from '../contextkey/common/contextkey.js';\r\nimport { FindInput } from '../../base/browser/ui/findinput/findInput.js';\r\nimport { KeybindingsRegistry } from '../keybinding/common/keybindingsRegistry.js';\r\nimport { ReplaceInput } from '../../base/browser/ui/findinput/replaceInput.js';\r\nexport var HistoryNavigationWidgetContext = 'historyNavigationWidget';\r\nexport var HistoryNavigationEnablementContext = 'historyNavigationEnabled';\r\nfunction bindContextScopedWidget(contextKeyService, widget, contextKey) {\r\n    new RawContextKey(contextKey, widget).bindTo(contextKeyService);\r\n}\r\nfunction createWidgetScopedContextKeyService(contextKeyService, widget) {\r\n    return contextKeyService.createScoped(widget.target);\r\n}\r\nfunction getContextScopedWidget(contextKeyService, contextKey) {\r\n    return contextKeyService.getContext(document.activeElement).getValue(contextKey);\r\n}\r\nexport function createAndBindHistoryNavigationWidgetScopedContextKeyService(contextKeyService, widget) {\r\n    var scopedContextKeyService = createWidgetScopedContextKeyService(contextKeyService, widget);\r\n    bindContextScopedWidget(scopedContextKeyService, widget, HistoryNavigationWidgetContext);\r\n    var historyNavigationEnablement = new RawContextKey(HistoryNavigationEnablementContext, true).bindTo(scopedContextKeyService);\r\n    return { scopedContextKeyService: scopedContextKeyService, historyNavigationEnablement: historyNavigationEnablement };\r\n}\r\nvar ContextScopedFindInput = /** @class */ (function (_super) {\r\n    __extends(ContextScopedFindInput, _super);\r\n    function ContextScopedFindInput(container, contextViewProvider, options, contextKeyService, showFindOptions) {\r\n        if (showFindOptions === void 0) { showFindOptions = false; }\r\n        var _this = _super.call(this, container, contextViewProvider, showFindOptions, options) || this;\r\n        _this._register(createAndBindHistoryNavigationWidgetScopedContextKeyService(contextKeyService, { target: _this.inputBox.element, historyNavigator: _this.inputBox }).scopedContextKeyService);\r\n        return _this;\r\n    }\r\n    ContextScopedFindInput = __decorate([\r\n        __param(3, IContextKeyService)\r\n    ], ContextScopedFindInput);\r\n    return ContextScopedFindInput;\r\n}(FindInput));\r\nexport { ContextScopedFindInput };\r\nvar ContextScopedReplaceInput = /** @class */ (function (_super) {\r\n    __extends(ContextScopedReplaceInput, _super);\r\n    function ContextScopedReplaceInput(container, contextViewProvider, options, contextKeyService, showReplaceOptions) {\r\n        if (showReplaceOptions === void 0) { showReplaceOptions = false; }\r\n        var _this = _super.call(this, container, contextViewProvider, showReplaceOptions, options) || this;\r\n        _this._register(createAndBindHistoryNavigationWidgetScopedContextKeyService(contextKeyService, { target: _this.inputBox.element, historyNavigator: _this.inputBox }).scopedContextKeyService);\r\n        return _this;\r\n    }\r\n    ContextScopedReplaceInput = __decorate([\r\n        __param(3, IContextKeyService)\r\n    ], ContextScopedReplaceInput);\r\n    return ContextScopedReplaceInput;\r\n}(ReplaceInput));\r\nexport { ContextScopedReplaceInput };\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'history.showPrevious',\r\n    weight: 200 /* WorkbenchContrib */,\r\n    when: ContextKeyExpr.and(ContextKeyExpr.has(HistoryNavigationWidgetContext), ContextKeyExpr.equals(HistoryNavigationEnablementContext, true)),\r\n    primary: 16 /* UpArrow */,\r\n    secondary: [512 /* Alt */ | 16 /* UpArrow */],\r\n    handler: function (accessor, arg2) {\r\n        var widget = getContextScopedWidget(accessor.get(IContextKeyService), HistoryNavigationWidgetContext);\r\n        if (widget) {\r\n            var historyInputBox = widget.historyNavigator;\r\n            historyInputBox.showPreviousValue();\r\n        }\r\n    }\r\n});\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'history.showNext',\r\n    weight: 200 /* WorkbenchContrib */,\r\n    when: ContextKeyExpr.and(ContextKeyExpr.has(HistoryNavigationWidgetContext), ContextKeyExpr.equals(HistoryNavigationEnablementContext, true)),\r\n    primary: 18 /* DownArrow */,\r\n    secondary: [512 /* Alt */ | 18 /* DownArrow */],\r\n    handler: function (accessor, arg2) {\r\n        var widget = getContextScopedWidget(accessor.get(IContextKeyService), HistoryNavigationWidgetContext);\r\n        if (widget) {\r\n            var historyInputBox = widget.historyNavigator;\r\n            historyInputBox.showNextValue();\r\n        }\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './findWidget.css';\r\nimport * as nls from '../../../nls.js';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { alert as alertFn } from '../../../base/browser/ui/aria/aria.js';\r\nimport { Checkbox } from '../../../base/browser/ui/checkbox/checkbox.js';\r\nimport { Sash } from '../../../base/browser/ui/sash/sash.js';\r\nimport { Widget } from '../../../base/browser/ui/widget.js';\r\nimport { Delayer } from '../../../base/common/async.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { toDisposable } from '../../../base/common/lifecycle.js';\r\nimport * as platform from '../../../base/common/platform.js';\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { CONTEXT_FIND_INPUT_FOCUSED, CONTEXT_REPLACE_INPUT_FOCUSED, FIND_IDS, MATCHES_LIMIT } from './findModel.js';\r\nimport { contrastBorder, editorFindMatch, editorFindMatchBorder, editorFindMatchHighlight, editorFindMatchHighlightBorder, editorFindRangeHighlight, editorFindRangeHighlightBorder, editorWidgetBackground, editorWidgetBorder, editorWidgetResizeBorder, errorForeground, inputActiveOptionBorder, inputActiveOptionBackground, inputBackground, inputBorder, inputForeground, inputValidationErrorBackground, inputValidationErrorBorder, inputValidationErrorForeground, inputValidationInfoBackground, inputValidationInfoBorder, inputValidationInfoForeground, inputValidationWarningBackground, inputValidationWarningBorder, inputValidationWarningForeground, widgetShadow, editorWidgetForeground, focusBorder } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { ContextScopedFindInput, ContextScopedReplaceInput } from '../../../platform/browser/contextScopedHistoryWidget.js';\r\nvar NLS_FIND_INPUT_LABEL = nls.localize('label.find', \"Find\");\r\nvar NLS_FIND_INPUT_PLACEHOLDER = nls.localize('placeholder.find', \"Find\");\r\nvar NLS_PREVIOUS_MATCH_BTN_LABEL = nls.localize('label.previousMatchButton', \"Previous match\");\r\nvar NLS_NEXT_MATCH_BTN_LABEL = nls.localize('label.nextMatchButton', \"Next match\");\r\nvar NLS_TOGGLE_SELECTION_FIND_TITLE = nls.localize('label.toggleSelectionFind', \"Find in selection\");\r\nvar NLS_CLOSE_BTN_LABEL = nls.localize('label.closeButton', \"Close\");\r\nvar NLS_REPLACE_INPUT_LABEL = nls.localize('label.replace', \"Replace\");\r\nvar NLS_REPLACE_INPUT_PLACEHOLDER = nls.localize('placeholder.replace', \"Replace\");\r\nvar NLS_REPLACE_BTN_LABEL = nls.localize('label.replaceButton', \"Replace\");\r\nvar NLS_REPLACE_ALL_BTN_LABEL = nls.localize('label.replaceAllButton', \"Replace All\");\r\nvar NLS_TOGGLE_REPLACE_MODE_BTN_LABEL = nls.localize('label.toggleReplaceButton', \"Toggle Replace mode\");\r\nvar NLS_MATCHES_COUNT_LIMIT_TITLE = nls.localize('title.matchesCountLimit', \"Only the first {0} results are highlighted, but all find operations work on the entire text.\", MATCHES_LIMIT);\r\nvar NLS_MATCHES_LOCATION = nls.localize('label.matchesLocation', \"{0} of {1}\");\r\nvar NLS_NO_RESULTS = nls.localize('label.noResults', \"No Results\");\r\nvar FIND_WIDGET_INITIAL_WIDTH = 419;\r\nvar PART_WIDTH = 275;\r\nvar FIND_INPUT_AREA_WIDTH = PART_WIDTH - 54;\r\nvar MAX_MATCHES_COUNT_WIDTH = 69;\r\n// let FIND_ALL_CONTROLS_WIDTH = 17/** Find Input margin-left */ + (MAX_MATCHES_COUNT_WIDTH + 3 + 1) /** Match Results */ + 23 /** Button */ * 4 + 2/** sash */;\r\nvar FIND_INPUT_AREA_HEIGHT = 33; // The height of Find Widget when Replace Input is not visible.\r\nvar ctrlEnterReplaceAllWarningPromptedKey = 'ctrlEnterReplaceAll.windows.donotask';\r\nvar ctrlKeyMod = (platform.isMacintosh ? 256 /* WinCtrl */ : 2048 /* CtrlCmd */);\r\nvar FindWidgetViewZone = /** @class */ (function () {\r\n    function FindWidgetViewZone(afterLineNumber) {\r\n        this.afterLineNumber = afterLineNumber;\r\n        this.heightInPx = FIND_INPUT_AREA_HEIGHT;\r\n        this.suppressMouseDown = false;\r\n        this.domNode = document.createElement('div');\r\n        this.domNode.className = 'dock-find-viewzone';\r\n    }\r\n    return FindWidgetViewZone;\r\n}());\r\nexport { FindWidgetViewZone };\r\nfunction stopPropagationForMultiLineUpwards(event, value, textarea) {\r\n    var isMultiline = !!value.match(/\\n/);\r\n    if (textarea && isMultiline && textarea.selectionStart > 0) {\r\n        event.stopPropagation();\r\n        return;\r\n    }\r\n}\r\nfunction stopPropagationForMultiLineDownwards(event, value, textarea) {\r\n    var isMultiline = !!value.match(/\\n/);\r\n    if (textarea && isMultiline && textarea.selectionEnd < textarea.value.length) {\r\n        event.stopPropagation();\r\n        return;\r\n    }\r\n}\r\nvar FindWidget = /** @class */ (function (_super) {\r\n    __extends(FindWidget, _super);\r\n    function FindWidget(codeEditor, controller, state, contextViewProvider, keybindingService, contextKeyService, themeService, storageService, notificationService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._cachedHeight = null;\r\n        _this._codeEditor = codeEditor;\r\n        _this._controller = controller;\r\n        _this._state = state;\r\n        _this._contextViewProvider = contextViewProvider;\r\n        _this._keybindingService = keybindingService;\r\n        _this._contextKeyService = contextKeyService;\r\n        _this._storageService = storageService;\r\n        _this._notificationService = notificationService;\r\n        _this._ctrlEnterReplaceAllWarningPrompted = !!storageService.getBoolean(ctrlEnterReplaceAllWarningPromptedKey, 0 /* GLOBAL */);\r\n        _this._isVisible = false;\r\n        _this._isReplaceVisible = false;\r\n        _this._ignoreChangeEvent = false;\r\n        _this._updateHistoryDelayer = new Delayer(500);\r\n        _this._register(toDisposable(function () { return _this._updateHistoryDelayer.cancel(); }));\r\n        _this._register(_this._state.onFindReplaceStateChange(function (e) { return _this._onStateChanged(e); }));\r\n        _this._buildDomNode();\r\n        _this._updateButtons();\r\n        _this._tryUpdateWidgetWidth();\r\n        _this._findInput.inputBox.layout();\r\n        _this._register(_this._codeEditor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(65 /* readOnly */)) {\r\n                if (_this._codeEditor.getOption(65 /* readOnly */)) {\r\n                    // Hide replace part if editor becomes read only\r\n                    _this._state.change({ isReplaceRevealed: false }, false);\r\n                }\r\n                _this._updateButtons();\r\n            }\r\n            if (e.hasChanged(103 /* layoutInfo */)) {\r\n                _this._tryUpdateWidgetWidth();\r\n            }\r\n            if (e.hasChanged(2 /* accessibilitySupport */)) {\r\n                _this.updateAccessibilitySupport();\r\n            }\r\n            if (e.hasChanged(27 /* find */)) {\r\n                var addExtraSpaceOnTop = _this._codeEditor.getOption(27 /* find */).addExtraSpaceOnTop;\r\n                if (addExtraSpaceOnTop && !_this._viewZone) {\r\n                    _this._viewZone = new FindWidgetViewZone(0);\r\n                    _this._showViewZone();\r\n                }\r\n                if (!addExtraSpaceOnTop && _this._viewZone) {\r\n                    _this._removeViewZone();\r\n                }\r\n            }\r\n        }));\r\n        _this.updateAccessibilitySupport();\r\n        _this._register(_this._codeEditor.onDidChangeCursorSelection(function () {\r\n            if (_this._isVisible) {\r\n                _this._updateToggleSelectionFindButton();\r\n            }\r\n        }));\r\n        _this._register(_this._codeEditor.onDidFocusEditorWidget(function () {\r\n            if (_this._isVisible) {\r\n                var globalBufferTerm = _this._controller.getGlobalBufferTerm();\r\n                if (globalBufferTerm && globalBufferTerm !== _this._state.searchString) {\r\n                    _this._state.change({ searchString: globalBufferTerm }, true);\r\n                    _this._findInput.select();\r\n                }\r\n            }\r\n        }));\r\n        _this._findInputFocused = CONTEXT_FIND_INPUT_FOCUSED.bindTo(contextKeyService);\r\n        _this._findFocusTracker = _this._register(dom.trackFocus(_this._findInput.inputBox.inputElement));\r\n        _this._register(_this._findFocusTracker.onDidFocus(function () {\r\n            _this._findInputFocused.set(true);\r\n            _this._updateSearchScope();\r\n        }));\r\n        _this._register(_this._findFocusTracker.onDidBlur(function () {\r\n            _this._findInputFocused.set(false);\r\n        }));\r\n        _this._replaceInputFocused = CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(contextKeyService);\r\n        _this._replaceFocusTracker = _this._register(dom.trackFocus(_this._replaceInput.inputBox.inputElement));\r\n        _this._register(_this._replaceFocusTracker.onDidFocus(function () {\r\n            _this._replaceInputFocused.set(true);\r\n            _this._updateSearchScope();\r\n        }));\r\n        _this._register(_this._replaceFocusTracker.onDidBlur(function () {\r\n            _this._replaceInputFocused.set(false);\r\n        }));\r\n        _this._codeEditor.addOverlayWidget(_this);\r\n        if (_this._codeEditor.getOption(27 /* find */).addExtraSpaceOnTop) {\r\n            _this._viewZone = new FindWidgetViewZone(0); // Put it before the first line then users can scroll beyond the first line.\r\n        }\r\n        _this._applyTheme(themeService.getTheme());\r\n        _this._register(themeService.onThemeChange(_this._applyTheme.bind(_this)));\r\n        _this._register(_this._codeEditor.onDidChangeModel(function () {\r\n            if (!_this._isVisible) {\r\n                return;\r\n            }\r\n            _this._viewZoneId = undefined;\r\n        }));\r\n        _this._register(_this._codeEditor.onDidScrollChange(function (e) {\r\n            if (e.scrollTopChanged) {\r\n                _this._layoutViewZone();\r\n                return;\r\n            }\r\n            // for other scroll changes, layout the viewzone in next tick to avoid ruining current rendering.\r\n            setTimeout(function () {\r\n                _this._layoutViewZone();\r\n            }, 0);\r\n        }));\r\n        return _this;\r\n    }\r\n    // ----- IOverlayWidget API\r\n    FindWidget.prototype.getId = function () {\r\n        return FindWidget.ID;\r\n    };\r\n    FindWidget.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    FindWidget.prototype.getPosition = function () {\r\n        if (this._isVisible) {\r\n            return {\r\n                preference: 0 /* TOP_RIGHT_CORNER */\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    // ----- React to state changes\r\n    FindWidget.prototype._onStateChanged = function (e) {\r\n        if (e.searchString) {\r\n            try {\r\n                this._ignoreChangeEvent = true;\r\n                this._findInput.setValue(this._state.searchString);\r\n            }\r\n            finally {\r\n                this._ignoreChangeEvent = false;\r\n            }\r\n            this._updateButtons();\r\n        }\r\n        if (e.replaceString) {\r\n            this._replaceInput.inputBox.value = this._state.replaceString;\r\n        }\r\n        if (e.isRevealed) {\r\n            if (this._state.isRevealed) {\r\n                this._reveal();\r\n            }\r\n            else {\r\n                this._hide(true);\r\n            }\r\n        }\r\n        if (e.isReplaceRevealed) {\r\n            if (this._state.isReplaceRevealed) {\r\n                if (!this._codeEditor.getOption(65 /* readOnly */) && !this._isReplaceVisible) {\r\n                    this._isReplaceVisible = true;\r\n                    this._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\r\n                    this._updateButtons();\r\n                    this._replaceInput.inputBox.layout();\r\n                }\r\n            }\r\n            else {\r\n                if (this._isReplaceVisible) {\r\n                    this._isReplaceVisible = false;\r\n                    this._updateButtons();\r\n                }\r\n            }\r\n        }\r\n        if ((e.isRevealed || e.isReplaceRevealed) && (this._state.isRevealed || this._state.isReplaceRevealed)) {\r\n            if (this._tryUpdateHeight()) {\r\n                this._showViewZone();\r\n            }\r\n        }\r\n        if (e.isRegex) {\r\n            this._findInput.setRegex(this._state.isRegex);\r\n        }\r\n        if (e.wholeWord) {\r\n            this._findInput.setWholeWords(this._state.wholeWord);\r\n        }\r\n        if (e.matchCase) {\r\n            this._findInput.setCaseSensitive(this._state.matchCase);\r\n        }\r\n        if (e.searchScope) {\r\n            if (this._state.searchScope) {\r\n                this._toggleSelectionFind.checked = true;\r\n            }\r\n            else {\r\n                this._toggleSelectionFind.checked = false;\r\n            }\r\n            this._updateToggleSelectionFindButton();\r\n        }\r\n        if (e.searchString || e.matchesCount || e.matchesPosition) {\r\n            var showRedOutline = (this._state.searchString.length > 0 && this._state.matchesCount === 0);\r\n            dom.toggleClass(this._domNode, 'no-results', showRedOutline);\r\n            this._updateMatchesCount();\r\n            this._updateButtons();\r\n        }\r\n        if (e.searchString || e.currentMatch) {\r\n            this._layoutViewZone();\r\n        }\r\n        if (e.updateHistory) {\r\n            this._delayedUpdateHistory();\r\n        }\r\n    };\r\n    FindWidget.prototype._delayedUpdateHistory = function () {\r\n        this._updateHistoryDelayer.trigger(this._updateHistory.bind(this));\r\n    };\r\n    FindWidget.prototype._updateHistory = function () {\r\n        if (this._state.searchString) {\r\n            this._findInput.inputBox.addToHistory();\r\n        }\r\n        if (this._state.replaceString) {\r\n            this._replaceInput.inputBox.addToHistory();\r\n        }\r\n    };\r\n    FindWidget.prototype._updateMatchesCount = function () {\r\n        this._matchesCount.style.minWidth = MAX_MATCHES_COUNT_WIDTH + 'px';\r\n        if (this._state.matchesCount >= MATCHES_LIMIT) {\r\n            this._matchesCount.title = NLS_MATCHES_COUNT_LIMIT_TITLE;\r\n        }\r\n        else {\r\n            this._matchesCount.title = '';\r\n        }\r\n        // remove previous content\r\n        if (this._matchesCount.firstChild) {\r\n            this._matchesCount.removeChild(this._matchesCount.firstChild);\r\n        }\r\n        var label;\r\n        if (this._state.matchesCount > 0) {\r\n            var matchesCount = String(this._state.matchesCount);\r\n            if (this._state.matchesCount >= MATCHES_LIMIT) {\r\n                matchesCount += '+';\r\n            }\r\n            var matchesPosition = String(this._state.matchesPosition);\r\n            if (matchesPosition === '0') {\r\n                matchesPosition = '?';\r\n            }\r\n            label = strings.format(NLS_MATCHES_LOCATION, matchesPosition, matchesCount);\r\n        }\r\n        else {\r\n            label = NLS_NO_RESULTS;\r\n        }\r\n        this._matchesCount.appendChild(document.createTextNode(label));\r\n        alertFn(this._getAriaLabel(label, this._state.currentMatch, this._state.searchString), true);\r\n        MAX_MATCHES_COUNT_WIDTH = Math.max(MAX_MATCHES_COUNT_WIDTH, this._matchesCount.clientWidth);\r\n    };\r\n    // ----- actions\r\n    FindWidget.prototype._getAriaLabel = function (label, currentMatch, searchString) {\r\n        if (label === NLS_NO_RESULTS) {\r\n            return searchString === ''\r\n                ? nls.localize('ariaSearchNoResultEmpty', \"{0} found\", label)\r\n                : nls.localize('ariaSearchNoResult', \"{0} found for {1}\", label, searchString);\r\n        }\r\n        return currentMatch\r\n            ? nls.localize('ariaSearchNoResultWithLineNum', \"{0} found for {1} at {2}\", label, searchString, currentMatch.startLineNumber + ':' + currentMatch.startColumn)\r\n            : nls.localize('ariaSearchNoResultWithLineNumNoCurrentMatch', \"{0} found for {1}\", label, searchString);\r\n    };\r\n    /**\r\n     * If 'selection find' is ON we should not disable the button (its function is to cancel 'selection find').\r\n     * If 'selection find' is OFF we enable the button only if there is a selection.\r\n     */\r\n    FindWidget.prototype._updateToggleSelectionFindButton = function () {\r\n        var selection = this._codeEditor.getSelection();\r\n        var isSelection = selection ? (selection.startLineNumber !== selection.endLineNumber || selection.startColumn !== selection.endColumn) : false;\r\n        var isChecked = this._toggleSelectionFind.checked;\r\n        if (this._isVisible && (isChecked || isSelection)) {\r\n            this._toggleSelectionFind.enable();\r\n        }\r\n        else {\r\n            this._toggleSelectionFind.disable();\r\n        }\r\n    };\r\n    FindWidget.prototype._updateButtons = function () {\r\n        this._findInput.setEnabled(this._isVisible);\r\n        this._replaceInput.setEnabled(this._isVisible && this._isReplaceVisible);\r\n        this._updateToggleSelectionFindButton();\r\n        this._closeBtn.setEnabled(this._isVisible);\r\n        var findInputIsNonEmpty = (this._state.searchString.length > 0);\r\n        var matchesCount = this._state.matchesCount ? true : false;\r\n        this._prevBtn.setEnabled(this._isVisible && findInputIsNonEmpty && matchesCount);\r\n        this._nextBtn.setEnabled(this._isVisible && findInputIsNonEmpty && matchesCount);\r\n        this._replaceBtn.setEnabled(this._isVisible && this._isReplaceVisible && findInputIsNonEmpty);\r\n        this._replaceAllBtn.setEnabled(this._isVisible && this._isReplaceVisible && findInputIsNonEmpty);\r\n        dom.toggleClass(this._domNode, 'replaceToggled', this._isReplaceVisible);\r\n        this._toggleReplaceBtn.toggleClass('codicon-chevron-right', !this._isReplaceVisible);\r\n        this._toggleReplaceBtn.toggleClass('codicon-chevron-down', this._isReplaceVisible);\r\n        this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);\r\n        var canReplace = !this._codeEditor.getOption(65 /* readOnly */);\r\n        this._toggleReplaceBtn.setEnabled(this._isVisible && canReplace);\r\n    };\r\n    FindWidget.prototype._reveal = function () {\r\n        var _this = this;\r\n        if (!this._isVisible) {\r\n            this._isVisible = true;\r\n            var selection = this._codeEditor.getSelection();\r\n            switch (this._codeEditor.getOption(27 /* find */).autoFindInSelection) {\r\n                case 'always':\r\n                    this._toggleSelectionFind.checked = true;\r\n                    break;\r\n                case 'never':\r\n                    this._toggleSelectionFind.checked = false;\r\n                    break;\r\n                case 'multiline':\r\n                    var isSelectionMultipleLine = !!selection && selection.startLineNumber !== selection.endLineNumber;\r\n                    this._toggleSelectionFind.checked = isSelectionMultipleLine;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            this._tryUpdateWidgetWidth();\r\n            this._updateButtons();\r\n            setTimeout(function () {\r\n                dom.addClass(_this._domNode, 'visible');\r\n                _this._domNode.setAttribute('aria-hidden', 'false');\r\n            }, 0);\r\n            // validate query again as it's being dismissed when we hide the find widget.\r\n            setTimeout(function () {\r\n                _this._findInput.validate();\r\n            }, 200);\r\n            this._codeEditor.layoutOverlayWidget(this);\r\n            var adjustEditorScrollTop = true;\r\n            if (this._codeEditor.getOption(27 /* find */).seedSearchStringFromSelection && selection) {\r\n                var domNode = this._codeEditor.getDomNode();\r\n                if (domNode) {\r\n                    var editorCoords = dom.getDomNodePagePosition(domNode);\r\n                    var startCoords = this._codeEditor.getScrolledVisiblePosition(selection.getStartPosition());\r\n                    var startLeft = editorCoords.left + (startCoords ? startCoords.left : 0);\r\n                    var startTop = startCoords ? startCoords.top : 0;\r\n                    if (this._viewZone && startTop < this._viewZone.heightInPx) {\r\n                        if (selection.endLineNumber > selection.startLineNumber) {\r\n                            adjustEditorScrollTop = false;\r\n                        }\r\n                        var leftOfFindWidget = dom.getTopLeftOffset(this._domNode).left;\r\n                        if (startLeft > leftOfFindWidget) {\r\n                            adjustEditorScrollTop = false;\r\n                        }\r\n                        var endCoords = this._codeEditor.getScrolledVisiblePosition(selection.getEndPosition());\r\n                        var endLeft = editorCoords.left + (endCoords ? endCoords.left : 0);\r\n                        if (endLeft > leftOfFindWidget) {\r\n                            adjustEditorScrollTop = false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this._showViewZone(adjustEditorScrollTop);\r\n        }\r\n    };\r\n    FindWidget.prototype._hide = function (focusTheEditor) {\r\n        if (this._isVisible) {\r\n            this._isVisible = false;\r\n            this._updateButtons();\r\n            dom.removeClass(this._domNode, 'visible');\r\n            this._domNode.setAttribute('aria-hidden', 'true');\r\n            this._findInput.clearMessage();\r\n            if (focusTheEditor) {\r\n                this._codeEditor.focus();\r\n            }\r\n            this._codeEditor.layoutOverlayWidget(this);\r\n            this._removeViewZone();\r\n        }\r\n    };\r\n    FindWidget.prototype._layoutViewZone = function () {\r\n        var _this = this;\r\n        var addExtraSpaceOnTop = this._codeEditor.getOption(27 /* find */).addExtraSpaceOnTop;\r\n        if (!addExtraSpaceOnTop) {\r\n            this._removeViewZone();\r\n            return;\r\n        }\r\n        if (!this._isVisible) {\r\n            return;\r\n        }\r\n        var viewZone = this._viewZone;\r\n        if (this._viewZoneId !== undefined || !viewZone) {\r\n            return;\r\n        }\r\n        this._codeEditor.changeViewZones(function (accessor) {\r\n            viewZone.heightInPx = _this._getHeight();\r\n            _this._viewZoneId = accessor.addZone(viewZone);\r\n            // scroll top adjust to make sure the editor doesn't scroll when adding viewzone at the beginning.\r\n            _this._codeEditor.setScrollTop(_this._codeEditor.getScrollTop() + viewZone.heightInPx);\r\n        });\r\n    };\r\n    FindWidget.prototype._showViewZone = function (adjustScroll) {\r\n        var _this = this;\r\n        if (adjustScroll === void 0) { adjustScroll = true; }\r\n        if (!this._isVisible) {\r\n            return;\r\n        }\r\n        var addExtraSpaceOnTop = this._codeEditor.getOption(27 /* find */).addExtraSpaceOnTop;\r\n        if (!addExtraSpaceOnTop) {\r\n            return;\r\n        }\r\n        if (this._viewZone === undefined) {\r\n            this._viewZone = new FindWidgetViewZone(0);\r\n        }\r\n        var viewZone = this._viewZone;\r\n        this._codeEditor.changeViewZones(function (accessor) {\r\n            if (_this._viewZoneId !== undefined) {\r\n                // the view zone already exists, we need to update the height\r\n                var newHeight = _this._getHeight();\r\n                if (newHeight === viewZone.heightInPx) {\r\n                    return;\r\n                }\r\n                var scrollAdjustment = newHeight - viewZone.heightInPx;\r\n                viewZone.heightInPx = newHeight;\r\n                accessor.layoutZone(_this._viewZoneId);\r\n                if (adjustScroll) {\r\n                    _this._codeEditor.setScrollTop(_this._codeEditor.getScrollTop() + scrollAdjustment);\r\n                }\r\n                return;\r\n            }\r\n            else {\r\n                var scrollAdjustment = _this._getHeight();\r\n                viewZone.heightInPx = scrollAdjustment;\r\n                _this._viewZoneId = accessor.addZone(viewZone);\r\n                if (adjustScroll) {\r\n                    _this._codeEditor.setScrollTop(_this._codeEditor.getScrollTop() + scrollAdjustment);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    FindWidget.prototype._removeViewZone = function () {\r\n        var _this = this;\r\n        this._codeEditor.changeViewZones(function (accessor) {\r\n            if (_this._viewZoneId !== undefined) {\r\n                accessor.removeZone(_this._viewZoneId);\r\n                _this._viewZoneId = undefined;\r\n                if (_this._viewZone) {\r\n                    _this._codeEditor.setScrollTop(_this._codeEditor.getScrollTop() - _this._viewZone.heightInPx);\r\n                    _this._viewZone = undefined;\r\n                }\r\n            }\r\n        });\r\n    };\r\n    FindWidget.prototype._applyTheme = function (theme) {\r\n        var inputStyles = {\r\n            inputActiveOptionBorder: theme.getColor(inputActiveOptionBorder),\r\n            inputActiveOptionBackground: theme.getColor(inputActiveOptionBackground),\r\n            inputBackground: theme.getColor(inputBackground),\r\n            inputForeground: theme.getColor(inputForeground),\r\n            inputBorder: theme.getColor(inputBorder),\r\n            inputValidationInfoBackground: theme.getColor(inputValidationInfoBackground),\r\n            inputValidationInfoForeground: theme.getColor(inputValidationInfoForeground),\r\n            inputValidationInfoBorder: theme.getColor(inputValidationInfoBorder),\r\n            inputValidationWarningBackground: theme.getColor(inputValidationWarningBackground),\r\n            inputValidationWarningForeground: theme.getColor(inputValidationWarningForeground),\r\n            inputValidationWarningBorder: theme.getColor(inputValidationWarningBorder),\r\n            inputValidationErrorBackground: theme.getColor(inputValidationErrorBackground),\r\n            inputValidationErrorForeground: theme.getColor(inputValidationErrorForeground),\r\n            inputValidationErrorBorder: theme.getColor(inputValidationErrorBorder),\r\n        };\r\n        this._findInput.style(inputStyles);\r\n        this._replaceInput.style(inputStyles);\r\n        this._toggleSelectionFind.style(inputStyles);\r\n    };\r\n    FindWidget.prototype._tryUpdateWidgetWidth = function () {\r\n        if (!this._isVisible) {\r\n            return;\r\n        }\r\n        if (!dom.isInDOM(this._domNode)) {\r\n            // the widget is not in the DOM\r\n            return;\r\n        }\r\n        var layoutInfo = this._codeEditor.getLayoutInfo();\r\n        var editorContentWidth = layoutInfo.contentWidth;\r\n        if (editorContentWidth <= 0) {\r\n            // for example, diff view original editor\r\n            dom.addClass(this._domNode, 'hiddenEditor');\r\n            return;\r\n        }\r\n        else if (dom.hasClass(this._domNode, 'hiddenEditor')) {\r\n            dom.removeClass(this._domNode, 'hiddenEditor');\r\n        }\r\n        var editorWidth = layoutInfo.width;\r\n        var minimapWidth = layoutInfo.minimapWidth;\r\n        var collapsedFindWidget = false;\r\n        var reducedFindWidget = false;\r\n        var narrowFindWidget = false;\r\n        if (this._resized) {\r\n            var widgetWidth = dom.getTotalWidth(this._domNode);\r\n            if (widgetWidth > FIND_WIDGET_INITIAL_WIDTH) {\r\n                // as the widget is resized by users, we may need to change the max width of the widget as the editor width changes.\r\n                this._domNode.style.maxWidth = editorWidth - 28 - minimapWidth - 15 + \"px\";\r\n                this._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\r\n                return;\r\n            }\r\n        }\r\n        if (FIND_WIDGET_INITIAL_WIDTH + 28 + minimapWidth >= editorWidth) {\r\n            reducedFindWidget = true;\r\n        }\r\n        if (FIND_WIDGET_INITIAL_WIDTH + 28 + minimapWidth - MAX_MATCHES_COUNT_WIDTH >= editorWidth) {\r\n            narrowFindWidget = true;\r\n        }\r\n        if (FIND_WIDGET_INITIAL_WIDTH + 28 + minimapWidth - MAX_MATCHES_COUNT_WIDTH >= editorWidth + 50) {\r\n            collapsedFindWidget = true;\r\n        }\r\n        dom.toggleClass(this._domNode, 'collapsed-find-widget', collapsedFindWidget);\r\n        dom.toggleClass(this._domNode, 'narrow-find-widget', narrowFindWidget);\r\n        dom.toggleClass(this._domNode, 'reduced-find-widget', reducedFindWidget);\r\n        if (!narrowFindWidget && !collapsedFindWidget) {\r\n            // the minimal left offset of findwidget is 15px.\r\n            this._domNode.style.maxWidth = editorWidth - 28 - minimapWidth - 15 + \"px\";\r\n        }\r\n        if (this._resized) {\r\n            this._findInput.inputBox.layout();\r\n            var findInputWidth = this._findInput.inputBox.element.clientWidth;\r\n            if (findInputWidth > 0) {\r\n                this._replaceInput.width = findInputWidth;\r\n            }\r\n        }\r\n        else if (this._isReplaceVisible) {\r\n            this._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\r\n        }\r\n    };\r\n    FindWidget.prototype._getHeight = function () {\r\n        var totalheight = 0;\r\n        // find input margin top\r\n        totalheight += 4;\r\n        // find input height\r\n        totalheight += this._findInput.inputBox.height + 2 /** input box border */;\r\n        if (this._isReplaceVisible) {\r\n            // replace input margin\r\n            totalheight += 4;\r\n            totalheight += this._replaceInput.inputBox.height + 2 /** input box border */;\r\n        }\r\n        // margin bottom\r\n        totalheight += 4;\r\n        return totalheight;\r\n    };\r\n    FindWidget.prototype._tryUpdateHeight = function () {\r\n        var totalHeight = this._getHeight();\r\n        if (this._cachedHeight !== null && this._cachedHeight === totalHeight) {\r\n            return false;\r\n        }\r\n        this._cachedHeight = totalHeight;\r\n        this._domNode.style.height = totalHeight + \"px\";\r\n        return true;\r\n    };\r\n    // ----- Public\r\n    FindWidget.prototype.focusFindInput = function () {\r\n        this._findInput.select();\r\n        // Edge browser requires focus() in addition to select()\r\n        this._findInput.focus();\r\n    };\r\n    FindWidget.prototype.focusReplaceInput = function () {\r\n        this._replaceInput.select();\r\n        // Edge browser requires focus() in addition to select()\r\n        this._replaceInput.focus();\r\n    };\r\n    FindWidget.prototype.highlightFindOptions = function () {\r\n        this._findInput.highlightFindOptions();\r\n    };\r\n    FindWidget.prototype._updateSearchScope = function () {\r\n        if (!this._codeEditor.hasModel()) {\r\n            return;\r\n        }\r\n        if (this._toggleSelectionFind.checked) {\r\n            var selection = this._codeEditor.getSelection();\r\n            if (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) {\r\n                selection = selection.setEndPosition(selection.endLineNumber - 1, this._codeEditor.getModel().getLineMaxColumn(selection.endLineNumber - 1));\r\n            }\r\n            var currentMatch = this._state.currentMatch;\r\n            if (selection.startLineNumber !== selection.endLineNumber) {\r\n                if (!Range.equalsRange(selection, currentMatch)) {\r\n                    // Reseed find scope\r\n                    this._state.change({ searchScope: selection }, true);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    FindWidget.prototype._onFindInputMouseDown = function (e) {\r\n        // on linux, middle key does pasting.\r\n        if (e.middleButton) {\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    FindWidget.prototype._onFindInputKeyDown = function (e) {\r\n        if (e.equals(ctrlKeyMod | 3 /* Enter */)) {\r\n            this._findInput.inputBox.insertAtCursor('\\n');\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n        if (e.equals(2 /* Tab */)) {\r\n            if (this._isReplaceVisible) {\r\n                this._replaceInput.focus();\r\n            }\r\n            else {\r\n                this._findInput.focusOnCaseSensitive();\r\n            }\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n        if (e.equals(2048 /* CtrlCmd */ | 18 /* DownArrow */)) {\r\n            this._codeEditor.focus();\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n        if (e.equals(16 /* UpArrow */)) {\r\n            return stopPropagationForMultiLineUpwards(e, this._findInput.getValue(), this._findInput.domNode.querySelector('textarea'));\r\n        }\r\n        if (e.equals(18 /* DownArrow */)) {\r\n            return stopPropagationForMultiLineDownwards(e, this._findInput.getValue(), this._findInput.domNode.querySelector('textarea'));\r\n        }\r\n    };\r\n    FindWidget.prototype._onReplaceInputKeyDown = function (e) {\r\n        if (e.equals(ctrlKeyMod | 3 /* Enter */)) {\r\n            if (platform.isWindows && platform.isNative && !this._ctrlEnterReplaceAllWarningPrompted) {\r\n                // this is the first time when users press Ctrl + Enter to replace all\r\n                this._notificationService.info(nls.localize('ctrlEnter.keybindingChanged', 'Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.'));\r\n                this._ctrlEnterReplaceAllWarningPrompted = true;\r\n                this._storageService.store(ctrlEnterReplaceAllWarningPromptedKey, true, 0 /* GLOBAL */);\r\n            }\r\n            this._replaceInput.inputBox.insertAtCursor('\\n');\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n        if (e.equals(2 /* Tab */)) {\r\n            this._findInput.focusOnCaseSensitive();\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n        if (e.equals(1024 /* Shift */ | 2 /* Tab */)) {\r\n            this._findInput.focus();\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n        if (e.equals(2048 /* CtrlCmd */ | 18 /* DownArrow */)) {\r\n            this._codeEditor.focus();\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n        if (e.equals(16 /* UpArrow */)) {\r\n            return stopPropagationForMultiLineUpwards(e, this._replaceInput.inputBox.value, this._replaceInput.inputBox.element.querySelector('textarea'));\r\n        }\r\n        if (e.equals(18 /* DownArrow */)) {\r\n            return stopPropagationForMultiLineDownwards(e, this._replaceInput.inputBox.value, this._replaceInput.inputBox.element.querySelector('textarea'));\r\n        }\r\n    };\r\n    // ----- sash\r\n    FindWidget.prototype.getHorizontalSashTop = function (_sash) {\r\n        return 0;\r\n    };\r\n    FindWidget.prototype.getHorizontalSashLeft = function (_sash) {\r\n        return 0;\r\n    };\r\n    FindWidget.prototype.getHorizontalSashWidth = function (_sash) {\r\n        return 500;\r\n    };\r\n    // ----- initialization\r\n    FindWidget.prototype._keybindingLabelFor = function (actionId) {\r\n        var kb = this._keybindingService.lookupKeybinding(actionId);\r\n        if (!kb) {\r\n            return '';\r\n        }\r\n        return \" (\" + kb.getLabel() + \")\";\r\n    };\r\n    FindWidget.prototype._buildDomNode = function () {\r\n        var _this = this;\r\n        var flexibleHeight = true;\r\n        var flexibleWidth = true;\r\n        // Find input\r\n        this._findInput = this._register(new ContextScopedFindInput(null, this._contextViewProvider, {\r\n            width: FIND_INPUT_AREA_WIDTH,\r\n            label: NLS_FIND_INPUT_LABEL,\r\n            placeholder: NLS_FIND_INPUT_PLACEHOLDER,\r\n            appendCaseSensitiveLabel: this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand),\r\n            appendWholeWordsLabel: this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand),\r\n            appendRegexLabel: this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand),\r\n            validation: function (value) {\r\n                if (value.length === 0 || !_this._findInput.getRegex()) {\r\n                    return null;\r\n                }\r\n                try {\r\n                    /* tslint:disable-next-line:no-unused-expression */\r\n                    new RegExp(value);\r\n                    return null;\r\n                }\r\n                catch (e) {\r\n                    return { content: e.message };\r\n                }\r\n            },\r\n            flexibleHeight: flexibleHeight,\r\n            flexibleWidth: flexibleWidth,\r\n            flexibleMaxHeight: 118\r\n        }, this._contextKeyService, true));\r\n        this._findInput.setRegex(!!this._state.isRegex);\r\n        this._findInput.setCaseSensitive(!!this._state.matchCase);\r\n        this._findInput.setWholeWords(!!this._state.wholeWord);\r\n        this._register(this._findInput.onKeyDown(function (e) { return _this._onFindInputKeyDown(e); }));\r\n        this._register(this._findInput.inputBox.onDidChange(function () {\r\n            if (_this._ignoreChangeEvent) {\r\n                return;\r\n            }\r\n            _this._state.change({ searchString: _this._findInput.getValue() }, true);\r\n        }));\r\n        this._register(this._findInput.onDidOptionChange(function () {\r\n            _this._state.change({\r\n                isRegex: _this._findInput.getRegex(),\r\n                wholeWord: _this._findInput.getWholeWords(),\r\n                matchCase: _this._findInput.getCaseSensitive()\r\n            }, true);\r\n        }));\r\n        this._register(this._findInput.onCaseSensitiveKeyDown(function (e) {\r\n            if (e.equals(1024 /* Shift */ | 2 /* Tab */)) {\r\n                if (_this._isReplaceVisible) {\r\n                    _this._replaceInput.focus();\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n        }));\r\n        this._register(this._findInput.onRegexKeyDown(function (e) {\r\n            if (e.equals(2 /* Tab */)) {\r\n                if (_this._isReplaceVisible) {\r\n                    _this._replaceInput.focusOnPreserve();\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n        }));\r\n        this._register(this._findInput.inputBox.onDidHeightChange(function (e) {\r\n            if (_this._tryUpdateHeight()) {\r\n                _this._showViewZone();\r\n            }\r\n        }));\r\n        if (platform.isLinux) {\r\n            this._register(this._findInput.onMouseDown(function (e) { return _this._onFindInputMouseDown(e); }));\r\n        }\r\n        this._matchesCount = document.createElement('div');\r\n        this._matchesCount.className = 'matchesCount';\r\n        this._updateMatchesCount();\r\n        // Previous button\r\n        this._prevBtn = this._register(new SimpleButton({\r\n            label: NLS_PREVIOUS_MATCH_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.PreviousMatchFindAction),\r\n            className: 'codicon codicon-arrow-up',\r\n            onTrigger: function () {\r\n                _this._codeEditor.getAction(FIND_IDS.PreviousMatchFindAction).run().then(undefined, onUnexpectedError);\r\n            }\r\n        }));\r\n        // Next button\r\n        this._nextBtn = this._register(new SimpleButton({\r\n            label: NLS_NEXT_MATCH_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.NextMatchFindAction),\r\n            className: 'codicon codicon-arrow-down',\r\n            onTrigger: function () {\r\n                _this._codeEditor.getAction(FIND_IDS.NextMatchFindAction).run().then(undefined, onUnexpectedError);\r\n            }\r\n        }));\r\n        var findPart = document.createElement('div');\r\n        findPart.className = 'find-part';\r\n        findPart.appendChild(this._findInput.domNode);\r\n        var actionsContainer = document.createElement('div');\r\n        actionsContainer.className = 'find-actions';\r\n        findPart.appendChild(actionsContainer);\r\n        actionsContainer.appendChild(this._matchesCount);\r\n        actionsContainer.appendChild(this._prevBtn.domNode);\r\n        actionsContainer.appendChild(this._nextBtn.domNode);\r\n        // Toggle selection button\r\n        this._toggleSelectionFind = this._register(new Checkbox({\r\n            actionClassName: 'codicon codicon-selection',\r\n            title: NLS_TOGGLE_SELECTION_FIND_TITLE + this._keybindingLabelFor(FIND_IDS.ToggleSearchScopeCommand),\r\n            isChecked: false\r\n        }));\r\n        this._register(this._toggleSelectionFind.onChange(function () {\r\n            if (_this._toggleSelectionFind.checked) {\r\n                if (_this._codeEditor.hasModel()) {\r\n                    var selection = _this._codeEditor.getSelection();\r\n                    if (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) {\r\n                        selection = selection.setEndPosition(selection.endLineNumber - 1, _this._codeEditor.getModel().getLineMaxColumn(selection.endLineNumber - 1));\r\n                    }\r\n                    if (!selection.isEmpty()) {\r\n                        _this._state.change({ searchScope: selection }, true);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                _this._state.change({ searchScope: null }, true);\r\n            }\r\n        }));\r\n        actionsContainer.appendChild(this._toggleSelectionFind.domNode);\r\n        // Close button\r\n        this._closeBtn = this._register(new SimpleButton({\r\n            label: NLS_CLOSE_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.CloseFindWidgetCommand),\r\n            className: 'codicon codicon-close',\r\n            onTrigger: function () {\r\n                _this._state.change({ isRevealed: false, searchScope: null }, false);\r\n            },\r\n            onKeyDown: function (e) {\r\n                if (e.equals(2 /* Tab */)) {\r\n                    if (_this._isReplaceVisible) {\r\n                        if (_this._replaceBtn.isEnabled()) {\r\n                            _this._replaceBtn.focus();\r\n                        }\r\n                        else {\r\n                            _this._codeEditor.focus();\r\n                        }\r\n                        e.preventDefault();\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        actionsContainer.appendChild(this._closeBtn.domNode);\r\n        // Replace input\r\n        this._replaceInput = this._register(new ContextScopedReplaceInput(null, undefined, {\r\n            label: NLS_REPLACE_INPUT_LABEL,\r\n            placeholder: NLS_REPLACE_INPUT_PLACEHOLDER,\r\n            history: [],\r\n            flexibleHeight: flexibleHeight,\r\n            flexibleWidth: flexibleWidth,\r\n            flexibleMaxHeight: 118\r\n        }, this._contextKeyService, true));\r\n        this._replaceInput.setPreserveCase(!!this._state.preserveCase);\r\n        this._register(this._replaceInput.onKeyDown(function (e) { return _this._onReplaceInputKeyDown(e); }));\r\n        this._register(this._replaceInput.inputBox.onDidChange(function () {\r\n            _this._state.change({ replaceString: _this._replaceInput.inputBox.value }, false);\r\n        }));\r\n        this._register(this._replaceInput.inputBox.onDidHeightChange(function (e) {\r\n            if (_this._isReplaceVisible && _this._tryUpdateHeight()) {\r\n                _this._showViewZone();\r\n            }\r\n        }));\r\n        this._register(this._replaceInput.onDidOptionChange(function () {\r\n            _this._state.change({\r\n                preserveCase: _this._replaceInput.getPreserveCase()\r\n            }, true);\r\n        }));\r\n        this._register(this._replaceInput.onPreserveCaseKeyDown(function (e) {\r\n            if (e.equals(2 /* Tab */)) {\r\n                if (_this._prevBtn.isEnabled()) {\r\n                    _this._prevBtn.focus();\r\n                }\r\n                else if (_this._nextBtn.isEnabled()) {\r\n                    _this._nextBtn.focus();\r\n                }\r\n                else if (_this._toggleSelectionFind.enabled) {\r\n                    _this._toggleSelectionFind.focus();\r\n                }\r\n                else if (_this._closeBtn.isEnabled()) {\r\n                    _this._closeBtn.focus();\r\n                }\r\n                e.preventDefault();\r\n            }\r\n        }));\r\n        // Replace one button\r\n        this._replaceBtn = this._register(new SimpleButton({\r\n            label: NLS_REPLACE_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.ReplaceOneAction),\r\n            className: 'codicon codicon-replace',\r\n            onTrigger: function () {\r\n                _this._controller.replace();\r\n            },\r\n            onKeyDown: function (e) {\r\n                if (e.equals(1024 /* Shift */ | 2 /* Tab */)) {\r\n                    _this._closeBtn.focus();\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n        }));\r\n        // Replace all button\r\n        this._replaceAllBtn = this._register(new SimpleButton({\r\n            label: NLS_REPLACE_ALL_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.ReplaceAllAction),\r\n            className: 'codicon codicon-replace-all',\r\n            onTrigger: function () {\r\n                _this._controller.replaceAll();\r\n            }\r\n        }));\r\n        var replacePart = document.createElement('div');\r\n        replacePart.className = 'replace-part';\r\n        replacePart.appendChild(this._replaceInput.domNode);\r\n        var replaceActionsContainer = document.createElement('div');\r\n        replaceActionsContainer.className = 'replace-actions';\r\n        replacePart.appendChild(replaceActionsContainer);\r\n        replaceActionsContainer.appendChild(this._replaceBtn.domNode);\r\n        replaceActionsContainer.appendChild(this._replaceAllBtn.domNode);\r\n        // Toggle replace button\r\n        this._toggleReplaceBtn = this._register(new SimpleButton({\r\n            label: NLS_TOGGLE_REPLACE_MODE_BTN_LABEL,\r\n            className: 'codicon toggle left',\r\n            onTrigger: function () {\r\n                _this._state.change({ isReplaceRevealed: !_this._isReplaceVisible }, false);\r\n                if (_this._isReplaceVisible) {\r\n                    _this._replaceInput.width = dom.getTotalWidth(_this._findInput.domNode);\r\n                    _this._replaceInput.inputBox.layout();\r\n                }\r\n                _this._showViewZone();\r\n            }\r\n        }));\r\n        this._toggleReplaceBtn.toggleClass('codicon-chevron-down', this._isReplaceVisible);\r\n        this._toggleReplaceBtn.toggleClass('codicon-chevron-right', !this._isReplaceVisible);\r\n        this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);\r\n        // Widget\r\n        this._domNode = document.createElement('div');\r\n        this._domNode.className = 'editor-widget find-widget';\r\n        this._domNode.setAttribute('aria-hidden', 'true');\r\n        // We need to set this explicitly, otherwise on IE11, the width inheritence of flex doesn't work.\r\n        this._domNode.style.width = FIND_WIDGET_INITIAL_WIDTH + \"px\";\r\n        this._domNode.appendChild(this._toggleReplaceBtn.domNode);\r\n        this._domNode.appendChild(findPart);\r\n        this._domNode.appendChild(replacePart);\r\n        this._resizeSash = new Sash(this._domNode, this, { orientation: 0 /* VERTICAL */ });\r\n        this._resized = false;\r\n        var originalWidth = FIND_WIDGET_INITIAL_WIDTH;\r\n        this._register(this._resizeSash.onDidStart(function () {\r\n            originalWidth = dom.getTotalWidth(_this._domNode);\r\n        }));\r\n        this._register(this._resizeSash.onDidChange(function (evt) {\r\n            _this._resized = true;\r\n            var width = originalWidth + evt.startX - evt.currentX;\r\n            if (width < FIND_WIDGET_INITIAL_WIDTH) {\r\n                // narrow down the find widget should be handled by CSS.\r\n                return;\r\n            }\r\n            var maxWidth = parseFloat(dom.getComputedStyle(_this._domNode).maxWidth) || 0;\r\n            if (width > maxWidth) {\r\n                return;\r\n            }\r\n            _this._domNode.style.width = width + \"px\";\r\n            if (_this._isReplaceVisible) {\r\n                _this._replaceInput.width = dom.getTotalWidth(_this._findInput.domNode);\r\n            }\r\n            _this._findInput.inputBox.layout();\r\n            _this._tryUpdateHeight();\r\n        }));\r\n        this._register(this._resizeSash.onDidReset(function () {\r\n            // users double click on the sash\r\n            var currentWidth = dom.getTotalWidth(_this._domNode);\r\n            if (currentWidth < FIND_WIDGET_INITIAL_WIDTH) {\r\n                // The editor is narrow and the width of the find widget is controlled fully by CSS.\r\n                return;\r\n            }\r\n            var width = FIND_WIDGET_INITIAL_WIDTH;\r\n            if (!_this._resized || currentWidth === FIND_WIDGET_INITIAL_WIDTH) {\r\n                // 1. never resized before, double click should maximizes it\r\n                // 2. users resized it already but its width is the same as default\r\n                var layoutInfo = _this._codeEditor.getLayoutInfo();\r\n                width = layoutInfo.width - 28 - layoutInfo.minimapWidth - 15;\r\n                _this._resized = true;\r\n            }\r\n            else {\r\n                /**\r\n                 * no op, the find widget should be shrinked to its default size.\r\n                 */\r\n            }\r\n            _this._domNode.style.width = width + \"px\";\r\n            if (_this._isReplaceVisible) {\r\n                _this._replaceInput.width = dom.getTotalWidth(_this._findInput.domNode);\r\n            }\r\n            _this._findInput.inputBox.layout();\r\n        }));\r\n    };\r\n    FindWidget.prototype.updateAccessibilitySupport = function () {\r\n        var value = this._codeEditor.getOption(2 /* accessibilitySupport */);\r\n        this._findInput.setFocusInputOnOptionClick(value !== 2 /* Enabled */);\r\n    };\r\n    FindWidget.ID = 'editor.contrib.findWidget';\r\n    return FindWidget;\r\n}(Widget));\r\nexport { FindWidget };\r\nvar SimpleButton = /** @class */ (function (_super) {\r\n    __extends(SimpleButton, _super);\r\n    function SimpleButton(opts) {\r\n        var _this = _super.call(this) || this;\r\n        _this._opts = opts;\r\n        _this._domNode = document.createElement('div');\r\n        _this._domNode.title = _this._opts.label;\r\n        _this._domNode.tabIndex = 0;\r\n        _this._domNode.className = 'button ' + _this._opts.className;\r\n        _this._domNode.setAttribute('role', 'button');\r\n        _this._domNode.setAttribute('aria-label', _this._opts.label);\r\n        _this.onclick(_this._domNode, function (e) {\r\n            _this._opts.onTrigger();\r\n            e.preventDefault();\r\n        });\r\n        _this.onkeydown(_this._domNode, function (e) {\r\n            if (e.equals(10 /* Space */) || e.equals(3 /* Enter */)) {\r\n                _this._opts.onTrigger();\r\n                e.preventDefault();\r\n                return;\r\n            }\r\n            if (_this._opts.onKeyDown) {\r\n                _this._opts.onKeyDown(e);\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SimpleButton.prototype, \"domNode\", {\r\n        get: function () {\r\n            return this._domNode;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SimpleButton.prototype.isEnabled = function () {\r\n        return (this._domNode.tabIndex >= 0);\r\n    };\r\n    SimpleButton.prototype.focus = function () {\r\n        this._domNode.focus();\r\n    };\r\n    SimpleButton.prototype.setEnabled = function (enabled) {\r\n        dom.toggleClass(this._domNode, 'disabled', !enabled);\r\n        this._domNode.setAttribute('aria-disabled', String(!enabled));\r\n        this._domNode.tabIndex = enabled ? 0 : -1;\r\n    };\r\n    SimpleButton.prototype.setExpanded = function (expanded) {\r\n        this._domNode.setAttribute('aria-expanded', String(!!expanded));\r\n    };\r\n    SimpleButton.prototype.toggleClass = function (className, shouldHaveIt) {\r\n        dom.toggleClass(this._domNode, className, shouldHaveIt);\r\n    };\r\n    return SimpleButton;\r\n}(Widget));\r\nexport { SimpleButton };\r\n// theming\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var addBackgroundColorRule = function (selector, color) {\r\n        if (color) {\r\n            collector.addRule(\".monaco-editor \" + selector + \" { background-color: \" + color + \"; }\");\r\n        }\r\n    };\r\n    addBackgroundColorRule('.findMatch', theme.getColor(editorFindMatchHighlight));\r\n    addBackgroundColorRule('.currentFindMatch', theme.getColor(editorFindMatch));\r\n    addBackgroundColorRule('.findScope', theme.getColor(editorFindRangeHighlight));\r\n    var widgetBackground = theme.getColor(editorWidgetBackground);\r\n    addBackgroundColorRule('.find-widget', widgetBackground);\r\n    var widgetShadowColor = theme.getColor(widgetShadow);\r\n    if (widgetShadowColor) {\r\n        collector.addRule(\".monaco-editor .find-widget { box-shadow: 0 2px 8px \" + widgetShadowColor + \"; }\");\r\n    }\r\n    var findMatchHighlightBorder = theme.getColor(editorFindMatchHighlightBorder);\r\n    if (findMatchHighlightBorder) {\r\n        collector.addRule(\".monaco-editor .findMatch { border: 1px \" + (theme.type === 'hc' ? 'dotted' : 'solid') + \" \" + findMatchHighlightBorder + \"; box-sizing: border-box; }\");\r\n    }\r\n    var findMatchBorder = theme.getColor(editorFindMatchBorder);\r\n    if (findMatchBorder) {\r\n        collector.addRule(\".monaco-editor .currentFindMatch { border: 2px solid \" + findMatchBorder + \"; padding: 1px; box-sizing: border-box; }\");\r\n    }\r\n    var findRangeHighlightBorder = theme.getColor(editorFindRangeHighlightBorder);\r\n    if (findRangeHighlightBorder) {\r\n        collector.addRule(\".monaco-editor .findScope { border: 1px \" + (theme.type === 'hc' ? 'dashed' : 'solid') + \" \" + findRangeHighlightBorder + \"; }\");\r\n    }\r\n    var hcBorder = theme.getColor(contrastBorder);\r\n    if (hcBorder) {\r\n        collector.addRule(\".monaco-editor .find-widget { border: 1px solid \" + hcBorder + \"; }\");\r\n    }\r\n    var foreground = theme.getColor(editorWidgetForeground);\r\n    if (foreground) {\r\n        collector.addRule(\".monaco-editor .find-widget { color: \" + foreground + \"; }\");\r\n    }\r\n    var error = theme.getColor(errorForeground);\r\n    if (error) {\r\n        collector.addRule(\".monaco-editor .find-widget.no-results .matchesCount { color: \" + error + \"; }\");\r\n    }\r\n    var resizeBorderBackground = theme.getColor(editorWidgetResizeBorder);\r\n    if (resizeBorderBackground) {\r\n        collector.addRule(\".monaco-editor .find-widget .monaco-sash { background-color: \" + resizeBorderBackground + \"; width: 3px !important; margin-left: -4px;}\");\r\n    }\r\n    else {\r\n        var border = theme.getColor(editorWidgetBorder);\r\n        if (border) {\r\n            collector.addRule(\".monaco-editor .find-widget .monaco-sash { background-color: \" + border + \"; width: 3px !important; margin-left: -4px;}\");\r\n        }\r\n    }\r\n    // This rule is used to override the outline color for synthetic-focus find input.\r\n    var focusOutline = theme.getColor(focusBorder);\r\n    if (focusOutline) {\r\n        collector.addRule(\".monaco-workbench .monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: \" + focusOutline + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport { Delayer } from '../../../base/common/async.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { CONTEXT_FIND_INPUT_FOCUSED, CONTEXT_FIND_WIDGET_VISIBLE, FIND_IDS, FindModelBoundToEditorModel, ToggleCaseSensitiveKeybinding, ToggleRegexKeybinding, ToggleSearchScopeKeybinding, ToggleWholeWordKeybinding, CONTEXT_REPLACE_INPUT_FOCUSED } from './findModel.js';\r\nimport { FindOptionsWidget } from './findOptionsWidget.js';\r\nimport { FindReplaceState } from './findState.js';\r\nimport { FindWidget } from './findWidget.js';\r\nimport { IClipboardService } from '../../../platform/clipboard/common/clipboardService.js';\r\nimport { IContextKeyService, ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IContextViewService } from '../../../platform/contextview/browser/contextView.js';\r\nimport { optional } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { IStorageService } from '../../../platform/storage/common/storage.js';\r\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nvar SEARCH_STRING_MAX_LENGTH = 524288;\r\nexport function getSelectionSearchString(editor) {\r\n    if (!editor.hasModel()) {\r\n        return null;\r\n    }\r\n    var selection = editor.getSelection();\r\n    // if selection spans multiple lines, default search string to empty\r\n    if (selection.startLineNumber === selection.endLineNumber) {\r\n        if (selection.isEmpty()) {\r\n            var wordAtPosition = editor.getModel().getWordAtPosition(selection.getStartPosition());\r\n            if (wordAtPosition) {\r\n                return wordAtPosition.word;\r\n            }\r\n        }\r\n        else {\r\n            if (editor.getModel().getValueLengthInRange(selection) < SEARCH_STRING_MAX_LENGTH) {\r\n                return editor.getModel().getValueInRange(selection);\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\nvar CommonFindController = /** @class */ (function (_super) {\r\n    __extends(CommonFindController, _super);\r\n    function CommonFindController(editor, contextKeyService, storageService, clipboardService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = editor;\r\n        _this._findWidgetVisible = CONTEXT_FIND_WIDGET_VISIBLE.bindTo(contextKeyService);\r\n        _this._contextKeyService = contextKeyService;\r\n        _this._storageService = storageService;\r\n        _this._clipboardService = clipboardService;\r\n        _this._updateHistoryDelayer = new Delayer(500);\r\n        _this._state = _this._register(new FindReplaceState());\r\n        _this.loadQueryState();\r\n        _this._register(_this._state.onFindReplaceStateChange(function (e) { return _this._onStateChanged(e); }));\r\n        _this._model = null;\r\n        _this._register(_this._editor.onDidChangeModel(function () {\r\n            var shouldRestartFind = (_this._editor.getModel() && _this._state.isRevealed);\r\n            _this.disposeModel();\r\n            _this._state.change({\r\n                searchScope: null,\r\n                matchCase: _this._storageService.getBoolean('editor.matchCase', 1 /* WORKSPACE */, false),\r\n                wholeWord: _this._storageService.getBoolean('editor.wholeWord', 1 /* WORKSPACE */, false),\r\n                isRegex: _this._storageService.getBoolean('editor.isRegex', 1 /* WORKSPACE */, false),\r\n                preserveCase: _this._storageService.getBoolean('editor.preserveCase', 1 /* WORKSPACE */, false)\r\n            }, false);\r\n            if (shouldRestartFind) {\r\n                _this._start({\r\n                    forceRevealReplace: false,\r\n                    seedSearchStringFromSelection: false && _this._editor.getOption(27 /* find */).seedSearchStringFromSelection,\r\n                    seedSearchStringFromGlobalClipboard: false,\r\n                    shouldFocus: 0 /* NoFocusChange */,\r\n                    shouldAnimate: false,\r\n                    updateSearchScope: false\r\n                });\r\n            }\r\n        }));\r\n        return _this;\r\n    }\r\n    CommonFindController.get = function (editor) {\r\n        return editor.getContribution(CommonFindController.ID);\r\n    };\r\n    CommonFindController.prototype.dispose = function () {\r\n        this.disposeModel();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    CommonFindController.prototype.disposeModel = function () {\r\n        if (this._model) {\r\n            this._model.dispose();\r\n            this._model = null;\r\n        }\r\n    };\r\n    CommonFindController.prototype._onStateChanged = function (e) {\r\n        this.saveQueryState(e);\r\n        if (e.isRevealed) {\r\n            if (this._state.isRevealed) {\r\n                this._findWidgetVisible.set(true);\r\n            }\r\n            else {\r\n                this._findWidgetVisible.reset();\r\n                this.disposeModel();\r\n            }\r\n        }\r\n        if (e.searchString) {\r\n            this.setGlobalBufferTerm(this._state.searchString);\r\n        }\r\n    };\r\n    CommonFindController.prototype.saveQueryState = function (e) {\r\n        if (e.isRegex) {\r\n            this._storageService.store('editor.isRegex', this._state.actualIsRegex, 1 /* WORKSPACE */);\r\n        }\r\n        if (e.wholeWord) {\r\n            this._storageService.store('editor.wholeWord', this._state.actualWholeWord, 1 /* WORKSPACE */);\r\n        }\r\n        if (e.matchCase) {\r\n            this._storageService.store('editor.matchCase', this._state.actualMatchCase, 1 /* WORKSPACE */);\r\n        }\r\n        if (e.preserveCase) {\r\n            this._storageService.store('editor.preserveCase', this._state.actualPreserveCase, 1 /* WORKSPACE */);\r\n        }\r\n    };\r\n    CommonFindController.prototype.loadQueryState = function () {\r\n        this._state.change({\r\n            matchCase: this._storageService.getBoolean('editor.matchCase', 1 /* WORKSPACE */, this._state.matchCase),\r\n            wholeWord: this._storageService.getBoolean('editor.wholeWord', 1 /* WORKSPACE */, this._state.wholeWord),\r\n            isRegex: this._storageService.getBoolean('editor.isRegex', 1 /* WORKSPACE */, this._state.isRegex),\r\n            preserveCase: this._storageService.getBoolean('editor.preserveCase', 1 /* WORKSPACE */, this._state.preserveCase)\r\n        }, false);\r\n    };\r\n    CommonFindController.prototype.isFindInputFocused = function () {\r\n        return !!CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService);\r\n    };\r\n    CommonFindController.prototype.getState = function () {\r\n        return this._state;\r\n    };\r\n    CommonFindController.prototype.closeFindWidget = function () {\r\n        this._state.change({\r\n            isRevealed: false,\r\n            searchScope: null\r\n        }, false);\r\n        this._editor.focus();\r\n    };\r\n    CommonFindController.prototype.toggleCaseSensitive = function () {\r\n        this._state.change({ matchCase: !this._state.matchCase }, false);\r\n        if (!this._state.isRevealed) {\r\n            this.highlightFindOptions();\r\n        }\r\n    };\r\n    CommonFindController.prototype.toggleWholeWords = function () {\r\n        this._state.change({ wholeWord: !this._state.wholeWord }, false);\r\n        if (!this._state.isRevealed) {\r\n            this.highlightFindOptions();\r\n        }\r\n    };\r\n    CommonFindController.prototype.toggleRegex = function () {\r\n        this._state.change({ isRegex: !this._state.isRegex }, false);\r\n        if (!this._state.isRevealed) {\r\n            this.highlightFindOptions();\r\n        }\r\n    };\r\n    CommonFindController.prototype.toggleSearchScope = function () {\r\n        if (this._state.searchScope) {\r\n            this._state.change({ searchScope: null }, true);\r\n        }\r\n        else {\r\n            if (this._editor.hasModel()) {\r\n                var selection = this._editor.getSelection();\r\n                if (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) {\r\n                    selection = selection.setEndPosition(selection.endLineNumber - 1, this._editor.getModel().getLineMaxColumn(selection.endLineNumber - 1));\r\n                }\r\n                if (!selection.isEmpty()) {\r\n                    this._state.change({ searchScope: selection }, true);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    CommonFindController.prototype.setSearchString = function (searchString) {\r\n        if (this._state.isRegex) {\r\n            searchString = strings.escapeRegExpCharacters(searchString);\r\n        }\r\n        this._state.change({ searchString: searchString }, false);\r\n    };\r\n    CommonFindController.prototype.highlightFindOptions = function () {\r\n        // overwritten in subclass\r\n    };\r\n    CommonFindController.prototype._start = function (opts) {\r\n        this.disposeModel();\r\n        if (!this._editor.hasModel()) {\r\n            // cannot do anything with an editor that doesn't have a model...\r\n            return;\r\n        }\r\n        var stateChanges = {\r\n            isRevealed: true\r\n        };\r\n        if (opts.seedSearchStringFromSelection) {\r\n            var selectionSearchString = getSelectionSearchString(this._editor);\r\n            if (selectionSearchString) {\r\n                if (this._state.isRegex) {\r\n                    stateChanges.searchString = strings.escapeRegExpCharacters(selectionSearchString);\r\n                }\r\n                else {\r\n                    stateChanges.searchString = selectionSearchString;\r\n                }\r\n            }\r\n        }\r\n        if (!stateChanges.searchString && opts.seedSearchStringFromGlobalClipboard) {\r\n            var selectionSearchString = this.getGlobalBufferTerm();\r\n            if (selectionSearchString) {\r\n                stateChanges.searchString = selectionSearchString;\r\n            }\r\n        }\r\n        // Overwrite isReplaceRevealed\r\n        if (opts.forceRevealReplace) {\r\n            stateChanges.isReplaceRevealed = true;\r\n        }\r\n        else if (!this._findWidgetVisible.get()) {\r\n            stateChanges.isReplaceRevealed = false;\r\n        }\r\n        if (opts.updateSearchScope) {\r\n            var currentSelection = this._editor.getSelection();\r\n            if (!currentSelection.isEmpty()) {\r\n                stateChanges.searchScope = currentSelection;\r\n            }\r\n        }\r\n        this._state.change(stateChanges, false);\r\n        if (!this._model) {\r\n            this._model = new FindModelBoundToEditorModel(this._editor, this._state);\r\n        }\r\n    };\r\n    CommonFindController.prototype.start = function (opts) {\r\n        this._start(opts);\r\n    };\r\n    CommonFindController.prototype.moveToNextMatch = function () {\r\n        if (this._model) {\r\n            this._model.moveToNextMatch();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CommonFindController.prototype.moveToPrevMatch = function () {\r\n        if (this._model) {\r\n            this._model.moveToPrevMatch();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CommonFindController.prototype.replace = function () {\r\n        if (this._model) {\r\n            this._model.replace();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CommonFindController.prototype.replaceAll = function () {\r\n        if (this._model) {\r\n            this._model.replaceAll();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CommonFindController.prototype.selectAllMatches = function () {\r\n        if (this._model) {\r\n            this._model.selectAllMatches();\r\n            this._editor.focus();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CommonFindController.prototype.getGlobalBufferTerm = function () {\r\n        if (this._editor.getOption(27 /* find */).globalFindClipboard\r\n            && this._clipboardService\r\n            && this._editor.hasModel()\r\n            && !this._editor.getModel().isTooLargeForSyncing()) {\r\n            return this._clipboardService.readFindText();\r\n        }\r\n        return '';\r\n    };\r\n    CommonFindController.prototype.setGlobalBufferTerm = function (text) {\r\n        if (this._editor.getOption(27 /* find */).globalFindClipboard\r\n            && this._clipboardService\r\n            && this._editor.hasModel()\r\n            && !this._editor.getModel().isTooLargeForSyncing()) {\r\n            this._clipboardService.writeFindText(text);\r\n        }\r\n    };\r\n    CommonFindController.ID = 'editor.contrib.findController';\r\n    CommonFindController = __decorate([\r\n        __param(1, IContextKeyService),\r\n        __param(2, IStorageService),\r\n        __param(3, IClipboardService)\r\n    ], CommonFindController);\r\n    return CommonFindController;\r\n}(Disposable));\r\nexport { CommonFindController };\r\nvar FindController = /** @class */ (function (_super) {\r\n    __extends(FindController, _super);\r\n    function FindController(editor, _contextViewService, _contextKeyService, _keybindingService, _themeService, _notificationService, _storageService, clipboardService) {\r\n        var _this = _super.call(this, editor, _contextKeyService, _storageService, clipboardService) || this;\r\n        _this._contextViewService = _contextViewService;\r\n        _this._keybindingService = _keybindingService;\r\n        _this._themeService = _themeService;\r\n        _this._notificationService = _notificationService;\r\n        _this._widget = null;\r\n        _this._findOptionsWidget = null;\r\n        return _this;\r\n    }\r\n    FindController.prototype._start = function (opts) {\r\n        if (!this._widget) {\r\n            this._createFindWidget();\r\n        }\r\n        var selection = this._editor.getSelection();\r\n        var updateSearchScope = false;\r\n        switch (this._editor.getOption(27 /* find */).autoFindInSelection) {\r\n            case 'always':\r\n                updateSearchScope = true;\r\n                break;\r\n            case 'never':\r\n                updateSearchScope = false;\r\n                break;\r\n            case 'multiline':\r\n                var isSelectionMultipleLine = !!selection && selection.startLineNumber !== selection.endLineNumber;\r\n                updateSearchScope = isSelectionMultipleLine;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        opts.updateSearchScope = updateSearchScope;\r\n        _super.prototype._start.call(this, opts);\r\n        if (opts.shouldFocus === 2 /* FocusReplaceInput */) {\r\n            this._widget.focusReplaceInput();\r\n        }\r\n        else if (opts.shouldFocus === 1 /* FocusFindInput */) {\r\n            this._widget.focusFindInput();\r\n        }\r\n    };\r\n    FindController.prototype.highlightFindOptions = function () {\r\n        if (!this._widget) {\r\n            this._createFindWidget();\r\n        }\r\n        if (this._state.isRevealed) {\r\n            this._widget.highlightFindOptions();\r\n        }\r\n        else {\r\n            this._findOptionsWidget.highlightFindOptions();\r\n        }\r\n    };\r\n    FindController.prototype._createFindWidget = function () {\r\n        this._widget = this._register(new FindWidget(this._editor, this, this._state, this._contextViewService, this._keybindingService, this._contextKeyService, this._themeService, this._storageService, this._notificationService));\r\n        this._findOptionsWidget = this._register(new FindOptionsWidget(this._editor, this._state, this._keybindingService, this._themeService));\r\n    };\r\n    FindController = __decorate([\r\n        __param(1, IContextViewService),\r\n        __param(2, IContextKeyService),\r\n        __param(3, IKeybindingService),\r\n        __param(4, IThemeService),\r\n        __param(5, INotificationService),\r\n        __param(6, IStorageService),\r\n        __param(7, optional(IClipboardService))\r\n    ], FindController);\r\n    return FindController;\r\n}(CommonFindController));\r\nexport { FindController };\r\nvar StartFindAction = /** @class */ (function (_super) {\r\n    __extends(StartFindAction, _super);\r\n    function StartFindAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.StartFindAction,\r\n            label: nls.localize('startFindAction', \"Find\"),\r\n            alias: 'Find',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: null,\r\n                primary: 2048 /* CtrlCmd */ | 36 /* KEY_F */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 15 /* MenubarEditMenu */,\r\n                group: '3_find',\r\n                title: nls.localize({ key: 'miFind', comment: ['&& denotes a mnemonic'] }, \"&&Find\"),\r\n                order: 1\r\n            }\r\n        }) || this;\r\n    }\r\n    StartFindAction.prototype.run = function (accessor, editor) {\r\n        var controller = CommonFindController.get(editor);\r\n        if (controller) {\r\n            controller.start({\r\n                forceRevealReplace: false,\r\n                seedSearchStringFromSelection: editor.getOption(27 /* find */).seedSearchStringFromSelection,\r\n                seedSearchStringFromGlobalClipboard: editor.getOption(27 /* find */).globalFindClipboard,\r\n                shouldFocus: 1 /* FocusFindInput */,\r\n                shouldAnimate: true,\r\n                updateSearchScope: false\r\n            });\r\n        }\r\n    };\r\n    return StartFindAction;\r\n}(EditorAction));\r\nexport { StartFindAction };\r\nvar StartFindWithSelectionAction = /** @class */ (function (_super) {\r\n    __extends(StartFindWithSelectionAction, _super);\r\n    function StartFindWithSelectionAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.StartFindWithSelection,\r\n            label: nls.localize('startFindWithSelectionAction', \"Find With Selection\"),\r\n            alias: 'Find With Selection',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: null,\r\n                primary: 0,\r\n                mac: {\r\n                    primary: 2048 /* CtrlCmd */ | 35 /* KEY_E */,\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    StartFindWithSelectionAction.prototype.run = function (accessor, editor) {\r\n        var controller = CommonFindController.get(editor);\r\n        if (controller) {\r\n            controller.start({\r\n                forceRevealReplace: false,\r\n                seedSearchStringFromSelection: true,\r\n                seedSearchStringFromGlobalClipboard: false,\r\n                shouldFocus: 0 /* NoFocusChange */,\r\n                shouldAnimate: true,\r\n                updateSearchScope: false\r\n            });\r\n            controller.setGlobalBufferTerm(controller.getState().searchString);\r\n        }\r\n    };\r\n    return StartFindWithSelectionAction;\r\n}(EditorAction));\r\nexport { StartFindWithSelectionAction };\r\nvar MatchFindAction = /** @class */ (function (_super) {\r\n    __extends(MatchFindAction, _super);\r\n    function MatchFindAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MatchFindAction.prototype.run = function (accessor, editor) {\r\n        var controller = CommonFindController.get(editor);\r\n        if (controller && !this._run(controller)) {\r\n            controller.start({\r\n                forceRevealReplace: false,\r\n                seedSearchStringFromSelection: (controller.getState().searchString.length === 0) && editor.getOption(27 /* find */).seedSearchStringFromSelection,\r\n                seedSearchStringFromGlobalClipboard: true,\r\n                shouldFocus: 0 /* NoFocusChange */,\r\n                shouldAnimate: true,\r\n                updateSearchScope: false\r\n            });\r\n            this._run(controller);\r\n        }\r\n    };\r\n    return MatchFindAction;\r\n}(EditorAction));\r\nexport { MatchFindAction };\r\nvar NextMatchFindAction = /** @class */ (function (_super) {\r\n    __extends(NextMatchFindAction, _super);\r\n    function NextMatchFindAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.NextMatchFindAction,\r\n            label: nls.localize('findNextMatchAction', \"Find Next\"),\r\n            alias: 'Find Next',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 61 /* F3 */,\r\n                mac: { primary: 2048 /* CtrlCmd */ | 37 /* KEY_G */, secondary: [61 /* F3 */] },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    NextMatchFindAction.prototype._run = function (controller) {\r\n        return controller.moveToNextMatch();\r\n    };\r\n    return NextMatchFindAction;\r\n}(MatchFindAction));\r\nexport { NextMatchFindAction };\r\nvar NextMatchFindAction2 = /** @class */ (function (_super) {\r\n    __extends(NextMatchFindAction2, _super);\r\n    function NextMatchFindAction2() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.NextMatchFindAction,\r\n            label: nls.localize('findNextMatchAction', \"Find Next\"),\r\n            alias: 'Find Next',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_FIND_INPUT_FOCUSED),\r\n                primary: 3 /* Enter */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    NextMatchFindAction2.prototype._run = function (controller) {\r\n        return controller.moveToNextMatch();\r\n    };\r\n    return NextMatchFindAction2;\r\n}(MatchFindAction));\r\nexport { NextMatchFindAction2 };\r\nvar PreviousMatchFindAction = /** @class */ (function (_super) {\r\n    __extends(PreviousMatchFindAction, _super);\r\n    function PreviousMatchFindAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.PreviousMatchFindAction,\r\n            label: nls.localize('findPreviousMatchAction', \"Find Previous\"),\r\n            alias: 'Find Previous',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 1024 /* Shift */ | 61 /* F3 */,\r\n                mac: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 37 /* KEY_G */, secondary: [1024 /* Shift */ | 61 /* F3 */] },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    PreviousMatchFindAction.prototype._run = function (controller) {\r\n        return controller.moveToPrevMatch();\r\n    };\r\n    return PreviousMatchFindAction;\r\n}(MatchFindAction));\r\nexport { PreviousMatchFindAction };\r\nvar PreviousMatchFindAction2 = /** @class */ (function (_super) {\r\n    __extends(PreviousMatchFindAction2, _super);\r\n    function PreviousMatchFindAction2() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.PreviousMatchFindAction,\r\n            label: nls.localize('findPreviousMatchAction', \"Find Previous\"),\r\n            alias: 'Find Previous',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_FIND_INPUT_FOCUSED),\r\n                primary: 1024 /* Shift */ | 3 /* Enter */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    PreviousMatchFindAction2.prototype._run = function (controller) {\r\n        return controller.moveToPrevMatch();\r\n    };\r\n    return PreviousMatchFindAction2;\r\n}(MatchFindAction));\r\nexport { PreviousMatchFindAction2 };\r\nvar SelectionMatchFindAction = /** @class */ (function (_super) {\r\n    __extends(SelectionMatchFindAction, _super);\r\n    function SelectionMatchFindAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SelectionMatchFindAction.prototype.run = function (accessor, editor) {\r\n        var controller = CommonFindController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        var selectionSearchString = getSelectionSearchString(editor);\r\n        if (selectionSearchString) {\r\n            controller.setSearchString(selectionSearchString);\r\n        }\r\n        if (!this._run(controller)) {\r\n            controller.start({\r\n                forceRevealReplace: false,\r\n                seedSearchStringFromSelection: editor.getOption(27 /* find */).seedSearchStringFromSelection,\r\n                seedSearchStringFromGlobalClipboard: false,\r\n                shouldFocus: 0 /* NoFocusChange */,\r\n                shouldAnimate: true,\r\n                updateSearchScope: false\r\n            });\r\n            this._run(controller);\r\n        }\r\n    };\r\n    return SelectionMatchFindAction;\r\n}(EditorAction));\r\nexport { SelectionMatchFindAction };\r\nvar NextSelectionMatchFindAction = /** @class */ (function (_super) {\r\n    __extends(NextSelectionMatchFindAction, _super);\r\n    function NextSelectionMatchFindAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.NextSelectionMatchFindAction,\r\n            label: nls.localize('nextSelectionMatchFindAction', \"Find Next Selection\"),\r\n            alias: 'Find Next Selection',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 2048 /* CtrlCmd */ | 61 /* F3 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    NextSelectionMatchFindAction.prototype._run = function (controller) {\r\n        return controller.moveToNextMatch();\r\n    };\r\n    return NextSelectionMatchFindAction;\r\n}(SelectionMatchFindAction));\r\nexport { NextSelectionMatchFindAction };\r\nvar PreviousSelectionMatchFindAction = /** @class */ (function (_super) {\r\n    __extends(PreviousSelectionMatchFindAction, _super);\r\n    function PreviousSelectionMatchFindAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.PreviousSelectionMatchFindAction,\r\n            label: nls.localize('previousSelectionMatchFindAction', \"Find Previous Selection\"),\r\n            alias: 'Find Previous Selection',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 61 /* F3 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    PreviousSelectionMatchFindAction.prototype._run = function (controller) {\r\n        return controller.moveToPrevMatch();\r\n    };\r\n    return PreviousSelectionMatchFindAction;\r\n}(SelectionMatchFindAction));\r\nexport { PreviousSelectionMatchFindAction };\r\nvar StartFindReplaceAction = /** @class */ (function (_super) {\r\n    __extends(StartFindReplaceAction, _super);\r\n    function StartFindReplaceAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.StartFindReplaceAction,\r\n            label: nls.localize('startReplace', \"Replace\"),\r\n            alias: 'Replace',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: null,\r\n                primary: 2048 /* CtrlCmd */ | 38 /* KEY_H */,\r\n                mac: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 36 /* KEY_F */ },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 15 /* MenubarEditMenu */,\r\n                group: '3_find',\r\n                title: nls.localize({ key: 'miReplace', comment: ['&& denotes a mnemonic'] }, \"&&Replace\"),\r\n                order: 2\r\n            }\r\n        }) || this;\r\n    }\r\n    StartFindReplaceAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel() || editor.getOption(65 /* readOnly */)) {\r\n            return;\r\n        }\r\n        var controller = CommonFindController.get(editor);\r\n        var currentSelection = editor.getSelection();\r\n        var findInputFocused = controller.isFindInputFocused();\r\n        // we only seed search string from selection when the current selection is single line and not empty,\r\n        // + the find input is not focused\r\n        var seedSearchStringFromSelection = !currentSelection.isEmpty()\r\n            && currentSelection.startLineNumber === currentSelection.endLineNumber && editor.getOption(27 /* find */).seedSearchStringFromSelection\r\n            && !findInputFocused;\r\n        /*\r\n         * if the existing search string in find widget is empty and we don't seed search string from selection, it means the Find Input is still empty, so we should focus the Find Input instead of Replace Input.\r\n\r\n         * findInputFocused true -> seedSearchStringFromSelection false, FocusReplaceInput\r\n         * findInputFocused false, seedSearchStringFromSelection true FocusReplaceInput\r\n         * findInputFocused false seedSearchStringFromSelection false FocusFindInput\r\n         */\r\n        var shouldFocus = (findInputFocused || seedSearchStringFromSelection) ?\r\n            2 /* FocusReplaceInput */ : 1 /* FocusFindInput */;\r\n        if (controller) {\r\n            controller.start({\r\n                forceRevealReplace: true,\r\n                seedSearchStringFromSelection: seedSearchStringFromSelection,\r\n                seedSearchStringFromGlobalClipboard: editor.getOption(27 /* find */).seedSearchStringFromSelection,\r\n                shouldFocus: shouldFocus,\r\n                shouldAnimate: true,\r\n                updateSearchScope: false\r\n            });\r\n        }\r\n    };\r\n    return StartFindReplaceAction;\r\n}(EditorAction));\r\nexport { StartFindReplaceAction };\r\nregisterEditorContribution(CommonFindController.ID, FindController);\r\nregisterEditorAction(StartFindAction);\r\nregisterEditorAction(StartFindWithSelectionAction);\r\nregisterEditorAction(NextMatchFindAction);\r\nregisterEditorAction(NextMatchFindAction2);\r\nregisterEditorAction(PreviousMatchFindAction);\r\nregisterEditorAction(PreviousMatchFindAction2);\r\nregisterEditorAction(NextSelectionMatchFindAction);\r\nregisterEditorAction(PreviousSelectionMatchFindAction);\r\nregisterEditorAction(StartFindReplaceAction);\r\nvar FindCommand = EditorCommand.bindToContribution(CommonFindController.get);\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.CloseFindWidgetCommand,\r\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.closeFindWidget(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 9 /* Escape */,\r\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ToggleCaseSensitiveCommand,\r\n    precondition: undefined,\r\n    handler: function (x) { return x.toggleCaseSensitive(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: ToggleCaseSensitiveKeybinding.primary,\r\n        mac: ToggleCaseSensitiveKeybinding.mac,\r\n        win: ToggleCaseSensitiveKeybinding.win,\r\n        linux: ToggleCaseSensitiveKeybinding.linux\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ToggleWholeWordCommand,\r\n    precondition: undefined,\r\n    handler: function (x) { return x.toggleWholeWords(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: ToggleWholeWordKeybinding.primary,\r\n        mac: ToggleWholeWordKeybinding.mac,\r\n        win: ToggleWholeWordKeybinding.win,\r\n        linux: ToggleWholeWordKeybinding.linux\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ToggleRegexCommand,\r\n    precondition: undefined,\r\n    handler: function (x) { return x.toggleRegex(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: ToggleRegexKeybinding.primary,\r\n        mac: ToggleRegexKeybinding.mac,\r\n        win: ToggleRegexKeybinding.win,\r\n        linux: ToggleRegexKeybinding.linux\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ToggleSearchScopeCommand,\r\n    precondition: undefined,\r\n    handler: function (x) { return x.toggleSearchScope(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: ToggleSearchScopeKeybinding.primary,\r\n        mac: ToggleSearchScopeKeybinding.mac,\r\n        win: ToggleSearchScopeKeybinding.win,\r\n        linux: ToggleSearchScopeKeybinding.linux\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ReplaceOneAction,\r\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.replace(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 22 /* KEY_1 */\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ReplaceOneAction,\r\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.replace(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_REPLACE_INPUT_FOCUSED),\r\n        primary: 3 /* Enter */\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ReplaceAllAction,\r\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.replaceAll(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 3 /* Enter */\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ReplaceAllAction,\r\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.replaceAll(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_REPLACE_INPUT_FOCUSED),\r\n        primary: undefined,\r\n        mac: {\r\n            primary: 2048 /* CtrlCmd */ | 3 /* Enter */,\r\n        }\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.SelectAllMatchesAction,\r\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.selectAllMatches(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 512 /* Alt */ | 3 /* Enter */\r\n    }\r\n}));\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nexport var MAX_FOLDING_REGIONS = 0xFFFF;\r\nexport var MAX_LINE_NUMBER = 0xFFFFFF;\r\nvar MASK_INDENT = 0xFF000000;\r\nvar FoldingRegions = /** @class */ (function () {\r\n    function FoldingRegions(startIndexes, endIndexes, types) {\r\n        if (startIndexes.length !== endIndexes.length || startIndexes.length > MAX_FOLDING_REGIONS) {\r\n            throw new Error('invalid startIndexes or endIndexes size');\r\n        }\r\n        this._startIndexes = startIndexes;\r\n        this._endIndexes = endIndexes;\r\n        this._collapseStates = new Uint32Array(Math.ceil(startIndexes.length / 32));\r\n        this._types = types;\r\n        this._parentsComputed = false;\r\n    }\r\n    FoldingRegions.prototype.ensureParentIndices = function () {\r\n        var _this = this;\r\n        if (!this._parentsComputed) {\r\n            this._parentsComputed = true;\r\n            var parentIndexes_1 = [];\r\n            var isInsideLast = function (startLineNumber, endLineNumber) {\r\n                var index = parentIndexes_1[parentIndexes_1.length - 1];\r\n                return _this.getStartLineNumber(index) <= startLineNumber && _this.getEndLineNumber(index) >= endLineNumber;\r\n            };\r\n            for (var i = 0, len = this._startIndexes.length; i < len; i++) {\r\n                var startLineNumber = this._startIndexes[i];\r\n                var endLineNumber = this._endIndexes[i];\r\n                if (startLineNumber > MAX_LINE_NUMBER || endLineNumber > MAX_LINE_NUMBER) {\r\n                    throw new Error('startLineNumber or endLineNumber must not exceed ' + MAX_LINE_NUMBER);\r\n                }\r\n                while (parentIndexes_1.length > 0 && !isInsideLast(startLineNumber, endLineNumber)) {\r\n                    parentIndexes_1.pop();\r\n                }\r\n                var parentIndex = parentIndexes_1.length > 0 ? parentIndexes_1[parentIndexes_1.length - 1] : -1;\r\n                parentIndexes_1.push(i);\r\n                this._startIndexes[i] = startLineNumber + ((parentIndex & 0xFF) << 24);\r\n                this._endIndexes[i] = endLineNumber + ((parentIndex & 0xFF00) << 16);\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(FoldingRegions.prototype, \"length\", {\r\n        get: function () {\r\n            return this._startIndexes.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FoldingRegions.prototype.getStartLineNumber = function (index) {\r\n        return this._startIndexes[index] & MAX_LINE_NUMBER;\r\n    };\r\n    FoldingRegions.prototype.getEndLineNumber = function (index) {\r\n        return this._endIndexes[index] & MAX_LINE_NUMBER;\r\n    };\r\n    FoldingRegions.prototype.getType = function (index) {\r\n        return this._types ? this._types[index] : undefined;\r\n    };\r\n    FoldingRegions.prototype.hasTypes = function () {\r\n        return !!this._types;\r\n    };\r\n    FoldingRegions.prototype.isCollapsed = function (index) {\r\n        var arrayIndex = (index / 32) | 0;\r\n        var bit = index % 32;\r\n        return (this._collapseStates[arrayIndex] & (1 << bit)) !== 0;\r\n    };\r\n    FoldingRegions.prototype.setCollapsed = function (index, newState) {\r\n        var arrayIndex = (index / 32) | 0;\r\n        var bit = index % 32;\r\n        var value = this._collapseStates[arrayIndex];\r\n        if (newState) {\r\n            this._collapseStates[arrayIndex] = value | (1 << bit);\r\n        }\r\n        else {\r\n            this._collapseStates[arrayIndex] = value & ~(1 << bit);\r\n        }\r\n    };\r\n    FoldingRegions.prototype.toRegion = function (index) {\r\n        return new FoldingRegion(this, index);\r\n    };\r\n    FoldingRegions.prototype.getParentIndex = function (index) {\r\n        this.ensureParentIndices();\r\n        var parent = ((this._startIndexes[index] & MASK_INDENT) >>> 24) + ((this._endIndexes[index] & MASK_INDENT) >>> 16);\r\n        if (parent === MAX_FOLDING_REGIONS) {\r\n            return -1;\r\n        }\r\n        return parent;\r\n    };\r\n    FoldingRegions.prototype.contains = function (index, line) {\r\n        return this.getStartLineNumber(index) <= line && this.getEndLineNumber(index) >= line;\r\n    };\r\n    FoldingRegions.prototype.findIndex = function (line) {\r\n        var low = 0, high = this._startIndexes.length;\r\n        if (high === 0) {\r\n            return -1; // no children\r\n        }\r\n        while (low < high) {\r\n            var mid = Math.floor((low + high) / 2);\r\n            if (line < this.getStartLineNumber(mid)) {\r\n                high = mid;\r\n            }\r\n            else {\r\n                low = mid + 1;\r\n            }\r\n        }\r\n        return low - 1;\r\n    };\r\n    FoldingRegions.prototype.findRange = function (line) {\r\n        var index = this.findIndex(line);\r\n        if (index >= 0) {\r\n            var endLineNumber = this.getEndLineNumber(index);\r\n            if (endLineNumber >= line) {\r\n                return index;\r\n            }\r\n            index = this.getParentIndex(index);\r\n            while (index !== -1) {\r\n                if (this.contains(index, line)) {\r\n                    return index;\r\n                }\r\n                index = this.getParentIndex(index);\r\n            }\r\n        }\r\n        return -1;\r\n    };\r\n    FoldingRegions.prototype.toString = function () {\r\n        var res = [];\r\n        for (var i = 0; i < this.length; i++) {\r\n            res[i] = \"[\" + (this.isCollapsed(i) ? '+' : '-') + \"] \" + this.getStartLineNumber(i) + \"/\" + this.getEndLineNumber(i);\r\n        }\r\n        return res.join(', ');\r\n    };\r\n    return FoldingRegions;\r\n}());\r\nexport { FoldingRegions };\r\nvar FoldingRegion = /** @class */ (function () {\r\n    function FoldingRegion(ranges, index) {\r\n        this.ranges = ranges;\r\n        this.index = index;\r\n    }\r\n    Object.defineProperty(FoldingRegion.prototype, \"startLineNumber\", {\r\n        get: function () {\r\n            return this.ranges.getStartLineNumber(this.index);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FoldingRegion.prototype, \"endLineNumber\", {\r\n        get: function () {\r\n            return this.ranges.getEndLineNumber(this.index);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FoldingRegion.prototype, \"regionIndex\", {\r\n        get: function () {\r\n            return this.index;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FoldingRegion.prototype, \"parentIndex\", {\r\n        get: function () {\r\n            return this.ranges.getParentIndex(this.index);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FoldingRegion.prototype, \"isCollapsed\", {\r\n        get: function () {\r\n            return this.ranges.isCollapsed(this.index);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FoldingRegion.prototype.containedBy = function (range) {\r\n        return range.startLineNumber <= this.startLineNumber && range.endLineNumber >= this.endLineNumber;\r\n    };\r\n    FoldingRegion.prototype.containsLine = function (lineNumber) {\r\n        return this.startLineNumber <= lineNumber && lineNumber <= this.endLineNumber;\r\n    };\r\n    return FoldingRegion;\r\n}());\r\nexport { FoldingRegion };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { FoldingRegions } from './foldingRanges.js';\r\nvar FoldingModel = /** @class */ (function () {\r\n    function FoldingModel(textModel, decorationProvider) {\r\n        this._updateEventEmitter = new Emitter();\r\n        this.onDidChange = this._updateEventEmitter.event;\r\n        this._textModel = textModel;\r\n        this._decorationProvider = decorationProvider;\r\n        this._regions = new FoldingRegions(new Uint32Array(0), new Uint32Array(0));\r\n        this._editorDecorationIds = [];\r\n        this._isInitialized = false;\r\n    }\r\n    Object.defineProperty(FoldingModel.prototype, \"regions\", {\r\n        get: function () { return this._regions; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FoldingModel.prototype, \"textModel\", {\r\n        get: function () { return this._textModel; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FoldingModel.prototype, \"isInitialized\", {\r\n        get: function () { return this._isInitialized; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FoldingModel.prototype.toggleCollapseState = function (regions) {\r\n        var _this = this;\r\n        if (!regions.length) {\r\n            return;\r\n        }\r\n        var processed = {};\r\n        this._decorationProvider.changeDecorations(function (accessor) {\r\n            for (var _i = 0, regions_1 = regions; _i < regions_1.length; _i++) {\r\n                var region = regions_1[_i];\r\n                var index = region.regionIndex;\r\n                var editorDecorationId = _this._editorDecorationIds[index];\r\n                if (editorDecorationId && !processed[editorDecorationId]) {\r\n                    processed[editorDecorationId] = true;\r\n                    var newCollapseState = !_this._regions.isCollapsed(index);\r\n                    _this._regions.setCollapsed(index, newCollapseState);\r\n                    accessor.changeDecorationOptions(editorDecorationId, _this._decorationProvider.getDecorationOption(newCollapseState));\r\n                }\r\n            }\r\n        });\r\n        this._updateEventEmitter.fire({ model: this, collapseStateChanged: regions });\r\n    };\r\n    FoldingModel.prototype.update = function (newRegions, blockedLineNumers) {\r\n        var _this = this;\r\n        if (blockedLineNumers === void 0) { blockedLineNumers = []; }\r\n        var newEditorDecorations = [];\r\n        var isBlocked = function (startLineNumber, endLineNumber) {\r\n            for (var _i = 0, blockedLineNumers_1 = blockedLineNumers; _i < blockedLineNumers_1.length; _i++) {\r\n                var blockedLineNumber = blockedLineNumers_1[_i];\r\n                if (startLineNumber < blockedLineNumber && blockedLineNumber <= endLineNumber) { // first line is visible\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        };\r\n        var initRange = function (index, isCollapsed) {\r\n            var startLineNumber = newRegions.getStartLineNumber(index);\r\n            if (isCollapsed && isBlocked(startLineNumber, newRegions.getEndLineNumber(index))) {\r\n                isCollapsed = false;\r\n            }\r\n            newRegions.setCollapsed(index, isCollapsed);\r\n            var maxColumn = _this._textModel.getLineMaxColumn(startLineNumber);\r\n            var decorationRange = {\r\n                startLineNumber: startLineNumber,\r\n                startColumn: maxColumn,\r\n                endLineNumber: startLineNumber,\r\n                endColumn: maxColumn\r\n            };\r\n            newEditorDecorations.push({ range: decorationRange, options: _this._decorationProvider.getDecorationOption(isCollapsed) });\r\n        };\r\n        var i = 0;\r\n        var nextCollapsed = function () {\r\n            while (i < _this._regions.length) {\r\n                var isCollapsed = _this._regions.isCollapsed(i);\r\n                i++;\r\n                if (isCollapsed) {\r\n                    return i - 1;\r\n                }\r\n            }\r\n            return -1;\r\n        };\r\n        var k = 0;\r\n        var collapsedIndex = nextCollapsed();\r\n        while (collapsedIndex !== -1 && k < newRegions.length) {\r\n            // get the latest range\r\n            var decRange = this._textModel.getDecorationRange(this._editorDecorationIds[collapsedIndex]);\r\n            if (decRange) {\r\n                var collapsedStartLineNumber = decRange.startLineNumber;\r\n                if (this._textModel.getLineMaxColumn(collapsedStartLineNumber) === decRange.startColumn) { // test that the decoration is still at the end otherwise it got deleted\r\n                    while (k < newRegions.length) {\r\n                        var startLineNumber = newRegions.getStartLineNumber(k);\r\n                        if (collapsedStartLineNumber >= startLineNumber) {\r\n                            initRange(k, collapsedStartLineNumber === startLineNumber);\r\n                            k++;\r\n                        }\r\n                        else {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            collapsedIndex = nextCollapsed();\r\n        }\r\n        while (k < newRegions.length) {\r\n            initRange(k, false);\r\n            k++;\r\n        }\r\n        this._editorDecorationIds = this._decorationProvider.deltaDecorations(this._editorDecorationIds, newEditorDecorations);\r\n        this._regions = newRegions;\r\n        this._isInitialized = true;\r\n        this._updateEventEmitter.fire({ model: this });\r\n    };\r\n    /**\r\n     * Collapse state memento, for persistence only\r\n     */\r\n    FoldingModel.prototype.getMemento = function () {\r\n        var collapsedRanges = [];\r\n        for (var i = 0; i < this._regions.length; i++) {\r\n            if (this._regions.isCollapsed(i)) {\r\n                var range = this._textModel.getDecorationRange(this._editorDecorationIds[i]);\r\n                if (range) {\r\n                    var startLineNumber = range.startLineNumber;\r\n                    var endLineNumber = range.endLineNumber + this._regions.getEndLineNumber(i) - this._regions.getStartLineNumber(i);\r\n                    collapsedRanges.push({ startLineNumber: startLineNumber, endLineNumber: endLineNumber });\r\n                }\r\n            }\r\n        }\r\n        if (collapsedRanges.length > 0) {\r\n            return collapsedRanges;\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Apply persisted state, for persistence only\r\n     */\r\n    FoldingModel.prototype.applyMemento = function (state) {\r\n        if (!Array.isArray(state)) {\r\n            return;\r\n        }\r\n        var toToogle = [];\r\n        for (var _i = 0, state_1 = state; _i < state_1.length; _i++) {\r\n            var range = state_1[_i];\r\n            var region = this.getRegionAtLine(range.startLineNumber);\r\n            if (region && !region.isCollapsed) {\r\n                toToogle.push(region);\r\n            }\r\n        }\r\n        this.toggleCollapseState(toToogle);\r\n    };\r\n    FoldingModel.prototype.dispose = function () {\r\n        this._decorationProvider.deltaDecorations(this._editorDecorationIds, []);\r\n    };\r\n    FoldingModel.prototype.getAllRegionsAtLine = function (lineNumber, filter) {\r\n        var result = [];\r\n        if (this._regions) {\r\n            var index = this._regions.findRange(lineNumber);\r\n            var level = 1;\r\n            while (index >= 0) {\r\n                var current = this._regions.toRegion(index);\r\n                if (!filter || filter(current, level)) {\r\n                    result.push(current);\r\n                }\r\n                level++;\r\n                index = current.parentIndex;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    FoldingModel.prototype.getRegionAtLine = function (lineNumber) {\r\n        if (this._regions) {\r\n            var index = this._regions.findRange(lineNumber);\r\n            if (index >= 0) {\r\n                return this._regions.toRegion(index);\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    FoldingModel.prototype.getRegionsInside = function (region, filter) {\r\n        var result = [];\r\n        var index = region ? region.regionIndex + 1 : 0;\r\n        var endLineNumber = region ? region.endLineNumber : Number.MAX_VALUE;\r\n        if (filter && filter.length === 2) {\r\n            var levelStack = [];\r\n            for (var i = index, len = this._regions.length; i < len; i++) {\r\n                var current = this._regions.toRegion(i);\r\n                if (this._regions.getStartLineNumber(i) < endLineNumber) {\r\n                    while (levelStack.length > 0 && !current.containedBy(levelStack[levelStack.length - 1])) {\r\n                        levelStack.pop();\r\n                    }\r\n                    levelStack.push(current);\r\n                    if (filter(current, levelStack.length)) {\r\n                        result.push(current);\r\n                    }\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (var i = index, len = this._regions.length; i < len; i++) {\r\n                var current = this._regions.toRegion(i);\r\n                if (this._regions.getStartLineNumber(i) < endLineNumber) {\r\n                    if (!filter || filter(current)) {\r\n                        result.push(current);\r\n                    }\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    return FoldingModel;\r\n}());\r\nexport { FoldingModel };\r\n/**\r\n * Collapse or expand the regions at the given locations\r\n * @param levels The number of levels. Use 1 to only impact the regions at the location, use Number.MAX_VALUE for all levels.\r\n * @param lineNumbers the location of the regions to collapse or expand, or if not set, all regions in the model.\r\n */\r\nexport function toggleCollapseState(foldingModel, levels, lineNumbers) {\r\n    var toToggle = [];\r\n    var _loop_1 = function (lineNumber) {\r\n        var region = foldingModel.getRegionAtLine(lineNumber);\r\n        if (region) {\r\n            var doCollapse_1 = !region.isCollapsed;\r\n            toToggle.push(region);\r\n            if (levels > 1) {\r\n                var regionsInside = foldingModel.getRegionsInside(region, function (r, level) { return r.isCollapsed !== doCollapse_1 && level < levels; });\r\n                toToggle.push.apply(toToggle, regionsInside);\r\n            }\r\n        }\r\n    };\r\n    for (var _i = 0, lineNumbers_1 = lineNumbers; _i < lineNumbers_1.length; _i++) {\r\n        var lineNumber = lineNumbers_1[_i];\r\n        _loop_1(lineNumber);\r\n    }\r\n    foldingModel.toggleCollapseState(toToggle);\r\n}\r\n/**\r\n * Collapse or expand the regions at the given locations including all children.\r\n * @param doCollapse Wheter to collase or expand\r\n * @param levels The number of levels. Use 1 to only impact the regions at the location, use Number.MAX_VALUE for all levels.\r\n * @param lineNumbers the location of the regions to collapse or expand, or if not set, all regions in the model.\r\n */\r\nexport function setCollapseStateLevelsDown(foldingModel, doCollapse, levels, lineNumbers) {\r\n    if (levels === void 0) { levels = Number.MAX_VALUE; }\r\n    var toToggle = [];\r\n    if (lineNumbers && lineNumbers.length > 0) {\r\n        for (var _i = 0, lineNumbers_2 = lineNumbers; _i < lineNumbers_2.length; _i++) {\r\n            var lineNumber = lineNumbers_2[_i];\r\n            var region = foldingModel.getRegionAtLine(lineNumber);\r\n            if (region) {\r\n                if (region.isCollapsed !== doCollapse) {\r\n                    toToggle.push(region);\r\n                }\r\n                if (levels > 1) {\r\n                    var regionsInside = foldingModel.getRegionsInside(region, function (r, level) { return r.isCollapsed !== doCollapse && level < levels; });\r\n                    toToggle.push.apply(toToggle, regionsInside);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        var regionsInside = foldingModel.getRegionsInside(null, function (r, level) { return r.isCollapsed !== doCollapse && level < levels; });\r\n        toToggle.push.apply(toToggle, regionsInside);\r\n    }\r\n    foldingModel.toggleCollapseState(toToggle);\r\n}\r\n/**\r\n * Collapse or expand the regions at the given locations including all parents.\r\n * @param doCollapse Wheter to collase or expand\r\n * @param levels The number of levels. Use 1 to only impact the regions at the location, use Number.MAX_VALUE for all levels.\r\n * @param lineNumbers the location of the regions to collapse or expand, or if not set, all regions in the model.\r\n */\r\nexport function setCollapseStateLevelsUp(foldingModel, doCollapse, levels, lineNumbers) {\r\n    var toToggle = [];\r\n    for (var _i = 0, lineNumbers_3 = lineNumbers; _i < lineNumbers_3.length; _i++) {\r\n        var lineNumber = lineNumbers_3[_i];\r\n        var regions = foldingModel.getAllRegionsAtLine(lineNumber, function (region, level) { return region.isCollapsed !== doCollapse && level <= levels; });\r\n        toToggle.push.apply(toToggle, regions);\r\n    }\r\n    foldingModel.toggleCollapseState(toToggle);\r\n}\r\n/**\r\n * Folds or unfolds all regions that have a given level, except if they contain one of the blocked lines.\r\n * @param foldLevel level. Level == 1 is the top level\r\n * @param doCollapse Wheter to collase or expand\r\n*/\r\nexport function setCollapseStateAtLevel(foldingModel, foldLevel, doCollapse, blockedLineNumbers) {\r\n    var filter = function (region, level) { return level === foldLevel && region.isCollapsed !== doCollapse && !blockedLineNumbers.some(function (line) { return region.containsLine(line); }); };\r\n    var toToggle = foldingModel.getRegionsInside(null, filter);\r\n    foldingModel.toggleCollapseState(toToggle);\r\n}\r\n/**\r\n * Folds all regions for which the lines start with a given regex\r\n * @param foldingModel the folding model\r\n */\r\nexport function setCollapseStateForMatchingLines(foldingModel, regExp, doCollapse) {\r\n    var editorModel = foldingModel.textModel;\r\n    var regions = foldingModel.regions;\r\n    var toToggle = [];\r\n    for (var i = regions.length - 1; i >= 0; i--) {\r\n        if (doCollapse !== regions.isCollapsed(i)) {\r\n            var startLineNumber = regions.getStartLineNumber(i);\r\n            if (regExp.test(editorModel.getLineContent(startLineNumber))) {\r\n                toToggle.push(regions.toRegion(i));\r\n            }\r\n        }\r\n    }\r\n    foldingModel.toggleCollapseState(toToggle);\r\n}\r\n/**\r\n * Folds all regions of the given type\r\n * @param foldingModel the folding model\r\n */\r\nexport function setCollapseStateForType(foldingModel, type, doCollapse) {\r\n    var regions = foldingModel.regions;\r\n    var toToggle = [];\r\n    for (var i = regions.length - 1; i >= 0; i--) {\r\n        if (doCollapse !== regions.isCollapsed(i) && type === regions.getType(i)) {\r\n            toToggle.push(regions.toRegion(i));\r\n        }\r\n    }\r\n    foldingModel.toggleCollapseState(toToggle);\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nvar FoldingDecorationProvider = /** @class */ (function () {\r\n    function FoldingDecorationProvider(editor) {\r\n        this.editor = editor;\r\n        this.autoHideFoldingControls = true;\r\n    }\r\n    FoldingDecorationProvider.prototype.getDecorationOption = function (isCollapsed) {\r\n        if (isCollapsed) {\r\n            return FoldingDecorationProvider.COLLAPSED_VISUAL_DECORATION;\r\n        }\r\n        else if (this.autoHideFoldingControls) {\r\n            return FoldingDecorationProvider.EXPANDED_AUTO_HIDE_VISUAL_DECORATION;\r\n        }\r\n        else {\r\n            return FoldingDecorationProvider.EXPANDED_VISUAL_DECORATION;\r\n        }\r\n    };\r\n    FoldingDecorationProvider.prototype.deltaDecorations = function (oldDecorations, newDecorations) {\r\n        return this.editor.deltaDecorations(oldDecorations, newDecorations);\r\n    };\r\n    FoldingDecorationProvider.prototype.changeDecorations = function (callback) {\r\n        return this.editor.changeDecorations(callback);\r\n    };\r\n    FoldingDecorationProvider.COLLAPSED_VISUAL_DECORATION = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        afterContentClassName: 'inline-folded',\r\n        linesDecorationsClassName: 'codicon codicon-chevron-right'\r\n    });\r\n    FoldingDecorationProvider.EXPANDED_AUTO_HIDE_VISUAL_DECORATION = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        linesDecorationsClassName: 'codicon codicon-chevron-down'\r\n    });\r\n    FoldingDecorationProvider.EXPANDED_VISUAL_DECORATION = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        linesDecorationsClassName: 'codicon codicon-chevron-down alwaysShowFoldIcons'\r\n    });\r\n    return FoldingDecorationProvider;\r\n}());\r\nexport { FoldingDecorationProvider };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { findFirstInSorted } from '../../../base/common/arrays.js';\r\nvar HiddenRangeModel = /** @class */ (function () {\r\n    function HiddenRangeModel(model) {\r\n        var _this = this;\r\n        this._updateEventEmitter = new Emitter();\r\n        this._foldingModel = model;\r\n        this._foldingModelListener = model.onDidChange(function (_) { return _this.updateHiddenRanges(); });\r\n        this._hiddenRanges = [];\r\n        if (model.regions.length) {\r\n            this.updateHiddenRanges();\r\n        }\r\n    }\r\n    Object.defineProperty(HiddenRangeModel.prototype, \"onDidChange\", {\r\n        get: function () { return this._updateEventEmitter.event; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(HiddenRangeModel.prototype, \"hiddenRanges\", {\r\n        get: function () { return this._hiddenRanges; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    HiddenRangeModel.prototype.updateHiddenRanges = function () {\r\n        var updateHiddenAreas = false;\r\n        var newHiddenAreas = [];\r\n        var i = 0; // index into hidden\r\n        var k = 0;\r\n        var lastCollapsedStart = Number.MAX_VALUE;\r\n        var lastCollapsedEnd = -1;\r\n        var ranges = this._foldingModel.regions;\r\n        for (; i < ranges.length; i++) {\r\n            if (!ranges.isCollapsed(i)) {\r\n                continue;\r\n            }\r\n            var startLineNumber = ranges.getStartLineNumber(i) + 1; // the first line is not hidden\r\n            var endLineNumber = ranges.getEndLineNumber(i);\r\n            if (lastCollapsedStart <= startLineNumber && endLineNumber <= lastCollapsedEnd) {\r\n                // ignore ranges contained in collapsed regions\r\n                continue;\r\n            }\r\n            if (!updateHiddenAreas && k < this._hiddenRanges.length && this._hiddenRanges[k].startLineNumber === startLineNumber && this._hiddenRanges[k].endLineNumber === endLineNumber) {\r\n                // reuse the old ranges\r\n                newHiddenAreas.push(this._hiddenRanges[k]);\r\n                k++;\r\n            }\r\n            else {\r\n                updateHiddenAreas = true;\r\n                newHiddenAreas.push(new Range(startLineNumber, 1, endLineNumber, 1));\r\n            }\r\n            lastCollapsedStart = startLineNumber;\r\n            lastCollapsedEnd = endLineNumber;\r\n        }\r\n        if (updateHiddenAreas || k < this._hiddenRanges.length) {\r\n            this.applyHiddenRanges(newHiddenAreas);\r\n        }\r\n    };\r\n    HiddenRangeModel.prototype.applyMemento = function (state) {\r\n        if (!Array.isArray(state) || state.length === 0) {\r\n            return false;\r\n        }\r\n        var hiddenRanges = [];\r\n        for (var _i = 0, state_1 = state; _i < state_1.length; _i++) {\r\n            var r = state_1[_i];\r\n            if (!r.startLineNumber || !r.endLineNumber) {\r\n                return false;\r\n            }\r\n            hiddenRanges.push(new Range(r.startLineNumber + 1, 1, r.endLineNumber, 1));\r\n        }\r\n        this.applyHiddenRanges(hiddenRanges);\r\n        return true;\r\n    };\r\n    /**\r\n     * Collapse state memento, for persistence only, only used if folding model is not yet initialized\r\n     */\r\n    HiddenRangeModel.prototype.getMemento = function () {\r\n        return this._hiddenRanges.map(function (r) { return ({ startLineNumber: r.startLineNumber - 1, endLineNumber: r.endLineNumber }); });\r\n    };\r\n    HiddenRangeModel.prototype.applyHiddenRanges = function (newHiddenAreas) {\r\n        this._hiddenRanges = newHiddenAreas;\r\n        this._updateEventEmitter.fire(newHiddenAreas);\r\n    };\r\n    HiddenRangeModel.prototype.hasRanges = function () {\r\n        return this._hiddenRanges.length > 0;\r\n    };\r\n    HiddenRangeModel.prototype.isHidden = function (line) {\r\n        return findRange(this._hiddenRanges, line) !== null;\r\n    };\r\n    HiddenRangeModel.prototype.adjustSelections = function (selections) {\r\n        var _this = this;\r\n        var hasChanges = false;\r\n        var editorModel = this._foldingModel.textModel;\r\n        var lastRange = null;\r\n        var adjustLine = function (line) {\r\n            if (!lastRange || !isInside(line, lastRange)) {\r\n                lastRange = findRange(_this._hiddenRanges, line);\r\n            }\r\n            if (lastRange) {\r\n                return lastRange.startLineNumber - 1;\r\n            }\r\n            return null;\r\n        };\r\n        for (var i = 0, len = selections.length; i < len; i++) {\r\n            var selection = selections[i];\r\n            var adjustedStartLine = adjustLine(selection.startLineNumber);\r\n            if (adjustedStartLine) {\r\n                selection = selection.setStartPosition(adjustedStartLine, editorModel.getLineMaxColumn(adjustedStartLine));\r\n                hasChanges = true;\r\n            }\r\n            var adjustedEndLine = adjustLine(selection.endLineNumber);\r\n            if (adjustedEndLine) {\r\n                selection = selection.setEndPosition(adjustedEndLine, editorModel.getLineMaxColumn(adjustedEndLine));\r\n                hasChanges = true;\r\n            }\r\n            selections[i] = selection;\r\n        }\r\n        return hasChanges;\r\n    };\r\n    HiddenRangeModel.prototype.dispose = function () {\r\n        if (this.hiddenRanges.length > 0) {\r\n            this._hiddenRanges = [];\r\n            this._updateEventEmitter.fire(this._hiddenRanges);\r\n        }\r\n        if (this._foldingModelListener) {\r\n            this._foldingModelListener.dispose();\r\n            this._foldingModelListener = null;\r\n        }\r\n    };\r\n    return HiddenRangeModel;\r\n}());\r\nexport { HiddenRangeModel };\r\nfunction isInside(line, range) {\r\n    return line >= range.startLineNumber && line <= range.endLineNumber;\r\n}\r\nfunction findRange(ranges, line) {\r\n    var i = findFirstInSorted(ranges, function (r) { return line < r.startLineNumber; }) - 1;\r\n    if (i >= 0 && ranges[i].endLineNumber >= line) {\r\n        return ranges[i];\r\n    }\r\n    return null;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { FoldingRegions, MAX_LINE_NUMBER } from './foldingRanges.js';\r\nimport { TextModel } from '../../common/model/textModel.js';\r\nimport { LanguageConfigurationRegistry } from '../../common/modes/languageConfigurationRegistry.js';\r\nvar MAX_FOLDING_REGIONS_FOR_INDENT_LIMIT = 5000;\r\nexport var ID_INDENT_PROVIDER = 'indent';\r\nvar IndentRangeProvider = /** @class */ (function () {\r\n    function IndentRangeProvider(editorModel) {\r\n        this.editorModel = editorModel;\r\n        this.id = ID_INDENT_PROVIDER;\r\n    }\r\n    IndentRangeProvider.prototype.dispose = function () {\r\n    };\r\n    IndentRangeProvider.prototype.compute = function (cancelationToken) {\r\n        var foldingRules = LanguageConfigurationRegistry.getFoldingRules(this.editorModel.getLanguageIdentifier().id);\r\n        var offSide = foldingRules && !!foldingRules.offSide;\r\n        var markers = foldingRules && foldingRules.markers;\r\n        return Promise.resolve(computeRanges(this.editorModel, offSide, markers));\r\n    };\r\n    return IndentRangeProvider;\r\n}());\r\nexport { IndentRangeProvider };\r\n// public only for testing\r\nvar RangesCollector = /** @class */ (function () {\r\n    function RangesCollector(foldingRangesLimit) {\r\n        this._startIndexes = [];\r\n        this._endIndexes = [];\r\n        this._indentOccurrences = [];\r\n        this._length = 0;\r\n        this._foldingRangesLimit = foldingRangesLimit;\r\n    }\r\n    RangesCollector.prototype.insertFirst = function (startLineNumber, endLineNumber, indent) {\r\n        if (startLineNumber > MAX_LINE_NUMBER || endLineNumber > MAX_LINE_NUMBER) {\r\n            return;\r\n        }\r\n        var index = this._length;\r\n        this._startIndexes[index] = startLineNumber;\r\n        this._endIndexes[index] = endLineNumber;\r\n        this._length++;\r\n        if (indent < 1000) {\r\n            this._indentOccurrences[indent] = (this._indentOccurrences[indent] || 0) + 1;\r\n        }\r\n    };\r\n    RangesCollector.prototype.toIndentRanges = function (model) {\r\n        if (this._length <= this._foldingRangesLimit) {\r\n            // reverse and create arrays of the exact length\r\n            var startIndexes = new Uint32Array(this._length);\r\n            var endIndexes = new Uint32Array(this._length);\r\n            for (var i = this._length - 1, k = 0; i >= 0; i--, k++) {\r\n                startIndexes[k] = this._startIndexes[i];\r\n                endIndexes[k] = this._endIndexes[i];\r\n            }\r\n            return new FoldingRegions(startIndexes, endIndexes);\r\n        }\r\n        else {\r\n            var entries = 0;\r\n            var maxIndent = this._indentOccurrences.length;\r\n            for (var i = 0; i < this._indentOccurrences.length; i++) {\r\n                var n = this._indentOccurrences[i];\r\n                if (n) {\r\n                    if (n + entries > this._foldingRangesLimit) {\r\n                        maxIndent = i;\r\n                        break;\r\n                    }\r\n                    entries += n;\r\n                }\r\n            }\r\n            var tabSize = model.getOptions().tabSize;\r\n            // reverse and create arrays of the exact length\r\n            var startIndexes = new Uint32Array(this._foldingRangesLimit);\r\n            var endIndexes = new Uint32Array(this._foldingRangesLimit);\r\n            for (var i = this._length - 1, k = 0; i >= 0; i--) {\r\n                var startIndex = this._startIndexes[i];\r\n                var lineContent = model.getLineContent(startIndex);\r\n                var indent = TextModel.computeIndentLevel(lineContent, tabSize);\r\n                if (indent < maxIndent || (indent === maxIndent && entries++ < this._foldingRangesLimit)) {\r\n                    startIndexes[k] = startIndex;\r\n                    endIndexes[k] = this._endIndexes[i];\r\n                    k++;\r\n                }\r\n            }\r\n            return new FoldingRegions(startIndexes, endIndexes);\r\n        }\r\n    };\r\n    return RangesCollector;\r\n}());\r\nexport { RangesCollector };\r\nexport function computeRanges(model, offSide, markers, foldingRangesLimit) {\r\n    if (foldingRangesLimit === void 0) { foldingRangesLimit = MAX_FOLDING_REGIONS_FOR_INDENT_LIMIT; }\r\n    var tabSize = model.getOptions().tabSize;\r\n    var result = new RangesCollector(foldingRangesLimit);\r\n    var pattern = undefined;\r\n    if (markers) {\r\n        pattern = new RegExp(\"(\" + markers.start.source + \")|(?:\" + markers.end.source + \")\");\r\n    }\r\n    var previousRegions = [];\r\n    var line = model.getLineCount() + 1;\r\n    previousRegions.push({ indent: -1, endAbove: line, line: line }); // sentinel, to make sure there's at least one entry\r\n    for (var line_1 = model.getLineCount(); line_1 > 0; line_1--) {\r\n        var lineContent = model.getLineContent(line_1);\r\n        var indent = TextModel.computeIndentLevel(lineContent, tabSize);\r\n        var previous = previousRegions[previousRegions.length - 1];\r\n        if (indent === -1) {\r\n            if (offSide) {\r\n                // for offSide languages, empty lines are associated to the previous block\r\n                // note: the next block is already written to the results, so this only\r\n                // impacts the end position of the block before\r\n                previous.endAbove = line_1;\r\n            }\r\n            continue; // only whitespace\r\n        }\r\n        var m = void 0;\r\n        if (pattern && (m = lineContent.match(pattern))) {\r\n            // folding pattern match\r\n            if (m[1]) { // start pattern match\r\n                // discard all regions until the folding pattern\r\n                var i = previousRegions.length - 1;\r\n                while (i > 0 && previousRegions[i].indent !== -2) {\r\n                    i--;\r\n                }\r\n                if (i > 0) {\r\n                    previousRegions.length = i + 1;\r\n                    previous = previousRegions[i];\r\n                    // new folding range from pattern, includes the end line\r\n                    result.insertFirst(line_1, previous.line, indent);\r\n                    previous.line = line_1;\r\n                    previous.indent = indent;\r\n                    previous.endAbove = line_1;\r\n                    continue;\r\n                }\r\n                else {\r\n                    // no end marker found, treat line as a regular line\r\n                }\r\n            }\r\n            else { // end pattern match\r\n                previousRegions.push({ indent: -2, endAbove: line_1, line: line_1 });\r\n                continue;\r\n            }\r\n        }\r\n        if (previous.indent > indent) {\r\n            // discard all regions with larger indent\r\n            do {\r\n                previousRegions.pop();\r\n                previous = previousRegions[previousRegions.length - 1];\r\n            } while (previous.indent > indent);\r\n            // new folding range\r\n            var endLineNumber = previous.endAbove - 1;\r\n            if (endLineNumber - line_1 >= 1) { // needs at east size 1\r\n                result.insertFirst(line_1, endLineNumber, indent);\r\n            }\r\n        }\r\n        if (previous.indent === indent) {\r\n            previous.endAbove = line_1;\r\n        }\r\n        else { // previous.indent < indent\r\n            // new region with a bigger indent\r\n            previousRegions.push({ indent: indent, endAbove: line_1, line: line_1 });\r\n        }\r\n    }\r\n    return result.toIndentRanges(model);\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { MAX_LINE_NUMBER, FoldingRegions } from './foldingRanges.js';\r\nvar MAX_FOLDING_REGIONS = 5000;\r\nvar foldingContext = {};\r\nexport var ID_SYNTAX_PROVIDER = 'syntax';\r\nvar SyntaxRangeProvider = /** @class */ (function () {\r\n    function SyntaxRangeProvider(editorModel, providers, limit) {\r\n        if (limit === void 0) { limit = MAX_FOLDING_REGIONS; }\r\n        this.editorModel = editorModel;\r\n        this.providers = providers;\r\n        this.limit = limit;\r\n        this.id = ID_SYNTAX_PROVIDER;\r\n    }\r\n    SyntaxRangeProvider.prototype.compute = function (cancellationToken) {\r\n        var _this = this;\r\n        return collectSyntaxRanges(this.providers, this.editorModel, cancellationToken).then(function (ranges) {\r\n            if (ranges) {\r\n                var res = sanitizeRanges(ranges, _this.limit);\r\n                return res;\r\n            }\r\n            return null;\r\n        });\r\n    };\r\n    SyntaxRangeProvider.prototype.dispose = function () {\r\n    };\r\n    return SyntaxRangeProvider;\r\n}());\r\nexport { SyntaxRangeProvider };\r\nfunction collectSyntaxRanges(providers, model, cancellationToken) {\r\n    var rangeData = null;\r\n    var promises = providers.map(function (provider, i) {\r\n        return Promise.resolve(provider.provideFoldingRanges(model, foldingContext, cancellationToken)).then(function (ranges) {\r\n            if (cancellationToken.isCancellationRequested) {\r\n                return;\r\n            }\r\n            if (Array.isArray(ranges)) {\r\n                if (!Array.isArray(rangeData)) {\r\n                    rangeData = [];\r\n                }\r\n                var nLines = model.getLineCount();\r\n                for (var _i = 0, ranges_1 = ranges; _i < ranges_1.length; _i++) {\r\n                    var r = ranges_1[_i];\r\n                    if (r.start > 0 && r.end > r.start && r.end <= nLines) {\r\n                        rangeData.push({ start: r.start, end: r.end, rank: i, kind: r.kind });\r\n                    }\r\n                }\r\n            }\r\n        }, onUnexpectedExternalError);\r\n    });\r\n    return Promise.all(promises).then(function (_) {\r\n        return rangeData;\r\n    });\r\n}\r\nvar RangesCollector = /** @class */ (function () {\r\n    function RangesCollector(foldingRangesLimit) {\r\n        this._startIndexes = [];\r\n        this._endIndexes = [];\r\n        this._nestingLevels = [];\r\n        this._nestingLevelCounts = [];\r\n        this._types = [];\r\n        this._length = 0;\r\n        this._foldingRangesLimit = foldingRangesLimit;\r\n    }\r\n    RangesCollector.prototype.add = function (startLineNumber, endLineNumber, type, nestingLevel) {\r\n        if (startLineNumber > MAX_LINE_NUMBER || endLineNumber > MAX_LINE_NUMBER) {\r\n            return;\r\n        }\r\n        var index = this._length;\r\n        this._startIndexes[index] = startLineNumber;\r\n        this._endIndexes[index] = endLineNumber;\r\n        this._nestingLevels[index] = nestingLevel;\r\n        this._types[index] = type;\r\n        this._length++;\r\n        if (nestingLevel < 30) {\r\n            this._nestingLevelCounts[nestingLevel] = (this._nestingLevelCounts[nestingLevel] || 0) + 1;\r\n        }\r\n    };\r\n    RangesCollector.prototype.toIndentRanges = function () {\r\n        if (this._length <= this._foldingRangesLimit) {\r\n            var startIndexes = new Uint32Array(this._length);\r\n            var endIndexes = new Uint32Array(this._length);\r\n            for (var i = 0; i < this._length; i++) {\r\n                startIndexes[i] = this._startIndexes[i];\r\n                endIndexes[i] = this._endIndexes[i];\r\n            }\r\n            return new FoldingRegions(startIndexes, endIndexes, this._types);\r\n        }\r\n        else {\r\n            var entries = 0;\r\n            var maxLevel = this._nestingLevelCounts.length;\r\n            for (var i = 0; i < this._nestingLevelCounts.length; i++) {\r\n                var n = this._nestingLevelCounts[i];\r\n                if (n) {\r\n                    if (n + entries > this._foldingRangesLimit) {\r\n                        maxLevel = i;\r\n                        break;\r\n                    }\r\n                    entries += n;\r\n                }\r\n            }\r\n            var startIndexes = new Uint32Array(this._foldingRangesLimit);\r\n            var endIndexes = new Uint32Array(this._foldingRangesLimit);\r\n            var types = [];\r\n            for (var i = 0, k = 0; i < this._length; i++) {\r\n                var level = this._nestingLevels[i];\r\n                if (level < maxLevel || (level === maxLevel && entries++ < this._foldingRangesLimit)) {\r\n                    startIndexes[k] = this._startIndexes[i];\r\n                    endIndexes[k] = this._endIndexes[i];\r\n                    types[k] = this._types[i];\r\n                    k++;\r\n                }\r\n            }\r\n            return new FoldingRegions(startIndexes, endIndexes, types);\r\n        }\r\n    };\r\n    return RangesCollector;\r\n}());\r\nexport { RangesCollector };\r\nexport function sanitizeRanges(rangeData, limit) {\r\n    var sorted = rangeData.sort(function (d1, d2) {\r\n        var diff = d1.start - d2.start;\r\n        if (diff === 0) {\r\n            diff = d1.rank - d2.rank;\r\n        }\r\n        return diff;\r\n    });\r\n    var collector = new RangesCollector(limit);\r\n    var top = undefined;\r\n    var previous = [];\r\n    for (var _i = 0, sorted_1 = sorted; _i < sorted_1.length; _i++) {\r\n        var entry = sorted_1[_i];\r\n        if (!top) {\r\n            top = entry;\r\n            collector.add(entry.start, entry.end, entry.kind && entry.kind.value, previous.length);\r\n        }\r\n        else {\r\n            if (entry.start > top.start) {\r\n                if (entry.end <= top.end) {\r\n                    previous.push(top);\r\n                    top = entry;\r\n                    collector.add(entry.start, entry.end, entry.kind && entry.kind.value, previous.length);\r\n                }\r\n                else {\r\n                    if (entry.start > top.end) {\r\n                        do {\r\n                            top = previous.pop();\r\n                        } while (top && entry.start > top.end);\r\n                        if (top) {\r\n                            previous.push(top);\r\n                        }\r\n                        top = entry;\r\n                    }\r\n                    collector.add(entry.start, entry.end, entry.kind && entry.kind.value, previous.length);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return collector.toIndentRanges();\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { sanitizeRanges } from './syntaxRangeProvider.js';\r\nexport var ID_INIT_PROVIDER = 'init';\r\nvar InitializingRangeProvider = /** @class */ (function () {\r\n    function InitializingRangeProvider(editorModel, initialRanges, onTimeout, timeoutTime) {\r\n        this.editorModel = editorModel;\r\n        this.id = ID_INIT_PROVIDER;\r\n        if (initialRanges.length) {\r\n            var toDecorationRange = function (range) {\r\n                return {\r\n                    range: {\r\n                        startLineNumber: range.startLineNumber,\r\n                        startColumn: 0,\r\n                        endLineNumber: range.endLineNumber,\r\n                        endColumn: editorModel.getLineLength(range.endLineNumber)\r\n                    },\r\n                    options: {\r\n                        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */\r\n                    }\r\n                };\r\n            };\r\n            this.decorationIds = editorModel.deltaDecorations([], initialRanges.map(toDecorationRange));\r\n            this.timeout = setTimeout(onTimeout, timeoutTime);\r\n        }\r\n    }\r\n    InitializingRangeProvider.prototype.dispose = function () {\r\n        if (this.decorationIds) {\r\n            this.editorModel.deltaDecorations(this.decorationIds, []);\r\n            this.decorationIds = undefined;\r\n        }\r\n        if (typeof this.timeout === 'number') {\r\n            clearTimeout(this.timeout);\r\n            this.timeout = undefined;\r\n        }\r\n    };\r\n    InitializingRangeProvider.prototype.compute = function (cancelationToken) {\r\n        var foldingRangeData = [];\r\n        if (this.decorationIds) {\r\n            for (var _i = 0, _a = this.decorationIds; _i < _a.length; _i++) {\r\n                var id = _a[_i];\r\n                var range = this.editorModel.getDecorationRange(id);\r\n                if (range) {\r\n                    foldingRangeData.push({ start: range.startLineNumber, end: range.endLineNumber, rank: 1 });\r\n                }\r\n            }\r\n        }\r\n        return Promise.resolve(sanitizeRanges(foldingRangeData, Number.MAX_VALUE));\r\n    };\r\n    return InitializingRangeProvider;\r\n}());\r\nexport { InitializingRangeProvider };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport './folding.css';\r\nimport * as nls from '../../../nls.js';\r\nimport * as types from '../../../base/common/types.js';\r\nimport { escapeRegExpCharacters } from '../../../base/common/strings.js';\r\nimport { RunOnceScheduler, Delayer, createCancelablePromise } from '../../../base/common/async.js';\r\nimport { KeyChord } from '../../../base/common/keyCodes.js';\r\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { registerEditorAction, registerEditorContribution, EditorAction, registerInstantiatedEditorAction } from '../../browser/editorExtensions.js';\r\nimport { FoldingModel, setCollapseStateAtLevel, setCollapseStateLevelsDown, setCollapseStateLevelsUp, setCollapseStateForMatchingLines, setCollapseStateForType, toggleCollapseState } from './foldingModel.js';\r\nimport { FoldingDecorationProvider } from './foldingDecorations.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { HiddenRangeModel } from './hiddenRangeModel.js';\r\nimport { LanguageConfigurationRegistry } from '../../common/modes/languageConfigurationRegistry.js';\r\nimport { IndentRangeProvider } from './indentRangeProvider.js';\r\nimport { FoldingRangeProviderRegistry, FoldingRangeKind } from '../../common/modes.js';\r\nimport { SyntaxRangeProvider, ID_SYNTAX_PROVIDER } from './syntaxRangeProvider.js';\r\nimport { InitializingRangeProvider, ID_INIT_PROVIDER } from './intializingRangeProvider.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { RawContextKey, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nvar CONTEXT_FOLDING_ENABLED = new RawContextKey('foldingEnabled', false);\r\nvar FoldingController = /** @class */ (function (_super) {\r\n    __extends(FoldingController, _super);\r\n    function FoldingController(editor, contextKeyService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.contextKeyService = contextKeyService;\r\n        _this.localToDispose = _this._register(new DisposableStore());\r\n        _this.editor = editor;\r\n        var options = _this.editor.getOptions();\r\n        _this._isEnabled = options.get(29 /* folding */);\r\n        _this._autoHideFoldingControls = options.get(80 /* showFoldingControls */) === 'mouseover';\r\n        _this._useFoldingProviders = options.get(30 /* foldingStrategy */) !== 'indentation';\r\n        _this.foldingModel = null;\r\n        _this.hiddenRangeModel = null;\r\n        _this.rangeProvider = null;\r\n        _this.foldingRegionPromise = null;\r\n        _this.foldingStateMemento = null;\r\n        _this.foldingModelPromise = null;\r\n        _this.updateScheduler = null;\r\n        _this.cursorChangedScheduler = null;\r\n        _this.mouseDownInfo = null;\r\n        _this.foldingDecorationProvider = new FoldingDecorationProvider(editor);\r\n        _this.foldingDecorationProvider.autoHideFoldingControls = _this._autoHideFoldingControls;\r\n        _this.foldingEnabled = CONTEXT_FOLDING_ENABLED.bindTo(_this.contextKeyService);\r\n        _this.foldingEnabled.set(_this._isEnabled);\r\n        _this._register(_this.editor.onDidChangeModel(function () { return _this.onModelChanged(); }));\r\n        _this._register(_this.editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(29 /* folding */) || e.hasChanged(80 /* showFoldingControls */) || e.hasChanged(30 /* foldingStrategy */)) {\r\n                var oldIsEnabled = _this._isEnabled;\r\n                var options_1 = _this.editor.getOptions();\r\n                _this._isEnabled = options_1.get(29 /* folding */);\r\n                _this.foldingEnabled.set(_this._isEnabled);\r\n                if (oldIsEnabled !== _this._isEnabled) {\r\n                    _this.onModelChanged();\r\n                }\r\n                var oldShowFoldingControls = _this._autoHideFoldingControls;\r\n                _this._autoHideFoldingControls = options_1.get(80 /* showFoldingControls */) === 'mouseover';\r\n                if (oldShowFoldingControls !== _this._autoHideFoldingControls) {\r\n                    _this.foldingDecorationProvider.autoHideFoldingControls = _this._autoHideFoldingControls;\r\n                    _this.onModelContentChanged();\r\n                }\r\n                var oldUseFoldingProviders = _this._useFoldingProviders;\r\n                _this._useFoldingProviders = options_1.get(30 /* foldingStrategy */) !== 'indentation';\r\n                if (oldUseFoldingProviders !== _this._useFoldingProviders) {\r\n                    _this.onFoldingStrategyChanged();\r\n                }\r\n            }\r\n        }));\r\n        _this.onModelChanged();\r\n        return _this;\r\n    }\r\n    FoldingController.get = function (editor) {\r\n        return editor.getContribution(FoldingController.ID);\r\n    };\r\n    /**\r\n     * Store view state.\r\n     */\r\n    FoldingController.prototype.saveViewState = function () {\r\n        var model = this.editor.getModel();\r\n        if (!model || !this._isEnabled || model.isTooLargeForTokenization()) {\r\n            return {};\r\n        }\r\n        if (this.foldingModel) { // disposed ?\r\n            var collapsedRegions = this.foldingModel.isInitialized ? this.foldingModel.getMemento() : this.hiddenRangeModel.getMemento();\r\n            var provider = this.rangeProvider ? this.rangeProvider.id : undefined;\r\n            return { collapsedRegions: collapsedRegions, lineCount: model.getLineCount(), provider: provider };\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Restore view state.\r\n     */\r\n    FoldingController.prototype.restoreViewState = function (state) {\r\n        var model = this.editor.getModel();\r\n        if (!model || !this._isEnabled || model.isTooLargeForTokenization() || !this.hiddenRangeModel) {\r\n            return;\r\n        }\r\n        if (!state || !state.collapsedRegions || state.lineCount !== model.getLineCount()) {\r\n            return;\r\n        }\r\n        if (state.provider === ID_SYNTAX_PROVIDER || state.provider === ID_INIT_PROVIDER) {\r\n            this.foldingStateMemento = state;\r\n        }\r\n        var collapsedRegions = state.collapsedRegions;\r\n        // set the hidden ranges right away, before waiting for the folding model.\r\n        if (this.hiddenRangeModel.applyMemento(collapsedRegions)) {\r\n            var foldingModel = this.getFoldingModel();\r\n            if (foldingModel) {\r\n                foldingModel.then(function (foldingModel) {\r\n                    if (foldingModel) {\r\n                        foldingModel.applyMemento(collapsedRegions);\r\n                    }\r\n                }).then(undefined, onUnexpectedError);\r\n            }\r\n        }\r\n    };\r\n    FoldingController.prototype.onModelChanged = function () {\r\n        var _this = this;\r\n        this.localToDispose.clear();\r\n        var model = this.editor.getModel();\r\n        if (!this._isEnabled || !model || model.isTooLargeForTokenization()) {\r\n            // huge files get no view model, so they cannot support hidden areas\r\n            return;\r\n        }\r\n        this.foldingModel = new FoldingModel(model, this.foldingDecorationProvider);\r\n        this.localToDispose.add(this.foldingModel);\r\n        this.hiddenRangeModel = new HiddenRangeModel(this.foldingModel);\r\n        this.localToDispose.add(this.hiddenRangeModel);\r\n        this.localToDispose.add(this.hiddenRangeModel.onDidChange(function (hr) { return _this.onHiddenRangesChanges(hr); }));\r\n        this.updateScheduler = new Delayer(200);\r\n        this.cursorChangedScheduler = new RunOnceScheduler(function () { return _this.revealCursor(); }, 200);\r\n        this.localToDispose.add(this.cursorChangedScheduler);\r\n        this.localToDispose.add(FoldingRangeProviderRegistry.onDidChange(function () { return _this.onFoldingStrategyChanged(); }));\r\n        this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(function () { return _this.onFoldingStrategyChanged(); })); // covers model language changes as well\r\n        this.localToDispose.add(this.editor.onDidChangeModelContent(function () { return _this.onModelContentChanged(); }));\r\n        this.localToDispose.add(this.editor.onDidChangeCursorPosition(function () { return _this.onCursorPositionChanged(); }));\r\n        this.localToDispose.add(this.editor.onMouseDown(function (e) { return _this.onEditorMouseDown(e); }));\r\n        this.localToDispose.add(this.editor.onMouseUp(function (e) { return _this.onEditorMouseUp(e); }));\r\n        this.localToDispose.add({\r\n            dispose: function () {\r\n                if (_this.foldingRegionPromise) {\r\n                    _this.foldingRegionPromise.cancel();\r\n                    _this.foldingRegionPromise = null;\r\n                }\r\n                if (_this.updateScheduler) {\r\n                    _this.updateScheduler.cancel();\r\n                }\r\n                _this.updateScheduler = null;\r\n                _this.foldingModel = null;\r\n                _this.foldingModelPromise = null;\r\n                _this.hiddenRangeModel = null;\r\n                _this.cursorChangedScheduler = null;\r\n                _this.foldingStateMemento = null;\r\n                if (_this.rangeProvider) {\r\n                    _this.rangeProvider.dispose();\r\n                }\r\n                _this.rangeProvider = null;\r\n            }\r\n        });\r\n        this.onModelContentChanged();\r\n    };\r\n    FoldingController.prototype.onFoldingStrategyChanged = function () {\r\n        if (this.rangeProvider) {\r\n            this.rangeProvider.dispose();\r\n        }\r\n        this.rangeProvider = null;\r\n        this.onModelContentChanged();\r\n    };\r\n    FoldingController.prototype.getRangeProvider = function (editorModel) {\r\n        var _this = this;\r\n        if (this.rangeProvider) {\r\n            return this.rangeProvider;\r\n        }\r\n        this.rangeProvider = new IndentRangeProvider(editorModel); // fallback\r\n        if (this._useFoldingProviders && this.foldingModel) {\r\n            var foldingProviders = FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);\r\n            if (foldingProviders.length === 0 && this.foldingStateMemento && this.foldingStateMemento.collapsedRegions) {\r\n                var rangeProvider = this.rangeProvider = new InitializingRangeProvider(editorModel, this.foldingStateMemento.collapsedRegions, function () {\r\n                    // if after 30 the InitializingRangeProvider is still not replaced, force a refresh\r\n                    _this.foldingStateMemento = null;\r\n                    _this.onFoldingStrategyChanged();\r\n                }, 30000);\r\n                return rangeProvider; // keep memento in case there are still no foldingProviders on the next request.\r\n            }\r\n            else if (foldingProviders.length > 0) {\r\n                this.rangeProvider = new SyntaxRangeProvider(editorModel, foldingProviders);\r\n            }\r\n        }\r\n        this.foldingStateMemento = null;\r\n        return this.rangeProvider;\r\n    };\r\n    FoldingController.prototype.getFoldingModel = function () {\r\n        return this.foldingModelPromise;\r\n    };\r\n    FoldingController.prototype.onModelContentChanged = function () {\r\n        var _this = this;\r\n        if (this.updateScheduler) {\r\n            if (this.foldingRegionPromise) {\r\n                this.foldingRegionPromise.cancel();\r\n                this.foldingRegionPromise = null;\r\n            }\r\n            this.foldingModelPromise = this.updateScheduler.trigger(function () {\r\n                var foldingModel = _this.foldingModel;\r\n                if (!foldingModel) { // null if editor has been disposed, or folding turned off\r\n                    return null;\r\n                }\r\n                var foldingRegionPromise = _this.foldingRegionPromise = createCancelablePromise(function (token) { return _this.getRangeProvider(foldingModel.textModel).compute(token); });\r\n                return foldingRegionPromise.then(function (foldingRanges) {\r\n                    if (foldingRanges && foldingRegionPromise === _this.foldingRegionPromise) { // new request or cancelled in the meantime?\r\n                        // some cursors might have moved into hidden regions, make sure they are in expanded regions\r\n                        var selections = _this.editor.getSelections();\r\n                        var selectionLineNumbers = selections ? selections.map(function (s) { return s.startLineNumber; }) : [];\r\n                        foldingModel.update(foldingRanges, selectionLineNumbers);\r\n                    }\r\n                    return foldingModel;\r\n                });\r\n            }).then(undefined, function (err) {\r\n                onUnexpectedError(err);\r\n                return null;\r\n            });\r\n        }\r\n    };\r\n    FoldingController.prototype.onHiddenRangesChanges = function (hiddenRanges) {\r\n        if (this.hiddenRangeModel && hiddenRanges.length) {\r\n            var selections = this.editor.getSelections();\r\n            if (selections) {\r\n                if (this.hiddenRangeModel.adjustSelections(selections)) {\r\n                    this.editor.setSelections(selections);\r\n                }\r\n            }\r\n        }\r\n        this.editor.setHiddenAreas(hiddenRanges);\r\n    };\r\n    FoldingController.prototype.onCursorPositionChanged = function () {\r\n        if (this.hiddenRangeModel && this.hiddenRangeModel.hasRanges()) {\r\n            this.cursorChangedScheduler.schedule();\r\n        }\r\n    };\r\n    FoldingController.prototype.revealCursor = function () {\r\n        var _this = this;\r\n        var foldingModel = this.getFoldingModel();\r\n        if (!foldingModel) {\r\n            return;\r\n        }\r\n        foldingModel.then(function (foldingModel) {\r\n            if (foldingModel) {\r\n                var selections = _this.editor.getSelections();\r\n                if (selections && selections.length > 0) {\r\n                    var toToggle = [];\r\n                    var _loop_1 = function (selection) {\r\n                        var lineNumber = selection.selectionStartLineNumber;\r\n                        if (_this.hiddenRangeModel && _this.hiddenRangeModel.isHidden(lineNumber)) {\r\n                            toToggle.push.apply(toToggle, foldingModel.getAllRegionsAtLine(lineNumber, function (r) { return r.isCollapsed && lineNumber > r.startLineNumber; }));\r\n                        }\r\n                    };\r\n                    for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\r\n                        var selection = selections_1[_i];\r\n                        _loop_1(selection);\r\n                    }\r\n                    if (toToggle.length) {\r\n                        foldingModel.toggleCollapseState(toToggle);\r\n                        _this.reveal(selections[0].getPosition());\r\n                    }\r\n                }\r\n            }\r\n        }).then(undefined, onUnexpectedError);\r\n    };\r\n    FoldingController.prototype.onEditorMouseDown = function (e) {\r\n        this.mouseDownInfo = null;\r\n        if (!this.hiddenRangeModel || !e.target || !e.target.range) {\r\n            return;\r\n        }\r\n        if (!e.event.leftButton && !e.event.middleButton) {\r\n            return;\r\n        }\r\n        var range = e.target.range;\r\n        var iconClicked = false;\r\n        switch (e.target.type) {\r\n            case 4 /* GUTTER_LINE_DECORATIONS */:\r\n                var data = e.target.detail;\r\n                var offsetLeftInGutter = e.target.element.offsetLeft;\r\n                var gutterOffsetX = data.offsetX - offsetLeftInGutter;\r\n                // const gutterOffsetX = data.offsetX - data.glyphMarginWidth - data.lineNumbersWidth - data.glyphMarginLeft;\r\n                // TODO@joao TODO@alex TODO@martin this is such that we don't collide with dirty diff\r\n                if (gutterOffsetX < 5) { // the whitespace between the border and the real folding icon border is 5px\r\n                    return;\r\n                }\r\n                iconClicked = true;\r\n                break;\r\n            case 7 /* CONTENT_EMPTY */: {\r\n                if (this.hiddenRangeModel.hasRanges()) {\r\n                    var data_1 = e.target.detail;\r\n                    if (!data_1.isAfterLines) {\r\n                        break;\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n            case 6 /* CONTENT_TEXT */: {\r\n                if (this.hiddenRangeModel.hasRanges()) {\r\n                    var model = this.editor.getModel();\r\n                    if (model && range.startColumn === model.getLineMaxColumn(range.startLineNumber)) {\r\n                        break;\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n            default:\r\n                return;\r\n        }\r\n        this.mouseDownInfo = { lineNumber: range.startLineNumber, iconClicked: iconClicked };\r\n    };\r\n    FoldingController.prototype.onEditorMouseUp = function (e) {\r\n        var _this = this;\r\n        var foldingModel = this.getFoldingModel();\r\n        if (!foldingModel || !this.mouseDownInfo || !e.target) {\r\n            return;\r\n        }\r\n        var lineNumber = this.mouseDownInfo.lineNumber;\r\n        var iconClicked = this.mouseDownInfo.iconClicked;\r\n        var range = e.target.range;\r\n        if (!range || range.startLineNumber !== lineNumber) {\r\n            return;\r\n        }\r\n        if (iconClicked) {\r\n            if (e.target.type !== 4 /* GUTTER_LINE_DECORATIONS */) {\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            var model = this.editor.getModel();\r\n            if (!model || range.startColumn !== model.getLineMaxColumn(lineNumber)) {\r\n                return;\r\n            }\r\n        }\r\n        foldingModel.then(function (foldingModel) {\r\n            if (foldingModel) {\r\n                var region = foldingModel.getRegionAtLine(lineNumber);\r\n                if (region && region.startLineNumber === lineNumber) {\r\n                    var isCollapsed_1 = region.isCollapsed;\r\n                    if (iconClicked || isCollapsed_1) {\r\n                        var toToggle = [region];\r\n                        if (e.event.middleButton || e.event.shiftKey) {\r\n                            toToggle.push.apply(toToggle, foldingModel.getRegionsInside(region, function (r) { return r.isCollapsed === isCollapsed_1; }));\r\n                        }\r\n                        foldingModel.toggleCollapseState(toToggle);\r\n                        _this.reveal({ lineNumber: lineNumber, column: 1 });\r\n                    }\r\n                }\r\n            }\r\n        }).then(undefined, onUnexpectedError);\r\n    };\r\n    FoldingController.prototype.reveal = function (position) {\r\n        this.editor.revealPositionInCenterIfOutsideViewport(position, 0 /* Smooth */);\r\n    };\r\n    FoldingController.ID = 'editor.contrib.folding';\r\n    FoldingController = __decorate([\r\n        __param(1, IContextKeyService)\r\n    ], FoldingController);\r\n    return FoldingController;\r\n}(Disposable));\r\nexport { FoldingController };\r\nvar FoldingAction = /** @class */ (function (_super) {\r\n    __extends(FoldingAction, _super);\r\n    function FoldingAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    FoldingAction.prototype.runEditorCommand = function (accessor, editor, args) {\r\n        var _this = this;\r\n        var foldingController = FoldingController.get(editor);\r\n        if (!foldingController) {\r\n            return;\r\n        }\r\n        var foldingModelPromise = foldingController.getFoldingModel();\r\n        if (foldingModelPromise) {\r\n            this.reportTelemetry(accessor, editor);\r\n            return foldingModelPromise.then(function (foldingModel) {\r\n                if (foldingModel) {\r\n                    _this.invoke(foldingController, foldingModel, editor, args);\r\n                    var selection = editor.getSelection();\r\n                    if (selection) {\r\n                        foldingController.reveal(selection.getStartPosition());\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    FoldingAction.prototype.getSelectedLines = function (editor) {\r\n        var selections = editor.getSelections();\r\n        return selections ? selections.map(function (s) { return s.startLineNumber; }) : [];\r\n    };\r\n    FoldingAction.prototype.getLineNumbers = function (args, editor) {\r\n        if (args && args.selectionLines) {\r\n            return args.selectionLines.map(function (l) { return l + 1; }); // to 0-bases line numbers\r\n        }\r\n        return this.getSelectedLines(editor);\r\n    };\r\n    FoldingAction.prototype.run = function (_accessor, _editor) {\r\n    };\r\n    return FoldingAction;\r\n}(EditorAction));\r\nfunction foldingArgumentsConstraint(args) {\r\n    if (!types.isUndefined(args)) {\r\n        if (!types.isObject(args)) {\r\n            return false;\r\n        }\r\n        var foldingArgs = args;\r\n        if (!types.isUndefined(foldingArgs.levels) && !types.isNumber(foldingArgs.levels)) {\r\n            return false;\r\n        }\r\n        if (!types.isUndefined(foldingArgs.direction) && !types.isString(foldingArgs.direction)) {\r\n            return false;\r\n        }\r\n        if (!types.isUndefined(foldingArgs.selectionLines) && (!types.isArray(foldingArgs.selectionLines) || !foldingArgs.selectionLines.every(types.isNumber))) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nvar UnfoldAction = /** @class */ (function (_super) {\r\n    __extends(UnfoldAction, _super);\r\n    function UnfoldAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.unfold',\r\n            label: nls.localize('unfoldAction.label', \"Unfold\"),\r\n            alias: 'Unfold',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 89 /* US_CLOSE_SQUARE_BRACKET */,\r\n                mac: {\r\n                    primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 89 /* US_CLOSE_SQUARE_BRACKET */\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            description: {\r\n                description: 'Unfold the content in the editor',\r\n                args: [\r\n                    {\r\n                        name: 'Unfold editor argument',\r\n                        description: \"Property-value pairs that can be passed through this argument:\\n\\t\\t\\t\\t\\t\\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\\n\\t\\t\\t\\t\\t\\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\\n\\t\\t\\t\\t\\t\\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\\n\\t\\t\\t\\t\\t\\t\",\r\n                        constraint: foldingArgumentsConstraint,\r\n                        schema: {\r\n                            'type': 'object',\r\n                            'properties': {\r\n                                'levels': {\r\n                                    'type': 'number',\r\n                                    'default': 1\r\n                                },\r\n                                'direction': {\r\n                                    'type': 'string',\r\n                                    'enum': ['up', 'down'],\r\n                                    'default': 'down'\r\n                                },\r\n                                'selectionLines': {\r\n                                    'type': 'array',\r\n                                    'items': {\r\n                                        'type': 'number'\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        }) || this;\r\n    }\r\n    UnfoldAction.prototype.invoke = function (_foldingController, foldingModel, editor, args) {\r\n        var levels = args && args.levels || 1;\r\n        var lineNumbers = this.getLineNumbers(args, editor);\r\n        if (args && args.direction === 'up') {\r\n            setCollapseStateLevelsUp(foldingModel, false, levels, lineNumbers);\r\n        }\r\n        else {\r\n            setCollapseStateLevelsDown(foldingModel, false, levels, lineNumbers);\r\n        }\r\n    };\r\n    return UnfoldAction;\r\n}(FoldingAction));\r\nvar UnFoldRecursivelyAction = /** @class */ (function (_super) {\r\n    __extends(UnFoldRecursivelyAction, _super);\r\n    function UnFoldRecursivelyAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.unfoldRecursively',\r\n            label: nls.localize('unFoldRecursivelyAction.label', \"Unfold Recursively\"),\r\n            alias: 'Unfold Recursively',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 89 /* US_CLOSE_SQUARE_BRACKET */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    UnFoldRecursivelyAction.prototype.invoke = function (_foldingController, foldingModel, editor, _args) {\r\n        setCollapseStateLevelsDown(foldingModel, false, Number.MAX_VALUE, this.getSelectedLines(editor));\r\n    };\r\n    return UnFoldRecursivelyAction;\r\n}(FoldingAction));\r\nvar FoldAction = /** @class */ (function (_super) {\r\n    __extends(FoldAction, _super);\r\n    function FoldAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.fold',\r\n            label: nls.localize('foldAction.label', \"Fold\"),\r\n            alias: 'Fold',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 87 /* US_OPEN_SQUARE_BRACKET */,\r\n                mac: {\r\n                    primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 87 /* US_OPEN_SQUARE_BRACKET */\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            description: {\r\n                description: 'Fold the content in the editor',\r\n                args: [\r\n                    {\r\n                        name: 'Fold editor argument',\r\n                        description: \"Property-value pairs that can be passed through this argument:\\n\\t\\t\\t\\t\\t\\t\\t* 'levels': Number of levels to fold. Defaults to 1.\\n\\t\\t\\t\\t\\t\\t\\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\\n\\t\\t\\t\\t\\t\\t\\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\\n\\t\\t\\t\\t\\t\\t\",\r\n                        constraint: foldingArgumentsConstraint,\r\n                        schema: {\r\n                            'type': 'object',\r\n                            'properties': {\r\n                                'levels': {\r\n                                    'type': 'number',\r\n                                    'default': 1\r\n                                },\r\n                                'direction': {\r\n                                    'type': 'string',\r\n                                    'enum': ['up', 'down'],\r\n                                    'default': 'down'\r\n                                },\r\n                                'selectionLines': {\r\n                                    'type': 'array',\r\n                                    'items': {\r\n                                        'type': 'number'\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        }) || this;\r\n    }\r\n    FoldAction.prototype.invoke = function (_foldingController, foldingModel, editor, args) {\r\n        var levels = args && args.levels || 1;\r\n        var lineNumbers = this.getLineNumbers(args, editor);\r\n        if (args && args.direction === 'up') {\r\n            setCollapseStateLevelsUp(foldingModel, true, levels, lineNumbers);\r\n        }\r\n        else {\r\n            setCollapseStateLevelsDown(foldingModel, true, levels, lineNumbers);\r\n        }\r\n    };\r\n    return FoldAction;\r\n}(FoldingAction));\r\nvar ToggleFoldAction = /** @class */ (function (_super) {\r\n    __extends(ToggleFoldAction, _super);\r\n    function ToggleFoldAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.toggleFold',\r\n            label: nls.localize('toggleFoldAction.label', \"Toggle Fold\"),\r\n            alias: 'Toggle Fold',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 42 /* KEY_L */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    ToggleFoldAction.prototype.invoke = function (_foldingController, foldingModel, editor) {\r\n        var selectedLines = this.getSelectedLines(editor);\r\n        toggleCollapseState(foldingModel, 1, selectedLines);\r\n    };\r\n    return ToggleFoldAction;\r\n}(FoldingAction));\r\nvar FoldRecursivelyAction = /** @class */ (function (_super) {\r\n    __extends(FoldRecursivelyAction, _super);\r\n    function FoldRecursivelyAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.foldRecursively',\r\n            label: nls.localize('foldRecursivelyAction.label', \"Fold Recursively\"),\r\n            alias: 'Fold Recursively',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 87 /* US_OPEN_SQUARE_BRACKET */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    FoldRecursivelyAction.prototype.invoke = function (_foldingController, foldingModel, editor) {\r\n        var selectedLines = this.getSelectedLines(editor);\r\n        setCollapseStateLevelsDown(foldingModel, true, Number.MAX_VALUE, selectedLines);\r\n    };\r\n    return FoldRecursivelyAction;\r\n}(FoldingAction));\r\nvar FoldAllBlockCommentsAction = /** @class */ (function (_super) {\r\n    __extends(FoldAllBlockCommentsAction, _super);\r\n    function FoldAllBlockCommentsAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.foldAllBlockComments',\r\n            label: nls.localize('foldAllBlockComments.label', \"Fold All Block Comments\"),\r\n            alias: 'Fold All Block Comments',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 85 /* US_SLASH */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    FoldAllBlockCommentsAction.prototype.invoke = function (_foldingController, foldingModel, editor) {\r\n        if (foldingModel.regions.hasTypes()) {\r\n            setCollapseStateForType(foldingModel, FoldingRangeKind.Comment.value, true);\r\n        }\r\n        else {\r\n            var editorModel = editor.getModel();\r\n            if (!editorModel) {\r\n                return;\r\n            }\r\n            var comments = LanguageConfigurationRegistry.getComments(editorModel.getLanguageIdentifier().id);\r\n            if (comments && comments.blockCommentStartToken) {\r\n                var regExp = new RegExp('^\\\\s*' + escapeRegExpCharacters(comments.blockCommentStartToken));\r\n                setCollapseStateForMatchingLines(foldingModel, regExp, true);\r\n            }\r\n        }\r\n    };\r\n    return FoldAllBlockCommentsAction;\r\n}(FoldingAction));\r\nvar FoldAllRegionsAction = /** @class */ (function (_super) {\r\n    __extends(FoldAllRegionsAction, _super);\r\n    function FoldAllRegionsAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.foldAllMarkerRegions',\r\n            label: nls.localize('foldAllMarkerRegions.label', \"Fold All Regions\"),\r\n            alias: 'Fold All Regions',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 29 /* KEY_8 */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    FoldAllRegionsAction.prototype.invoke = function (_foldingController, foldingModel, editor) {\r\n        if (foldingModel.regions.hasTypes()) {\r\n            setCollapseStateForType(foldingModel, FoldingRangeKind.Region.value, true);\r\n        }\r\n        else {\r\n            var editorModel = editor.getModel();\r\n            if (!editorModel) {\r\n                return;\r\n            }\r\n            var foldingRules = LanguageConfigurationRegistry.getFoldingRules(editorModel.getLanguageIdentifier().id);\r\n            if (foldingRules && foldingRules.markers && foldingRules.markers.start) {\r\n                var regExp = new RegExp(foldingRules.markers.start);\r\n                setCollapseStateForMatchingLines(foldingModel, regExp, true);\r\n            }\r\n        }\r\n    };\r\n    return FoldAllRegionsAction;\r\n}(FoldingAction));\r\nvar UnfoldAllRegionsAction = /** @class */ (function (_super) {\r\n    __extends(UnfoldAllRegionsAction, _super);\r\n    function UnfoldAllRegionsAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.unfoldAllMarkerRegions',\r\n            label: nls.localize('unfoldAllMarkerRegions.label', \"Unfold All Regions\"),\r\n            alias: 'Unfold All Regions',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 30 /* KEY_9 */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    UnfoldAllRegionsAction.prototype.invoke = function (_foldingController, foldingModel, editor) {\r\n        if (foldingModel.regions.hasTypes()) {\r\n            setCollapseStateForType(foldingModel, FoldingRangeKind.Region.value, false);\r\n        }\r\n        else {\r\n            var editorModel = editor.getModel();\r\n            if (!editorModel) {\r\n                return;\r\n            }\r\n            var foldingRules = LanguageConfigurationRegistry.getFoldingRules(editorModel.getLanguageIdentifier().id);\r\n            if (foldingRules && foldingRules.markers && foldingRules.markers.start) {\r\n                var regExp = new RegExp(foldingRules.markers.start);\r\n                setCollapseStateForMatchingLines(foldingModel, regExp, false);\r\n            }\r\n        }\r\n    };\r\n    return UnfoldAllRegionsAction;\r\n}(FoldingAction));\r\nvar FoldAllAction = /** @class */ (function (_super) {\r\n    __extends(FoldAllAction, _super);\r\n    function FoldAllAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.foldAll',\r\n            label: nls.localize('foldAllAction.label', \"Fold All\"),\r\n            alias: 'Fold All',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 21 /* KEY_0 */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    FoldAllAction.prototype.invoke = function (_foldingController, foldingModel, _editor) {\r\n        setCollapseStateLevelsDown(foldingModel, true);\r\n    };\r\n    return FoldAllAction;\r\n}(FoldingAction));\r\nvar UnfoldAllAction = /** @class */ (function (_super) {\r\n    __extends(UnfoldAllAction, _super);\r\n    function UnfoldAllAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.unfoldAll',\r\n            label: nls.localize('unfoldAllAction.label', \"Unfold All\"),\r\n            alias: 'Unfold All',\r\n            precondition: CONTEXT_FOLDING_ENABLED,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 40 /* KEY_J */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    UnfoldAllAction.prototype.invoke = function (_foldingController, foldingModel, _editor) {\r\n        setCollapseStateLevelsDown(foldingModel, false);\r\n    };\r\n    return UnfoldAllAction;\r\n}(FoldingAction));\r\nvar FoldLevelAction = /** @class */ (function (_super) {\r\n    __extends(FoldLevelAction, _super);\r\n    function FoldLevelAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    FoldLevelAction.prototype.getFoldingLevel = function () {\r\n        return parseInt(this.id.substr(FoldLevelAction.ID_PREFIX.length));\r\n    };\r\n    FoldLevelAction.prototype.invoke = function (_foldingController, foldingModel, editor) {\r\n        setCollapseStateAtLevel(foldingModel, this.getFoldingLevel(), true, this.getSelectedLines(editor));\r\n    };\r\n    FoldLevelAction.ID_PREFIX = 'editor.foldLevel';\r\n    FoldLevelAction.ID = function (level) { return FoldLevelAction.ID_PREFIX + level; };\r\n    return FoldLevelAction;\r\n}(FoldingAction));\r\nregisterEditorContribution(FoldingController.ID, FoldingController);\r\nregisterEditorAction(UnfoldAction);\r\nregisterEditorAction(UnFoldRecursivelyAction);\r\nregisterEditorAction(FoldAction);\r\nregisterEditorAction(FoldRecursivelyAction);\r\nregisterEditorAction(FoldAllAction);\r\nregisterEditorAction(UnfoldAllAction);\r\nregisterEditorAction(FoldAllBlockCommentsAction);\r\nregisterEditorAction(FoldAllRegionsAction);\r\nregisterEditorAction(UnfoldAllRegionsAction);\r\nregisterEditorAction(ToggleFoldAction);\r\nfor (var i = 1; i <= 7; i++) {\r\n    registerInstantiatedEditorAction(new FoldLevelAction({\r\n        id: FoldLevelAction.ID(i),\r\n        label: nls.localize('foldLevelAction.label', \"Fold Level {0}\", i),\r\n        alias: \"Fold Level \" + i,\r\n        precondition: CONTEXT_FOLDING_ENABLED,\r\n        kbOpts: {\r\n            kbExpr: EditorContextKeys.editorTextFocus,\r\n            primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | (21 /* KEY_0 */ + i)),\r\n            weight: 100 /* EditorContrib */\r\n        }\r\n    }));\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { EditorZoom } from '../../common/config/editorZoom.js';\r\nvar EditorFontZoomIn = /** @class */ (function (_super) {\r\n    __extends(EditorFontZoomIn, _super);\r\n    function EditorFontZoomIn() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.fontZoomIn',\r\n            label: nls.localize('EditorFontZoomIn.label', \"Editor Font Zoom In\"),\r\n            alias: 'Editor Font Zoom In',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    EditorFontZoomIn.prototype.run = function (accessor, editor) {\r\n        EditorZoom.setZoomLevel(EditorZoom.getZoomLevel() + 1);\r\n    };\r\n    return EditorFontZoomIn;\r\n}(EditorAction));\r\nvar EditorFontZoomOut = /** @class */ (function (_super) {\r\n    __extends(EditorFontZoomOut, _super);\r\n    function EditorFontZoomOut() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.fontZoomOut',\r\n            label: nls.localize('EditorFontZoomOut.label', \"Editor Font Zoom Out\"),\r\n            alias: 'Editor Font Zoom Out',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    EditorFontZoomOut.prototype.run = function (accessor, editor) {\r\n        EditorZoom.setZoomLevel(EditorZoom.getZoomLevel() - 1);\r\n    };\r\n    return EditorFontZoomOut;\r\n}(EditorAction));\r\nvar EditorFontZoomReset = /** @class */ (function (_super) {\r\n    __extends(EditorFontZoomReset, _super);\r\n    function EditorFontZoomReset() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.fontZoomReset',\r\n            label: nls.localize('EditorFontZoomReset.label', \"Editor Font Zoom Reset\"),\r\n            alias: 'Editor Font Zoom Reset',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    EditorFontZoomReset.prototype.run = function (accessor, editor) {\r\n        EditorZoom.setZoomLevel(0);\r\n    };\r\n    return EditorFontZoomReset;\r\n}(EditorAction));\r\nregisterEditorAction(EditorFontZoomIn);\r\nregisterEditorAction(EditorFontZoomOut);\r\nregisterEditorAction(EditorFontZoomReset);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { EditOperation } from '../../common/core/editOperation.js';\r\nimport { Range } from '../../common/core/range.js';\r\nvar FormattingEdit = /** @class */ (function () {\r\n    function FormattingEdit() {\r\n    }\r\n    FormattingEdit._handleEolEdits = function (editor, edits) {\r\n        var newEol = undefined;\r\n        var singleEdits = [];\r\n        for (var _i = 0, edits_1 = edits; _i < edits_1.length; _i++) {\r\n            var edit = edits_1[_i];\r\n            if (typeof edit.eol === 'number') {\r\n                newEol = edit.eol;\r\n            }\r\n            if (edit.range && typeof edit.text === 'string') {\r\n                singleEdits.push(edit);\r\n            }\r\n        }\r\n        if (typeof newEol === 'number') {\r\n            if (editor.hasModel()) {\r\n                editor.getModel().pushEOL(newEol);\r\n            }\r\n        }\r\n        return singleEdits;\r\n    };\r\n    FormattingEdit._isFullModelReplaceEdit = function (editor, edit) {\r\n        if (!editor.hasModel()) {\r\n            return false;\r\n        }\r\n        var model = editor.getModel();\r\n        var editRange = model.validateRange(edit.range);\r\n        var fullModelRange = model.getFullModelRange();\r\n        return fullModelRange.equalsRange(editRange);\r\n    };\r\n    FormattingEdit.execute = function (editor, _edits) {\r\n        editor.pushUndoStop();\r\n        var edits = FormattingEdit._handleEolEdits(editor, _edits);\r\n        if (edits.length === 1 && FormattingEdit._isFullModelReplaceEdit(editor, edits[0])) {\r\n            // We use replace semantics and hope that markers stay put...\r\n            editor.executeEdits('formatEditsCommand', edits.map(function (edit) { return EditOperation.replace(Range.lift(edit.range), edit.text); }));\r\n        }\r\n        else {\r\n            editor.executeEdits('formatEditsCommand', edits.map(function (edit) { return EditOperation.replaceMove(Range.lift(edit.range), edit.text); }));\r\n        }\r\n        editor.pushUndoStop();\r\n    };\r\n    return FormattingEdit;\r\n}());\r\nexport { FormattingEdit };\r\n","/**\r\n * **!Do not construct directly!**\r\n *\r\n * **!Only static methods because it gets serialized!**\r\n *\r\n * This represents the \"canonical\" version for an extension identifier. Extension ids\r\n * have to be case-insensitive (due to the marketplace), but we must ensure case\r\n * preservation because the extension API is already public at this time.\r\n *\r\n * For example, given an extension with the publisher `\"Hello\"` and the name `\"World\"`,\r\n * its canonical extension identifier is `\"Hello.World\"`. This extension could be\r\n * referenced in some other extension's dependencies using the string `\"hello.world\"`.\r\n *\r\n * To make matters more complicated, an extension can optionally have an UUID. When two\r\n * extensions have the same UUID, they are considered equal even if their identifier is different.\r\n */\r\nvar ExtensionIdentifier = /** @class */ (function () {\r\n    function ExtensionIdentifier(value) {\r\n        this.value = value;\r\n        this._lower = value.toLowerCase();\r\n    }\r\n    /**\r\n     * Gives the value by which to index (for equality).\r\n     */\r\n    ExtensionIdentifier.toKey = function (id) {\r\n        if (typeof id === 'string') {\r\n            return id.toLowerCase();\r\n        }\r\n        return id._lower;\r\n    };\r\n    return ExtensionIdentifier;\r\n}());\r\nexport { ExtensionIdentifier };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\r\nimport { isNonEmptyArray } from '../../../base/common/arrays.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { illegalArgument, onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { EditorStateCancellationTokenSource, TextModelCancellationTokenSource } from '../../browser/core/editorState.js';\r\nimport { isCodeEditor } from '../../browser/editorBrowser.js';\r\nimport { registerLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { DocumentFormattingEditProviderRegistry, DocumentRangeFormattingEditProviderRegistry, OnTypeFormattingEditProviderRegistry } from '../../common/modes.js';\r\nimport { IEditorWorkerService } from '../../common/services/editorWorkerService.js';\r\nimport { IModelService } from '../../common/services/modelService.js';\r\nimport { FormattingEdit } from './formattingEdit.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { ExtensionIdentifier } from '../../../platform/extensions/common/extensions.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { LinkedList } from '../../../base/common/linkedList.js';\r\nexport function alertFormattingEdits(edits) {\r\n    edits = edits.filter(function (edit) { return edit.range; });\r\n    if (!edits.length) {\r\n        return;\r\n    }\r\n    var range = edits[0].range;\r\n    for (var i = 1; i < edits.length; i++) {\r\n        range = Range.plusRange(range, edits[i].range);\r\n    }\r\n    var startLineNumber = range.startLineNumber, endLineNumber = range.endLineNumber;\r\n    if (startLineNumber === endLineNumber) {\r\n        if (edits.length === 1) {\r\n            alert(nls.localize('hint11', \"Made 1 formatting edit on line {0}\", startLineNumber));\r\n        }\r\n        else {\r\n            alert(nls.localize('hintn1', \"Made {0} formatting edits on line {1}\", edits.length, startLineNumber));\r\n        }\r\n    }\r\n    else {\r\n        if (edits.length === 1) {\r\n            alert(nls.localize('hint1n', \"Made 1 formatting edit between lines {0} and {1}\", startLineNumber, endLineNumber));\r\n        }\r\n        else {\r\n            alert(nls.localize('hintnn', \"Made {0} formatting edits between lines {1} and {2}\", edits.length, startLineNumber, endLineNumber));\r\n        }\r\n    }\r\n}\r\nexport function getRealAndSyntheticDocumentFormattersOrdered(model) {\r\n    var result = [];\r\n    var seen = new Set();\r\n    // (1) add all document formatter\r\n    var docFormatter = DocumentFormattingEditProviderRegistry.ordered(model);\r\n    for (var _i = 0, docFormatter_1 = docFormatter; _i < docFormatter_1.length; _i++) {\r\n        var formatter = docFormatter_1[_i];\r\n        result.push(formatter);\r\n        if (formatter.extensionId) {\r\n            seen.add(ExtensionIdentifier.toKey(formatter.extensionId));\r\n        }\r\n    }\r\n    // (2) add all range formatter as document formatter (unless the same extension already did that)\r\n    var rangeFormatter = DocumentRangeFormattingEditProviderRegistry.ordered(model);\r\n    var _loop_1 = function (formatter) {\r\n        if (formatter.extensionId) {\r\n            if (seen.has(ExtensionIdentifier.toKey(formatter.extensionId))) {\r\n                return \"continue\";\r\n            }\r\n            seen.add(ExtensionIdentifier.toKey(formatter.extensionId));\r\n        }\r\n        result.push({\r\n            displayName: formatter.displayName,\r\n            extensionId: formatter.extensionId,\r\n            provideDocumentFormattingEdits: function (model, options, token) {\r\n                return formatter.provideDocumentRangeFormattingEdits(model, model.getFullModelRange(), options, token);\r\n            }\r\n        });\r\n    };\r\n    for (var _a = 0, rangeFormatter_1 = rangeFormatter; _a < rangeFormatter_1.length; _a++) {\r\n        var formatter = rangeFormatter_1[_a];\r\n        _loop_1(formatter);\r\n    }\r\n    return result;\r\n}\r\nvar FormattingConflicts = /** @class */ (function () {\r\n    function FormattingConflicts() {\r\n    }\r\n    FormattingConflicts.select = function (formatter, document, mode) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var selector;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (formatter.length === 0) {\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        selector = FormattingConflicts._selectors.iterator().next().value;\r\n                        if (!selector) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, selector(formatter, document, mode)];\r\n                    case 1: return [2 /*return*/, _a.sent()];\r\n                    case 2: return [2 /*return*/, formatter[0]];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    FormattingConflicts._selectors = new LinkedList();\r\n    return FormattingConflicts;\r\n}());\r\nexport { FormattingConflicts };\r\nexport function formatDocumentRangeWithSelectedProvider(accessor, editorOrModel, range, mode, token) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var instaService, model, provider, selected;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    instaService = accessor.get(IInstantiationService);\r\n                    model = isCodeEditor(editorOrModel) ? editorOrModel.getModel() : editorOrModel;\r\n                    provider = DocumentRangeFormattingEditProviderRegistry.ordered(model);\r\n                    return [4 /*yield*/, FormattingConflicts.select(provider, model, mode)];\r\n                case 1:\r\n                    selected = _a.sent();\r\n                    if (!selected) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, instaService.invokeFunction(formatDocumentRangeWithProvider, selected, editorOrModel, range, token)];\r\n                case 2:\r\n                    _a.sent();\r\n                    _a.label = 3;\r\n                case 3: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nexport function formatDocumentRangeWithProvider(accessor, provider, editorOrModel, range, token) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var workerService, model, cts, edits, rawEdits, range_1, initialSelection_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    workerService = accessor.get(IEditorWorkerService);\r\n                    if (isCodeEditor(editorOrModel)) {\r\n                        model = editorOrModel.getModel();\r\n                        cts = new EditorStateCancellationTokenSource(editorOrModel, 1 /* Value */ | 4 /* Position */, token);\r\n                    }\r\n                    else {\r\n                        model = editorOrModel;\r\n                        cts = new TextModelCancellationTokenSource(editorOrModel, token);\r\n                    }\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, , 4, 5]);\r\n                    return [4 /*yield*/, provider.provideDocumentRangeFormattingEdits(model, range, model.getFormattingOptions(), cts.token)];\r\n                case 2:\r\n                    rawEdits = _a.sent();\r\n                    return [4 /*yield*/, workerService.computeMoreMinimalEdits(model.uri, rawEdits)];\r\n                case 3:\r\n                    edits = _a.sent();\r\n                    if (cts.token.isCancellationRequested) {\r\n                        return [2 /*return*/, true];\r\n                    }\r\n                    return [3 /*break*/, 5];\r\n                case 4:\r\n                    cts.dispose();\r\n                    return [7 /*endfinally*/];\r\n                case 5:\r\n                    if (!edits || edits.length === 0) {\r\n                        return [2 /*return*/, false];\r\n                    }\r\n                    if (isCodeEditor(editorOrModel)) {\r\n                        // use editor to apply edits\r\n                        FormattingEdit.execute(editorOrModel, edits);\r\n                        alertFormattingEdits(edits);\r\n                        editorOrModel.pushUndoStop();\r\n                        editorOrModel.focus();\r\n                        editorOrModel.revealPositionInCenterIfOutsideViewport(editorOrModel.getPosition(), 1 /* Immediate */);\r\n                    }\r\n                    else {\r\n                        range_1 = edits[0].range;\r\n                        initialSelection_1 = new Selection(range_1.startLineNumber, range_1.startColumn, range_1.endLineNumber, range_1.endColumn);\r\n                        model.pushEditOperations([initialSelection_1], edits.map(function (edit) {\r\n                            return {\r\n                                text: edit.text,\r\n                                range: Range.lift(edit.range),\r\n                                forceMoveMarkers: true\r\n                            };\r\n                        }), function (undoEdits) {\r\n                            for (var _i = 0, undoEdits_1 = undoEdits; _i < undoEdits_1.length; _i++) {\r\n                                var range_2 = undoEdits_1[_i].range;\r\n                                if (Range.areIntersectingOrTouching(range_2, initialSelection_1)) {\r\n                                    return [new Selection(range_2.startLineNumber, range_2.startColumn, range_2.endLineNumber, range_2.endColumn)];\r\n                                }\r\n                            }\r\n                            return null;\r\n                        });\r\n                    }\r\n                    return [2 /*return*/, true];\r\n            }\r\n        });\r\n    });\r\n}\r\nexport function formatDocumentWithSelectedProvider(accessor, editorOrModel, mode, token) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var instaService, model, provider, selected;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    instaService = accessor.get(IInstantiationService);\r\n                    model = isCodeEditor(editorOrModel) ? editorOrModel.getModel() : editorOrModel;\r\n                    provider = getRealAndSyntheticDocumentFormattersOrdered(model);\r\n                    return [4 /*yield*/, FormattingConflicts.select(provider, model, mode)];\r\n                case 1:\r\n                    selected = _a.sent();\r\n                    if (!selected) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, instaService.invokeFunction(formatDocumentWithProvider, selected, editorOrModel, mode, token)];\r\n                case 2:\r\n                    _a.sent();\r\n                    _a.label = 3;\r\n                case 3: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nexport function formatDocumentWithProvider(accessor, provider, editorOrModel, mode, token) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var workerService, model, cts, edits, rawEdits, range, initialSelection_2;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    workerService = accessor.get(IEditorWorkerService);\r\n                    if (isCodeEditor(editorOrModel)) {\r\n                        model = editorOrModel.getModel();\r\n                        cts = new EditorStateCancellationTokenSource(editorOrModel, 1 /* Value */ | 4 /* Position */, token);\r\n                    }\r\n                    else {\r\n                        model = editorOrModel;\r\n                        cts = new TextModelCancellationTokenSource(editorOrModel, token);\r\n                    }\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, , 4, 5]);\r\n                    return [4 /*yield*/, provider.provideDocumentFormattingEdits(model, model.getFormattingOptions(), cts.token)];\r\n                case 2:\r\n                    rawEdits = _a.sent();\r\n                    return [4 /*yield*/, workerService.computeMoreMinimalEdits(model.uri, rawEdits)];\r\n                case 3:\r\n                    edits = _a.sent();\r\n                    if (cts.token.isCancellationRequested) {\r\n                        return [2 /*return*/, true];\r\n                    }\r\n                    return [3 /*break*/, 5];\r\n                case 4:\r\n                    cts.dispose();\r\n                    return [7 /*endfinally*/];\r\n                case 5:\r\n                    if (!edits || edits.length === 0) {\r\n                        return [2 /*return*/, false];\r\n                    }\r\n                    if (isCodeEditor(editorOrModel)) {\r\n                        // use editor to apply edits\r\n                        FormattingEdit.execute(editorOrModel, edits);\r\n                        if (mode !== 2 /* Silent */) {\r\n                            alertFormattingEdits(edits);\r\n                            editorOrModel.pushUndoStop();\r\n                            editorOrModel.focus();\r\n                            editorOrModel.revealPositionInCenterIfOutsideViewport(editorOrModel.getPosition(), 1 /* Immediate */);\r\n                        }\r\n                    }\r\n                    else {\r\n                        range = edits[0].range;\r\n                        initialSelection_2 = new Selection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn);\r\n                        model.pushEditOperations([initialSelection_2], edits.map(function (edit) {\r\n                            return {\r\n                                text: edit.text,\r\n                                range: Range.lift(edit.range),\r\n                                forceMoveMarkers: true\r\n                            };\r\n                        }), function (undoEdits) {\r\n                            for (var _i = 0, undoEdits_2 = undoEdits; _i < undoEdits_2.length; _i++) {\r\n                                var range_3 = undoEdits_2[_i].range;\r\n                                if (Range.areIntersectingOrTouching(range_3, initialSelection_2)) {\r\n                                    return [new Selection(range_3.startLineNumber, range_3.startColumn, range_3.endLineNumber, range_3.endColumn)];\r\n                                }\r\n                            }\r\n                            return null;\r\n                        });\r\n                    }\r\n                    return [2 /*return*/, true];\r\n            }\r\n        });\r\n    });\r\n}\r\nexport function getDocumentRangeFormattingEditsUntilResult(workerService, model, range, options, token) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var providers, _i, providers_1, provider, rawEdits;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    providers = DocumentRangeFormattingEditProviderRegistry.ordered(model);\r\n                    _i = 0, providers_1 = providers;\r\n                    _a.label = 1;\r\n                case 1:\r\n                    if (!(_i < providers_1.length)) return [3 /*break*/, 5];\r\n                    provider = providers_1[_i];\r\n                    return [4 /*yield*/, Promise.resolve(provider.provideDocumentRangeFormattingEdits(model, range, options, token)).catch(onUnexpectedExternalError)];\r\n                case 2:\r\n                    rawEdits = _a.sent();\r\n                    if (!isNonEmptyArray(rawEdits)) return [3 /*break*/, 4];\r\n                    return [4 /*yield*/, workerService.computeMoreMinimalEdits(model.uri, rawEdits)];\r\n                case 3: return [2 /*return*/, _a.sent()];\r\n                case 4:\r\n                    _i++;\r\n                    return [3 /*break*/, 1];\r\n                case 5: return [2 /*return*/, undefined];\r\n            }\r\n        });\r\n    });\r\n}\r\nexport function getDocumentFormattingEditsUntilResult(workerService, model, options, token) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var providers, _i, providers_2, provider, rawEdits;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    providers = getRealAndSyntheticDocumentFormattersOrdered(model);\r\n                    _i = 0, providers_2 = providers;\r\n                    _a.label = 1;\r\n                case 1:\r\n                    if (!(_i < providers_2.length)) return [3 /*break*/, 5];\r\n                    provider = providers_2[_i];\r\n                    return [4 /*yield*/, Promise.resolve(provider.provideDocumentFormattingEdits(model, options, token)).catch(onUnexpectedExternalError)];\r\n                case 2:\r\n                    rawEdits = _a.sent();\r\n                    if (!isNonEmptyArray(rawEdits)) return [3 /*break*/, 4];\r\n                    return [4 /*yield*/, workerService.computeMoreMinimalEdits(model.uri, rawEdits)];\r\n                case 3: return [2 /*return*/, _a.sent()];\r\n                case 4:\r\n                    _i++;\r\n                    return [3 /*break*/, 1];\r\n                case 5: return [2 /*return*/, undefined];\r\n            }\r\n        });\r\n    });\r\n}\r\nexport function getOnTypeFormattingEdits(workerService, model, position, ch, options) {\r\n    var providers = OnTypeFormattingEditProviderRegistry.ordered(model);\r\n    if (providers.length === 0) {\r\n        return Promise.resolve(undefined);\r\n    }\r\n    if (providers[0].autoFormatTriggerCharacters.indexOf(ch) < 0) {\r\n        return Promise.resolve(undefined);\r\n    }\r\n    return Promise.resolve(providers[0].provideOnTypeFormattingEdits(model, position, ch, options, CancellationToken.None)).catch(onUnexpectedExternalError).then(function (edits) {\r\n        return workerService.computeMoreMinimalEdits(model.uri, edits);\r\n    });\r\n}\r\nregisterLanguageCommand('_executeFormatRangeProvider', function (accessor, args) {\r\n    var resource = args.resource, range = args.range, options = args.options;\r\n    if (!(resource instanceof URI) || !Range.isIRange(range)) {\r\n        throw illegalArgument();\r\n    }\r\n    var model = accessor.get(IModelService).getModel(resource);\r\n    if (!model) {\r\n        throw illegalArgument('resource');\r\n    }\r\n    return getDocumentRangeFormattingEditsUntilResult(accessor.get(IEditorWorkerService), model, Range.lift(range), options, CancellationToken.None);\r\n});\r\nregisterLanguageCommand('_executeFormatDocumentProvider', function (accessor, args) {\r\n    var resource = args.resource, options = args.options;\r\n    if (!(resource instanceof URI)) {\r\n        throw illegalArgument('resource');\r\n    }\r\n    var model = accessor.get(IModelService).getModel(resource);\r\n    if (!model) {\r\n        throw illegalArgument('resource');\r\n    }\r\n    return getDocumentFormattingEditsUntilResult(accessor.get(IEditorWorkerService), model, options, CancellationToken.None);\r\n});\r\nregisterLanguageCommand('_executeFormatOnTypeProvider', function (accessor, args) {\r\n    var resource = args.resource, position = args.position, ch = args.ch, options = args.options;\r\n    if (!(resource instanceof URI) || !Position.isIPosition(position) || typeof ch !== 'string') {\r\n        throw illegalArgument();\r\n    }\r\n    var model = accessor.get(IModelService).getModel(resource);\r\n    if (!model) {\r\n        throw illegalArgument('resource');\r\n    }\r\n    return getOnTypeFormattingEdits(accessor.get(IEditorWorkerService), model, Position.lift(position), ch, options);\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { isNonEmptyArray } from '../../../base/common/arrays.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { KeyChord } from '../../../base/common/keyCodes.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport { CharacterSet } from '../../common/core/characterClassifier.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { DocumentRangeFormattingEditProviderRegistry, OnTypeFormattingEditProviderRegistry } from '../../common/modes.js';\r\nimport { IEditorWorkerService } from '../../common/services/editorWorkerService.js';\r\nimport { getOnTypeFormattingEdits, alertFormattingEdits, formatDocumentRangeWithSelectedProvider, formatDocumentWithSelectedProvider } from './format.js';\r\nimport { FormattingEdit } from './formattingEdit.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { CommandsRegistry, ICommandService } from '../../../platform/commands/common/commands.js';\r\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nvar FormatOnType = /** @class */ (function () {\r\n    function FormatOnType(editor, _workerService) {\r\n        var _this = this;\r\n        this._workerService = _workerService;\r\n        this._callOnDispose = new DisposableStore();\r\n        this._callOnModel = new DisposableStore();\r\n        this._editor = editor;\r\n        this._callOnDispose.add(editor.onDidChangeConfiguration(function () { return _this._update(); }));\r\n        this._callOnDispose.add(editor.onDidChangeModel(function () { return _this._update(); }));\r\n        this._callOnDispose.add(editor.onDidChangeModelLanguage(function () { return _this._update(); }));\r\n        this._callOnDispose.add(OnTypeFormattingEditProviderRegistry.onDidChange(this._update, this));\r\n    }\r\n    FormatOnType.prototype.dispose = function () {\r\n        this._callOnDispose.dispose();\r\n        this._callOnModel.dispose();\r\n    };\r\n    FormatOnType.prototype._update = function () {\r\n        var _this = this;\r\n        // clean up\r\n        this._callOnModel.clear();\r\n        // we are disabled\r\n        if (!this._editor.getOption(37 /* formatOnType */)) {\r\n            return;\r\n        }\r\n        // no model\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        // no support\r\n        var support = OnTypeFormattingEditProviderRegistry.ordered(model)[0];\r\n        if (!support || !support.autoFormatTriggerCharacters) {\r\n            return;\r\n        }\r\n        // register typing listeners that will trigger the format\r\n        var triggerChars = new CharacterSet();\r\n        for (var _i = 0, _a = support.autoFormatTriggerCharacters; _i < _a.length; _i++) {\r\n            var ch = _a[_i];\r\n            triggerChars.add(ch.charCodeAt(0));\r\n        }\r\n        this._callOnModel.add(this._editor.onDidType(function (text) {\r\n            var lastCharCode = text.charCodeAt(text.length - 1);\r\n            if (triggerChars.has(lastCharCode)) {\r\n                _this._trigger(String.fromCharCode(lastCharCode));\r\n            }\r\n        }));\r\n    };\r\n    FormatOnType.prototype._trigger = function (ch) {\r\n        var _this = this;\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        if (this._editor.getSelections().length > 1) {\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var position = this._editor.getPosition();\r\n        var canceled = false;\r\n        // install a listener that checks if edits happens before the\r\n        // position on which we format right now. If so, we won't\r\n        // apply the format edits\r\n        var unbind = this._editor.onDidChangeModelContent(function (e) {\r\n            if (e.isFlush) {\r\n                // a model.setValue() was called\r\n                // cancel only once\r\n                canceled = true;\r\n                unbind.dispose();\r\n                return;\r\n            }\r\n            for (var i = 0, len = e.changes.length; i < len; i++) {\r\n                var change = e.changes[i];\r\n                if (change.range.endLineNumber <= position.lineNumber) {\r\n                    // cancel only once\r\n                    canceled = true;\r\n                    unbind.dispose();\r\n                    return;\r\n                }\r\n            }\r\n        });\r\n        getOnTypeFormattingEdits(this._workerService, model, position, ch, model.getFormattingOptions()).then(function (edits) {\r\n            unbind.dispose();\r\n            if (canceled) {\r\n                return;\r\n            }\r\n            if (isNonEmptyArray(edits)) {\r\n                FormattingEdit.execute(_this._editor, edits);\r\n                alertFormattingEdits(edits);\r\n            }\r\n        }, function (err) {\r\n            unbind.dispose();\r\n            throw err;\r\n        });\r\n    };\r\n    FormatOnType.ID = 'editor.contrib.autoFormat';\r\n    FormatOnType = __decorate([\r\n        __param(1, IEditorWorkerService)\r\n    ], FormatOnType);\r\n    return FormatOnType;\r\n}());\r\nvar FormatOnPaste = /** @class */ (function () {\r\n    function FormatOnPaste(editor, _instantiationService) {\r\n        var _this = this;\r\n        this.editor = editor;\r\n        this._instantiationService = _instantiationService;\r\n        this._callOnDispose = new DisposableStore();\r\n        this._callOnModel = new DisposableStore();\r\n        this._callOnDispose.add(editor.onDidChangeConfiguration(function () { return _this._update(); }));\r\n        this._callOnDispose.add(editor.onDidChangeModel(function () { return _this._update(); }));\r\n        this._callOnDispose.add(editor.onDidChangeModelLanguage(function () { return _this._update(); }));\r\n        this._callOnDispose.add(DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update, this));\r\n    }\r\n    FormatOnPaste.prototype.dispose = function () {\r\n        this._callOnDispose.dispose();\r\n        this._callOnModel.dispose();\r\n    };\r\n    FormatOnPaste.prototype._update = function () {\r\n        var _this = this;\r\n        // clean up\r\n        this._callOnModel.clear();\r\n        // we are disabled\r\n        if (!this.editor.getOption(36 /* formatOnPaste */)) {\r\n            return;\r\n        }\r\n        // no model\r\n        if (!this.editor.hasModel()) {\r\n            return;\r\n        }\r\n        // no formatter\r\n        if (!DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())) {\r\n            return;\r\n        }\r\n        this._callOnModel.add(this.editor.onDidPaste(function (range) { return _this._trigger(range); }));\r\n    };\r\n    FormatOnPaste.prototype._trigger = function (range) {\r\n        if (!this.editor.hasModel()) {\r\n            return;\r\n        }\r\n        if (this.editor.getSelections().length > 1) {\r\n            return;\r\n        }\r\n        this._instantiationService.invokeFunction(formatDocumentRangeWithSelectedProvider, this.editor, range, 2 /* Silent */, CancellationToken.None).catch(onUnexpectedError);\r\n    };\r\n    FormatOnPaste.ID = 'editor.contrib.formatOnPaste';\r\n    FormatOnPaste = __decorate([\r\n        __param(1, IInstantiationService)\r\n    ], FormatOnPaste);\r\n    return FormatOnPaste;\r\n}());\r\nvar FormatDocumentAction = /** @class */ (function (_super) {\r\n    __extends(FormatDocumentAction, _super);\r\n    function FormatDocumentAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.formatDocument',\r\n            label: nls.localize('formatDocument.label', \"Format Document\"),\r\n            alias: 'Format Document',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasDocumentFormattingProvider),\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, EditorContextKeys.hasDocumentFormattingProvider),\r\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 36 /* KEY_F */,\r\n                linux: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 39 /* KEY_I */ },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                when: EditorContextKeys.hasDocumentFormattingProvider,\r\n                group: '1_modification',\r\n                order: 1.3\r\n            }\r\n        }) || this;\r\n    }\r\n    FormatDocumentAction.prototype.run = function (accessor, editor) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var instaService;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!editor.hasModel()) return [3 /*break*/, 2];\r\n                        instaService = accessor.get(IInstantiationService);\r\n                        return [4 /*yield*/, instaService.invokeFunction(formatDocumentWithSelectedProvider, editor, 1 /* Explicit */, CancellationToken.None)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return FormatDocumentAction;\r\n}(EditorAction));\r\nvar FormatSelectionAction = /** @class */ (function (_super) {\r\n    __extends(FormatSelectionAction, _super);\r\n    function FormatSelectionAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.formatSelection',\r\n            label: nls.localize('formatSelection.label', \"Format Selection\"),\r\n            alias: 'Format Selection',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasDocumentSelectionFormattingProvider),\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, EditorContextKeys.hasDocumentSelectionFormattingProvider),\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 36 /* KEY_F */),\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                when: ContextKeyExpr.and(EditorContextKeys.hasDocumentSelectionFormattingProvider, EditorContextKeys.hasNonEmptySelection),\r\n                group: '1_modification',\r\n                order: 1.31\r\n            }\r\n        }) || this;\r\n    }\r\n    FormatSelectionAction.prototype.run = function (accessor, editor) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var instaService, model, range;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!editor.hasModel()) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        instaService = accessor.get(IInstantiationService);\r\n                        model = editor.getModel();\r\n                        range = editor.getSelection();\r\n                        if (range.isEmpty()) {\r\n                            range = new Range(range.startLineNumber, 1, range.startLineNumber, model.getLineMaxColumn(range.startLineNumber));\r\n                        }\r\n                        return [4 /*yield*/, instaService.invokeFunction(formatDocumentRangeWithSelectedProvider, editor, range, 1 /* Explicit */, CancellationToken.None)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return FormatSelectionAction;\r\n}(EditorAction));\r\nregisterEditorContribution(FormatOnType.ID, FormatOnType);\r\nregisterEditorContribution(FormatOnPaste.ID, FormatOnPaste);\r\nregisterEditorAction(FormatDocumentAction);\r\nregisterEditorAction(FormatSelectionAction);\r\n// this is the old format action that does both (format document OR format selection)\r\n// and we keep it here such that existing keybinding configurations etc will still work\r\nCommandsRegistry.registerCommand('editor.action.format', function (accessor) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var editor, commandService;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                editor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\r\n                if (!editor || !editor.hasModel()) {\r\n                    return [2 /*return*/];\r\n                }\r\n                commandService = accessor.get(ICommandService);\r\n                if (!editor.getSelection().isEmpty()) return [3 /*break*/, 2];\r\n                return [4 /*yield*/, commandService.executeCommand('editor.action.formatDocument')];\r\n            case 1:\r\n                _a.sent();\r\n                return [3 /*break*/, 4];\r\n            case 2: return [4 /*yield*/, commandService.executeCommand('editor.action.formatSelection')];\r\n            case 3:\r\n                _a.sent();\r\n                _a.label = 4;\r\n            case 4: return [2 /*return*/];\r\n        }\r\n    });\r\n}); });\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as objects from '../../../base/common/objects.js';\r\nimport { ICodeEditorService } from '../services/codeEditorService.js';\r\nimport { CodeEditorWidget } from './codeEditorWidget.js';\r\nimport { ICommandService } from '../../../platform/commands/common/commands.js';\r\nimport { IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\r\nimport { IAccessibilityService } from '../../../platform/accessibility/common/accessibility.js';\r\nvar EmbeddedCodeEditorWidget = /** @class */ (function (_super) {\r\n    __extends(EmbeddedCodeEditorWidget, _super);\r\n    function EmbeddedCodeEditorWidget(domElement, options, parentEditor, instantiationService, codeEditorService, commandService, contextKeyService, themeService, notificationService, accessibilityService) {\r\n        var _this = _super.call(this, domElement, parentEditor.getRawOptions(), {}, instantiationService, codeEditorService, commandService, contextKeyService, themeService, notificationService, accessibilityService) || this;\r\n        _this._parentEditor = parentEditor;\r\n        _this._overwriteOptions = options;\r\n        // Overwrite parent's options\r\n        _super.prototype.updateOptions.call(_this, _this._overwriteOptions);\r\n        _this._register(parentEditor.onDidChangeConfiguration(function (e) { return _this._onParentConfigurationChanged(e); }));\r\n        return _this;\r\n    }\r\n    EmbeddedCodeEditorWidget.prototype.getParentEditor = function () {\r\n        return this._parentEditor;\r\n    };\r\n    EmbeddedCodeEditorWidget.prototype._onParentConfigurationChanged = function (e) {\r\n        _super.prototype.updateOptions.call(this, this._parentEditor.getRawOptions());\r\n        _super.prototype.updateOptions.call(this, this._overwriteOptions);\r\n    };\r\n    EmbeddedCodeEditorWidget.prototype.updateOptions = function (newOptions) {\r\n        objects.mixin(this._overwriteOptions, newOptions, true);\r\n        _super.prototype.updateOptions.call(this, this._overwriteOptions);\r\n    };\r\n    EmbeddedCodeEditorWidget = __decorate([\r\n        __param(3, IInstantiationService),\r\n        __param(4, ICodeEditorService),\r\n        __param(5, ICommandService),\r\n        __param(6, IContextKeyService),\r\n        __param(7, IThemeService),\r\n        __param(8, INotificationService),\r\n        __param(9, IAccessibilityService)\r\n    ], EmbeddedCodeEditorWidget);\r\n    return EmbeddedCodeEditorWidget;\r\n}(CodeEditorWidget));\r\nexport { EmbeddedCodeEditorWidget };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar IdGenerator = /** @class */ (function () {\r\n    function IdGenerator(prefix) {\r\n        this._prefix = prefix;\r\n        this._lastId = 0;\r\n    }\r\n    IdGenerator.prototype.nextId = function () {\r\n        return this._prefix + (++this._lastId);\r\n    };\r\n    return IdGenerator;\r\n}());\r\nexport { IdGenerator };\r\nexport var defaultGenerator = new IdGenerator('id#');\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './zoneWidget.css';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { Sash } from '../../../base/browser/ui/sash/sash.js';\r\nimport { Color, RGBA } from '../../../base/common/color.js';\r\nimport { IdGenerator } from '../../../base/common/idGenerator.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport * as objects from '../../../base/common/objects.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nvar defaultColor = new Color(new RGBA(0, 122, 204));\r\nvar defaultOptions = {\r\n    showArrow: true,\r\n    showFrame: true,\r\n    className: '',\r\n    frameColor: defaultColor,\r\n    arrowColor: defaultColor,\r\n    keepEditorSelection: false\r\n};\r\nvar WIDGET_ID = 'vs.editor.contrib.zoneWidget';\r\nvar ViewZoneDelegate = /** @class */ (function () {\r\n    function ViewZoneDelegate(domNode, afterLineNumber, afterColumn, heightInLines, onDomNodeTop, onComputedHeight) {\r\n        this.id = ''; // A valid zone id should be greater than 0\r\n        this.domNode = domNode;\r\n        this.afterLineNumber = afterLineNumber;\r\n        this.afterColumn = afterColumn;\r\n        this.heightInLines = heightInLines;\r\n        this._onDomNodeTop = onDomNodeTop;\r\n        this._onComputedHeight = onComputedHeight;\r\n    }\r\n    ViewZoneDelegate.prototype.onDomNodeTop = function (top) {\r\n        this._onDomNodeTop(top);\r\n    };\r\n    ViewZoneDelegate.prototype.onComputedHeight = function (height) {\r\n        this._onComputedHeight(height);\r\n    };\r\n    return ViewZoneDelegate;\r\n}());\r\nexport { ViewZoneDelegate };\r\nvar OverlayWidgetDelegate = /** @class */ (function () {\r\n    function OverlayWidgetDelegate(id, domNode) {\r\n        this._id = id;\r\n        this._domNode = domNode;\r\n    }\r\n    OverlayWidgetDelegate.prototype.getId = function () {\r\n        return this._id;\r\n    };\r\n    OverlayWidgetDelegate.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    OverlayWidgetDelegate.prototype.getPosition = function () {\r\n        return null;\r\n    };\r\n    return OverlayWidgetDelegate;\r\n}());\r\nexport { OverlayWidgetDelegate };\r\nvar Arrow = /** @class */ (function () {\r\n    function Arrow(_editor) {\r\n        this._editor = _editor;\r\n        this._ruleName = Arrow._IdGenerator.nextId();\r\n        this._decorations = [];\r\n        this._color = null;\r\n        this._height = -1;\r\n        //\r\n    }\r\n    Arrow.prototype.dispose = function () {\r\n        this.hide();\r\n        dom.removeCSSRulesContainingSelector(this._ruleName);\r\n    };\r\n    Object.defineProperty(Arrow.prototype, \"color\", {\r\n        set: function (value) {\r\n            if (this._color !== value) {\r\n                this._color = value;\r\n                this._updateStyle();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Arrow.prototype, \"height\", {\r\n        set: function (value) {\r\n            if (this._height !== value) {\r\n                this._height = value;\r\n                this._updateStyle();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Arrow.prototype._updateStyle = function () {\r\n        dom.removeCSSRulesContainingSelector(this._ruleName);\r\n        dom.createCSSRule(\".monaco-editor \" + this._ruleName, \"border-style: solid; border-color: transparent; border-bottom-color: \" + this._color + \"; border-width: \" + this._height + \"px; bottom: -\" + this._height + \"px; margin-left: -\" + this._height + \"px; \");\r\n    };\r\n    Arrow.prototype.show = function (where) {\r\n        this._decorations = this._editor.deltaDecorations(this._decorations, [{ range: Range.fromPositions(where), options: { className: this._ruleName, stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ } }]);\r\n    };\r\n    Arrow.prototype.hide = function () {\r\n        this._editor.deltaDecorations(this._decorations, []);\r\n    };\r\n    Arrow._IdGenerator = new IdGenerator('.arrow-decoration-');\r\n    return Arrow;\r\n}());\r\nvar ZoneWidget = /** @class */ (function () {\r\n    function ZoneWidget(editor, options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = {}; }\r\n        this._arrow = null;\r\n        this._overlayWidget = null;\r\n        this._resizeSash = null;\r\n        this._positionMarkerId = [];\r\n        this._viewZone = null;\r\n        this._disposables = new DisposableStore();\r\n        this.container = null;\r\n        this._isShowing = false;\r\n        this.editor = editor;\r\n        this.options = objects.deepClone(options);\r\n        objects.mixin(this.options, defaultOptions, false);\r\n        this.domNode = document.createElement('div');\r\n        if (!this.options.isAccessible) {\r\n            this.domNode.setAttribute('aria-hidden', 'true');\r\n            this.domNode.setAttribute('role', 'presentation');\r\n        }\r\n        this._disposables.add(this.editor.onDidLayoutChange(function (info) {\r\n            var width = _this._getWidth(info);\r\n            _this.domNode.style.width = width + 'px';\r\n            _this.domNode.style.left = _this._getLeft(info) + 'px';\r\n            _this._onWidth(width);\r\n        }));\r\n    }\r\n    ZoneWidget.prototype.dispose = function () {\r\n        var _this = this;\r\n        if (this._overlayWidget) {\r\n            this.editor.removeOverlayWidget(this._overlayWidget);\r\n            this._overlayWidget = null;\r\n        }\r\n        if (this._viewZone) {\r\n            this.editor.changeViewZones(function (accessor) {\r\n                if (_this._viewZone) {\r\n                    accessor.removeZone(_this._viewZone.id);\r\n                }\r\n                _this._viewZone = null;\r\n            });\r\n        }\r\n        this.editor.deltaDecorations(this._positionMarkerId, []);\r\n        this._positionMarkerId = [];\r\n        this._disposables.dispose();\r\n    };\r\n    ZoneWidget.prototype.create = function () {\r\n        dom.addClass(this.domNode, 'zone-widget');\r\n        if (this.options.className) {\r\n            dom.addClass(this.domNode, this.options.className);\r\n        }\r\n        this.container = document.createElement('div');\r\n        dom.addClass(this.container, 'zone-widget-container');\r\n        this.domNode.appendChild(this.container);\r\n        if (this.options.showArrow) {\r\n            this._arrow = new Arrow(this.editor);\r\n            this._disposables.add(this._arrow);\r\n        }\r\n        this._fillContainer(this.container);\r\n        this._initSash();\r\n        this._applyStyles();\r\n    };\r\n    ZoneWidget.prototype.style = function (styles) {\r\n        if (styles.frameColor) {\r\n            this.options.frameColor = styles.frameColor;\r\n        }\r\n        if (styles.arrowColor) {\r\n            this.options.arrowColor = styles.arrowColor;\r\n        }\r\n        this._applyStyles();\r\n    };\r\n    ZoneWidget.prototype._applyStyles = function () {\r\n        if (this.container && this.options.frameColor) {\r\n            var frameColor = this.options.frameColor.toString();\r\n            this.container.style.borderTopColor = frameColor;\r\n            this.container.style.borderBottomColor = frameColor;\r\n        }\r\n        if (this._arrow && this.options.arrowColor) {\r\n            var arrowColor = this.options.arrowColor.toString();\r\n            this._arrow.color = arrowColor;\r\n        }\r\n    };\r\n    ZoneWidget.prototype._getWidth = function (info) {\r\n        return info.width - info.minimapWidth - info.verticalScrollbarWidth;\r\n    };\r\n    ZoneWidget.prototype._getLeft = function (info) {\r\n        // If minimap is to the left, we move beyond it\r\n        if (info.minimapWidth > 0 && info.minimapLeft === 0) {\r\n            return info.minimapWidth;\r\n        }\r\n        return 0;\r\n    };\r\n    ZoneWidget.prototype._onViewZoneTop = function (top) {\r\n        this.domNode.style.top = top + 'px';\r\n    };\r\n    ZoneWidget.prototype._onViewZoneHeight = function (height) {\r\n        this.domNode.style.height = height + \"px\";\r\n        if (this.container) {\r\n            var containerHeight = height - this._decoratingElementsHeight();\r\n            this.container.style.height = containerHeight + \"px\";\r\n            var layoutInfo = this.editor.getLayoutInfo();\r\n            this._doLayout(containerHeight, this._getWidth(layoutInfo));\r\n        }\r\n        if (this._resizeSash) {\r\n            this._resizeSash.layout();\r\n        }\r\n    };\r\n    Object.defineProperty(ZoneWidget.prototype, \"position\", {\r\n        get: function () {\r\n            var id = this._positionMarkerId[0];\r\n            if (!id) {\r\n                return undefined;\r\n            }\r\n            var model = this.editor.getModel();\r\n            if (!model) {\r\n                return undefined;\r\n            }\r\n            var range = model.getDecorationRange(id);\r\n            if (!range) {\r\n                return undefined;\r\n            }\r\n            return range.getStartPosition();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ZoneWidget.prototype.show = function (rangeOrPos, heightInLines) {\r\n        var range = Range.isIRange(rangeOrPos) ? Range.lift(rangeOrPos) : Range.fromPositions(rangeOrPos);\r\n        this._isShowing = true;\r\n        this._showImpl(range, heightInLines);\r\n        this._isShowing = false;\r\n        this._positionMarkerId = this.editor.deltaDecorations(this._positionMarkerId, [{ range: range, options: ModelDecorationOptions.EMPTY }]);\r\n    };\r\n    ZoneWidget.prototype.hide = function () {\r\n        var _this = this;\r\n        if (this._viewZone) {\r\n            this.editor.changeViewZones(function (accessor) {\r\n                if (_this._viewZone) {\r\n                    accessor.removeZone(_this._viewZone.id);\r\n                }\r\n            });\r\n            this._viewZone = null;\r\n        }\r\n        if (this._overlayWidget) {\r\n            this.editor.removeOverlayWidget(this._overlayWidget);\r\n            this._overlayWidget = null;\r\n        }\r\n        if (this._arrow) {\r\n            this._arrow.hide();\r\n        }\r\n    };\r\n    ZoneWidget.prototype._decoratingElementsHeight = function () {\r\n        var lineHeight = this.editor.getOption(47 /* lineHeight */);\r\n        var result = 0;\r\n        if (this.options.showArrow) {\r\n            var arrowHeight = Math.round(lineHeight / 3);\r\n            result += 2 * arrowHeight;\r\n        }\r\n        if (this.options.showFrame) {\r\n            var frameThickness = Math.round(lineHeight / 9);\r\n            result += 2 * frameThickness;\r\n        }\r\n        return result;\r\n    };\r\n    ZoneWidget.prototype._showImpl = function (where, heightInLines) {\r\n        var _this = this;\r\n        var position = where.getStartPosition();\r\n        var layoutInfo = this.editor.getLayoutInfo();\r\n        var width = this._getWidth(layoutInfo);\r\n        this.domNode.style.width = width + \"px\";\r\n        this.domNode.style.left = this._getLeft(layoutInfo) + 'px';\r\n        // Render the widget as zone (rendering) and widget (lifecycle)\r\n        var viewZoneDomNode = document.createElement('div');\r\n        viewZoneDomNode.style.overflow = 'hidden';\r\n        var lineHeight = this.editor.getOption(47 /* lineHeight */);\r\n        // adjust heightInLines to viewport\r\n        var maxHeightInLines = (this.editor.getLayoutInfo().height / lineHeight) * 0.8;\r\n        if (heightInLines >= maxHeightInLines) {\r\n            heightInLines = maxHeightInLines;\r\n        }\r\n        var arrowHeight = 0;\r\n        var frameThickness = 0;\r\n        // Render the arrow one 1/3 of an editor line height\r\n        if (this._arrow && this.options.showArrow) {\r\n            arrowHeight = Math.round(lineHeight / 3);\r\n            this._arrow.height = arrowHeight;\r\n            this._arrow.show(position);\r\n        }\r\n        // Render the frame as 1/9 of an editor line height\r\n        if (this.options.showFrame) {\r\n            frameThickness = Math.round(lineHeight / 9);\r\n        }\r\n        // insert zone widget\r\n        this.editor.changeViewZones(function (accessor) {\r\n            if (_this._viewZone) {\r\n                accessor.removeZone(_this._viewZone.id);\r\n            }\r\n            if (_this._overlayWidget) {\r\n                _this.editor.removeOverlayWidget(_this._overlayWidget);\r\n                _this._overlayWidget = null;\r\n            }\r\n            _this.domNode.style.top = '-1000px';\r\n            _this._viewZone = new ViewZoneDelegate(viewZoneDomNode, position.lineNumber, position.column, heightInLines, function (top) { return _this._onViewZoneTop(top); }, function (height) { return _this._onViewZoneHeight(height); });\r\n            _this._viewZone.id = accessor.addZone(_this._viewZone);\r\n            _this._overlayWidget = new OverlayWidgetDelegate(WIDGET_ID + _this._viewZone.id, _this.domNode);\r\n            _this.editor.addOverlayWidget(_this._overlayWidget);\r\n        });\r\n        if (this.container && this.options.showFrame) {\r\n            var width_1 = this.options.frameWidth ? this.options.frameWidth : frameThickness;\r\n            this.container.style.borderTopWidth = width_1 + 'px';\r\n            this.container.style.borderBottomWidth = width_1 + 'px';\r\n        }\r\n        var containerHeight = heightInLines * lineHeight - this._decoratingElementsHeight();\r\n        if (this.container) {\r\n            this.container.style.top = arrowHeight + 'px';\r\n            this.container.style.height = containerHeight + 'px';\r\n            this.container.style.overflow = 'hidden';\r\n        }\r\n        this._doLayout(containerHeight, width);\r\n        if (!this.options.keepEditorSelection) {\r\n            this.editor.setSelection(where);\r\n        }\r\n        var model = this.editor.getModel();\r\n        if (model) {\r\n            var revealLine = where.endLineNumber + 1;\r\n            if (revealLine <= model.getLineCount()) {\r\n                // reveal line below the zone widget\r\n                this.revealLine(revealLine, false);\r\n            }\r\n            else {\r\n                // reveal last line atop\r\n                this.revealLine(model.getLineCount(), true);\r\n            }\r\n        }\r\n    };\r\n    ZoneWidget.prototype.revealLine = function (lineNumber, isLastLine) {\r\n        if (isLastLine) {\r\n            this.editor.revealLineInCenter(lineNumber, 0 /* Smooth */);\r\n        }\r\n        else {\r\n            this.editor.revealLine(lineNumber, 0 /* Smooth */);\r\n        }\r\n    };\r\n    ZoneWidget.prototype.setCssClass = function (className, classToReplace) {\r\n        if (!this.container) {\r\n            return;\r\n        }\r\n        if (classToReplace) {\r\n            this.container.classList.remove(classToReplace);\r\n        }\r\n        dom.addClass(this.container, className);\r\n    };\r\n    ZoneWidget.prototype._onWidth = function (widthInPixel) {\r\n        // implement in subclass\r\n    };\r\n    ZoneWidget.prototype._doLayout = function (heightInPixel, widthInPixel) {\r\n        // implement in subclass\r\n    };\r\n    ZoneWidget.prototype._relayout = function (newHeightInLines) {\r\n        var _this = this;\r\n        if (this._viewZone && this._viewZone.heightInLines !== newHeightInLines) {\r\n            this.editor.changeViewZones(function (accessor) {\r\n                if (_this._viewZone) {\r\n                    _this._viewZone.heightInLines = newHeightInLines;\r\n                    accessor.layoutZone(_this._viewZone.id);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    // --- sash\r\n    ZoneWidget.prototype._initSash = function () {\r\n        var _this = this;\r\n        if (this._resizeSash) {\r\n            return;\r\n        }\r\n        this._resizeSash = this._disposables.add(new Sash(this.domNode, this, { orientation: 1 /* HORIZONTAL */ }));\r\n        if (!this.options.isResizeable) {\r\n            this._resizeSash.hide();\r\n            this._resizeSash.state = 0 /* Disabled */;\r\n        }\r\n        var data;\r\n        this._disposables.add(this._resizeSash.onDidStart(function (e) {\r\n            if (_this._viewZone) {\r\n                data = {\r\n                    startY: e.startY,\r\n                    heightInLines: _this._viewZone.heightInLines,\r\n                };\r\n            }\r\n        }));\r\n        this._disposables.add(this._resizeSash.onDidEnd(function () {\r\n            data = undefined;\r\n        }));\r\n        this._disposables.add(this._resizeSash.onDidChange(function (evt) {\r\n            if (data) {\r\n                var lineDelta = (evt.currentY - data.startY) / _this.editor.getOption(47 /* lineHeight */);\r\n                var roundedLineDelta = lineDelta < 0 ? Math.ceil(lineDelta) : Math.floor(lineDelta);\r\n                var newHeightInLines = data.heightInLines + roundedLineDelta;\r\n                if (newHeightInLines > 5 && newHeightInLines < 35) {\r\n                    _this._relayout(newHeightInLines);\r\n                }\r\n            }\r\n        }));\r\n    };\r\n    ZoneWidget.prototype.getHorizontalSashLeft = function () {\r\n        return 0;\r\n    };\r\n    ZoneWidget.prototype.getHorizontalSashTop = function () {\r\n        return (this.domNode.style.height === null ? 0 : parseInt(this.domNode.style.height)) - (this._decoratingElementsHeight() / 2);\r\n    };\r\n    ZoneWidget.prototype.getHorizontalSashWidth = function () {\r\n        var layoutInfo = this.editor.getLayoutInfo();\r\n        return layoutInfo.width - layoutInfo.minimapWidth;\r\n    };\r\n    return ZoneWidget;\r\n}());\r\nexport { ZoneWidget };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport './media/peekViewWidget.css';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { ActionBar } from '../../../base/browser/ui/actionbar/actionbar.js';\r\nimport { Action } from '../../../base/common/actions.js';\r\nimport { Color } from '../../../base/common/color.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport * as objects from '../../../base/common/objects.js';\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport { EmbeddedCodeEditorWidget } from '../../browser/widget/embeddedCodeEditorWidget.js';\r\nimport { ZoneWidget } from '../zoneWidget/zoneWidget.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { RawContextKey, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\r\nimport { registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { registerColor, contrastBorder, activeContrastBorder } from '../../../platform/theme/common/colorRegistry.js';\r\nexport var IPeekViewService = createDecorator('IPeekViewService');\r\nregisterSingleton(IPeekViewService, /** @class */ (function () {\r\n    function class_1() {\r\n        this._widgets = new Map();\r\n    }\r\n    class_1.prototype.addExclusiveWidget = function (editor, widget) {\r\n        var _this = this;\r\n        var existing = this._widgets.get(editor);\r\n        if (existing) {\r\n            existing.listener.dispose();\r\n            existing.widget.dispose();\r\n        }\r\n        var remove = function () {\r\n            var data = _this._widgets.get(editor);\r\n            if (data && data.widget === widget) {\r\n                data.listener.dispose();\r\n                _this._widgets.delete(editor);\r\n            }\r\n        };\r\n        this._widgets.set(editor, { widget: widget, listener: widget.onDidClose(remove) });\r\n    };\r\n    return class_1;\r\n}()));\r\nexport var PeekContext;\r\n(function (PeekContext) {\r\n    PeekContext.inPeekEditor = new RawContextKey('inReferenceSearchEditor', true);\r\n    PeekContext.notInPeekEditor = PeekContext.inPeekEditor.toNegated();\r\n})(PeekContext || (PeekContext = {}));\r\nvar PeekContextController = /** @class */ (function () {\r\n    function PeekContextController(editor, contextKeyService) {\r\n        if (editor instanceof EmbeddedCodeEditorWidget) {\r\n            PeekContext.inPeekEditor.bindTo(contextKeyService);\r\n        }\r\n    }\r\n    PeekContextController.prototype.dispose = function () { };\r\n    PeekContextController.ID = 'editor.contrib.referenceController';\r\n    PeekContextController = __decorate([\r\n        __param(1, IContextKeyService)\r\n    ], PeekContextController);\r\n    return PeekContextController;\r\n}());\r\nregisterEditorContribution(PeekContextController.ID, PeekContextController);\r\nexport function getOuterEditor(accessor) {\r\n    var editor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\r\n    if (editor instanceof EmbeddedCodeEditorWidget) {\r\n        return editor.getParentEditor();\r\n    }\r\n    return editor;\r\n}\r\nvar defaultOptions = {\r\n    headerBackgroundColor: Color.white,\r\n    primaryHeadingColor: Color.fromHex('#333333'),\r\n    secondaryHeadingColor: Color.fromHex('#6c6c6cb3')\r\n};\r\nvar PeekViewWidget = /** @class */ (function (_super) {\r\n    __extends(PeekViewWidget, _super);\r\n    function PeekViewWidget(editor, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = _super.call(this, editor, options) || this;\r\n        _this._onDidClose = new Emitter();\r\n        _this.onDidClose = _this._onDidClose.event;\r\n        objects.mixin(_this.options, defaultOptions, false);\r\n        return _this;\r\n    }\r\n    PeekViewWidget.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        this._onDidClose.fire(this);\r\n    };\r\n    PeekViewWidget.prototype.style = function (styles) {\r\n        var options = this.options;\r\n        if (styles.headerBackgroundColor) {\r\n            options.headerBackgroundColor = styles.headerBackgroundColor;\r\n        }\r\n        if (styles.primaryHeadingColor) {\r\n            options.primaryHeadingColor = styles.primaryHeadingColor;\r\n        }\r\n        if (styles.secondaryHeadingColor) {\r\n            options.secondaryHeadingColor = styles.secondaryHeadingColor;\r\n        }\r\n        _super.prototype.style.call(this, styles);\r\n    };\r\n    PeekViewWidget.prototype._applyStyles = function () {\r\n        _super.prototype._applyStyles.call(this);\r\n        var options = this.options;\r\n        if (this._headElement && options.headerBackgroundColor) {\r\n            this._headElement.style.backgroundColor = options.headerBackgroundColor.toString();\r\n        }\r\n        if (this._primaryHeading && options.primaryHeadingColor) {\r\n            this._primaryHeading.style.color = options.primaryHeadingColor.toString();\r\n        }\r\n        if (this._secondaryHeading && options.secondaryHeadingColor) {\r\n            this._secondaryHeading.style.color = options.secondaryHeadingColor.toString();\r\n        }\r\n        if (this._bodyElement && options.frameColor) {\r\n            this._bodyElement.style.borderColor = options.frameColor.toString();\r\n        }\r\n    };\r\n    PeekViewWidget.prototype._fillContainer = function (container) {\r\n        this.setCssClass('peekview-widget');\r\n        this._headElement = dom.$('.head');\r\n        this._bodyElement = dom.$('.body');\r\n        this._fillHead(this._headElement);\r\n        this._fillBody(this._bodyElement);\r\n        container.appendChild(this._headElement);\r\n        container.appendChild(this._bodyElement);\r\n    };\r\n    PeekViewWidget.prototype._fillHead = function (container) {\r\n        var _this = this;\r\n        var titleElement = dom.$('.peekview-title');\r\n        dom.append(this._headElement, titleElement);\r\n        dom.addStandardDisposableListener(titleElement, 'click', function (event) { return _this._onTitleClick(event); });\r\n        this._fillTitleIcon(titleElement);\r\n        this._primaryHeading = dom.$('span.filename');\r\n        this._secondaryHeading = dom.$('span.dirname');\r\n        this._metaHeading = dom.$('span.meta');\r\n        dom.append(titleElement, this._primaryHeading, this._secondaryHeading, this._metaHeading);\r\n        var actionsContainer = dom.$('.peekview-actions');\r\n        dom.append(this._headElement, actionsContainer);\r\n        var actionBarOptions = this._getActionBarOptions();\r\n        this._actionbarWidget = new ActionBar(actionsContainer, actionBarOptions);\r\n        this._disposables.add(this._actionbarWidget);\r\n        this._actionbarWidget.push(new Action('peekview.close', nls.localize('label.close', \"Close\"), 'codicon-close', true, function () {\r\n            _this.dispose();\r\n            return Promise.resolve();\r\n        }), { label: false, icon: true });\r\n    };\r\n    PeekViewWidget.prototype._fillTitleIcon = function (container) {\r\n    };\r\n    PeekViewWidget.prototype._getActionBarOptions = function () {\r\n        return {};\r\n    };\r\n    PeekViewWidget.prototype._onTitleClick = function (event) {\r\n        // implement me\r\n    };\r\n    PeekViewWidget.prototype.setTitle = function (primaryHeading, secondaryHeading) {\r\n        if (this._primaryHeading && this._secondaryHeading) {\r\n            this._primaryHeading.innerHTML = strings.escape(primaryHeading);\r\n            this._primaryHeading.setAttribute('aria-label', primaryHeading);\r\n            if (secondaryHeading) {\r\n                this._secondaryHeading.innerHTML = strings.escape(secondaryHeading);\r\n            }\r\n            else {\r\n                dom.clearNode(this._secondaryHeading);\r\n            }\r\n        }\r\n    };\r\n    PeekViewWidget.prototype.setMetaTitle = function (value) {\r\n        if (this._metaHeading) {\r\n            if (value) {\r\n                this._metaHeading.innerHTML = strings.escape(value);\r\n                dom.show(this._metaHeading);\r\n            }\r\n            else {\r\n                dom.hide(this._metaHeading);\r\n            }\r\n        }\r\n    };\r\n    PeekViewWidget.prototype._doLayout = function (heightInPixel, widthInPixel) {\r\n        if (!this._isShowing && heightInPixel < 0) {\r\n            // Looks like the view zone got folded away!\r\n            this.dispose();\r\n            return;\r\n        }\r\n        var headHeight = Math.ceil(this.editor.getOption(47 /* lineHeight */) * 1.2);\r\n        var bodyHeight = Math.round(heightInPixel - (headHeight + 2 /* the border-top/bottom width*/));\r\n        this._doLayoutHead(headHeight, widthInPixel);\r\n        this._doLayoutBody(bodyHeight, widthInPixel);\r\n    };\r\n    PeekViewWidget.prototype._doLayoutHead = function (heightInPixel, widthInPixel) {\r\n        if (this._headElement) {\r\n            this._headElement.style.height = heightInPixel + \"px\";\r\n            this._headElement.style.lineHeight = this._headElement.style.height;\r\n        }\r\n    };\r\n    PeekViewWidget.prototype._doLayoutBody = function (heightInPixel, widthInPixel) {\r\n        if (this._bodyElement) {\r\n            this._bodyElement.style.height = heightInPixel + \"px\";\r\n        }\r\n    };\r\n    return PeekViewWidget;\r\n}(ZoneWidget));\r\nexport { PeekViewWidget };\r\nexport var peekViewTitleBackground = registerColor('peekViewTitle.background', { dark: '#1E1E1E', light: '#FFFFFF', hc: '#0C141F' }, nls.localize('peekViewTitleBackground', 'Background color of the peek view title area.'));\r\nexport var peekViewTitleForeground = registerColor('peekViewTitleLabel.foreground', { dark: '#FFFFFF', light: '#333333', hc: '#FFFFFF' }, nls.localize('peekViewTitleForeground', 'Color of the peek view title.'));\r\nexport var peekViewTitleInfoForeground = registerColor('peekViewTitleDescription.foreground', { dark: '#ccccccb3', light: '#6c6c6cb3', hc: '#FFFFFF99' }, nls.localize('peekViewTitleInfoForeground', 'Color of the peek view title info.'));\r\nexport var peekViewBorder = registerColor('peekView.border', { dark: '#007acc', light: '#007acc', hc: contrastBorder }, nls.localize('peekViewBorder', 'Color of the peek view borders and arrow.'));\r\nexport var peekViewResultsBackground = registerColor('peekViewResult.background', { dark: '#252526', light: '#F3F3F3', hc: Color.black }, nls.localize('peekViewResultsBackground', 'Background color of the peek view result list.'));\r\nexport var peekViewResultsMatchForeground = registerColor('peekViewResult.lineForeground', { dark: '#bbbbbb', light: '#646465', hc: Color.white }, nls.localize('peekViewResultsMatchForeground', 'Foreground color for line nodes in the peek view result list.'));\r\nexport var peekViewResultsFileForeground = registerColor('peekViewResult.fileForeground', { dark: Color.white, light: '#1E1E1E', hc: Color.white }, nls.localize('peekViewResultsFileForeground', 'Foreground color for file nodes in the peek view result list.'));\r\nexport var peekViewResultsSelectionBackground = registerColor('peekViewResult.selectionBackground', { dark: '#3399ff33', light: '#3399ff33', hc: null }, nls.localize('peekViewResultsSelectionBackground', 'Background color of the selected entry in the peek view result list.'));\r\nexport var peekViewResultsSelectionForeground = registerColor('peekViewResult.selectionForeground', { dark: Color.white, light: '#6C6C6C', hc: Color.white }, nls.localize('peekViewResultsSelectionForeground', 'Foreground color of the selected entry in the peek view result list.'));\r\nexport var peekViewEditorBackground = registerColor('peekViewEditor.background', { dark: '#001F33', light: '#F2F8FC', hc: Color.black }, nls.localize('peekViewEditorBackground', 'Background color of the peek view editor.'));\r\nexport var peekViewEditorGutterBackground = registerColor('peekViewEditorGutter.background', { dark: peekViewEditorBackground, light: peekViewEditorBackground, hc: peekViewEditorBackground }, nls.localize('peekViewEditorGutterBackground', 'Background color of the gutter in the peek view editor.'));\r\nexport var peekViewResultsMatchHighlight = registerColor('peekViewResult.matchHighlightBackground', { dark: '#ea5c004d', light: '#ea5c004d', hc: null }, nls.localize('peekViewResultsMatchHighlight', 'Match highlight color in the peek view result list.'));\r\nexport var peekViewEditorMatchHighlight = registerColor('peekViewEditor.matchHighlightBackground', { dark: '#ff8f0099', light: '#f5d802de', hc: null }, nls.localize('peekViewEditorMatchHighlight', 'Match highlight color in the peek view editor.'));\r\nexport var peekViewEditorMatchHighlightBorder = registerColor('peekViewEditor.matchHighlightBorder', { dark: null, light: null, hc: activeContrastBorder }, nls.localize('peekViewEditorMatchHighlightBorder', 'Match highlight border in the peek view editor.'));\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { localize } from '../../../nls.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { basename } from '../../../base/common/resources.js';\r\nimport { dispose, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { defaultGenerator } from '../../../base/common/idGenerator.js';\r\nimport { Range } from '../../common/core/range.js';\r\nvar OneReference = /** @class */ (function () {\r\n    function OneReference(isProviderFirst, parent, _range, _rangeCallback) {\r\n        this.isProviderFirst = isProviderFirst;\r\n        this.parent = parent;\r\n        this._range = _range;\r\n        this._rangeCallback = _rangeCallback;\r\n        this.id = defaultGenerator.nextId();\r\n    }\r\n    Object.defineProperty(OneReference.prototype, \"uri\", {\r\n        get: function () {\r\n            return this.parent.uri;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OneReference.prototype, \"range\", {\r\n        get: function () {\r\n            return this._range;\r\n        },\r\n        set: function (value) {\r\n            this._range = value;\r\n            this._rangeCallback(this);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OneReference.prototype, \"ariaMessage\", {\r\n        get: function () {\r\n            return localize('aria.oneReference', \"symbol in {0} on line {1} at column {2}\", basename(this.uri), this.range.startLineNumber, this.range.startColumn);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return OneReference;\r\n}());\r\nexport { OneReference };\r\nvar FilePreview = /** @class */ (function () {\r\n    function FilePreview(_modelReference) {\r\n        this._modelReference = _modelReference;\r\n    }\r\n    FilePreview.prototype.dispose = function () {\r\n        this._modelReference.dispose();\r\n    };\r\n    FilePreview.prototype.preview = function (range, n) {\r\n        if (n === void 0) { n = 8; }\r\n        var model = this._modelReference.object.textEditorModel;\r\n        if (!model) {\r\n            return undefined;\r\n        }\r\n        var startLineNumber = range.startLineNumber, startColumn = range.startColumn, endLineNumber = range.endLineNumber, endColumn = range.endColumn;\r\n        var word = model.getWordUntilPosition({ lineNumber: startLineNumber, column: startColumn - n });\r\n        var beforeRange = new Range(startLineNumber, word.startColumn, startLineNumber, startColumn);\r\n        var afterRange = new Range(endLineNumber, endColumn, endLineNumber, 1073741824 /* MAX_SAFE_SMALL_INTEGER */);\r\n        var before = model.getValueInRange(beforeRange).replace(/^\\s+/, '');\r\n        var inside = model.getValueInRange(range);\r\n        var after = model.getValueInRange(afterRange).replace(/\\s+$/, '');\r\n        return {\r\n            value: before + inside + after,\r\n            highlight: { start: before.length, end: before.length + inside.length }\r\n        };\r\n    };\r\n    return FilePreview;\r\n}());\r\nexport { FilePreview };\r\nvar FileReferences = /** @class */ (function () {\r\n    function FileReferences(parent, uri) {\r\n        this.parent = parent;\r\n        this.uri = uri;\r\n        this.children = [];\r\n    }\r\n    FileReferences.prototype.dispose = function () {\r\n        dispose(this._preview);\r\n        this._preview = undefined;\r\n    };\r\n    Object.defineProperty(FileReferences.prototype, \"preview\", {\r\n        get: function () {\r\n            return this._preview;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileReferences.prototype, \"failure\", {\r\n        get: function () {\r\n            return this._loadFailure;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileReferences.prototype, \"ariaMessage\", {\r\n        get: function () {\r\n            var len = this.children.length;\r\n            if (len === 1) {\r\n                return localize('aria.fileReferences.1', \"1 symbol in {0}, full path {1}\", basename(this.uri), this.uri.fsPath);\r\n            }\r\n            else {\r\n                return localize('aria.fileReferences.N', \"{0} symbols in {1}, full path {2}\", len, basename(this.uri), this.uri.fsPath);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FileReferences.prototype.resolve = function (textModelResolverService) {\r\n        var _this = this;\r\n        if (this._resolved) {\r\n            return Promise.resolve(this);\r\n        }\r\n        return Promise.resolve(textModelResolverService.createModelReference(this.uri).then(function (modelReference) {\r\n            var model = modelReference.object;\r\n            if (!model) {\r\n                modelReference.dispose();\r\n                throw new Error();\r\n            }\r\n            _this._preview = new FilePreview(modelReference);\r\n            _this._resolved = true;\r\n            return _this;\r\n        }, function (err) {\r\n            // something wrong here\r\n            _this.children.length = 0;\r\n            _this._resolved = true;\r\n            _this._loadFailure = err;\r\n            return _this;\r\n        }));\r\n    };\r\n    return FileReferences;\r\n}());\r\nexport { FileReferences };\r\nvar ReferencesModel = /** @class */ (function () {\r\n    function ReferencesModel(links, title) {\r\n        var _this = this;\r\n        this._disposables = new DisposableStore();\r\n        this.groups = [];\r\n        this.references = [];\r\n        this._onDidChangeReferenceRange = new Emitter();\r\n        this.onDidChangeReferenceRange = this._onDidChangeReferenceRange.event;\r\n        this._links = links;\r\n        this._title = title;\r\n        // grouping and sorting\r\n        var providersFirst = links[0];\r\n        links.sort(ReferencesModel._compareReferences);\r\n        var current;\r\n        for (var _i = 0, links_1 = links; _i < links_1.length; _i++) {\r\n            var link = links_1[_i];\r\n            if (!current || current.uri.toString() !== link.uri.toString()) {\r\n                // new group\r\n                current = new FileReferences(this, link.uri);\r\n                this.groups.push(current);\r\n            }\r\n            // append, check for equality first!\r\n            if (current.children.length === 0 || !Range.equalsRange(link.range, current.children[current.children.length - 1].range)) {\r\n                var oneRef = new OneReference(providersFirst === link, current, link.targetSelectionRange || link.range, function (ref) { return _this._onDidChangeReferenceRange.fire(ref); });\r\n                this.references.push(oneRef);\r\n                current.children.push(oneRef);\r\n            }\r\n        }\r\n    }\r\n    ReferencesModel.prototype.dispose = function () {\r\n        dispose(this.groups);\r\n        this._disposables.dispose();\r\n        this._onDidChangeReferenceRange.dispose();\r\n        this.groups.length = 0;\r\n    };\r\n    ReferencesModel.prototype.clone = function () {\r\n        return new ReferencesModel(this._links, this._title);\r\n    };\r\n    Object.defineProperty(ReferencesModel.prototype, \"title\", {\r\n        get: function () {\r\n            return this._title;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReferencesModel.prototype, \"isEmpty\", {\r\n        get: function () {\r\n            return this.groups.length === 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReferencesModel.prototype, \"ariaMessage\", {\r\n        get: function () {\r\n            if (this.isEmpty) {\r\n                return localize('aria.result.0', \"No results found\");\r\n            }\r\n            else if (this.references.length === 1) {\r\n                return localize('aria.result.1', \"Found 1 symbol in {0}\", this.references[0].uri.fsPath);\r\n            }\r\n            else if (this.groups.length === 1) {\r\n                return localize('aria.result.n1', \"Found {0} symbols in {1}\", this.references.length, this.groups[0].uri.fsPath);\r\n            }\r\n            else {\r\n                return localize('aria.result.nm', \"Found {0} symbols in {1} files\", this.references.length, this.groups.length);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ReferencesModel.prototype.nextOrPreviousReference = function (reference, next) {\r\n        var parent = reference.parent;\r\n        var idx = parent.children.indexOf(reference);\r\n        var childCount = parent.children.length;\r\n        var groupCount = parent.parent.groups.length;\r\n        if (groupCount === 1 || next && idx + 1 < childCount || !next && idx > 0) {\r\n            // cycling within one file\r\n            if (next) {\r\n                idx = (idx + 1) % childCount;\r\n            }\r\n            else {\r\n                idx = (idx + childCount - 1) % childCount;\r\n            }\r\n            return parent.children[idx];\r\n        }\r\n        idx = parent.parent.groups.indexOf(parent);\r\n        if (next) {\r\n            idx = (idx + 1) % groupCount;\r\n            return parent.parent.groups[idx].children[0];\r\n        }\r\n        else {\r\n            idx = (idx + groupCount - 1) % groupCount;\r\n            return parent.parent.groups[idx].children[parent.parent.groups[idx].children.length - 1];\r\n        }\r\n    };\r\n    ReferencesModel.prototype.nearestReference = function (resource, position) {\r\n        var nearest = this.references.map(function (ref, idx) {\r\n            return {\r\n                idx: idx,\r\n                prefixLen: strings.commonPrefixLength(ref.uri.toString(), resource.toString()),\r\n                offsetDist: Math.abs(ref.range.startLineNumber - position.lineNumber) * 100 + Math.abs(ref.range.startColumn - position.column)\r\n            };\r\n        }).sort(function (a, b) {\r\n            if (a.prefixLen > b.prefixLen) {\r\n                return -1;\r\n            }\r\n            else if (a.prefixLen < b.prefixLen) {\r\n                return 1;\r\n            }\r\n            else if (a.offsetDist < b.offsetDist) {\r\n                return -1;\r\n            }\r\n            else if (a.offsetDist > b.offsetDist) {\r\n                return 1;\r\n            }\r\n            else {\r\n                return 0;\r\n            }\r\n        })[0];\r\n        if (nearest) {\r\n            return this.references[nearest.idx];\r\n        }\r\n        return undefined;\r\n    };\r\n    ReferencesModel.prototype.referenceAt = function (resource, position) {\r\n        for (var _i = 0, _a = this.references; _i < _a.length; _i++) {\r\n            var ref = _a[_i];\r\n            if (ref.uri.toString() === resource.toString()) {\r\n                if (Range.containsPosition(ref.range, position)) {\r\n                    return ref;\r\n                }\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    ReferencesModel.prototype.firstReference = function () {\r\n        for (var _i = 0, _a = this.references; _i < _a.length; _i++) {\r\n            var ref = _a[_i];\r\n            if (ref.isProviderFirst) {\r\n                return ref;\r\n            }\r\n        }\r\n        return this.references[0];\r\n    };\r\n    ReferencesModel._compareReferences = function (a, b) {\r\n        return strings.compare(a.uri.toString(), b.uri.toString()) || Range.compareRangesUsingStarts(a.range, b.range);\r\n    };\r\n    return ReferencesModel;\r\n}());\r\nexport { ReferencesModel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as objects from '../../../common/objects.js';\r\nimport { renderCodicons } from '../codiconLabel/codiconLabel.js';\r\nimport { escape } from '../../../common/strings.js';\r\nvar HighlightedLabel = /** @class */ (function () {\r\n    function HighlightedLabel(container, supportCodicons) {\r\n        this.supportCodicons = supportCodicons;\r\n        this.text = '';\r\n        this.title = '';\r\n        this.highlights = [];\r\n        this.didEverRender = false;\r\n        this.domNode = document.createElement('span');\r\n        this.domNode.className = 'monaco-highlighted-label';\r\n        container.appendChild(this.domNode);\r\n    }\r\n    Object.defineProperty(HighlightedLabel.prototype, \"element\", {\r\n        get: function () {\r\n            return this.domNode;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    HighlightedLabel.prototype.set = function (text, highlights, title, escapeNewLines) {\r\n        if (highlights === void 0) { highlights = []; }\r\n        if (title === void 0) { title = ''; }\r\n        if (!text) {\r\n            text = '';\r\n        }\r\n        if (escapeNewLines) {\r\n            // adjusts highlights inplace\r\n            text = HighlightedLabel.escapeNewLines(text, highlights);\r\n        }\r\n        if (this.didEverRender && this.text === text && this.title === title && objects.equals(this.highlights, highlights)) {\r\n            return;\r\n        }\r\n        if (!Array.isArray(highlights)) {\r\n            highlights = [];\r\n        }\r\n        this.text = text;\r\n        this.title = title;\r\n        this.highlights = highlights;\r\n        this.render();\r\n    };\r\n    HighlightedLabel.prototype.render = function () {\r\n        var htmlContent = '';\r\n        var pos = 0;\r\n        for (var _i = 0, _a = this.highlights; _i < _a.length; _i++) {\r\n            var highlight = _a[_i];\r\n            if (highlight.end === highlight.start) {\r\n                continue;\r\n            }\r\n            if (pos < highlight.start) {\r\n                htmlContent += '<span>';\r\n                var substring_1 = this.text.substring(pos, highlight.start);\r\n                htmlContent += this.supportCodicons ? renderCodicons(substring_1) : escape(substring_1);\r\n                htmlContent += '</span>';\r\n                pos = highlight.end;\r\n            }\r\n            htmlContent += '<span class=\"highlight\">';\r\n            var substring = this.text.substring(highlight.start, highlight.end);\r\n            htmlContent += this.supportCodicons ? renderCodicons(substring) : escape(substring);\r\n            htmlContent += '</span>';\r\n            pos = highlight.end;\r\n        }\r\n        if (pos < this.text.length) {\r\n            htmlContent += '<span>';\r\n            var substring = this.text.substring(pos);\r\n            htmlContent += this.supportCodicons ? renderCodicons(substring) : escape(substring);\r\n            htmlContent += '</span>';\r\n        }\r\n        this.domNode.innerHTML = htmlContent;\r\n        if (this.title) {\r\n            this.domNode.title = this.title;\r\n        }\r\n        else {\r\n            this.domNode.removeAttribute('title');\r\n        }\r\n        this.didEverRender = true;\r\n    };\r\n    HighlightedLabel.escapeNewLines = function (text, highlights) {\r\n        var total = 0;\r\n        var extra = 0;\r\n        return text.replace(/\\r\\n|\\r|\\n/g, function (match, offset) {\r\n            extra = match === '\\r\\n' ? -1 : 0;\r\n            offset += total;\r\n            for (var _i = 0, highlights_1 = highlights; _i < highlights_1.length; _i++) {\r\n                var highlight = highlights_1[_i];\r\n                if (highlight.end <= offset) {\r\n                    continue;\r\n                }\r\n                if (highlight.start >= offset) {\r\n                    highlight.start += extra;\r\n                }\r\n                if (highlight.end >= offset) {\r\n                    highlight.end += extra;\r\n                }\r\n            }\r\n            total += extra;\r\n            return '\\u23CE';\r\n        });\r\n    };\r\n    return HighlightedLabel;\r\n}());\r\nexport { HighlightedLabel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './iconlabel.css';\r\nimport * as dom from '../../dom.js';\r\nimport { HighlightedLabel } from '../highlightedlabel/highlightedLabel.js';\r\nimport { Disposable } from '../../../common/lifecycle.js';\r\nimport { Range } from '../../../common/range.js';\r\nimport { equals } from '../../../common/objects.js';\r\nvar FastLabelNode = /** @class */ (function () {\r\n    function FastLabelNode(_element) {\r\n        this._element = _element;\r\n    }\r\n    Object.defineProperty(FastLabelNode.prototype, \"element\", {\r\n        get: function () {\r\n            return this._element;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FastLabelNode.prototype, \"textContent\", {\r\n        set: function (content) {\r\n            if (this.disposed || content === this._textContent) {\r\n                return;\r\n            }\r\n            this._textContent = content;\r\n            this._element.textContent = content;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FastLabelNode.prototype, \"className\", {\r\n        set: function (className) {\r\n            if (this.disposed || className === this._className) {\r\n                return;\r\n            }\r\n            this._className = className;\r\n            this._element.className = className;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FastLabelNode.prototype, \"title\", {\r\n        set: function (title) {\r\n            if (this.disposed || title === this._title) {\r\n                return;\r\n            }\r\n            this._title = title;\r\n            if (this._title) {\r\n                this._element.title = title;\r\n            }\r\n            else {\r\n                this._element.removeAttribute('title');\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FastLabelNode.prototype, \"empty\", {\r\n        set: function (empty) {\r\n            if (this.disposed || empty === this._empty) {\r\n                return;\r\n            }\r\n            this._empty = empty;\r\n            this._element.style.marginLeft = empty ? '0' : '';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FastLabelNode.prototype.dispose = function () {\r\n        this.disposed = true;\r\n    };\r\n    return FastLabelNode;\r\n}());\r\nvar IconLabel = /** @class */ (function (_super) {\r\n    __extends(IconLabel, _super);\r\n    function IconLabel(container, options) {\r\n        var _a, _b;\r\n        var _this = _super.call(this) || this;\r\n        _this.domNode = _this._register(new FastLabelNode(dom.append(container, dom.$('.monaco-icon-label'))));\r\n        var labelContainer = dom.append(_this.domNode.element, dom.$('.monaco-icon-label-container'));\r\n        var nameContainer = dom.append(labelContainer, dom.$('span.monaco-icon-name-container'));\r\n        _this.descriptionContainer = _this._register(new FastLabelNode(dom.append(labelContainer, dom.$('span.monaco-icon-description-container'))));\r\n        if ((_a = options) === null || _a === void 0 ? void 0 : _a.supportHighlights) {\r\n            _this.nameNode = new LabelWithHighlights(nameContainer, !!options.supportCodicons);\r\n        }\r\n        else {\r\n            _this.nameNode = new Label(nameContainer);\r\n        }\r\n        if ((_b = options) === null || _b === void 0 ? void 0 : _b.supportDescriptionHighlights) {\r\n            _this.descriptionNodeFactory = function () { return new HighlightedLabel(dom.append(_this.descriptionContainer.element, dom.$('span.label-description')), !!options.supportCodicons); };\r\n        }\r\n        else {\r\n            _this.descriptionNodeFactory = function () { return _this._register(new FastLabelNode(dom.append(_this.descriptionContainer.element, dom.$('span.label-description')))); };\r\n        }\r\n        return _this;\r\n    }\r\n    IconLabel.prototype.setLabel = function (label, description, options) {\r\n        var _a, _b, _c;\r\n        var classes = ['monaco-icon-label'];\r\n        if (options) {\r\n            if (options.extraClasses) {\r\n                classes.push.apply(classes, options.extraClasses);\r\n            }\r\n            if (options.italic) {\r\n                classes.push('italic');\r\n            }\r\n        }\r\n        this.domNode.className = classes.join(' ');\r\n        this.domNode.title = ((_a = options) === null || _a === void 0 ? void 0 : _a.title) || '';\r\n        this.nameNode.setLabel(label, options);\r\n        if (description || this.descriptionNode) {\r\n            if (!this.descriptionNode) {\r\n                this.descriptionNode = this.descriptionNodeFactory(); // description node is created lazily on demand\r\n            }\r\n            if (this.descriptionNode instanceof HighlightedLabel) {\r\n                this.descriptionNode.set(description || '', options ? options.descriptionMatches : undefined);\r\n                if ((_b = options) === null || _b === void 0 ? void 0 : _b.descriptionTitle) {\r\n                    this.descriptionNode.element.title = options.descriptionTitle;\r\n                }\r\n                else {\r\n                    this.descriptionNode.element.removeAttribute('title');\r\n                }\r\n            }\r\n            else {\r\n                this.descriptionNode.textContent = description || '';\r\n                this.descriptionNode.title = ((_c = options) === null || _c === void 0 ? void 0 : _c.descriptionTitle) || '';\r\n                this.descriptionNode.empty = !description;\r\n            }\r\n        }\r\n    };\r\n    return IconLabel;\r\n}(Disposable));\r\nexport { IconLabel };\r\nvar Label = /** @class */ (function () {\r\n    function Label(container) {\r\n        this.container = container;\r\n        this.label = undefined;\r\n        this.singleLabel = undefined;\r\n    }\r\n    Label.prototype.setLabel = function (label, options) {\r\n        var _a, _b, _c, _d;\r\n        if (this.label === label && equals(this.options, options)) {\r\n            return;\r\n        }\r\n        this.label = label;\r\n        this.options = options;\r\n        if (typeof label === 'string') {\r\n            if (!this.singleLabel) {\r\n                this.container.innerHTML = '';\r\n                dom.removeClass(this.container, 'multiple');\r\n                this.singleLabel = dom.append(this.container, dom.$('a.label-name', { id: (_a = options) === null || _a === void 0 ? void 0 : _a.domId }));\r\n            }\r\n            this.singleLabel.textContent = label;\r\n        }\r\n        else {\r\n            this.container.innerHTML = '';\r\n            dom.addClass(this.container, 'multiple');\r\n            this.singleLabel = undefined;\r\n            for (var i = 0; i < label.length; i++) {\r\n                var l = label[i];\r\n                var id = ((_b = options) === null || _b === void 0 ? void 0 : _b.domId) && ((_c = options) === null || _c === void 0 ? void 0 : _c.domId) + \"_\" + i;\r\n                dom.append(this.container, dom.$('a.label-name', { id: id, 'data-icon-label-count': label.length, 'data-icon-label-index': i }, l));\r\n                if (i < label.length - 1) {\r\n                    dom.append(this.container, dom.$('span.label-separator', undefined, ((_d = options) === null || _d === void 0 ? void 0 : _d.separator) || '/'));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return Label;\r\n}());\r\nfunction splitMatches(labels, separator, matches) {\r\n    if (!matches) {\r\n        return undefined;\r\n    }\r\n    var labelStart = 0;\r\n    return labels.map(function (label) {\r\n        var labelRange = { start: labelStart, end: labelStart + label.length };\r\n        var result = matches\r\n            .map(function (match) { return Range.intersect(labelRange, match); })\r\n            .filter(function (range) { return !Range.isEmpty(range); })\r\n            .map(function (_a) {\r\n            var start = _a.start, end = _a.end;\r\n            return ({ start: start - labelStart, end: end - labelStart });\r\n        });\r\n        labelStart = labelRange.end + separator.length;\r\n        return result;\r\n    });\r\n}\r\nvar LabelWithHighlights = /** @class */ (function () {\r\n    function LabelWithHighlights(container, supportCodicons) {\r\n        this.container = container;\r\n        this.supportCodicons = supportCodicons;\r\n        this.label = undefined;\r\n        this.singleLabel = undefined;\r\n    }\r\n    LabelWithHighlights.prototype.setLabel = function (label, options) {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n        if (this.label === label && equals(this.options, options)) {\r\n            return;\r\n        }\r\n        this.label = label;\r\n        this.options = options;\r\n        if (typeof label === 'string') {\r\n            if (!this.singleLabel) {\r\n                this.container.innerHTML = '';\r\n                dom.removeClass(this.container, 'multiple');\r\n                this.singleLabel = new HighlightedLabel(dom.append(this.container, dom.$('a.label-name', { id: (_a = options) === null || _a === void 0 ? void 0 : _a.domId })), this.supportCodicons);\r\n            }\r\n            this.singleLabel.set(label, (_b = options) === null || _b === void 0 ? void 0 : _b.matches, (_c = options) === null || _c === void 0 ? void 0 : _c.title, (_d = options) === null || _d === void 0 ? void 0 : _d.labelEscapeNewLines);\r\n        }\r\n        else {\r\n            this.container.innerHTML = '';\r\n            dom.addClass(this.container, 'multiple');\r\n            this.singleLabel = undefined;\r\n            var separator = ((_e = options) === null || _e === void 0 ? void 0 : _e.separator) || '/';\r\n            var matches = splitMatches(label, separator, (_f = options) === null || _f === void 0 ? void 0 : _f.matches);\r\n            for (var i = 0; i < label.length; i++) {\r\n                var l = label[i];\r\n                var m = matches ? matches[i] : undefined;\r\n                var id = ((_g = options) === null || _g === void 0 ? void 0 : _g.domId) && ((_h = options) === null || _h === void 0 ? void 0 : _h.domId) + \"_\" + i;\r\n                var name_1 = dom.$('a.label-name', { id: id, 'data-icon-label-count': label.length, 'data-icon-label-index': i });\r\n                var highlightedLabel = new HighlightedLabel(dom.append(this.container, name_1), this.supportCodicons);\r\n                highlightedLabel.set(l, m, (_j = options) === null || _j === void 0 ? void 0 : _j.title, (_k = options) === null || _k === void 0 ? void 0 : _k.labelEscapeNewLines);\r\n                if (i < label.length - 1) {\r\n                    dom.append(name_1, dom.$('span.label-separator', undefined, separator));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return LabelWithHighlights;\r\n}());\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './countBadge.css';\r\nimport { $, append } from '../../dom.js';\r\nimport { format } from '../../../common/strings.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { mixin } from '../../../common/objects.js';\r\nvar defaultOpts = {\r\n    badgeBackground: Color.fromHex('#4D4D4D'),\r\n    badgeForeground: Color.fromHex('#FFFFFF')\r\n};\r\nvar CountBadge = /** @class */ (function () {\r\n    function CountBadge(container, options) {\r\n        this.count = 0;\r\n        this.options = options || Object.create(null);\r\n        mixin(this.options, defaultOpts, false);\r\n        this.badgeBackground = this.options.badgeBackground;\r\n        this.badgeForeground = this.options.badgeForeground;\r\n        this.badgeBorder = this.options.badgeBorder;\r\n        this.element = append(container, $('.monaco-count-badge'));\r\n        this.countFormat = this.options.countFormat || '{0}';\r\n        this.titleFormat = this.options.titleFormat || '';\r\n        this.setCount(this.options.count || 0);\r\n    }\r\n    CountBadge.prototype.setCount = function (count) {\r\n        this.count = count;\r\n        this.render();\r\n    };\r\n    CountBadge.prototype.setTitleFormat = function (titleFormat) {\r\n        this.titleFormat = titleFormat;\r\n        this.render();\r\n    };\r\n    CountBadge.prototype.render = function () {\r\n        this.element.textContent = format(this.countFormat, this.count);\r\n        this.element.title = format(this.titleFormat, this.count);\r\n        this.applyStyles();\r\n    };\r\n    CountBadge.prototype.style = function (styles) {\r\n        this.badgeBackground = styles.badgeBackground;\r\n        this.badgeForeground = styles.badgeForeground;\r\n        this.badgeBorder = styles.badgeBorder;\r\n        this.applyStyles();\r\n    };\r\n    CountBadge.prototype.applyStyles = function () {\r\n        if (this.element) {\r\n            var background = this.badgeBackground ? this.badgeBackground.toString() : '';\r\n            var foreground = this.badgeForeground ? this.badgeForeground.toString() : '';\r\n            var border = this.badgeBorder ? this.badgeBorder.toString() : '';\r\n            this.element.style.backgroundColor = background;\r\n            this.element.style.color = foreground;\r\n            this.element.style.borderWidth = border ? '1px' : '';\r\n            this.element.style.borderStyle = border ? 'solid' : '';\r\n            this.element.style.borderColor = border;\r\n        }\r\n    };\r\n    return CountBadge;\r\n}());\r\nexport { CountBadge };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { URI } from './uri.js';\r\nimport { posix, normalize } from './path.js';\r\nimport { startsWithIgnoreCase, rtrim, startsWith } from './strings.js';\r\nimport { Schemas } from './network.js';\r\nimport { isLinux, isWindows } from './platform.js';\r\nimport { isEqual, basename, relativePath } from './resources.js';\r\n/**\r\n * @deprecated use LabelService instead\r\n */\r\nexport function getPathLabel(resource, userHomeProvider, rootProvider) {\r\n    if (typeof resource === 'string') {\r\n        resource = URI.file(resource);\r\n    }\r\n    // return early if we can resolve a relative path label from the root\r\n    if (rootProvider) {\r\n        var baseResource = rootProvider.getWorkspaceFolder(resource);\r\n        if (baseResource) {\r\n            var hasMultipleRoots = rootProvider.getWorkspace().folders.length > 1;\r\n            var pathLabel = void 0;\r\n            if (isEqual(baseResource.uri, resource)) {\r\n                pathLabel = ''; // no label if paths are identical\r\n            }\r\n            else {\r\n                pathLabel = relativePath(baseResource.uri, resource);\r\n            }\r\n            if (hasMultipleRoots) {\r\n                var rootName = baseResource.name ? baseResource.name : basename(baseResource.uri);\r\n                pathLabel = pathLabel ? (rootName + ' • ' + pathLabel) : rootName; // always show root basename if there are multiple\r\n            }\r\n            return pathLabel;\r\n        }\r\n    }\r\n    // return if the resource is neither file:// nor untitled:// and no baseResource was provided\r\n    if (resource.scheme !== Schemas.file && resource.scheme !== Schemas.untitled) {\r\n        return resource.with({ query: null, fragment: null }).toString(true);\r\n    }\r\n    // convert c:\\something => C:\\something\r\n    if (hasDriveLetter(resource.fsPath)) {\r\n        return normalize(normalizeDriveLetter(resource.fsPath));\r\n    }\r\n    // normalize and tildify (macOS, Linux only)\r\n    var res = normalize(resource.fsPath);\r\n    if (!isWindows && userHomeProvider) {\r\n        res = tildify(res, userHomeProvider.userHome);\r\n    }\r\n    return res;\r\n}\r\nexport function getBaseLabel(resource) {\r\n    if (!resource) {\r\n        return undefined;\r\n    }\r\n    if (typeof resource === 'string') {\r\n        resource = URI.file(resource);\r\n    }\r\n    var base = basename(resource) || (resource.scheme === Schemas.file ? resource.fsPath : resource.path) /* can be empty string if '/' is passed in */;\r\n    // convert c: => C:\r\n    if (hasDriveLetter(base)) {\r\n        return normalizeDriveLetter(base);\r\n    }\r\n    return base;\r\n}\r\nfunction hasDriveLetter(path) {\r\n    return !!(isWindows && path && path[1] === ':');\r\n}\r\nexport function normalizeDriveLetter(path) {\r\n    if (hasDriveLetter(path)) {\r\n        return path.charAt(0).toUpperCase() + path.slice(1);\r\n    }\r\n    return path;\r\n}\r\nvar normalizedUserHomeCached = Object.create(null);\r\nexport function tildify(path, userHome) {\r\n    if (isWindows || !path || !userHome) {\r\n        return path; // unsupported\r\n    }\r\n    // Keep a normalized user home path as cache to prevent accumulated string creation\r\n    var normalizedUserHome = normalizedUserHomeCached.original === userHome ? normalizedUserHomeCached.normalized : undefined;\r\n    if (!normalizedUserHome) {\r\n        normalizedUserHome = \"\" + rtrim(userHome, posix.sep) + posix.sep;\r\n        normalizedUserHomeCached = { original: userHome, normalized: normalizedUserHome };\r\n    }\r\n    // Linux: case sensitive, macOS: case insensitive\r\n    if (isLinux ? startsWith(path, normalizedUserHome) : startsWithIgnoreCase(path, normalizedUserHome)) {\r\n        path = \"~/\" + path.substr(normalizedUserHome.length);\r\n    }\r\n    return path;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { ReferencesModel, FileReferences, OneReference } from '../referencesModel.js';\r\nimport { ITextModelService } from '../../../common/services/resolverService.js';\r\nimport { IconLabel } from '../../../../base/browser/ui/iconLabel/iconLabel.js';\r\nimport { CountBadge } from '../../../../base/browser/ui/countBadge/countBadge.js';\r\nimport { ILabelService } from '../../../../platform/label/common/label.js';\r\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\r\nimport { attachBadgeStyler } from '../../../../platform/theme/common/styler.js';\r\nimport * as dom from '../../../../base/browser/dom.js';\r\nimport { localize } from '../../../../nls.js';\r\nimport { getBaseLabel } from '../../../../base/common/labels.js';\r\nimport { dirname, basename } from '../../../../base/common/resources.js';\r\nimport { Disposable } from '../../../../base/common/lifecycle.js';\r\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\r\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\r\nimport { FuzzyScore, createMatches } from '../../../../base/common/filters.js';\r\nimport { HighlightedLabel } from '../../../../base/browser/ui/highlightedlabel/highlightedLabel.js';\r\nvar DataSource = /** @class */ (function () {\r\n    function DataSource(_resolverService) {\r\n        this._resolverService = _resolverService;\r\n    }\r\n    DataSource.prototype.hasChildren = function (element) {\r\n        if (element instanceof ReferencesModel) {\r\n            return true;\r\n        }\r\n        if (element instanceof FileReferences && !element.failure) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    DataSource.prototype.getChildren = function (element) {\r\n        if (element instanceof ReferencesModel) {\r\n            return element.groups;\r\n        }\r\n        if (element instanceof FileReferences) {\r\n            return element.resolve(this._resolverService).then(function (val) {\r\n                // if (element.failure) {\r\n                // \t// refresh the element on failure so that\r\n                // \t// we can update its rendering\r\n                // \treturn tree.refresh(element).then(() => val.children);\r\n                // }\r\n                return val.children;\r\n            });\r\n        }\r\n        throw new Error('bad tree');\r\n    };\r\n    DataSource = __decorate([\r\n        __param(0, ITextModelService)\r\n    ], DataSource);\r\n    return DataSource;\r\n}());\r\nexport { DataSource };\r\n//#endregion\r\nvar Delegate = /** @class */ (function () {\r\n    function Delegate() {\r\n    }\r\n    Delegate.prototype.getHeight = function () {\r\n        return 23;\r\n    };\r\n    Delegate.prototype.getTemplateId = function (element) {\r\n        if (element instanceof FileReferences) {\r\n            return FileReferencesRenderer.id;\r\n        }\r\n        else {\r\n            return OneReferenceRenderer.id;\r\n        }\r\n    };\r\n    return Delegate;\r\n}());\r\nexport { Delegate };\r\nvar StringRepresentationProvider = /** @class */ (function () {\r\n    function StringRepresentationProvider(_keybindingService) {\r\n        this._keybindingService = _keybindingService;\r\n    }\r\n    StringRepresentationProvider.prototype.getKeyboardNavigationLabel = function (element) {\r\n        if (element instanceof OneReference) {\r\n            var preview = element.parent.preview;\r\n            var parts = preview && preview.preview(element.range);\r\n            if (parts) {\r\n                return parts.value;\r\n            }\r\n        }\r\n        // FileReferences or unresolved OneReference\r\n        return basename(element.uri);\r\n    };\r\n    StringRepresentationProvider = __decorate([\r\n        __param(0, IKeybindingService)\r\n    ], StringRepresentationProvider);\r\n    return StringRepresentationProvider;\r\n}());\r\nexport { StringRepresentationProvider };\r\nvar IdentityProvider = /** @class */ (function () {\r\n    function IdentityProvider() {\r\n    }\r\n    IdentityProvider.prototype.getId = function (element) {\r\n        return element instanceof OneReference ? element.id : element.uri;\r\n    };\r\n    return IdentityProvider;\r\n}());\r\nexport { IdentityProvider };\r\n//#region render: File\r\nvar FileReferencesTemplate = /** @class */ (function (_super) {\r\n    __extends(FileReferencesTemplate, _super);\r\n    function FileReferencesTemplate(container, _uriLabel, themeService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._uriLabel = _uriLabel;\r\n        var parent = document.createElement('div');\r\n        dom.addClass(parent, 'reference-file');\r\n        _this.file = _this._register(new IconLabel(parent, { supportHighlights: true }));\r\n        _this.badge = new CountBadge(dom.append(parent, dom.$('.count')));\r\n        _this._register(attachBadgeStyler(_this.badge, themeService));\r\n        container.appendChild(parent);\r\n        return _this;\r\n    }\r\n    FileReferencesTemplate.prototype.set = function (element, matches) {\r\n        var parent = dirname(element.uri);\r\n        this.file.setLabel(getBaseLabel(element.uri), this._uriLabel.getUriLabel(parent, { relative: true }), { title: this._uriLabel.getUriLabel(element.uri), matches: matches });\r\n        var len = element.children.length;\r\n        this.badge.setCount(len);\r\n        if (element.failure) {\r\n            this.badge.setTitleFormat(localize('referencesFailre', \"Failed to resolve file.\"));\r\n        }\r\n        else if (len > 1) {\r\n            this.badge.setTitleFormat(localize('referencesCount', \"{0} references\", len));\r\n        }\r\n        else {\r\n            this.badge.setTitleFormat(localize('referenceCount', \"{0} reference\", len));\r\n        }\r\n    };\r\n    FileReferencesTemplate = __decorate([\r\n        __param(1, ILabelService),\r\n        __param(2, IThemeService)\r\n    ], FileReferencesTemplate);\r\n    return FileReferencesTemplate;\r\n}(Disposable));\r\nvar FileReferencesRenderer = /** @class */ (function () {\r\n    function FileReferencesRenderer(_instantiationService) {\r\n        this._instantiationService = _instantiationService;\r\n        this.templateId = FileReferencesRenderer.id;\r\n    }\r\n    FileReferencesRenderer.prototype.renderTemplate = function (container) {\r\n        return this._instantiationService.createInstance(FileReferencesTemplate, container);\r\n    };\r\n    FileReferencesRenderer.prototype.renderElement = function (node, index, template) {\r\n        template.set(node.element, createMatches(node.filterData));\r\n    };\r\n    FileReferencesRenderer.prototype.disposeTemplate = function (templateData) {\r\n        templateData.dispose();\r\n    };\r\n    FileReferencesRenderer.id = 'FileReferencesRenderer';\r\n    FileReferencesRenderer = __decorate([\r\n        __param(0, IInstantiationService)\r\n    ], FileReferencesRenderer);\r\n    return FileReferencesRenderer;\r\n}());\r\nexport { FileReferencesRenderer };\r\n//#endregion\r\n//#region render: Reference\r\nvar OneReferenceTemplate = /** @class */ (function () {\r\n    function OneReferenceTemplate(container) {\r\n        this.label = new HighlightedLabel(container, false);\r\n    }\r\n    OneReferenceTemplate.prototype.set = function (element, score) {\r\n        var filePreview = element.parent.preview;\r\n        var preview = filePreview && filePreview.preview(element.range);\r\n        if (!preview) {\r\n            // this means we FAILED to resolve the document...\r\n            this.label.set(basename(element.uri) + \":\" + (element.range.startLineNumber + 1) + \":\" + (element.range.startColumn + 1));\r\n        }\r\n        else {\r\n            // render search match as highlight unless\r\n            // we have score, then render the score\r\n            var value = preview.value, highlight = preview.highlight;\r\n            if (score && !FuzzyScore.isDefault(score)) {\r\n                dom.toggleClass(this.label.element, 'referenceMatch', false);\r\n                this.label.set(value, createMatches(score));\r\n            }\r\n            else {\r\n                dom.toggleClass(this.label.element, 'referenceMatch', true);\r\n                this.label.set(value, [highlight]);\r\n            }\r\n        }\r\n    };\r\n    return OneReferenceTemplate;\r\n}());\r\nvar OneReferenceRenderer = /** @class */ (function () {\r\n    function OneReferenceRenderer() {\r\n        this.templateId = OneReferenceRenderer.id;\r\n    }\r\n    OneReferenceRenderer.prototype.renderTemplate = function (container) {\r\n        return new OneReferenceTemplate(container);\r\n    };\r\n    OneReferenceRenderer.prototype.renderElement = function (node, index, templateData) {\r\n        templateData.set(node.element, node.filterData);\r\n    };\r\n    OneReferenceRenderer.prototype.disposeTemplate = function () {\r\n    };\r\n    OneReferenceRenderer.id = 'OneReferenceRenderer';\r\n    return OneReferenceRenderer;\r\n}());\r\nexport { OneReferenceRenderer };\r\n//#endregion\r\nvar AriaProvider = /** @class */ (function () {\r\n    function AriaProvider() {\r\n    }\r\n    AriaProvider.prototype.getAriaLabel = function (element) {\r\n        return element.ariaMessage;\r\n    };\r\n    return AriaProvider;\r\n}());\r\nexport { AriaProvider };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport './splitview.css';\r\nimport { toDisposable, Disposable, combinedDisposable } from '../../../common/lifecycle.js';\r\nimport { Event, Emitter } from '../../../common/event.js';\r\nimport * as types from '../../../common/types.js';\r\nimport * as dom from '../../dom.js';\r\nimport { clamp } from '../../../common/numbers.js';\r\nimport { range, firstIndex, pushToStart, pushToEnd } from '../../../common/arrays.js';\r\nimport { Sash } from '../sash/sash.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { domEvent } from '../../event.js';\r\nvar defaultStyles = {\r\n    separatorBorder: Color.transparent\r\n};\r\nvar ViewItem = /** @class */ (function () {\r\n    function ViewItem(container, view, size, disposable) {\r\n        this.container = container;\r\n        this.view = view;\r\n        this.disposable = disposable;\r\n        this._cachedVisibleSize = undefined;\r\n        if (typeof size === 'number') {\r\n            this._size = size;\r\n            this._cachedVisibleSize = undefined;\r\n            dom.addClass(container, 'visible');\r\n        }\r\n        else {\r\n            this._size = 0;\r\n            this._cachedVisibleSize = size.cachedVisibleSize;\r\n        }\r\n    }\r\n    Object.defineProperty(ViewItem.prototype, \"size\", {\r\n        get: function () {\r\n            return this._size;\r\n        },\r\n        set: function (size) {\r\n            this._size = size;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"visible\", {\r\n        get: function () {\r\n            return typeof this._cachedVisibleSize === 'undefined';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ViewItem.prototype.setVisible = function (visible, size) {\r\n        if (visible === this.visible) {\r\n            return;\r\n        }\r\n        if (visible) {\r\n            this.size = clamp(this._cachedVisibleSize, this.viewMinimumSize, this.viewMaximumSize);\r\n            this._cachedVisibleSize = undefined;\r\n        }\r\n        else {\r\n            this._cachedVisibleSize = typeof size === 'number' ? size : this.size;\r\n            this.size = 0;\r\n        }\r\n        dom.toggleClass(this.container, 'visible', visible);\r\n        if (this.view.setVisible) {\r\n            this.view.setVisible(visible);\r\n        }\r\n    };\r\n    Object.defineProperty(ViewItem.prototype, \"minimumSize\", {\r\n        get: function () { return this.visible ? this.view.minimumSize : 0; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"viewMinimumSize\", {\r\n        get: function () { return this.view.minimumSize; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"maximumSize\", {\r\n        get: function () { return this.visible ? this.view.maximumSize : 0; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"viewMaximumSize\", {\r\n        get: function () { return this.view.maximumSize; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"priority\", {\r\n        get: function () { return this.view.priority; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"snap\", {\r\n        get: function () { return !!this.view.snap; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"enabled\", {\r\n        set: function (enabled) {\r\n            this.container.style.pointerEvents = enabled ? null : 'none';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ViewItem.prototype.layout = function (offset, layoutContext) {\r\n        this.layoutContainer(offset);\r\n        this.view.layout(this.size, offset, layoutContext);\r\n    };\r\n    ViewItem.prototype.dispose = function () {\r\n        this.disposable.dispose();\r\n        return this.view;\r\n    };\r\n    return ViewItem;\r\n}());\r\nvar VerticalViewItem = /** @class */ (function (_super) {\r\n    __extends(VerticalViewItem, _super);\r\n    function VerticalViewItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    VerticalViewItem.prototype.layoutContainer = function (offset) {\r\n        this.container.style.top = offset + \"px\";\r\n        this.container.style.height = this.size + \"px\";\r\n    };\r\n    return VerticalViewItem;\r\n}(ViewItem));\r\nvar HorizontalViewItem = /** @class */ (function (_super) {\r\n    __extends(HorizontalViewItem, _super);\r\n    function HorizontalViewItem() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    HorizontalViewItem.prototype.layoutContainer = function (offset) {\r\n        this.container.style.left = offset + \"px\";\r\n        this.container.style.width = this.size + \"px\";\r\n    };\r\n    return HorizontalViewItem;\r\n}(ViewItem));\r\nvar State;\r\n(function (State) {\r\n    State[State[\"Idle\"] = 0] = \"Idle\";\r\n    State[State[\"Busy\"] = 1] = \"Busy\";\r\n})(State || (State = {}));\r\nexport var Sizing;\r\n(function (Sizing) {\r\n    Sizing.Distribute = { type: 'distribute' };\r\n    function Split(index) { return { type: 'split', index: index }; }\r\n    Sizing.Split = Split;\r\n    function Invisible(cachedVisibleSize) { return { type: 'invisible', cachedVisibleSize: cachedVisibleSize }; }\r\n    Sizing.Invisible = Invisible;\r\n})(Sizing || (Sizing = {}));\r\nvar SplitView = /** @class */ (function (_super) {\r\n    __extends(SplitView, _super);\r\n    function SplitView(container, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = _super.call(this) || this;\r\n        _this.size = 0;\r\n        _this.contentSize = 0;\r\n        _this.proportions = undefined;\r\n        _this.viewItems = [];\r\n        _this.sashItems = [];\r\n        _this.state = State.Idle;\r\n        _this._onDidSashChange = _this._register(new Emitter());\r\n        _this.onDidSashChange = _this._onDidSashChange.event;\r\n        _this._onDidSashReset = _this._register(new Emitter());\r\n        _this._startSnappingEnabled = true;\r\n        _this._endSnappingEnabled = true;\r\n        _this.orientation = types.isUndefined(options.orientation) ? 0 /* VERTICAL */ : options.orientation;\r\n        _this.inverseAltBehavior = !!options.inverseAltBehavior;\r\n        _this.proportionalLayout = types.isUndefined(options.proportionalLayout) ? true : !!options.proportionalLayout;\r\n        _this.el = document.createElement('div');\r\n        dom.addClass(_this.el, 'monaco-split-view2');\r\n        dom.addClass(_this.el, _this.orientation === 0 /* VERTICAL */ ? 'vertical' : 'horizontal');\r\n        container.appendChild(_this.el);\r\n        _this.sashContainer = dom.append(_this.el, dom.$('.sash-container'));\r\n        _this.viewContainer = dom.append(_this.el, dom.$('.split-view-container'));\r\n        _this.style(options.styles || defaultStyles);\r\n        // We have an existing set of view, add them now\r\n        if (options.descriptor) {\r\n            _this.size = options.descriptor.size;\r\n            options.descriptor.views.forEach(function (viewDescriptor, index) {\r\n                var sizing = types.isUndefined(viewDescriptor.visible) || viewDescriptor.visible ? viewDescriptor.size : { type: 'invisible', cachedVisibleSize: viewDescriptor.size };\r\n                var view = viewDescriptor.view;\r\n                _this.doAddView(view, sizing, index, true);\r\n            });\r\n            // Initialize content size and proportions for first layout\r\n            _this.contentSize = _this.viewItems.reduce(function (r, i) { return r + i.size; }, 0);\r\n            _this.saveProportions();\r\n        }\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SplitView.prototype, \"orthogonalStartSash\", {\r\n        get: function () { return this._orthogonalStartSash; },\r\n        set: function (sash) {\r\n            for (var _i = 0, _a = this.sashItems; _i < _a.length; _i++) {\r\n                var sashItem = _a[_i];\r\n                sashItem.sash.orthogonalStartSash = sash;\r\n            }\r\n            this._orthogonalStartSash = sash;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SplitView.prototype, \"orthogonalEndSash\", {\r\n        get: function () { return this._orthogonalEndSash; },\r\n        set: function (sash) {\r\n            for (var _i = 0, _a = this.sashItems; _i < _a.length; _i++) {\r\n                var sashItem = _a[_i];\r\n                sashItem.sash.orthogonalEndSash = sash;\r\n            }\r\n            this._orthogonalEndSash = sash;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SplitView.prototype, \"startSnappingEnabled\", {\r\n        get: function () { return this._startSnappingEnabled; },\r\n        set: function (startSnappingEnabled) {\r\n            if (this._startSnappingEnabled === startSnappingEnabled) {\r\n                return;\r\n            }\r\n            this._startSnappingEnabled = startSnappingEnabled;\r\n            this.updateSashEnablement();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SplitView.prototype, \"endSnappingEnabled\", {\r\n        get: function () { return this._endSnappingEnabled; },\r\n        set: function (endSnappingEnabled) {\r\n            if (this._endSnappingEnabled === endSnappingEnabled) {\r\n                return;\r\n            }\r\n            this._endSnappingEnabled = endSnappingEnabled;\r\n            this.updateSashEnablement();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SplitView.prototype.style = function (styles) {\r\n        if (styles.separatorBorder.isTransparent()) {\r\n            dom.removeClass(this.el, 'separator-border');\r\n            this.el.style.removeProperty('--separator-border');\r\n        }\r\n        else {\r\n            dom.addClass(this.el, 'separator-border');\r\n            this.el.style.setProperty('--separator-border', styles.separatorBorder.toString());\r\n        }\r\n    };\r\n    SplitView.prototype.addView = function (view, size, index) {\r\n        if (index === void 0) { index = this.viewItems.length; }\r\n        this.doAddView(view, size, index, false);\r\n    };\r\n    SplitView.prototype.layout = function (size, layoutContext) {\r\n        var _this = this;\r\n        var previousSize = Math.max(this.size, this.contentSize);\r\n        this.size = size;\r\n        this.layoutContext = layoutContext;\r\n        if (!this.proportions) {\r\n            var indexes = range(this.viewItems.length);\r\n            var lowPriorityIndexes = indexes.filter(function (i) { return _this.viewItems[i].priority === 1 /* Low */; });\r\n            var highPriorityIndexes = indexes.filter(function (i) { return _this.viewItems[i].priority === 2 /* High */; });\r\n            this.resize(this.viewItems.length - 1, size - previousSize, undefined, lowPriorityIndexes, highPriorityIndexes);\r\n        }\r\n        else {\r\n            for (var i = 0; i < this.viewItems.length; i++) {\r\n                var item = this.viewItems[i];\r\n                item.size = clamp(Math.round(this.proportions[i] * size), item.minimumSize, item.maximumSize);\r\n            }\r\n        }\r\n        this.distributeEmptySpace();\r\n        this.layoutViews();\r\n    };\r\n    SplitView.prototype.saveProportions = function () {\r\n        var _this = this;\r\n        if (this.proportionalLayout && this.contentSize > 0) {\r\n            this.proportions = this.viewItems.map(function (i) { return i.size / _this.contentSize; });\r\n        }\r\n    };\r\n    SplitView.prototype.onSashStart = function (_a) {\r\n        var _this = this;\r\n        var sash = _a.sash, start = _a.start, alt = _a.alt;\r\n        for (var _i = 0, _b = this.viewItems; _i < _b.length; _i++) {\r\n            var item = _b[_i];\r\n            item.enabled = false;\r\n        }\r\n        var index = firstIndex(this.sashItems, function (item) { return item.sash === sash; });\r\n        // This way, we can press Alt while we resize a sash, macOS style!\r\n        var disposable = combinedDisposable(domEvent(document.body, 'keydown')(function (e) { return resetSashDragState(_this.sashDragState.current, e.altKey); }), domEvent(document.body, 'keyup')(function () { return resetSashDragState(_this.sashDragState.current, false); }));\r\n        var resetSashDragState = function (start, alt) {\r\n            var sizes = _this.viewItems.map(function (i) { return i.size; });\r\n            var minDelta = Number.NEGATIVE_INFINITY;\r\n            var maxDelta = Number.POSITIVE_INFINITY;\r\n            if (_this.inverseAltBehavior) {\r\n                alt = !alt;\r\n            }\r\n            if (alt) {\r\n                // When we're using the last sash with Alt, we're resizing\r\n                // the view to the left/up, instead of right/down as usual\r\n                // Thus, we must do the inverse of the usual\r\n                var isLastSash = index === _this.sashItems.length - 1;\r\n                if (isLastSash) {\r\n                    var viewItem = _this.viewItems[index];\r\n                    minDelta = (viewItem.minimumSize - viewItem.size) / 2;\r\n                    maxDelta = (viewItem.maximumSize - viewItem.size) / 2;\r\n                }\r\n                else {\r\n                    var viewItem = _this.viewItems[index + 1];\r\n                    minDelta = (viewItem.size - viewItem.maximumSize) / 2;\r\n                    maxDelta = (viewItem.size - viewItem.minimumSize) / 2;\r\n                }\r\n            }\r\n            var snapBefore;\r\n            var snapAfter;\r\n            if (!alt) {\r\n                var upIndexes = range(index, -1);\r\n                var downIndexes = range(index + 1, _this.viewItems.length);\r\n                var minDeltaUp = upIndexes.reduce(function (r, i) { return r + (_this.viewItems[i].minimumSize - sizes[i]); }, 0);\r\n                var maxDeltaUp = upIndexes.reduce(function (r, i) { return r + (_this.viewItems[i].viewMaximumSize - sizes[i]); }, 0);\r\n                var maxDeltaDown = downIndexes.length === 0 ? Number.POSITIVE_INFINITY : downIndexes.reduce(function (r, i) { return r + (sizes[i] - _this.viewItems[i].minimumSize); }, 0);\r\n                var minDeltaDown = downIndexes.length === 0 ? Number.NEGATIVE_INFINITY : downIndexes.reduce(function (r, i) { return r + (sizes[i] - _this.viewItems[i].viewMaximumSize); }, 0);\r\n                var minDelta_1 = Math.max(minDeltaUp, minDeltaDown);\r\n                var maxDelta_1 = Math.min(maxDeltaDown, maxDeltaUp);\r\n                var snapBeforeIndex = _this.findFirstSnapIndex(upIndexes);\r\n                var snapAfterIndex = _this.findFirstSnapIndex(downIndexes);\r\n                if (typeof snapBeforeIndex === 'number') {\r\n                    var viewItem = _this.viewItems[snapBeforeIndex];\r\n                    var halfSize = Math.floor(viewItem.viewMinimumSize / 2);\r\n                    snapBefore = {\r\n                        index: snapBeforeIndex,\r\n                        limitDelta: viewItem.visible ? minDelta_1 - halfSize : minDelta_1 + halfSize,\r\n                        size: viewItem.size\r\n                    };\r\n                }\r\n                if (typeof snapAfterIndex === 'number') {\r\n                    var viewItem = _this.viewItems[snapAfterIndex];\r\n                    var halfSize = Math.floor(viewItem.viewMinimumSize / 2);\r\n                    snapAfter = {\r\n                        index: snapAfterIndex,\r\n                        limitDelta: viewItem.visible ? maxDelta_1 + halfSize : maxDelta_1 - halfSize,\r\n                        size: viewItem.size\r\n                    };\r\n                }\r\n            }\r\n            _this.sashDragState = { start: start, current: start, index: index, sizes: sizes, minDelta: minDelta, maxDelta: maxDelta, alt: alt, snapBefore: snapBefore, snapAfter: snapAfter, disposable: disposable };\r\n        };\r\n        resetSashDragState(start, alt);\r\n    };\r\n    SplitView.prototype.onSashChange = function (_a) {\r\n        var current = _a.current;\r\n        var _b = this.sashDragState, index = _b.index, start = _b.start, sizes = _b.sizes, alt = _b.alt, minDelta = _b.minDelta, maxDelta = _b.maxDelta, snapBefore = _b.snapBefore, snapAfter = _b.snapAfter;\r\n        this.sashDragState.current = current;\r\n        var delta = current - start;\r\n        var newDelta = this.resize(index, delta, sizes, undefined, undefined, minDelta, maxDelta, snapBefore, snapAfter);\r\n        if (alt) {\r\n            var isLastSash = index === this.sashItems.length - 1;\r\n            var newSizes = this.viewItems.map(function (i) { return i.size; });\r\n            var viewItemIndex = isLastSash ? index : index + 1;\r\n            var viewItem = this.viewItems[viewItemIndex];\r\n            var newMinDelta = viewItem.size - viewItem.maximumSize;\r\n            var newMaxDelta = viewItem.size - viewItem.minimumSize;\r\n            var resizeIndex = isLastSash ? index - 1 : index + 1;\r\n            this.resize(resizeIndex, -newDelta, newSizes, undefined, undefined, newMinDelta, newMaxDelta);\r\n        }\r\n        this.distributeEmptySpace();\r\n        this.layoutViews();\r\n    };\r\n    SplitView.prototype.onSashEnd = function (index) {\r\n        this._onDidSashChange.fire(index);\r\n        this.sashDragState.disposable.dispose();\r\n        this.saveProportions();\r\n        for (var _i = 0, _a = this.viewItems; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            item.enabled = true;\r\n        }\r\n    };\r\n    SplitView.prototype.onViewChange = function (item, size) {\r\n        var index = this.viewItems.indexOf(item);\r\n        if (index < 0 || index >= this.viewItems.length) {\r\n            return;\r\n        }\r\n        size = typeof size === 'number' ? size : item.size;\r\n        size = clamp(size, item.minimumSize, item.maximumSize);\r\n        if (this.inverseAltBehavior && index > 0) {\r\n            // In this case, we want the view to grow or shrink both sides equally\r\n            // so we just resize the \"left\" side by half and let `resize` do the clamping magic\r\n            this.resize(index - 1, Math.floor((item.size - size) / 2));\r\n            this.distributeEmptySpace();\r\n            this.layoutViews();\r\n        }\r\n        else {\r\n            item.size = size;\r\n            this.relayout([index], undefined);\r\n        }\r\n    };\r\n    SplitView.prototype.resizeView = function (index, size) {\r\n        var _this = this;\r\n        if (this.state !== State.Idle) {\r\n            throw new Error('Cant modify splitview');\r\n        }\r\n        this.state = State.Busy;\r\n        if (index < 0 || index >= this.viewItems.length) {\r\n            return;\r\n        }\r\n        var indexes = range(this.viewItems.length).filter(function (i) { return i !== index; });\r\n        var lowPriorityIndexes = __spreadArrays(indexes.filter(function (i) { return _this.viewItems[i].priority === 1 /* Low */; }), [index]);\r\n        var highPriorityIndexes = indexes.filter(function (i) { return _this.viewItems[i].priority === 2 /* High */; });\r\n        var item = this.viewItems[index];\r\n        size = Math.round(size);\r\n        size = clamp(size, item.minimumSize, Math.min(item.maximumSize, this.size));\r\n        item.size = size;\r\n        this.relayout(lowPriorityIndexes, highPriorityIndexes);\r\n        this.state = State.Idle;\r\n    };\r\n    SplitView.prototype.distributeViewSizes = function () {\r\n        var _this = this;\r\n        var flexibleViewItems = [];\r\n        var flexibleSize = 0;\r\n        for (var _i = 0, _a = this.viewItems; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            if (item.maximumSize - item.minimumSize > 0) {\r\n                flexibleViewItems.push(item);\r\n                flexibleSize += item.size;\r\n            }\r\n        }\r\n        var size = Math.floor(flexibleSize / flexibleViewItems.length);\r\n        for (var _b = 0, flexibleViewItems_1 = flexibleViewItems; _b < flexibleViewItems_1.length; _b++) {\r\n            var item = flexibleViewItems_1[_b];\r\n            item.size = clamp(size, item.minimumSize, item.maximumSize);\r\n        }\r\n        var indexes = range(this.viewItems.length);\r\n        var lowPriorityIndexes = indexes.filter(function (i) { return _this.viewItems[i].priority === 1 /* Low */; });\r\n        var highPriorityIndexes = indexes.filter(function (i) { return _this.viewItems[i].priority === 2 /* High */; });\r\n        this.relayout(lowPriorityIndexes, highPriorityIndexes);\r\n    };\r\n    SplitView.prototype.getViewSize = function (index) {\r\n        if (index < 0 || index >= this.viewItems.length) {\r\n            return -1;\r\n        }\r\n        return this.viewItems[index].size;\r\n    };\r\n    SplitView.prototype.doAddView = function (view, size, index, skipLayout) {\r\n        var _this = this;\r\n        if (index === void 0) { index = this.viewItems.length; }\r\n        if (this.state !== State.Idle) {\r\n            throw new Error('Cant modify splitview');\r\n        }\r\n        this.state = State.Busy;\r\n        // Add view\r\n        var container = dom.$('.split-view-view');\r\n        if (index === this.viewItems.length) {\r\n            this.viewContainer.appendChild(container);\r\n        }\r\n        else {\r\n            this.viewContainer.insertBefore(container, this.viewContainer.children.item(index));\r\n        }\r\n        var onChangeDisposable = view.onDidChange(function (size) { return _this.onViewChange(item, size); });\r\n        var containerDisposable = toDisposable(function () { return _this.viewContainer.removeChild(container); });\r\n        var disposable = combinedDisposable(onChangeDisposable, containerDisposable);\r\n        var viewSize;\r\n        if (typeof size === 'number') {\r\n            viewSize = size;\r\n        }\r\n        else if (size.type === 'split') {\r\n            viewSize = this.getViewSize(size.index) / 2;\r\n        }\r\n        else if (size.type === 'invisible') {\r\n            viewSize = { cachedVisibleSize: size.cachedVisibleSize };\r\n        }\r\n        else {\r\n            viewSize = view.minimumSize;\r\n        }\r\n        var item = this.orientation === 0 /* VERTICAL */\r\n            ? new VerticalViewItem(container, view, viewSize, disposable)\r\n            : new HorizontalViewItem(container, view, viewSize, disposable);\r\n        this.viewItems.splice(index, 0, item);\r\n        // Add sash\r\n        if (this.viewItems.length > 1) {\r\n            var orientation_1 = this.orientation === 0 /* VERTICAL */ ? 1 /* HORIZONTAL */ : 0 /* VERTICAL */;\r\n            var layoutProvider = this.orientation === 0 /* VERTICAL */ ? { getHorizontalSashTop: function (sash) { return _this.getSashPosition(sash); } } : { getVerticalSashLeft: function (sash) { return _this.getSashPosition(sash); } };\r\n            var sash_1 = new Sash(this.sashContainer, layoutProvider, {\r\n                orientation: orientation_1,\r\n                orthogonalStartSash: this.orthogonalStartSash,\r\n                orthogonalEndSash: this.orthogonalEndSash\r\n            });\r\n            var sashEventMapper = this.orientation === 0 /* VERTICAL */\r\n                ? function (e) { return ({ sash: sash_1, start: e.startY, current: e.currentY, alt: e.altKey }); }\r\n                : function (e) { return ({ sash: sash_1, start: e.startX, current: e.currentX, alt: e.altKey }); };\r\n            var onStart = Event.map(sash_1.onDidStart, sashEventMapper);\r\n            var onStartDisposable = onStart(this.onSashStart, this);\r\n            var onChange = Event.map(sash_1.onDidChange, sashEventMapper);\r\n            var onChangeDisposable_1 = onChange(this.onSashChange, this);\r\n            var onEnd = Event.map(sash_1.onDidEnd, function () { return firstIndex(_this.sashItems, function (item) { return item.sash === sash_1; }); });\r\n            var onEndDisposable = onEnd(this.onSashEnd, this);\r\n            var onDidResetDisposable = sash_1.onDidReset(function () {\r\n                var index = firstIndex(_this.sashItems, function (item) { return item.sash === sash_1; });\r\n                var upIndexes = range(index, -1);\r\n                var downIndexes = range(index + 1, _this.viewItems.length);\r\n                var snapBeforeIndex = _this.findFirstSnapIndex(upIndexes);\r\n                var snapAfterIndex = _this.findFirstSnapIndex(downIndexes);\r\n                if (typeof snapBeforeIndex === 'number' && !_this.viewItems[snapBeforeIndex].visible) {\r\n                    return;\r\n                }\r\n                if (typeof snapAfterIndex === 'number' && !_this.viewItems[snapAfterIndex].visible) {\r\n                    return;\r\n                }\r\n                _this._onDidSashReset.fire(index);\r\n            });\r\n            var disposable_1 = combinedDisposable(onStartDisposable, onChangeDisposable_1, onEndDisposable, onDidResetDisposable, sash_1);\r\n            var sashItem = { sash: sash_1, disposable: disposable_1 };\r\n            this.sashItems.splice(index - 1, 0, sashItem);\r\n        }\r\n        container.appendChild(view.element);\r\n        var highPriorityIndexes;\r\n        if (typeof size !== 'number' && size.type === 'split') {\r\n            highPriorityIndexes = [size.index];\r\n        }\r\n        if (!skipLayout) {\r\n            this.relayout([index], highPriorityIndexes);\r\n        }\r\n        this.state = State.Idle;\r\n        if (!skipLayout && typeof size !== 'number' && size.type === 'distribute') {\r\n            this.distributeViewSizes();\r\n        }\r\n    };\r\n    SplitView.prototype.relayout = function (lowPriorityIndexes, highPriorityIndexes) {\r\n        var contentSize = this.viewItems.reduce(function (r, i) { return r + i.size; }, 0);\r\n        this.resize(this.viewItems.length - 1, this.size - contentSize, undefined, lowPriorityIndexes, highPriorityIndexes);\r\n        this.distributeEmptySpace();\r\n        this.layoutViews();\r\n        this.saveProportions();\r\n    };\r\n    SplitView.prototype.resize = function (index, delta, sizes, lowPriorityIndexes, highPriorityIndexes, overloadMinDelta, overloadMaxDelta, snapBefore, snapAfter) {\r\n        var _this = this;\r\n        if (sizes === void 0) { sizes = this.viewItems.map(function (i) { return i.size; }); }\r\n        if (overloadMinDelta === void 0) { overloadMinDelta = Number.NEGATIVE_INFINITY; }\r\n        if (overloadMaxDelta === void 0) { overloadMaxDelta = Number.POSITIVE_INFINITY; }\r\n        if (index < 0 || index >= this.viewItems.length) {\r\n            return 0;\r\n        }\r\n        var upIndexes = range(index, -1);\r\n        var downIndexes = range(index + 1, this.viewItems.length);\r\n        if (highPriorityIndexes) {\r\n            for (var _i = 0, highPriorityIndexes_1 = highPriorityIndexes; _i < highPriorityIndexes_1.length; _i++) {\r\n                var index_1 = highPriorityIndexes_1[_i];\r\n                pushToStart(upIndexes, index_1);\r\n                pushToStart(downIndexes, index_1);\r\n            }\r\n        }\r\n        if (lowPriorityIndexes) {\r\n            for (var _a = 0, lowPriorityIndexes_1 = lowPriorityIndexes; _a < lowPriorityIndexes_1.length; _a++) {\r\n                var index_2 = lowPriorityIndexes_1[_a];\r\n                pushToEnd(upIndexes, index_2);\r\n                pushToEnd(downIndexes, index_2);\r\n            }\r\n        }\r\n        var upItems = upIndexes.map(function (i) { return _this.viewItems[i]; });\r\n        var upSizes = upIndexes.map(function (i) { return sizes[i]; });\r\n        var downItems = downIndexes.map(function (i) { return _this.viewItems[i]; });\r\n        var downSizes = downIndexes.map(function (i) { return sizes[i]; });\r\n        var minDeltaUp = upIndexes.reduce(function (r, i) { return r + (_this.viewItems[i].minimumSize - sizes[i]); }, 0);\r\n        var maxDeltaUp = upIndexes.reduce(function (r, i) { return r + (_this.viewItems[i].maximumSize - sizes[i]); }, 0);\r\n        var maxDeltaDown = downIndexes.length === 0 ? Number.POSITIVE_INFINITY : downIndexes.reduce(function (r, i) { return r + (sizes[i] - _this.viewItems[i].minimumSize); }, 0);\r\n        var minDeltaDown = downIndexes.length === 0 ? Number.NEGATIVE_INFINITY : downIndexes.reduce(function (r, i) { return r + (sizes[i] - _this.viewItems[i].maximumSize); }, 0);\r\n        var minDelta = Math.max(minDeltaUp, minDeltaDown, overloadMinDelta);\r\n        var maxDelta = Math.min(maxDeltaDown, maxDeltaUp, overloadMaxDelta);\r\n        var snapped = false;\r\n        if (snapBefore) {\r\n            var snapView = this.viewItems[snapBefore.index];\r\n            var visible = delta >= snapBefore.limitDelta;\r\n            snapped = visible !== snapView.visible;\r\n            snapView.setVisible(visible, snapBefore.size);\r\n        }\r\n        if (!snapped && snapAfter) {\r\n            var snapView = this.viewItems[snapAfter.index];\r\n            var visible = delta < snapAfter.limitDelta;\r\n            snapped = visible !== snapView.visible;\r\n            snapView.setVisible(visible, snapAfter.size);\r\n        }\r\n        if (snapped) {\r\n            return this.resize(index, delta, sizes, lowPriorityIndexes, highPriorityIndexes, overloadMinDelta, overloadMaxDelta);\r\n        }\r\n        delta = clamp(delta, minDelta, maxDelta);\r\n        for (var i = 0, deltaUp = delta; i < upItems.length; i++) {\r\n            var item = upItems[i];\r\n            var size = clamp(upSizes[i] + deltaUp, item.minimumSize, item.maximumSize);\r\n            var viewDelta = size - upSizes[i];\r\n            deltaUp -= viewDelta;\r\n            item.size = size;\r\n        }\r\n        for (var i = 0, deltaDown = delta; i < downItems.length; i++) {\r\n            var item = downItems[i];\r\n            var size = clamp(downSizes[i] - deltaDown, item.minimumSize, item.maximumSize);\r\n            var viewDelta = size - downSizes[i];\r\n            deltaDown += viewDelta;\r\n            item.size = size;\r\n        }\r\n        return delta;\r\n    };\r\n    SplitView.prototype.distributeEmptySpace = function (lowPriorityIndex) {\r\n        var _this = this;\r\n        var contentSize = this.viewItems.reduce(function (r, i) { return r + i.size; }, 0);\r\n        var emptyDelta = this.size - contentSize;\r\n        var indexes = range(this.viewItems.length - 1, -1);\r\n        var lowPriorityIndexes = indexes.filter(function (i) { return _this.viewItems[i].priority === 1 /* Low */; });\r\n        var highPriorityIndexes = indexes.filter(function (i) { return _this.viewItems[i].priority === 2 /* High */; });\r\n        for (var _i = 0, highPriorityIndexes_2 = highPriorityIndexes; _i < highPriorityIndexes_2.length; _i++) {\r\n            var index = highPriorityIndexes_2[_i];\r\n            pushToStart(indexes, index);\r\n        }\r\n        for (var _a = 0, lowPriorityIndexes_2 = lowPriorityIndexes; _a < lowPriorityIndexes_2.length; _a++) {\r\n            var index = lowPriorityIndexes_2[_a];\r\n            pushToEnd(indexes, index);\r\n        }\r\n        if (typeof lowPriorityIndex === 'number') {\r\n            pushToEnd(indexes, lowPriorityIndex);\r\n        }\r\n        for (var i = 0; emptyDelta !== 0 && i < indexes.length; i++) {\r\n            var item = this.viewItems[indexes[i]];\r\n            var size = clamp(item.size + emptyDelta, item.minimumSize, item.maximumSize);\r\n            var viewDelta = size - item.size;\r\n            emptyDelta -= viewDelta;\r\n            item.size = size;\r\n        }\r\n    };\r\n    SplitView.prototype.layoutViews = function () {\r\n        // Save new content size\r\n        this.contentSize = this.viewItems.reduce(function (r, i) { return r + i.size; }, 0);\r\n        // Layout views\r\n        var offset = 0;\r\n        for (var _i = 0, _a = this.viewItems; _i < _a.length; _i++) {\r\n            var viewItem = _a[_i];\r\n            viewItem.layout(offset, this.layoutContext);\r\n            offset += viewItem.size;\r\n        }\r\n        // Layout sashes\r\n        this.sashItems.forEach(function (item) { return item.sash.layout(); });\r\n        this.updateSashEnablement();\r\n    };\r\n    SplitView.prototype.updateSashEnablement = function () {\r\n        var previous = false;\r\n        var collapsesDown = this.viewItems.map(function (i) { return previous = (i.size - i.minimumSize > 0) || previous; });\r\n        previous = false;\r\n        var expandsDown = this.viewItems.map(function (i) { return previous = (i.maximumSize - i.size > 0) || previous; });\r\n        var reverseViews = __spreadArrays(this.viewItems).reverse();\r\n        previous = false;\r\n        var collapsesUp = reverseViews.map(function (i) { return previous = (i.size - i.minimumSize > 0) || previous; }).reverse();\r\n        previous = false;\r\n        var expandsUp = reverseViews.map(function (i) { return previous = (i.maximumSize - i.size > 0) || previous; }).reverse();\r\n        var position = 0;\r\n        for (var index = 0; index < this.sashItems.length; index++) {\r\n            var sash = this.sashItems[index].sash;\r\n            var viewItem = this.viewItems[index];\r\n            position += viewItem.size;\r\n            var min = !(collapsesDown[index] && expandsUp[index + 1]);\r\n            var max = !(expandsDown[index] && collapsesUp[index + 1]);\r\n            if (min && max) {\r\n                var upIndexes = range(index, -1);\r\n                var downIndexes = range(index + 1, this.viewItems.length);\r\n                var snapBeforeIndex = this.findFirstSnapIndex(upIndexes);\r\n                var snapAfterIndex = this.findFirstSnapIndex(downIndexes);\r\n                var snappedBefore = typeof snapBeforeIndex === 'number' && !this.viewItems[snapBeforeIndex].visible;\r\n                var snappedAfter = typeof snapAfterIndex === 'number' && !this.viewItems[snapAfterIndex].visible;\r\n                if (snappedBefore && collapsesUp[index] && (position > 0 || this.startSnappingEnabled)) {\r\n                    sash.state = 1 /* Minimum */;\r\n                }\r\n                else if (snappedAfter && collapsesDown[index] && (position < this.contentSize || this.endSnappingEnabled)) {\r\n                    sash.state = 2 /* Maximum */;\r\n                }\r\n                else {\r\n                    sash.state = 0 /* Disabled */;\r\n                }\r\n            }\r\n            else if (min && !max) {\r\n                sash.state = 1 /* Minimum */;\r\n            }\r\n            else if (!min && max) {\r\n                sash.state = 2 /* Maximum */;\r\n            }\r\n            else {\r\n                sash.state = 3 /* Enabled */;\r\n            }\r\n        }\r\n    };\r\n    SplitView.prototype.getSashPosition = function (sash) {\r\n        var position = 0;\r\n        for (var i = 0; i < this.sashItems.length; i++) {\r\n            position += this.viewItems[i].size;\r\n            if (this.sashItems[i].sash === sash) {\r\n                return Math.min(position, this.contentSize - 2);\r\n            }\r\n        }\r\n        return 0;\r\n    };\r\n    SplitView.prototype.findFirstSnapIndex = function (indexes) {\r\n        // visible views first\r\n        for (var _i = 0, indexes_1 = indexes; _i < indexes_1.length; _i++) {\r\n            var index = indexes_1[_i];\r\n            var viewItem = this.viewItems[index];\r\n            if (!viewItem.visible) {\r\n                continue;\r\n            }\r\n            if (viewItem.snap) {\r\n                return index;\r\n            }\r\n        }\r\n        // then, hidden views\r\n        for (var _a = 0, indexes_2 = indexes; _a < indexes_2.length; _a++) {\r\n            var index = indexes_2[_a];\r\n            var viewItem = this.viewItems[index];\r\n            if (viewItem.visible && viewItem.maximumSize - viewItem.minimumSize > 0) {\r\n                return undefined;\r\n            }\r\n            if (!viewItem.visible && viewItem.snap) {\r\n                return index;\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    SplitView.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        this.viewItems.forEach(function (i) { return i.dispose(); });\r\n        this.viewItems = [];\r\n        this.sashItems.forEach(function (i) { return i.disposable.dispose(); });\r\n        this.sashItems = [];\r\n    };\r\n    return SplitView;\r\n}(Disposable));\r\nexport { SplitView };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport './referencesWidget.css';\r\nimport * as dom from '../../../../base/browser/dom.js';\r\nimport { Color } from '../../../../base/common/color.js';\r\nimport { Emitter, Event } from '../../../../base/common/event.js';\r\nimport { dispose, DisposableStore } from '../../../../base/common/lifecycle.js';\r\nimport { Schemas } from '../../../../base/common/network.js';\r\nimport { basenameOrAuthority, dirname, isEqual } from '../../../../base/common/resources.js';\r\nimport { EmbeddedCodeEditorWidget } from '../../../browser/widget/embeddedCodeEditorWidget.js';\r\nimport { Range } from '../../../common/core/range.js';\r\nimport { ModelDecorationOptions, TextModel } from '../../../common/model/textModel.js';\r\nimport { ITextModelService } from '../../../common/services/resolverService.js';\r\nimport { AriaProvider, DataSource, Delegate, FileReferencesRenderer, OneReferenceRenderer, StringRepresentationProvider, IdentityProvider } from './referencesTree.js';\r\nimport * as nls from '../../../../nls.js';\r\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\r\nimport { ILabelService } from '../../../../platform/label/common/label.js';\r\nimport { WorkbenchAsyncDataTree } from '../../../../platform/list/browser/listService.js';\r\nimport { activeContrastBorder } from '../../../../platform/theme/common/colorRegistry.js';\r\nimport { IThemeService, registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\r\nimport * as peekView from '../../peekView/peekView.js';\r\nimport { FileReferences, OneReference } from '../referencesModel.js';\r\nimport { SplitView, Sizing } from '../../../../base/browser/ui/splitview/splitview.js';\r\nvar DecorationsManager = /** @class */ (function () {\r\n    function DecorationsManager(_editor, _model) {\r\n        var _this = this;\r\n        this._editor = _editor;\r\n        this._model = _model;\r\n        this._decorations = new Map();\r\n        this._decorationIgnoreSet = new Set();\r\n        this._callOnDispose = new DisposableStore();\r\n        this._callOnModelChange = new DisposableStore();\r\n        this._callOnDispose.add(this._editor.onDidChangeModel(function () { return _this._onModelChanged(); }));\r\n        this._onModelChanged();\r\n    }\r\n    DecorationsManager.prototype.dispose = function () {\r\n        this._callOnModelChange.dispose();\r\n        this._callOnDispose.dispose();\r\n        this.removeDecorations();\r\n    };\r\n    DecorationsManager.prototype._onModelChanged = function () {\r\n        this._callOnModelChange.clear();\r\n        var model = this._editor.getModel();\r\n        if (model) {\r\n            for (var _i = 0, _a = this._model.groups; _i < _a.length; _i++) {\r\n                var ref = _a[_i];\r\n                if (isEqual(ref.uri, model.uri)) {\r\n                    this._addDecorations(ref);\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    DecorationsManager.prototype._addDecorations = function (reference) {\r\n        var _this = this;\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(function (event) { return _this._onDecorationChanged(); }));\r\n        var newDecorations = [];\r\n        var newDecorationsActualIndex = [];\r\n        for (var i = 0, len = reference.children.length; i < len; i++) {\r\n            var oneReference = reference.children[i];\r\n            if (this._decorationIgnoreSet.has(oneReference.id)) {\r\n                continue;\r\n            }\r\n            newDecorations.push({\r\n                range: oneReference.range,\r\n                options: DecorationsManager.DecorationOptions\r\n            });\r\n            newDecorationsActualIndex.push(i);\r\n        }\r\n        var decorations = this._editor.deltaDecorations([], newDecorations);\r\n        for (var i = 0; i < decorations.length; i++) {\r\n            this._decorations.set(decorations[i], reference.children[newDecorationsActualIndex[i]]);\r\n        }\r\n    };\r\n    DecorationsManager.prototype._onDecorationChanged = function () {\r\n        var _this = this;\r\n        var toRemove = [];\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return;\r\n        }\r\n        this._decorations.forEach(function (reference, decorationId) {\r\n            var newRange = model.getDecorationRange(decorationId);\r\n            if (!newRange) {\r\n                return;\r\n            }\r\n            var ignore = false;\r\n            if (Range.equalsRange(newRange, reference.range)) {\r\n                return;\r\n            }\r\n            else if (Range.spansMultipleLines(newRange)) {\r\n                ignore = true;\r\n            }\r\n            else {\r\n                var lineLength = reference.range.endColumn - reference.range.startColumn;\r\n                var newLineLength = newRange.endColumn - newRange.startColumn;\r\n                if (lineLength !== newLineLength) {\r\n                    ignore = true;\r\n                }\r\n            }\r\n            if (ignore) {\r\n                _this._decorationIgnoreSet.add(reference.id);\r\n                toRemove.push(decorationId);\r\n            }\r\n            else {\r\n                reference.range = newRange;\r\n            }\r\n        });\r\n        for (var i = 0, len = toRemove.length; i < len; i++) {\r\n            this._decorations.delete(toRemove[i]);\r\n        }\r\n        this._editor.deltaDecorations(toRemove, []);\r\n    };\r\n    DecorationsManager.prototype.removeDecorations = function () {\r\n        var toRemove = [];\r\n        this._decorations.forEach(function (value, key) {\r\n            toRemove.push(key);\r\n        });\r\n        this._editor.deltaDecorations(toRemove, []);\r\n        this._decorations.clear();\r\n    };\r\n    DecorationsManager.DecorationOptions = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'reference-decoration'\r\n    });\r\n    return DecorationsManager;\r\n}());\r\nvar LayoutData = /** @class */ (function () {\r\n    function LayoutData() {\r\n        this.ratio = 0.7;\r\n        this.heightInLines = 18;\r\n    }\r\n    LayoutData.fromJSON = function (raw) {\r\n        var ratio;\r\n        var heightInLines;\r\n        try {\r\n            var data = JSON.parse(raw);\r\n            ratio = data.ratio;\r\n            heightInLines = data.heightInLines;\r\n        }\r\n        catch (_a) {\r\n            //\r\n        }\r\n        return {\r\n            ratio: ratio || 0.7,\r\n            heightInLines: heightInLines || 18\r\n        };\r\n    };\r\n    return LayoutData;\r\n}());\r\nexport { LayoutData };\r\n/**\r\n * ZoneWidget that is shown inside the editor\r\n */\r\nvar ReferenceWidget = /** @class */ (function (_super) {\r\n    __extends(ReferenceWidget, _super);\r\n    function ReferenceWidget(editor, _defaultTreeKeyboardSupport, layoutData, themeService, _textModelResolverService, _instantiationService, _peekViewService, _uriLabel) {\r\n        var _this = _super.call(this, editor, { showFrame: false, showArrow: true, isResizeable: true, isAccessible: true }) || this;\r\n        _this._defaultTreeKeyboardSupport = _defaultTreeKeyboardSupport;\r\n        _this.layoutData = layoutData;\r\n        _this._textModelResolverService = _textModelResolverService;\r\n        _this._instantiationService = _instantiationService;\r\n        _this._peekViewService = _peekViewService;\r\n        _this._uriLabel = _uriLabel;\r\n        _this._disposeOnNewModel = new DisposableStore();\r\n        _this._callOnDispose = new DisposableStore();\r\n        _this._onDidSelectReference = new Emitter();\r\n        _this.onDidSelectReference = _this._onDidSelectReference.event;\r\n        _this._dim = { height: 0, width: 0 };\r\n        _this._applyTheme(themeService.getTheme());\r\n        _this._callOnDispose.add(themeService.onThemeChange(_this._applyTheme.bind(_this)));\r\n        _this._peekViewService.addExclusiveWidget(editor, _this);\r\n        _this.create();\r\n        return _this;\r\n    }\r\n    ReferenceWidget.prototype.dispose = function () {\r\n        this.setModel(undefined);\r\n        this._callOnDispose.dispose();\r\n        this._disposeOnNewModel.dispose();\r\n        dispose(this._preview);\r\n        dispose(this._previewNotAvailableMessage);\r\n        dispose(this._tree);\r\n        dispose(this._previewModelReference);\r\n        this._splitView.dispose();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    ReferenceWidget.prototype._applyTheme = function (theme) {\r\n        var borderColor = theme.getColor(peekView.peekViewBorder) || Color.transparent;\r\n        this.style({\r\n            arrowColor: borderColor,\r\n            frameColor: borderColor,\r\n            headerBackgroundColor: theme.getColor(peekView.peekViewTitleBackground) || Color.transparent,\r\n            primaryHeadingColor: theme.getColor(peekView.peekViewTitleForeground),\r\n            secondaryHeadingColor: theme.getColor(peekView.peekViewTitleInfoForeground)\r\n        });\r\n    };\r\n    ReferenceWidget.prototype.show = function (where) {\r\n        this.editor.revealRangeInCenterIfOutsideViewport(where, 0 /* Smooth */);\r\n        _super.prototype.show.call(this, where, this.layoutData.heightInLines || 18);\r\n    };\r\n    ReferenceWidget.prototype.focus = function () {\r\n        this._tree.domFocus();\r\n    };\r\n    ReferenceWidget.prototype._onTitleClick = function (e) {\r\n        if (this._preview && this._preview.getModel()) {\r\n            this._onDidSelectReference.fire({\r\n                element: this._getFocusedReference(),\r\n                kind: e.ctrlKey || e.metaKey || e.altKey ? 'side' : 'open',\r\n                source: 'title'\r\n            });\r\n        }\r\n    };\r\n    ReferenceWidget.prototype._fillBody = function (containerElement) {\r\n        var _this = this;\r\n        this.setCssClass('reference-zone-widget');\r\n        // message pane\r\n        this._messageContainer = dom.append(containerElement, dom.$('div.messages'));\r\n        dom.hide(this._messageContainer);\r\n        this._splitView = new SplitView(containerElement, { orientation: 1 /* HORIZONTAL */ });\r\n        // editor\r\n        this._previewContainer = dom.append(containerElement, dom.$('div.preview.inline'));\r\n        var options = {\r\n            scrollBeyondLastLine: false,\r\n            scrollbar: {\r\n                verticalScrollbarSize: 14,\r\n                horizontal: 'auto',\r\n                useShadows: true,\r\n                verticalHasArrows: false,\r\n                horizontalHasArrows: false,\r\n                alwaysConsumeMouseWheel: false\r\n            },\r\n            overviewRulerLanes: 2,\r\n            fixedOverflowWidgets: true,\r\n            minimap: {\r\n                enabled: false\r\n            }\r\n        };\r\n        this._preview = this._instantiationService.createInstance(EmbeddedCodeEditorWidget, this._previewContainer, options, this.editor);\r\n        dom.hide(this._previewContainer);\r\n        this._previewNotAvailableMessage = TextModel.createFromString(nls.localize('missingPreviewMessage', \"no preview available\"));\r\n        // tree\r\n        this._treeContainer = dom.append(containerElement, dom.$('div.ref-tree.inline'));\r\n        var treeOptions = {\r\n            ariaLabel: nls.localize('treeAriaLabel', \"References\"),\r\n            keyboardSupport: this._defaultTreeKeyboardSupport,\r\n            accessibilityProvider: new AriaProvider(),\r\n            keyboardNavigationLabelProvider: this._instantiationService.createInstance(StringRepresentationProvider),\r\n            identityProvider: new IdentityProvider(),\r\n            overrideStyles: {\r\n                listBackground: peekView.peekViewResultsBackground\r\n            }\r\n        };\r\n        this._tree = this._instantiationService.createInstance(WorkbenchAsyncDataTree, 'ReferencesWidget', this._treeContainer, new Delegate(), [\r\n            this._instantiationService.createInstance(FileReferencesRenderer),\r\n            this._instantiationService.createInstance(OneReferenceRenderer),\r\n        ], this._instantiationService.createInstance(DataSource), treeOptions);\r\n        // split stuff\r\n        this._splitView.addView({\r\n            onDidChange: Event.None,\r\n            element: this._previewContainer,\r\n            minimumSize: 200,\r\n            maximumSize: Number.MAX_VALUE,\r\n            layout: function (width) {\r\n                _this._preview.layout({ height: _this._dim.height, width: width });\r\n            }\r\n        }, Sizing.Distribute);\r\n        this._splitView.addView({\r\n            onDidChange: Event.None,\r\n            element: this._treeContainer,\r\n            minimumSize: 100,\r\n            maximumSize: Number.MAX_VALUE,\r\n            layout: function (width) {\r\n                _this._treeContainer.style.height = _this._dim.height + \"px\";\r\n                _this._treeContainer.style.width = width + \"px\";\r\n                _this._tree.layout(_this._dim.height, width);\r\n            }\r\n        }, Sizing.Distribute);\r\n        this._disposables.add(this._splitView.onDidSashChange(function () {\r\n            if (_this._dim.width) {\r\n                _this.layoutData.ratio = _this._splitView.getViewSize(0) / _this._dim.width;\r\n            }\r\n        }, undefined));\r\n        // listen on selection and focus\r\n        var onEvent = function (element, kind) {\r\n            if (element instanceof OneReference) {\r\n                if (kind === 'show') {\r\n                    _this._revealReference(element, false);\r\n                }\r\n                _this._onDidSelectReference.fire({ element: element, kind: kind, source: 'tree' });\r\n            }\r\n        };\r\n        this._tree.onDidChangeFocus(function (e) {\r\n            onEvent(e.elements[0], 'show');\r\n        });\r\n        this._tree.onDidOpen(function (e) {\r\n            if (e.browserEvent instanceof MouseEvent && (e.browserEvent.ctrlKey || e.browserEvent.metaKey || e.browserEvent.altKey)) {\r\n                // modifier-click -> open to the side\r\n                onEvent(e.elements[0], 'side');\r\n            }\r\n            else if (e.browserEvent instanceof KeyboardEvent || (e.browserEvent instanceof MouseEvent && e.browserEvent.detail === 2) || e.browserEvent.tapCount === 2) {\r\n                // keybinding (list service command)\r\n                // OR double click\r\n                // OR double tap\r\n                // -> close widget and goto target\r\n                onEvent(e.elements[0], 'goto');\r\n            }\r\n            else {\r\n                // preview location\r\n                onEvent(e.elements[0], 'show');\r\n            }\r\n        });\r\n        dom.hide(this._treeContainer);\r\n    };\r\n    ReferenceWidget.prototype._onWidth = function (width) {\r\n        if (this._dim) {\r\n            this._doLayoutBody(this._dim.height, width);\r\n        }\r\n    };\r\n    ReferenceWidget.prototype._doLayoutBody = function (heightInPixel, widthInPixel) {\r\n        _super.prototype._doLayoutBody.call(this, heightInPixel, widthInPixel);\r\n        this._dim = { height: heightInPixel, width: widthInPixel };\r\n        this.layoutData.heightInLines = this._viewZone ? this._viewZone.heightInLines : this.layoutData.heightInLines;\r\n        this._splitView.layout(widthInPixel);\r\n        this._splitView.resizeView(0, widthInPixel * this.layoutData.ratio);\r\n    };\r\n    ReferenceWidget.prototype.setSelection = function (selection) {\r\n        var _this = this;\r\n        return this._revealReference(selection, true).then(function () {\r\n            if (!_this._model) {\r\n                // disposed\r\n                return;\r\n            }\r\n            // show in tree\r\n            _this._tree.setSelection([selection]);\r\n            _this._tree.setFocus([selection]);\r\n        });\r\n    };\r\n    ReferenceWidget.prototype.setModel = function (newModel) {\r\n        // clean up\r\n        this._disposeOnNewModel.clear();\r\n        this._model = newModel;\r\n        if (this._model) {\r\n            return this._onNewModel();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    ReferenceWidget.prototype._onNewModel = function () {\r\n        var _this = this;\r\n        if (!this._model) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        if (this._model.isEmpty) {\r\n            this.setTitle('');\r\n            this._messageContainer.innerHTML = nls.localize('noResults', \"No results\");\r\n            dom.show(this._messageContainer);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        dom.hide(this._messageContainer);\r\n        this._decorationsManager = new DecorationsManager(this._preview, this._model);\r\n        this._disposeOnNewModel.add(this._decorationsManager);\r\n        // listen on model changes\r\n        this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(function (reference) { return _this._tree.rerender(reference); }));\r\n        // listen on editor\r\n        this._disposeOnNewModel.add(this._preview.onMouseDown(function (e) {\r\n            var event = e.event, target = e.target;\r\n            if (event.detail !== 2) {\r\n                return;\r\n            }\r\n            var element = _this._getFocusedReference();\r\n            if (!element) {\r\n                return;\r\n            }\r\n            _this._onDidSelectReference.fire({\r\n                element: { uri: element.uri, range: target.range },\r\n                kind: (event.ctrlKey || event.metaKey || event.altKey) ? 'side' : 'open',\r\n                source: 'editor'\r\n            });\r\n        }));\r\n        // make sure things are rendered\r\n        dom.addClass(this.container, 'results-loaded');\r\n        dom.show(this._treeContainer);\r\n        dom.show(this._previewContainer);\r\n        this._splitView.layout(this._dim.width);\r\n        this.focus();\r\n        // pick input and a reference to begin with\r\n        return this._tree.setInput(this._model.groups.length === 1 ? this._model.groups[0] : this._model);\r\n    };\r\n    ReferenceWidget.prototype._getFocusedReference = function () {\r\n        var element = this._tree.getFocus()[0];\r\n        if (element instanceof OneReference) {\r\n            return element;\r\n        }\r\n        else if (element instanceof FileReferences) {\r\n            if (element.children.length > 0) {\r\n                return element.children[0];\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    ReferenceWidget.prototype._revealReference = function (reference, revealParent) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var promise, ref, model, scrollType, sel;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        // check if there is anything to do...\r\n                        if (this._revealedReference === reference) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        this._revealedReference = reference;\r\n                        // Update widget header\r\n                        if (reference.uri.scheme !== Schemas.inMemory) {\r\n                            this.setTitle(basenameOrAuthority(reference.uri), this._uriLabel.getUriLabel(dirname(reference.uri)));\r\n                        }\r\n                        else {\r\n                            this.setTitle(nls.localize('peekView.alternateTitle', \"References\"));\r\n                        }\r\n                        promise = this._textModelResolverService.createModelReference(reference.uri);\r\n                        if (!(this._tree.getInput() === reference.parent)) return [3 /*break*/, 1];\r\n                        this._tree.reveal(reference);\r\n                        return [3 /*break*/, 3];\r\n                    case 1:\r\n                        if (revealParent) {\r\n                            this._tree.reveal(reference.parent);\r\n                        }\r\n                        return [4 /*yield*/, this._tree.expand(reference.parent)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this._tree.reveal(reference);\r\n                        _a.label = 3;\r\n                    case 3: return [4 /*yield*/, promise];\r\n                    case 4:\r\n                        ref = _a.sent();\r\n                        if (!this._model) {\r\n                            // disposed\r\n                            ref.dispose();\r\n                            return [2 /*return*/];\r\n                        }\r\n                        dispose(this._previewModelReference);\r\n                        model = ref.object;\r\n                        if (model) {\r\n                            scrollType = this._preview.getModel() === model.textEditorModel ? 0 /* Smooth */ : 1 /* Immediate */;\r\n                            sel = Range.lift(reference.range).collapseToStart();\r\n                            this._previewModelReference = ref;\r\n                            this._preview.setModel(model.textEditorModel);\r\n                            this._preview.setSelection(sel);\r\n                            this._preview.revealRangeInCenter(sel, scrollType);\r\n                        }\r\n                        else {\r\n                            this._preview.setModel(this._previewNotAvailableMessage);\r\n                            ref.dispose();\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ReferenceWidget = __decorate([\r\n        __param(3, IThemeService),\r\n        __param(4, ITextModelService),\r\n        __param(5, IInstantiationService),\r\n        __param(6, peekView.IPeekViewService),\r\n        __param(7, ILabelService)\r\n    ], ReferenceWidget);\r\n    return ReferenceWidget;\r\n}(peekView.PeekViewWidget));\r\nexport { ReferenceWidget };\r\n// theming\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var findMatchHighlightColor = theme.getColor(peekView.peekViewResultsMatchHighlight);\r\n    if (findMatchHighlightColor) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: \" + findMatchHighlightColor + \"; }\");\r\n    }\r\n    var referenceHighlightColor = theme.getColor(peekView.peekViewEditorMatchHighlight);\r\n    if (referenceHighlightColor) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: \" + referenceHighlightColor + \"; }\");\r\n    }\r\n    var referenceHighlightBorder = theme.getColor(peekView.peekViewEditorMatchHighlightBorder);\r\n    if (referenceHighlightBorder) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid \" + referenceHighlightBorder + \"; box-sizing: border-box; }\");\r\n    }\r\n    var hcOutline = theme.getColor(activeContrastBorder);\r\n    if (hcOutline) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted \" + hcOutline + \"; box-sizing: border-box; }\");\r\n    }\r\n    var resultsBackground = theme.getColor(peekView.peekViewResultsBackground);\r\n    if (resultsBackground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree { background-color: \" + resultsBackground + \"; }\");\r\n    }\r\n    var resultsMatchForeground = theme.getColor(peekView.peekViewResultsMatchForeground);\r\n    if (resultsMatchForeground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree { color: \" + resultsMatchForeground + \"; }\");\r\n    }\r\n    var resultsFileForeground = theme.getColor(peekView.peekViewResultsFileForeground);\r\n    if (resultsFileForeground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: \" + resultsFileForeground + \"; }\");\r\n    }\r\n    var resultsSelectedBackground = theme.getColor(peekView.peekViewResultsSelectionBackground);\r\n    if (resultsSelectedBackground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: \" + resultsSelectedBackground + \"; }\");\r\n    }\r\n    var resultsSelectedForeground = theme.getColor(peekView.peekViewResultsSelectionForeground);\r\n    if (resultsSelectedForeground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: \" + resultsSelectedForeground + \" !important; }\");\r\n    }\r\n    var editorBackground = theme.getColor(peekView.peekViewEditorBackground);\r\n    if (editorBackground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,\" +\r\n            \".monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\" +\r\n            (\"\\tbackground-color: \" + editorBackground + \";\") +\r\n            \"}\");\r\n    }\r\n    var editorGutterBackground = theme.getColor(peekView.peekViewEditorGutterBackground);\r\n    if (editorGutterBackground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\" +\r\n            (\"\\tbackground-color: \" + editorGutterBackground + \";\") +\r\n            \"}\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport * as nls from '../../../../nls.js';\r\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\r\nimport { dispose, DisposableStore } from '../../../../base/common/lifecycle.js';\r\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\r\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\r\nimport { IContextKeyService, RawContextKey, ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\r\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\r\nimport { IStorageService } from '../../../../platform/storage/common/storage.js';\r\nimport { OneReference } from '../referencesModel.js';\r\nimport { ReferenceWidget, LayoutData } from './referencesWidget.js';\r\nimport { Range } from '../../../common/core/range.js';\r\nimport { Position } from '../../../common/core/position.js';\r\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\r\nimport { createCancelablePromise } from '../../../../base/common/async.js';\r\nimport { getOuterEditor, PeekContext } from '../../peekView/peekView.js';\r\nimport { IListService, WorkbenchListFocusContextKey } from '../../../../platform/list/browser/listService.js';\r\nimport { KeybindingsRegistry } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\r\nexport var ctxReferenceSearchVisible = new RawContextKey('referenceSearchVisible', false);\r\nvar ReferencesController = /** @class */ (function () {\r\n    function ReferencesController(_defaultTreeKeyboardSupport, _editor, contextKeyService, _editorService, _notificationService, _instantiationService, _storageService, _configurationService) {\r\n        this._defaultTreeKeyboardSupport = _defaultTreeKeyboardSupport;\r\n        this._editor = _editor;\r\n        this._editorService = _editorService;\r\n        this._notificationService = _notificationService;\r\n        this._instantiationService = _instantiationService;\r\n        this._storageService = _storageService;\r\n        this._configurationService = _configurationService;\r\n        this._disposables = new DisposableStore();\r\n        this._requestIdPool = 0;\r\n        this._ignoreModelChangeEvent = false;\r\n        this._referenceSearchVisible = ctxReferenceSearchVisible.bindTo(contextKeyService);\r\n    }\r\n    ReferencesController.get = function (editor) {\r\n        return editor.getContribution(ReferencesController.ID);\r\n    };\r\n    ReferencesController.prototype.dispose = function () {\r\n        this._referenceSearchVisible.reset();\r\n        this._disposables.dispose();\r\n        dispose(this._widget);\r\n        dispose(this._model);\r\n        this._widget = undefined;\r\n        this._model = undefined;\r\n    };\r\n    ReferencesController.prototype.toggleWidget = function (range, modelPromise, peekMode) {\r\n        var _this = this;\r\n        // close current widget and return early is position didn't change\r\n        var widgetPosition;\r\n        if (this._widget) {\r\n            widgetPosition = this._widget.position;\r\n        }\r\n        this.closeWidget();\r\n        if (!!widgetPosition && range.containsPosition(widgetPosition)) {\r\n            return;\r\n        }\r\n        this._peekMode = peekMode;\r\n        this._referenceSearchVisible.set(true);\r\n        // close the widget on model/mode changes\r\n        this._disposables.add(this._editor.onDidChangeModelLanguage(function () { _this.closeWidget(); }));\r\n        this._disposables.add(this._editor.onDidChangeModel(function () {\r\n            if (!_this._ignoreModelChangeEvent) {\r\n                _this.closeWidget();\r\n            }\r\n        }));\r\n        var storageKey = 'peekViewLayout';\r\n        var data = LayoutData.fromJSON(this._storageService.get(storageKey, 0 /* GLOBAL */, '{}'));\r\n        this._widget = this._instantiationService.createInstance(ReferenceWidget, this._editor, this._defaultTreeKeyboardSupport, data);\r\n        this._widget.setTitle(nls.localize('labelLoading', \"Loading...\"));\r\n        this._widget.show(range);\r\n        this._disposables.add(this._widget.onDidClose(function () {\r\n            modelPromise.cancel();\r\n            if (_this._widget) {\r\n                _this._storageService.store(storageKey, JSON.stringify(_this._widget.layoutData), 0 /* GLOBAL */);\r\n                _this._widget = undefined;\r\n            }\r\n            _this.closeWidget();\r\n        }));\r\n        this._disposables.add(this._widget.onDidSelectReference(function (event) {\r\n            var element = event.element, kind = event.kind;\r\n            if (!element) {\r\n                return;\r\n            }\r\n            switch (kind) {\r\n                case 'open':\r\n                    if (event.source !== 'editor' || !_this._configurationService.getValue('editor.stablePeek')) {\r\n                        // when stable peek is configured we don't close\r\n                        // the peek window on selecting the editor\r\n                        _this.openReference(element, false);\r\n                    }\r\n                    break;\r\n                case 'side':\r\n                    _this.openReference(element, true);\r\n                    break;\r\n                case 'goto':\r\n                    if (peekMode) {\r\n                        _this._gotoReference(element);\r\n                    }\r\n                    else {\r\n                        _this.openReference(element, false);\r\n                    }\r\n                    break;\r\n            }\r\n        }));\r\n        var requestId = ++this._requestIdPool;\r\n        modelPromise.then(function (model) {\r\n            // still current request? widget still open?\r\n            if (requestId !== _this._requestIdPool || !_this._widget) {\r\n                return undefined;\r\n            }\r\n            if (_this._model) {\r\n                _this._model.dispose();\r\n            }\r\n            _this._model = model;\r\n            // show widget\r\n            return _this._widget.setModel(_this._model).then(function () {\r\n                if (_this._widget && _this._model && _this._editor.hasModel()) { // might have been closed\r\n                    // set title\r\n                    if (!_this._model.isEmpty) {\r\n                        _this._widget.setMetaTitle(nls.localize('metaTitle.N', \"{0} ({1})\", _this._model.title, _this._model.references.length));\r\n                    }\r\n                    else {\r\n                        _this._widget.setMetaTitle('');\r\n                    }\r\n                    // set 'best' selection\r\n                    var uri = _this._editor.getModel().uri;\r\n                    var pos = new Position(range.startLineNumber, range.startColumn);\r\n                    var selection = _this._model.nearestReference(uri, pos);\r\n                    if (selection) {\r\n                        return _this._widget.setSelection(selection);\r\n                    }\r\n                }\r\n                return undefined;\r\n            });\r\n        }, function (error) {\r\n            _this._notificationService.error(error);\r\n        });\r\n    };\r\n    ReferencesController.prototype.goToNextOrPreviousReference = function (fwd) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var currentPosition, source, target, editorFocus;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this._editor.hasModel() || !this._model || !this._widget) {\r\n                            // can be called while still resolving...\r\n                            return [2 /*return*/];\r\n                        }\r\n                        currentPosition = this._widget.position;\r\n                        if (!currentPosition) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        source = this._model.nearestReference(this._editor.getModel().uri, currentPosition);\r\n                        if (!source) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        target = this._model.nextOrPreviousReference(source, fwd);\r\n                        editorFocus = this._editor.hasTextFocus();\r\n                        return [4 /*yield*/, this._widget.setSelection(target)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this._gotoReference(target)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        if (editorFocus) {\r\n                            this._editor.focus();\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ReferencesController.prototype.closeWidget = function () {\r\n        this._referenceSearchVisible.reset();\r\n        this._disposables.clear();\r\n        dispose(this._widget);\r\n        dispose(this._model);\r\n        this._widget = undefined;\r\n        this._model = undefined;\r\n        this._editor.focus();\r\n        this._requestIdPool += 1; // Cancel pending requests\r\n    };\r\n    ReferencesController.prototype._gotoReference = function (ref) {\r\n        var _this = this;\r\n        if (this._widget) {\r\n            this._widget.hide();\r\n        }\r\n        this._ignoreModelChangeEvent = true;\r\n        var range = Range.lift(ref.range).collapseToStart();\r\n        return this._editorService.openCodeEditor({\r\n            resource: ref.uri,\r\n            options: { selection: range }\r\n        }, this._editor).then(function (openedEditor) {\r\n            var _a;\r\n            _this._ignoreModelChangeEvent = false;\r\n            if (!openedEditor || !_this._widget) {\r\n                // something went wrong...\r\n                _this.closeWidget();\r\n                return;\r\n            }\r\n            if (_this._editor === openedEditor) {\r\n                //\r\n                _this._widget.show(range);\r\n                _this._widget.focus();\r\n            }\r\n            else {\r\n                // we opened a different editor instance which means a different controller instance.\r\n                // therefore we stop with this controller and continue with the other\r\n                var other = ReferencesController.get(openedEditor);\r\n                var model_1 = _this._model.clone();\r\n                _this.closeWidget();\r\n                openedEditor.focus();\r\n                other.toggleWidget(range, createCancelablePromise(function (_) { return Promise.resolve(model_1); }), (_a = _this._peekMode, (_a !== null && _a !== void 0 ? _a : false)));\r\n            }\r\n        }, function (err) {\r\n            _this._ignoreModelChangeEvent = false;\r\n            onUnexpectedError(err);\r\n        });\r\n    };\r\n    ReferencesController.prototype.openReference = function (ref, sideBySide) {\r\n        // clear stage\r\n        if (!sideBySide) {\r\n            this.closeWidget();\r\n        }\r\n        var uri = ref.uri, range = ref.range;\r\n        this._editorService.openCodeEditor({\r\n            resource: uri,\r\n            options: { selection: range }\r\n        }, this._editor, sideBySide);\r\n    };\r\n    ReferencesController.ID = 'editor.contrib.referencesController';\r\n    ReferencesController = __decorate([\r\n        __param(2, IContextKeyService),\r\n        __param(3, ICodeEditorService),\r\n        __param(4, INotificationService),\r\n        __param(5, IInstantiationService),\r\n        __param(6, IStorageService),\r\n        __param(7, IConfigurationService)\r\n    ], ReferencesController);\r\n    return ReferencesController;\r\n}());\r\nexport { ReferencesController };\r\nfunction withController(accessor, fn) {\r\n    var outerEditor = getOuterEditor(accessor);\r\n    if (!outerEditor) {\r\n        return;\r\n    }\r\n    var controller = ReferencesController.get(outerEditor);\r\n    if (controller) {\r\n        fn(controller);\r\n    }\r\n}\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'goToNextReference',\r\n    weight: 200 /* WorkbenchContrib */ + 50,\r\n    primary: 62 /* F4 */,\r\n    secondary: [70 /* F12 */],\r\n    when: ctxReferenceSearchVisible,\r\n    handler: function (accessor) {\r\n        withController(accessor, function (controller) {\r\n            controller.goToNextOrPreviousReference(true);\r\n        });\r\n    }\r\n});\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'goToNextReferenceFromEmbeddedEditor',\r\n    weight: 100 /* EditorContrib */ + 50,\r\n    primary: 62 /* F4 */,\r\n    secondary: [70 /* F12 */],\r\n    when: PeekContext.inPeekEditor,\r\n    handler: function (accessor) {\r\n        withController(accessor, function (controller) {\r\n            controller.goToNextOrPreviousReference(true);\r\n        });\r\n    }\r\n});\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'goToPreviousReference',\r\n    weight: 200 /* WorkbenchContrib */ + 50,\r\n    primary: 1024 /* Shift */ | 62 /* F4 */,\r\n    secondary: [1024 /* Shift */ | 70 /* F12 */],\r\n    when: ctxReferenceSearchVisible,\r\n    handler: function (accessor) {\r\n        withController(accessor, function (controller) {\r\n            controller.goToNextOrPreviousReference(false);\r\n        });\r\n    }\r\n});\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'goToPreviousReferenceFromEmbeddedEditor',\r\n    weight: 100 /* EditorContrib */ + 50,\r\n    primary: 1024 /* Shift */ | 62 /* F4 */,\r\n    secondary: [1024 /* Shift */ | 70 /* F12 */],\r\n    when: PeekContext.inPeekEditor,\r\n    handler: function (accessor) {\r\n        withController(accessor, function (controller) {\r\n            controller.goToNextOrPreviousReference(false);\r\n        });\r\n    }\r\n});\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'closeReferenceSearch',\r\n    weight: 200 /* WorkbenchContrib */ + 50,\r\n    primary: 9 /* Escape */,\r\n    secondary: [1024 /* Shift */ | 9 /* Escape */],\r\n    when: ContextKeyExpr.and(ctxReferenceSearchVisible, ContextKeyExpr.not('config.editor.stablePeek')),\r\n    handler: function (accessor) {\r\n        withController(accessor, function (controller) { return controller.closeWidget(); });\r\n    }\r\n});\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'closeReferenceSearchEditor',\r\n    weight: 100 /* EditorContrib */ - 101,\r\n    primary: 9 /* Escape */,\r\n    secondary: [1024 /* Shift */ | 9 /* Escape */],\r\n    when: ContextKeyExpr.and(PeekContext.inPeekEditor, ContextKeyExpr.not('config.editor.stablePeek')),\r\n    handler: function (accessor) {\r\n        withController(accessor, function (controller) { return controller.closeWidget(); });\r\n    }\r\n});\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'openReferenceToSide',\r\n    weight: 100 /* EditorContrib */,\r\n    primary: 2048 /* CtrlCmd */ | 3 /* Enter */,\r\n    mac: {\r\n        primary: 256 /* WinCtrl */ | 3 /* Enter */\r\n    },\r\n    when: ContextKeyExpr.and(ctxReferenceSearchVisible, WorkbenchListFocusContextKey),\r\n    handler: function (accessor) {\r\n        var _a;\r\n        var listService = accessor.get(IListService);\r\n        var focus = (_a = listService.lastFocusedList) === null || _a === void 0 ? void 0 : _a.getFocus();\r\n        if (Array.isArray(focus) && focus[0] instanceof OneReference) {\r\n            withController(accessor, function (controller) { return controller.openReference(focus[0], true); });\r\n        }\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { flatten, coalesce } from '../../../base/common/arrays.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { registerDefaultLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport { DefinitionProviderRegistry, ImplementationProviderRegistry, TypeDefinitionProviderRegistry, DeclarationProviderRegistry, ReferenceProviderRegistry } from '../../common/modes.js';\r\nfunction getLocationLinks(model, position, registry, provide) {\r\n    var provider = registry.ordered(model);\r\n    // get results\r\n    var promises = provider.map(function (provider) {\r\n        return Promise.resolve(provide(provider, model, position)).then(undefined, function (err) {\r\n            onUnexpectedExternalError(err);\r\n            return undefined;\r\n        });\r\n    });\r\n    return Promise.all(promises)\r\n        .then(flatten)\r\n        .then(coalesce);\r\n}\r\nexport function getDefinitionsAtPosition(model, position, token) {\r\n    return getLocationLinks(model, position, DefinitionProviderRegistry, function (provider, model, position) {\r\n        return provider.provideDefinition(model, position, token);\r\n    });\r\n}\r\nexport function getDeclarationsAtPosition(model, position, token) {\r\n    return getLocationLinks(model, position, DeclarationProviderRegistry, function (provider, model, position) {\r\n        return provider.provideDeclaration(model, position, token);\r\n    });\r\n}\r\nexport function getImplementationsAtPosition(model, position, token) {\r\n    return getLocationLinks(model, position, ImplementationProviderRegistry, function (provider, model, position) {\r\n        return provider.provideImplementation(model, position, token);\r\n    });\r\n}\r\nexport function getTypeDefinitionsAtPosition(model, position, token) {\r\n    return getLocationLinks(model, position, TypeDefinitionProviderRegistry, function (provider, model, position) {\r\n        return provider.provideTypeDefinition(model, position, token);\r\n    });\r\n}\r\nexport function getReferencesAtPosition(model, position, compact, token) {\r\n    var _this = this;\r\n    return getLocationLinks(model, position, ReferenceProviderRegistry, function (provider, model, position) { return __awaiter(_this, void 0, void 0, function () {\r\n        var result, resultWithoutDeclaration;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, provider.provideReferences(model, position, { includeDeclaration: true }, token)];\r\n                case 1:\r\n                    result = _a.sent();\r\n                    if (!compact || !result || result.length !== 2) {\r\n                        return [2 /*return*/, result];\r\n                    }\r\n                    return [4 /*yield*/, provider.provideReferences(model, position, { includeDeclaration: false }, token)];\r\n                case 2:\r\n                    resultWithoutDeclaration = _a.sent();\r\n                    if (resultWithoutDeclaration && resultWithoutDeclaration.length === 1) {\r\n                        return [2 /*return*/, resultWithoutDeclaration];\r\n                    }\r\n                    return [2 /*return*/, result];\r\n            }\r\n        });\r\n    }); });\r\n}\r\nregisterDefaultLanguageCommand('_executeDefinitionProvider', function (model, position) { return getDefinitionsAtPosition(model, position, CancellationToken.None); });\r\nregisterDefaultLanguageCommand('_executeDeclarationProvider', function (model, position) { return getDeclarationsAtPosition(model, position, CancellationToken.None); });\r\nregisterDefaultLanguageCommand('_executeImplementationProvider', function (model, position) { return getImplementationsAtPosition(model, position, CancellationToken.None); });\r\nregisterDefaultLanguageCommand('_executeTypeDefinitionProvider', function (model, position) { return getTypeDefinitionsAtPosition(model, position, CancellationToken.None); });\r\nregisterDefaultLanguageCommand('_executeReferenceProvider', function (model, position) { return getReferencesAtPosition(model, position, false, CancellationToken.None); });\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { RawContextKey, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\r\nimport { KeybindingsRegistry } from '../../../platform/keybinding/common/keybindingsRegistry.js';\r\nimport { registerEditorCommand, EditorCommand } from '../../browser/editorExtensions.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { dispose, combinedDisposable, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { localize } from '../../../nls.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nimport { isEqual } from '../../../base/common/resources.js';\r\nexport var ctxHasSymbols = new RawContextKey('hasSymbols', false);\r\nexport var ISymbolNavigationService = createDecorator('ISymbolNavigationService');\r\nvar SymbolNavigationService = /** @class */ (function () {\r\n    function SymbolNavigationService(contextKeyService, _editorService, _notificationService, _keybindingService) {\r\n        this._editorService = _editorService;\r\n        this._notificationService = _notificationService;\r\n        this._keybindingService = _keybindingService;\r\n        this._currentModel = undefined;\r\n        this._currentIdx = -1;\r\n        this._ignoreEditorChange = false;\r\n        this._ctxHasSymbols = ctxHasSymbols.bindTo(contextKeyService);\r\n    }\r\n    SymbolNavigationService.prototype.reset = function () {\r\n        this._ctxHasSymbols.reset();\r\n        dispose(this._currentState);\r\n        dispose(this._currentMessage);\r\n        this._currentModel = undefined;\r\n        this._currentIdx = -1;\r\n    };\r\n    SymbolNavigationService.prototype.put = function (anchor) {\r\n        var _this = this;\r\n        var refModel = anchor.parent.parent;\r\n        if (refModel.references.length <= 1) {\r\n            this.reset();\r\n            return;\r\n        }\r\n        this._currentModel = refModel;\r\n        this._currentIdx = refModel.references.indexOf(anchor);\r\n        this._ctxHasSymbols.set(true);\r\n        this._showMessage();\r\n        var editorState = new EditorState(this._editorService);\r\n        var listener = editorState.onDidChange(function (_) {\r\n            if (_this._ignoreEditorChange) {\r\n                return;\r\n            }\r\n            var editor = _this._editorService.getActiveCodeEditor();\r\n            if (!editor) {\r\n                return;\r\n            }\r\n            var model = editor.getModel();\r\n            var position = editor.getPosition();\r\n            if (!model || !position) {\r\n                return;\r\n            }\r\n            var seenUri = false;\r\n            var seenPosition = false;\r\n            for (var _i = 0, _a = refModel.references; _i < _a.length; _i++) {\r\n                var reference = _a[_i];\r\n                if (isEqual(reference.uri, model.uri)) {\r\n                    seenUri = true;\r\n                    seenPosition = seenPosition || Range.containsPosition(reference.range, position);\r\n                }\r\n                else if (seenUri) {\r\n                    break;\r\n                }\r\n            }\r\n            if (!seenUri || !seenPosition) {\r\n                _this.reset();\r\n            }\r\n        });\r\n        this._currentState = combinedDisposable(editorState, listener);\r\n    };\r\n    SymbolNavigationService.prototype.revealNext = function (source) {\r\n        var _this = this;\r\n        if (!this._currentModel) {\r\n            return Promise.resolve();\r\n        }\r\n        // get next result and advance\r\n        this._currentIdx += 1;\r\n        this._currentIdx %= this._currentModel.references.length;\r\n        var reference = this._currentModel.references[this._currentIdx];\r\n        // status\r\n        this._showMessage();\r\n        // open editor, ignore events while that happens\r\n        this._ignoreEditorChange = true;\r\n        return this._editorService.openCodeEditor({\r\n            resource: reference.uri,\r\n            options: {\r\n                selection: Range.collapseToStart(reference.range),\r\n                revealInCenterIfOutsideViewport: true\r\n            }\r\n        }, source).finally(function () {\r\n            _this._ignoreEditorChange = false;\r\n        });\r\n    };\r\n    SymbolNavigationService.prototype._showMessage = function () {\r\n        dispose(this._currentMessage);\r\n        var kb = this._keybindingService.lookupKeybinding('editor.gotoNextSymbolFromResult');\r\n        var message = kb\r\n            ? localize('location.kb', \"Symbol {0} of {1}, {2} for next\", this._currentIdx + 1, this._currentModel.references.length, kb.getLabel())\r\n            : localize('location', \"Symbol {0} of {1}\", this._currentIdx + 1, this._currentModel.references.length);\r\n        this._currentMessage = this._notificationService.status(message);\r\n    };\r\n    SymbolNavigationService = __decorate([\r\n        __param(0, IContextKeyService),\r\n        __param(1, ICodeEditorService),\r\n        __param(2, INotificationService),\r\n        __param(3, IKeybindingService)\r\n    ], SymbolNavigationService);\r\n    return SymbolNavigationService;\r\n}());\r\nregisterSingleton(ISymbolNavigationService, SymbolNavigationService, true);\r\nregisterEditorCommand(new /** @class */ (function (_super) {\r\n    __extends(class_1, _super);\r\n    function class_1() {\r\n        return _super.call(this, {\r\n            id: 'editor.gotoNextSymbolFromResult',\r\n            precondition: ctxHasSymbols,\r\n            kbOpts: {\r\n                weight: 100 /* EditorContrib */,\r\n                primary: 70 /* F12 */\r\n            }\r\n        }) || this;\r\n    }\r\n    class_1.prototype.runEditorCommand = function (accessor, editor) {\r\n        return accessor.get(ISymbolNavigationService).revealNext(editor);\r\n    };\r\n    return class_1;\r\n}(EditorCommand)));\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'editor.gotoNextSymbolFromResult.cancel',\r\n    weight: 100 /* EditorContrib */,\r\n    when: ctxHasSymbols,\r\n    primary: 9 /* Escape */,\r\n    handler: function (accessor) {\r\n        accessor.get(ISymbolNavigationService).reset();\r\n    }\r\n});\r\n//\r\nvar EditorState = /** @class */ (function () {\r\n    function EditorState(editorService) {\r\n        this._listener = new Map();\r\n        this._disposables = new DisposableStore();\r\n        this._onDidChange = new Emitter();\r\n        this.onDidChange = this._onDidChange.event;\r\n        this._disposables.add(editorService.onCodeEditorRemove(this._onDidRemoveEditor, this));\r\n        this._disposables.add(editorService.onCodeEditorAdd(this._onDidAddEditor, this));\r\n        editorService.listCodeEditors().forEach(this._onDidAddEditor, this);\r\n    }\r\n    EditorState.prototype.dispose = function () {\r\n        this._disposables.dispose();\r\n        this._onDidChange.dispose();\r\n        this._listener.forEach(dispose);\r\n    };\r\n    EditorState.prototype._onDidAddEditor = function (editor) {\r\n        var _this = this;\r\n        this._listener.set(editor, combinedDisposable(editor.onDidChangeCursorPosition(function (_) { return _this._onDidChange.fire({ editor: editor }); }), editor.onDidChangeModelContent(function (_) { return _this._onDidChange.fire({ editor: editor }); })));\r\n    };\r\n    EditorState.prototype._onDidRemoveEditor = function (editor) {\r\n        dispose(this._listener.get(editor));\r\n        this._listener.delete(editor);\r\n    };\r\n    EditorState = __decorate([\r\n        __param(0, ICodeEditorService)\r\n    ], EditorState);\r\n    return EditorState;\r\n}());\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar _a, _b, _c, _d, _e, _f, _g, _h;\r\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\r\nimport { createCancelablePromise, raceCancellation } from '../../../base/common/async.js';\r\nimport { KeyChord } from '../../../base/common/keyCodes.js';\r\nimport { isWeb } from '../../../base/common/platform.js';\r\nimport { isCodeEditor } from '../../browser/editorBrowser.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport * as corePosition from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { isLocationLink } from '../../common/modes.js';\r\nimport { MessageController } from '../message/messageController.js';\r\nimport { PeekContext } from '../peekView/peekView.js';\r\nimport { ReferencesController } from './peek/referencesController.js';\r\nimport { ReferencesModel } from './referencesModel.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { MenuRegistry } from '../../../platform/actions/common/actions.js';\r\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nimport { IEditorProgressService } from '../../../platform/progress/common/progress.js';\r\nimport { getDefinitionsAtPosition, getImplementationsAtPosition, getTypeDefinitionsAtPosition, getDeclarationsAtPosition, getReferencesAtPosition } from './goToSymbol.js';\r\nimport { CommandsRegistry } from '../../../platform/commands/common/commands.js';\r\nimport { EditorStateCancellationTokenSource } from '../../browser/core/editorState.js';\r\nimport { ISymbolNavigationService } from './symbolNavigation.js';\r\nimport { isStandalone } from '../../../base/browser/browser.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { assertType } from '../../../base/common/types.js';\r\nMenuRegistry.appendMenuItem(7 /* EditorContext */, {\r\n    submenu: 8 /* EditorContextPeek */,\r\n    title: nls.localize('peek.submenu', \"Peek\"),\r\n    group: 'navigation',\r\n    order: 100\r\n});\r\nvar SymbolNavigationAction = /** @class */ (function (_super) {\r\n    __extends(SymbolNavigationAction, _super);\r\n    function SymbolNavigationAction(configuration, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._configuration = configuration;\r\n        return _this;\r\n    }\r\n    SymbolNavigationAction.prototype.run = function (accessor, editor) {\r\n        var _this = this;\r\n        if (!editor.hasModel()) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        var notificationService = accessor.get(INotificationService);\r\n        var editorService = accessor.get(ICodeEditorService);\r\n        var progressService = accessor.get(IEditorProgressService);\r\n        var symbolNavService = accessor.get(ISymbolNavigationService);\r\n        var model = editor.getModel();\r\n        var pos = editor.getPosition();\r\n        var cts = new EditorStateCancellationTokenSource(editor, 1 /* Value */ | 4 /* Position */);\r\n        var promise = raceCancellation(this._getLocationModel(model, pos, cts.token), cts.token).then(function (references) { return __awaiter(_this, void 0, void 0, function () {\r\n            var altAction, altActionId, referenceCount, info;\r\n            return __generator(this, function (_a) {\r\n                if (!references || cts.token.isCancellationRequested) {\r\n                    return [2 /*return*/];\r\n                }\r\n                alert(references.ariaMessage);\r\n                if (references.referenceAt(model.uri, pos)) {\r\n                    altActionId = this._getAlternativeCommand(editor);\r\n                    if (altActionId !== this.id) {\r\n                        altAction = editor.getAction(altActionId);\r\n                    }\r\n                }\r\n                referenceCount = references.references.length;\r\n                if (referenceCount === 0) {\r\n                    // no result -> show message\r\n                    if (!this._configuration.muteMessage) {\r\n                        info = model.getWordAtPosition(pos);\r\n                        MessageController.get(editor).showMessage(this._getNoResultFoundMessage(info), pos);\r\n                    }\r\n                }\r\n                else if (referenceCount === 1 && altAction) {\r\n                    // already at the only result, run alternative\r\n                    altAction.run();\r\n                }\r\n                else {\r\n                    // normal results handling\r\n                    return [2 /*return*/, this._onResult(editorService, symbolNavService, editor, references)];\r\n                }\r\n                return [2 /*return*/];\r\n            });\r\n        }); }, function (err) {\r\n            // report an error\r\n            notificationService.error(err);\r\n        }).finally(function () {\r\n            cts.dispose();\r\n        });\r\n        progressService.showWhile(promise, 250);\r\n        return promise;\r\n    };\r\n    SymbolNavigationAction.prototype._onResult = function (editorService, symbolNavService, editor, model) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var gotoLocation, next, peek, targetEditor;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        gotoLocation = this._getGoToPreference(editor);\r\n                        if (!(this._configuration.openInPeek || (gotoLocation === 'peek' && model.references.length > 1))) return [3 /*break*/, 1];\r\n                        this._openInPeek(editor, model);\r\n                        return [3 /*break*/, 3];\r\n                    case 1:\r\n                        next = model.firstReference();\r\n                        peek = model.references.length > 1 && gotoLocation === 'gotoAndPeek';\r\n                        return [4 /*yield*/, this._openReference(editor, editorService, next, this._configuration.openToSide, !peek)];\r\n                    case 2:\r\n                        targetEditor = _a.sent();\r\n                        if (peek && targetEditor) {\r\n                            this._openInPeek(targetEditor, model);\r\n                        }\r\n                        else {\r\n                            model.dispose();\r\n                        }\r\n                        // keep remaining locations around when using\r\n                        // 'goto'-mode\r\n                        if (gotoLocation === 'goto') {\r\n                            symbolNavService.put(next);\r\n                        }\r\n                        _a.label = 3;\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    SymbolNavigationAction.prototype._openReference = function (editor, editorService, reference, sideBySide, highlight) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var range, targetEditor, modelNow_1, ids_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        range = undefined;\r\n                        if (isLocationLink(reference)) {\r\n                            range = reference.targetSelectionRange;\r\n                        }\r\n                        if (!range) {\r\n                            range = reference.range;\r\n                        }\r\n                        return [4 /*yield*/, editorService.openCodeEditor({\r\n                                resource: reference.uri,\r\n                                options: {\r\n                                    selection: Range.collapseToStart(range),\r\n                                    revealInCenterIfOutsideViewport: true\r\n                                }\r\n                            }, editor, sideBySide)];\r\n                    case 1:\r\n                        targetEditor = _a.sent();\r\n                        if (!targetEditor) {\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        if (highlight) {\r\n                            modelNow_1 = targetEditor.getModel();\r\n                            ids_1 = targetEditor.deltaDecorations([], [{ range: range, options: { className: 'symbolHighlight' } }]);\r\n                            setTimeout(function () {\r\n                                if (targetEditor.getModel() === modelNow_1) {\r\n                                    targetEditor.deltaDecorations(ids_1, []);\r\n                                }\r\n                            }, 350);\r\n                        }\r\n                        return [2 /*return*/, targetEditor];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    SymbolNavigationAction.prototype._openInPeek = function (target, model) {\r\n        var controller = ReferencesController.get(target);\r\n        if (controller && target.hasModel()) {\r\n            controller.toggleWidget(target.getSelection(), createCancelablePromise(function (_) { return Promise.resolve(model); }), this._configuration.openInPeek);\r\n        }\r\n        else {\r\n            model.dispose();\r\n        }\r\n    };\r\n    return SymbolNavigationAction;\r\n}(EditorAction));\r\n//#region --- DEFINITION\r\nvar DefinitionAction = /** @class */ (function (_super) {\r\n    __extends(DefinitionAction, _super);\r\n    function DefinitionAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DefinitionAction.prototype._getLocationModel = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = ReferencesModel.bind;\r\n                        return [4 /*yield*/, getDefinitionsAtPosition(model, position, token)];\r\n                    case 1: return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('def.title', 'Definitions')]))()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    DefinitionAction.prototype._getNoResultFoundMessage = function (info) {\r\n        return info && info.word\r\n            ? nls.localize('noResultWord', \"No definition found for '{0}'\", info.word)\r\n            : nls.localize('generic.noResults', \"No definition found\");\r\n    };\r\n    DefinitionAction.prototype._getAlternativeCommand = function (editor) {\r\n        return editor.getOption(39 /* gotoLocation */).alternativeDefinitionCommand;\r\n    };\r\n    DefinitionAction.prototype._getGoToPreference = function (editor) {\r\n        return editor.getOption(39 /* gotoLocation */).multipleDefinitions;\r\n    };\r\n    return DefinitionAction;\r\n}(SymbolNavigationAction));\r\nexport { DefinitionAction };\r\nvar goToDefinitionKb = isWeb && !isStandalone\r\n    ? 2048 /* CtrlCmd */ | 70 /* F12 */\r\n    : 70 /* F12 */;\r\nregisterEditorAction((_a = /** @class */ (function (_super) {\r\n        __extends(GoToDefinitionAction, _super);\r\n        function GoToDefinitionAction() {\r\n            var _this = _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: false,\r\n                muteMessage: false\r\n            }, {\r\n                id: GoToDefinitionAction.id,\r\n                label: nls.localize('actions.goToDecl.label', \"Go to Definition\"),\r\n                alias: 'Go to Definition',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                kbOpts: {\r\n                    kbExpr: EditorContextKeys.editorTextFocus,\r\n                    primary: goToDefinitionKb,\r\n                    weight: 100 /* EditorContrib */\r\n                },\r\n                contextMenuOpts: {\r\n                    group: 'navigation',\r\n                    order: 1.1\r\n                },\r\n                menuOpts: {\r\n                    menuId: 17 /* MenubarGoMenu */,\r\n                    group: '4_symbol_nav',\r\n                    order: 2,\r\n                    title: nls.localize({ key: 'miGotoDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Definition\")\r\n                }\r\n            }) || this;\r\n            CommandsRegistry.registerCommandAlias('editor.action.goToDeclaration', GoToDefinitionAction.id);\r\n            return _this;\r\n        }\r\n        return GoToDefinitionAction;\r\n    }(DefinitionAction)),\r\n    _a.id = 'editor.action.revealDefinition',\r\n    _a));\r\nregisterEditorAction((_b = /** @class */ (function (_super) {\r\n        __extends(OpenDefinitionToSideAction, _super);\r\n        function OpenDefinitionToSideAction() {\r\n            var _this = _super.call(this, {\r\n                openToSide: true,\r\n                openInPeek: false,\r\n                muteMessage: false\r\n            }, {\r\n                id: OpenDefinitionToSideAction.id,\r\n                label: nls.localize('actions.goToDeclToSide.label', \"Open Definition to the Side\"),\r\n                alias: 'Open Definition to the Side',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                kbOpts: {\r\n                    kbExpr: EditorContextKeys.editorTextFocus,\r\n                    primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, goToDefinitionKb),\r\n                    weight: 100 /* EditorContrib */\r\n                }\r\n            }) || this;\r\n            CommandsRegistry.registerCommandAlias('editor.action.openDeclarationToTheSide', OpenDefinitionToSideAction.id);\r\n            return _this;\r\n        }\r\n        return OpenDefinitionToSideAction;\r\n    }(DefinitionAction)),\r\n    _b.id = 'editor.action.revealDefinitionAside',\r\n    _b));\r\nregisterEditorAction((_c = /** @class */ (function (_super) {\r\n        __extends(PeekDefinitionAction, _super);\r\n        function PeekDefinitionAction() {\r\n            var _this = _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: true,\r\n                muteMessage: false\r\n            }, {\r\n                id: PeekDefinitionAction.id,\r\n                label: nls.localize('actions.previewDecl.label', \"Peek Definition\"),\r\n                alias: 'Peek Definition',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                kbOpts: {\r\n                    kbExpr: EditorContextKeys.editorTextFocus,\r\n                    primary: 512 /* Alt */ | 70 /* F12 */,\r\n                    linux: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 68 /* F10 */ },\r\n                    weight: 100 /* EditorContrib */\r\n                },\r\n                contextMenuOpts: {\r\n                    menuId: 8 /* EditorContextPeek */,\r\n                    group: 'peek',\r\n                    order: 2\r\n                }\r\n            }) || this;\r\n            CommandsRegistry.registerCommandAlias('editor.action.previewDeclaration', PeekDefinitionAction.id);\r\n            return _this;\r\n        }\r\n        return PeekDefinitionAction;\r\n    }(DefinitionAction)),\r\n    _c.id = 'editor.action.peekDefinition',\r\n    _c));\r\n//#endregion\r\n//#region --- DECLARATION\r\nvar DeclarationAction = /** @class */ (function (_super) {\r\n    __extends(DeclarationAction, _super);\r\n    function DeclarationAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DeclarationAction.prototype._getLocationModel = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = ReferencesModel.bind;\r\n                        return [4 /*yield*/, getDeclarationsAtPosition(model, position, token)];\r\n                    case 1: return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('decl.title', 'Declarations')]))()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    DeclarationAction.prototype._getNoResultFoundMessage = function (info) {\r\n        return info && info.word\r\n            ? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\r\n            : nls.localize('decl.generic.noResults', \"No declaration found\");\r\n    };\r\n    DeclarationAction.prototype._getAlternativeCommand = function (editor) {\r\n        return editor.getOption(39 /* gotoLocation */).alternativeDeclarationCommand;\r\n    };\r\n    DeclarationAction.prototype._getGoToPreference = function (editor) {\r\n        return editor.getOption(39 /* gotoLocation */).multipleDeclarations;\r\n    };\r\n    return DeclarationAction;\r\n}(SymbolNavigationAction));\r\nregisterEditorAction((_d = /** @class */ (function (_super) {\r\n        __extends(GoToDeclarationAction, _super);\r\n        function GoToDeclarationAction() {\r\n            return _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: false,\r\n                muteMessage: false\r\n            }, {\r\n                id: GoToDeclarationAction.id,\r\n                label: nls.localize('actions.goToDeclaration.label', \"Go to Declaration\"),\r\n                alias: 'Go to Declaration',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDeclarationProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                contextMenuOpts: {\r\n                    group: 'navigation',\r\n                    order: 1.3\r\n                },\r\n                menuOpts: {\r\n                    menuId: 17 /* MenubarGoMenu */,\r\n                    group: '4_symbol_nav',\r\n                    order: 3,\r\n                    title: nls.localize({ key: 'miGotoDeclaration', comment: ['&& denotes a mnemonic'] }, \"Go to &&Declaration\")\r\n                },\r\n            }) || this;\r\n        }\r\n        GoToDeclarationAction.prototype._getNoResultFoundMessage = function (info) {\r\n            return info && info.word\r\n                ? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\r\n                : nls.localize('decl.generic.noResults', \"No declaration found\");\r\n        };\r\n        return GoToDeclarationAction;\r\n    }(DeclarationAction)),\r\n    _d.id = 'editor.action.revealDeclaration',\r\n    _d));\r\nregisterEditorAction(/** @class */ (function (_super) {\r\n    __extends(PeekDeclarationAction, _super);\r\n    function PeekDeclarationAction() {\r\n        return _super.call(this, {\r\n            openToSide: false,\r\n            openInPeek: true,\r\n            muteMessage: false\r\n        }, {\r\n            id: 'editor.action.peekDeclaration',\r\n            label: nls.localize('actions.peekDecl.label', \"Peek Declaration\"),\r\n            alias: 'Peek Declaration',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasDeclarationProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n            contextMenuOpts: {\r\n                menuId: 8 /* EditorContextPeek */,\r\n                group: 'peek',\r\n                order: 3\r\n            }\r\n        }) || this;\r\n    }\r\n    return PeekDeclarationAction;\r\n}(DeclarationAction)));\r\n//#endregion\r\n//#region --- TYPE DEFINITION\r\nvar TypeDefinitionAction = /** @class */ (function (_super) {\r\n    __extends(TypeDefinitionAction, _super);\r\n    function TypeDefinitionAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TypeDefinitionAction.prototype._getLocationModel = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = ReferencesModel.bind;\r\n                        return [4 /*yield*/, getTypeDefinitionsAtPosition(model, position, token)];\r\n                    case 1: return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('typedef.title', 'Type Definitions')]))()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TypeDefinitionAction.prototype._getNoResultFoundMessage = function (info) {\r\n        return info && info.word\r\n            ? nls.localize('goToTypeDefinition.noResultWord', \"No type definition found for '{0}'\", info.word)\r\n            : nls.localize('goToTypeDefinition.generic.noResults', \"No type definition found\");\r\n    };\r\n    TypeDefinitionAction.prototype._getAlternativeCommand = function (editor) {\r\n        return editor.getOption(39 /* gotoLocation */).alternativeTypeDefinitionCommand;\r\n    };\r\n    TypeDefinitionAction.prototype._getGoToPreference = function (editor) {\r\n        return editor.getOption(39 /* gotoLocation */).multipleTypeDefinitions;\r\n    };\r\n    return TypeDefinitionAction;\r\n}(SymbolNavigationAction));\r\nregisterEditorAction((_e = /** @class */ (function (_super) {\r\n        __extends(GoToTypeDefinitionAction, _super);\r\n        function GoToTypeDefinitionAction() {\r\n            return _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: false,\r\n                muteMessage: false\r\n            }, {\r\n                id: GoToTypeDefinitionAction.ID,\r\n                label: nls.localize('actions.goToTypeDefinition.label', \"Go to Type Definition\"),\r\n                alias: 'Go to Type Definition',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasTypeDefinitionProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                kbOpts: {\r\n                    kbExpr: EditorContextKeys.editorTextFocus,\r\n                    primary: 0,\r\n                    weight: 100 /* EditorContrib */\r\n                },\r\n                contextMenuOpts: {\r\n                    group: 'navigation',\r\n                    order: 1.4\r\n                },\r\n                menuOpts: {\r\n                    menuId: 17 /* MenubarGoMenu */,\r\n                    group: '4_symbol_nav',\r\n                    order: 3,\r\n                    title: nls.localize({ key: 'miGotoTypeDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Type Definition\")\r\n                }\r\n            }) || this;\r\n        }\r\n        return GoToTypeDefinitionAction;\r\n    }(TypeDefinitionAction)),\r\n    _e.ID = 'editor.action.goToTypeDefinition',\r\n    _e));\r\nregisterEditorAction((_f = /** @class */ (function (_super) {\r\n        __extends(PeekTypeDefinitionAction, _super);\r\n        function PeekTypeDefinitionAction() {\r\n            return _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: true,\r\n                muteMessage: false\r\n            }, {\r\n                id: PeekTypeDefinitionAction.ID,\r\n                label: nls.localize('actions.peekTypeDefinition.label', \"Peek Type Definition\"),\r\n                alias: 'Peek Type Definition',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasTypeDefinitionProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                contextMenuOpts: {\r\n                    menuId: 8 /* EditorContextPeek */,\r\n                    group: 'peek',\r\n                    order: 4\r\n                }\r\n            }) || this;\r\n        }\r\n        return PeekTypeDefinitionAction;\r\n    }(TypeDefinitionAction)),\r\n    _f.ID = 'editor.action.peekTypeDefinition',\r\n    _f));\r\n//#endregion\r\n//#region --- IMPLEMENTATION\r\nvar ImplementationAction = /** @class */ (function (_super) {\r\n    __extends(ImplementationAction, _super);\r\n    function ImplementationAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ImplementationAction.prototype._getLocationModel = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = ReferencesModel.bind;\r\n                        return [4 /*yield*/, getImplementationsAtPosition(model, position, token)];\r\n                    case 1: return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('impl.title', 'Implementations')]))()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ImplementationAction.prototype._getNoResultFoundMessage = function (info) {\r\n        return info && info.word\r\n            ? nls.localize('goToImplementation.noResultWord', \"No implementation found for '{0}'\", info.word)\r\n            : nls.localize('goToImplementation.generic.noResults', \"No implementation found\");\r\n    };\r\n    ImplementationAction.prototype._getAlternativeCommand = function (editor) {\r\n        return editor.getOption(39 /* gotoLocation */).alternativeImplementationCommand;\r\n    };\r\n    ImplementationAction.prototype._getGoToPreference = function (editor) {\r\n        return editor.getOption(39 /* gotoLocation */).multipleImplementations;\r\n    };\r\n    return ImplementationAction;\r\n}(SymbolNavigationAction));\r\nregisterEditorAction((_g = /** @class */ (function (_super) {\r\n        __extends(GoToImplementationAction, _super);\r\n        function GoToImplementationAction() {\r\n            return _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: false,\r\n                muteMessage: false\r\n            }, {\r\n                id: GoToImplementationAction.ID,\r\n                label: nls.localize('actions.goToImplementation.label', \"Go to Implementations\"),\r\n                alias: 'Go to Implementations',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasImplementationProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                kbOpts: {\r\n                    kbExpr: EditorContextKeys.editorTextFocus,\r\n                    primary: 2048 /* CtrlCmd */ | 70 /* F12 */,\r\n                    weight: 100 /* EditorContrib */\r\n                },\r\n                menuOpts: {\r\n                    menuId: 17 /* MenubarGoMenu */,\r\n                    group: '4_symbol_nav',\r\n                    order: 4,\r\n                    title: nls.localize({ key: 'miGotoImplementation', comment: ['&& denotes a mnemonic'] }, \"Go to &&Implementations\")\r\n                },\r\n                contextMenuOpts: {\r\n                    group: 'navigation',\r\n                    order: 1.45\r\n                }\r\n            }) || this;\r\n        }\r\n        return GoToImplementationAction;\r\n    }(ImplementationAction)),\r\n    _g.ID = 'editor.action.goToImplementation',\r\n    _g));\r\nregisterEditorAction((_h = /** @class */ (function (_super) {\r\n        __extends(PeekImplementationAction, _super);\r\n        function PeekImplementationAction() {\r\n            return _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: true,\r\n                muteMessage: false\r\n            }, {\r\n                id: PeekImplementationAction.ID,\r\n                label: nls.localize('actions.peekImplementation.label', \"Peek Implementations\"),\r\n                alias: 'Peek Implementations',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasImplementationProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                kbOpts: {\r\n                    kbExpr: EditorContextKeys.editorTextFocus,\r\n                    primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 70 /* F12 */,\r\n                    weight: 100 /* EditorContrib */\r\n                },\r\n                contextMenuOpts: {\r\n                    menuId: 8 /* EditorContextPeek */,\r\n                    group: 'peek',\r\n                    order: 5\r\n                }\r\n            }) || this;\r\n        }\r\n        return PeekImplementationAction;\r\n    }(ImplementationAction)),\r\n    _h.ID = 'editor.action.peekImplementation',\r\n    _h));\r\n//#endregion\r\n//#region --- REFERENCES\r\nvar ReferencesAction = /** @class */ (function (_super) {\r\n    __extends(ReferencesAction, _super);\r\n    function ReferencesAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ReferencesAction.prototype._getNoResultFoundMessage = function (info) {\r\n        return info\r\n            ? nls.localize('references.no', \"No references found for '{0}'\", info.word)\r\n            : nls.localize('references.noGeneric', \"No references found\");\r\n    };\r\n    ReferencesAction.prototype._getAlternativeCommand = function (editor) {\r\n        return editor.getOption(39 /* gotoLocation */).alternativeReferenceCommand;\r\n    };\r\n    ReferencesAction.prototype._getGoToPreference = function (editor) {\r\n        return editor.getOption(39 /* gotoLocation */).multipleReferences;\r\n    };\r\n    return ReferencesAction;\r\n}(SymbolNavigationAction));\r\nregisterEditorAction(/** @class */ (function (_super) {\r\n    __extends(GoToReferencesAction, _super);\r\n    function GoToReferencesAction() {\r\n        return _super.call(this, {\r\n            openToSide: false,\r\n            openInPeek: false,\r\n            muteMessage: false\r\n        }, {\r\n            id: 'editor.action.goToReferences',\r\n            label: nls.localize('goToReferences.label', \"Go to References\"),\r\n            alias: 'Go to References',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasReferenceProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 1024 /* Shift */ | 70 /* F12 */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                group: 'navigation',\r\n                order: 1.45\r\n            },\r\n            menuOpts: {\r\n                menuId: 17 /* MenubarGoMenu */,\r\n                group: '4_symbol_nav',\r\n                order: 5,\r\n                title: nls.localize({ key: 'miGotoReference', comment: ['&& denotes a mnemonic'] }, \"Go to &&References\")\r\n            },\r\n        }) || this;\r\n    }\r\n    GoToReferencesAction.prototype._getLocationModel = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = ReferencesModel.bind;\r\n                        return [4 /*yield*/, getReferencesAtPosition(model, position, true, token)];\r\n                    case 1: return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('ref.title', 'References')]))()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return GoToReferencesAction;\r\n}(ReferencesAction)));\r\nregisterEditorAction(/** @class */ (function (_super) {\r\n    __extends(PeekReferencesAction, _super);\r\n    function PeekReferencesAction() {\r\n        return _super.call(this, {\r\n            openToSide: false,\r\n            openInPeek: true,\r\n            muteMessage: false\r\n        }, {\r\n            id: 'editor.action.referenceSearch.trigger',\r\n            label: nls.localize('references.action.label', \"Peek References\"),\r\n            alias: 'Peek References',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasReferenceProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n            contextMenuOpts: {\r\n                menuId: 8 /* EditorContextPeek */,\r\n                group: 'peek',\r\n                order: 6\r\n            }\r\n        }) || this;\r\n    }\r\n    PeekReferencesAction.prototype._getLocationModel = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = ReferencesModel.bind;\r\n                        return [4 /*yield*/, getReferencesAtPosition(model, position, false, token)];\r\n                    case 1: return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('ref.title', 'References')]))()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return PeekReferencesAction;\r\n}(ReferencesAction)));\r\n//#endregion\r\n//#region --- GENERIC goto symbols command\r\nvar GenericGoToLocationAction = /** @class */ (function (_super) {\r\n    __extends(GenericGoToLocationAction, _super);\r\n    function GenericGoToLocationAction(_references, _gotoMultipleBehaviour) {\r\n        var _this = _super.call(this, {\r\n            muteMessage: true,\r\n            openInPeek: false,\r\n            openToSide: false\r\n        }, {\r\n            id: 'editor.action.goToLocation',\r\n            label: nls.localize('label.generic', \"Go To Any Symbol\"),\r\n            alias: 'Go To Any Symbol',\r\n            precondition: ContextKeyExpr.and(PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n        }) || this;\r\n        _this._references = _references;\r\n        _this._gotoMultipleBehaviour = _gotoMultipleBehaviour;\r\n        return _this;\r\n    }\r\n    GenericGoToLocationAction.prototype._getLocationModel = function (_model, _position, _token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, new ReferencesModel(this._references, nls.localize('generic.title', 'Locations'))];\r\n            });\r\n        });\r\n    };\r\n    GenericGoToLocationAction.prototype._getNoResultFoundMessage = function (info) {\r\n        return info && nls.localize('generic.noResult', \"No results for '{0}'\", info.word) || '';\r\n    };\r\n    GenericGoToLocationAction.prototype._getGoToPreference = function (editor) {\r\n        var _a;\r\n        return _a = this._gotoMultipleBehaviour, (_a !== null && _a !== void 0 ? _a : editor.getOption(39 /* gotoLocation */).multipleReferences);\r\n    };\r\n    GenericGoToLocationAction.prototype._getAlternativeCommand = function () { return ''; };\r\n    return GenericGoToLocationAction;\r\n}(SymbolNavigationAction));\r\nCommandsRegistry.registerCommand({\r\n    id: 'editor.action.goToLocations',\r\n    description: {\r\n        description: 'Go to locations from a position in a file',\r\n        args: [\r\n            { name: 'uri', description: 'The text document in which to start', constraint: URI },\r\n            { name: 'position', description: 'The position at which to start', constraint: corePosition.Position.isIPosition },\r\n            { name: 'locations', description: 'An array of locations.', constraint: Array },\r\n            { name: 'multiple', description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto' },\r\n        ]\r\n    },\r\n    handler: function (accessor, resource, position, references, multiple) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var editorService, editor;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    assertType(URI.isUri(resource));\r\n                    assertType(corePosition.Position.isIPosition(position));\r\n                    assertType(Array.isArray(references));\r\n                    assertType(typeof multiple === 'undefined' || typeof multiple === 'string');\r\n                    editorService = accessor.get(ICodeEditorService);\r\n                    return [4 /*yield*/, editorService.openCodeEditor({ resource: resource }, editorService.getFocusedCodeEditor())];\r\n                case 1:\r\n                    editor = _a.sent();\r\n                    if (isCodeEditor(editor)) {\r\n                        editor.setPosition(position);\r\n                        editor.revealPositionInCenterIfOutsideViewport(position, 0 /* Smooth */);\r\n                        return [2 /*return*/, editor.invokeWithinContext(function (accessor) {\r\n                                var command = new GenericGoToLocationAction(references, multiple);\r\n                                accessor.get(IInstantiationService).invokeFunction(command.run.bind(command), editor);\r\n                            })];\r\n                    }\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    }); }\r\n});\r\n//#endregion\r\n//#region --- REFERENCE search special commands\r\nCommandsRegistry.registerCommand({\r\n    id: 'editor.action.findReferences',\r\n    handler: function (accessor, resource, position) {\r\n        assertType(URI.isUri(resource));\r\n        assertType(corePosition.Position.isIPosition(position));\r\n        var codeEditorService = accessor.get(ICodeEditorService);\r\n        return codeEditorService.openCodeEditor({ resource: resource }, codeEditorService.getFocusedCodeEditor()).then(function (control) {\r\n            if (!isCodeEditor(control) || !control.hasModel()) {\r\n                return undefined;\r\n            }\r\n            var controller = ReferencesController.get(control);\r\n            if (!controller) {\r\n                return undefined;\r\n            }\r\n            var references = createCancelablePromise(function (token) { return getReferencesAtPosition(control.getModel(), corePosition.Position.lift(position), false, token).then(function (references) { return new ReferencesModel(references, nls.localize('ref.title', 'References')); }); });\r\n            var range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\r\n            return Promise.resolve(controller.toggleWidget(range, references, false));\r\n        });\r\n    }\r\n});\r\n// use NEW command\r\nCommandsRegistry.registerCommandAlias('editor.action.showReferences', 'editor.action.goToLocations');\r\n//#endregion\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { equals } from './arrays.js';\r\nvar MarkdownString = /** @class */ (function () {\r\n    function MarkdownString(value, isTrusted) {\r\n        if (value === void 0) { value = ''; }\r\n        if (isTrusted === void 0) { isTrusted = false; }\r\n        this._value = value;\r\n        this._isTrusted = isTrusted;\r\n    }\r\n    Object.defineProperty(MarkdownString.prototype, \"value\", {\r\n        get: function () { return this._value; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MarkdownString.prototype, \"isTrusted\", {\r\n        get: function () { return this._isTrusted; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MarkdownString.prototype.appendText = function (value) {\r\n        // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\r\n        this._value += value\r\n            .replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&')\r\n            .replace('\\n', '\\n\\n');\r\n        return this;\r\n    };\r\n    MarkdownString.prototype.appendMarkdown = function (value) {\r\n        this._value += value;\r\n        return this;\r\n    };\r\n    MarkdownString.prototype.appendCodeblock = function (langId, code) {\r\n        this._value += '\\n```';\r\n        this._value += langId;\r\n        this._value += '\\n';\r\n        this._value += code;\r\n        this._value += '\\n```\\n';\r\n        return this;\r\n    };\r\n    return MarkdownString;\r\n}());\r\nexport { MarkdownString };\r\nexport function isEmptyMarkdownString(oneOrMany) {\r\n    if (isMarkdownString(oneOrMany)) {\r\n        return !oneOrMany.value;\r\n    }\r\n    else if (Array.isArray(oneOrMany)) {\r\n        return oneOrMany.every(isEmptyMarkdownString);\r\n    }\r\n    else {\r\n        return true;\r\n    }\r\n}\r\nexport function isMarkdownString(thing) {\r\n    if (thing instanceof MarkdownString) {\r\n        return true;\r\n    }\r\n    else if (thing && typeof thing === 'object') {\r\n        return typeof thing.value === 'string'\r\n            && (typeof thing.isTrusted === 'boolean' || thing.isTrusted === undefined);\r\n    }\r\n    return false;\r\n}\r\nexport function markedStringsEquals(a, b) {\r\n    if (!a && !b) {\r\n        return true;\r\n    }\r\n    else if (!a || !b) {\r\n        return false;\r\n    }\r\n    else if (Array.isArray(a) && Array.isArray(b)) {\r\n        return equals(a, b, markdownStringEqual);\r\n    }\r\n    else if (isMarkdownString(a) && isMarkdownString(b)) {\r\n        return markdownStringEqual(a, b);\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\nfunction markdownStringEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    else if (!a || !b) {\r\n        return false;\r\n    }\r\n    else {\r\n        return a.value === b.value && a.isTrusted === b.isTrusted;\r\n    }\r\n}\r\nexport function removeMarkdownEscapes(text) {\r\n    if (!text) {\r\n        return text;\r\n    }\r\n    return text.replace(/\\\\([\\\\`*_{}[\\]()#+\\-.!])/g, '$1');\r\n}\r\nexport function parseHrefAndDimensions(href) {\r\n    var dimensions = [];\r\n    var splitted = href.split('|').map(function (s) { return s.trim(); });\r\n    href = splitted[0];\r\n    var parameters = splitted[1];\r\n    if (parameters) {\r\n        var heightFromParams = /height=(\\d+)/.exec(parameters);\r\n        var widthFromParams = /width=(\\d+)/.exec(parameters);\r\n        var height = heightFromParams ? heightFromParams[1] : '';\r\n        var width = widthFromParams ? widthFromParams[1] : '';\r\n        var widthIsFinite = isFinite(parseInt(width));\r\n        var heightIsFinite = isFinite(parseInt(height));\r\n        if (widthIsFinite) {\r\n            dimensions.push(\"width=\\\"\" + width + \"\\\"\");\r\n        }\r\n        if (heightIsFinite) {\r\n            dimensions.push(\"height=\\\"\" + height + \"\\\"\");\r\n        }\r\n    }\r\n    return { href: href, dimensions: dimensions };\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as browser from '../../../../base/browser/browser.js';\r\nimport { Disposable } from '../../../../base/common/lifecycle.js';\r\nimport { Emitter } from '../../../../base/common/event.js';\r\nimport * as platform from '../../../../base/common/platform.js';\r\nfunction hasModifier(e, modifier) {\r\n    return !!e[modifier];\r\n}\r\n/**\r\n * An event that encapsulates the various trigger modifiers logic needed for go to definition.\r\n */\r\nvar ClickLinkMouseEvent = /** @class */ (function () {\r\n    function ClickLinkMouseEvent(source, opts) {\r\n        this.target = source.target;\r\n        this.hasTriggerModifier = hasModifier(source.event, opts.triggerModifier);\r\n        this.hasSideBySideModifier = hasModifier(source.event, opts.triggerSideBySideModifier);\r\n        this.isNoneOrSingleMouseDown = (browser.isIE || source.event.detail <= 1); // IE does not support event.detail properly\r\n    }\r\n    return ClickLinkMouseEvent;\r\n}());\r\nexport { ClickLinkMouseEvent };\r\n/**\r\n * An event that encapsulates the various trigger modifiers logic needed for go to definition.\r\n */\r\nvar ClickLinkKeyboardEvent = /** @class */ (function () {\r\n    function ClickLinkKeyboardEvent(source, opts) {\r\n        this.keyCodeIsTriggerKey = (source.keyCode === opts.triggerKey);\r\n        this.keyCodeIsSideBySideKey = (source.keyCode === opts.triggerSideBySideKey);\r\n        this.hasTriggerModifier = hasModifier(source, opts.triggerModifier);\r\n    }\r\n    return ClickLinkKeyboardEvent;\r\n}());\r\nexport { ClickLinkKeyboardEvent };\r\nvar ClickLinkOptions = /** @class */ (function () {\r\n    function ClickLinkOptions(triggerKey, triggerModifier, triggerSideBySideKey, triggerSideBySideModifier) {\r\n        this.triggerKey = triggerKey;\r\n        this.triggerModifier = triggerModifier;\r\n        this.triggerSideBySideKey = triggerSideBySideKey;\r\n        this.triggerSideBySideModifier = triggerSideBySideModifier;\r\n    }\r\n    ClickLinkOptions.prototype.equals = function (other) {\r\n        return (this.triggerKey === other.triggerKey\r\n            && this.triggerModifier === other.triggerModifier\r\n            && this.triggerSideBySideKey === other.triggerSideBySideKey\r\n            && this.triggerSideBySideModifier === other.triggerSideBySideModifier);\r\n    };\r\n    return ClickLinkOptions;\r\n}());\r\nexport { ClickLinkOptions };\r\nfunction createOptions(multiCursorModifier) {\r\n    if (multiCursorModifier === 'altKey') {\r\n        if (platform.isMacintosh) {\r\n            return new ClickLinkOptions(57 /* Meta */, 'metaKey', 6 /* Alt */, 'altKey');\r\n        }\r\n        return new ClickLinkOptions(5 /* Ctrl */, 'ctrlKey', 6 /* Alt */, 'altKey');\r\n    }\r\n    if (platform.isMacintosh) {\r\n        return new ClickLinkOptions(6 /* Alt */, 'altKey', 57 /* Meta */, 'metaKey');\r\n    }\r\n    return new ClickLinkOptions(6 /* Alt */, 'altKey', 5 /* Ctrl */, 'ctrlKey');\r\n}\r\nvar ClickLinkGesture = /** @class */ (function (_super) {\r\n    __extends(ClickLinkGesture, _super);\r\n    function ClickLinkGesture(editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this._onMouseMoveOrRelevantKeyDown = _this._register(new Emitter());\r\n        _this.onMouseMoveOrRelevantKeyDown = _this._onMouseMoveOrRelevantKeyDown.event;\r\n        _this._onExecute = _this._register(new Emitter());\r\n        _this.onExecute = _this._onExecute.event;\r\n        _this._onCancel = _this._register(new Emitter());\r\n        _this.onCancel = _this._onCancel.event;\r\n        _this._editor = editor;\r\n        _this._opts = createOptions(_this._editor.getOption(57 /* multiCursorModifier */));\r\n        _this.lastMouseMoveEvent = null;\r\n        _this.hasTriggerKeyOnMouseDown = false;\r\n        _this._register(_this._editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(57 /* multiCursorModifier */)) {\r\n                var newOpts = createOptions(_this._editor.getOption(57 /* multiCursorModifier */));\r\n                if (_this._opts.equals(newOpts)) {\r\n                    return;\r\n                }\r\n                _this._opts = newOpts;\r\n                _this.lastMouseMoveEvent = null;\r\n                _this.hasTriggerKeyOnMouseDown = false;\r\n                _this._onCancel.fire();\r\n            }\r\n        }));\r\n        _this._register(_this._editor.onMouseMove(function (e) { return _this.onEditorMouseMove(new ClickLinkMouseEvent(e, _this._opts)); }));\r\n        _this._register(_this._editor.onMouseDown(function (e) { return _this.onEditorMouseDown(new ClickLinkMouseEvent(e, _this._opts)); }));\r\n        _this._register(_this._editor.onMouseUp(function (e) { return _this.onEditorMouseUp(new ClickLinkMouseEvent(e, _this._opts)); }));\r\n        _this._register(_this._editor.onKeyDown(function (e) { return _this.onEditorKeyDown(new ClickLinkKeyboardEvent(e, _this._opts)); }));\r\n        _this._register(_this._editor.onKeyUp(function (e) { return _this.onEditorKeyUp(new ClickLinkKeyboardEvent(e, _this._opts)); }));\r\n        _this._register(_this._editor.onMouseDrag(function () { return _this.resetHandler(); }));\r\n        _this._register(_this._editor.onDidChangeCursorSelection(function (e) { return _this.onDidChangeCursorSelection(e); }));\r\n        _this._register(_this._editor.onDidChangeModel(function (e) { return _this.resetHandler(); }));\r\n        _this._register(_this._editor.onDidChangeModelContent(function () { return _this.resetHandler(); }));\r\n        _this._register(_this._editor.onDidScrollChange(function (e) {\r\n            if (e.scrollTopChanged || e.scrollLeftChanged) {\r\n                _this.resetHandler();\r\n            }\r\n        }));\r\n        return _this;\r\n    }\r\n    ClickLinkGesture.prototype.onDidChangeCursorSelection = function (e) {\r\n        if (e.selection && e.selection.startColumn !== e.selection.endColumn) {\r\n            this.resetHandler(); // immediately stop this feature if the user starts to select (https://github.com/Microsoft/vscode/issues/7827)\r\n        }\r\n    };\r\n    ClickLinkGesture.prototype.onEditorMouseMove = function (mouseEvent) {\r\n        this.lastMouseMoveEvent = mouseEvent;\r\n        this._onMouseMoveOrRelevantKeyDown.fire([mouseEvent, null]);\r\n    };\r\n    ClickLinkGesture.prototype.onEditorMouseDown = function (mouseEvent) {\r\n        // We need to record if we had the trigger key on mouse down because someone might select something in the editor\r\n        // holding the mouse down and then while mouse is down start to press Ctrl/Cmd to start a copy operation and then\r\n        // release the mouse button without wanting to do the navigation.\r\n        // With this flag we prevent goto definition if the mouse was down before the trigger key was pressed.\r\n        this.hasTriggerKeyOnMouseDown = mouseEvent.hasTriggerModifier;\r\n    };\r\n    ClickLinkGesture.prototype.onEditorMouseUp = function (mouseEvent) {\r\n        if (this.hasTriggerKeyOnMouseDown) {\r\n            this._onExecute.fire(mouseEvent);\r\n        }\r\n    };\r\n    ClickLinkGesture.prototype.onEditorKeyDown = function (e) {\r\n        if (this.lastMouseMoveEvent\r\n            && (e.keyCodeIsTriggerKey // User just pressed Ctrl/Cmd (normal goto definition)\r\n                || (e.keyCodeIsSideBySideKey && e.hasTriggerModifier) // User pressed Ctrl/Cmd+Alt (goto definition to the side)\r\n            )) {\r\n            this._onMouseMoveOrRelevantKeyDown.fire([this.lastMouseMoveEvent, e]);\r\n        }\r\n        else if (e.hasTriggerModifier) {\r\n            this._onCancel.fire(); // remove decorations if user holds another key with ctrl/cmd to prevent accident goto declaration\r\n        }\r\n    };\r\n    ClickLinkGesture.prototype.onEditorKeyUp = function (e) {\r\n        if (e.keyCodeIsTriggerKey) {\r\n            this._onCancel.fire();\r\n        }\r\n    };\r\n    ClickLinkGesture.prototype.resetHandler = function () {\r\n        this.lastMouseMoveEvent = null;\r\n        this.hasTriggerKeyOnMouseDown = false;\r\n        this._onCancel.fire();\r\n    };\r\n    return ClickLinkGesture;\r\n}(Disposable));\r\nexport { ClickLinkGesture };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport './goToDefinitionAtPosition.css';\r\nimport * as nls from '../../../../nls.js';\r\nimport { createCancelablePromise } from '../../../../base/common/async.js';\r\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\r\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\r\nimport { IModeService } from '../../../common/services/modeService.js';\r\nimport { Range } from '../../../common/core/range.js';\r\nimport { DefinitionProviderRegistry } from '../../../common/modes.js';\r\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\r\nimport { getDefinitionsAtPosition } from '../goToSymbol.js';\r\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\r\nimport { ITextModelService } from '../../../common/services/resolverService.js';\r\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\r\nimport { editorActiveLinkForeground } from '../../../../platform/theme/common/colorRegistry.js';\r\nimport { EditorState } from '../../../browser/core/editorState.js';\r\nimport { DefinitionAction } from '../goToCommands.js';\r\nimport { ClickLinkGesture } from './clickLinkGesture.js';\r\nimport { Position } from '../../../common/core/position.js';\r\nimport { withNullAsUndefined } from '../../../../base/common/types.js';\r\nvar GotoDefinitionAtPositionEditorContribution = /** @class */ (function () {\r\n    function GotoDefinitionAtPositionEditorContribution(editor, textModelResolverService, modeService) {\r\n        var _this = this;\r\n        this.textModelResolverService = textModelResolverService;\r\n        this.modeService = modeService;\r\n        this.toUnhook = new DisposableStore();\r\n        this.toUnhookForKeyboard = new DisposableStore();\r\n        this.linkDecorations = [];\r\n        this.currentWordAtPosition = null;\r\n        this.previousPromise = null;\r\n        this.editor = editor;\r\n        var linkGesture = new ClickLinkGesture(editor);\r\n        this.toUnhook.add(linkGesture);\r\n        this.toUnhook.add(linkGesture.onMouseMoveOrRelevantKeyDown(function (_a) {\r\n            var mouseEvent = _a[0], keyboardEvent = _a[1];\r\n            _this.startFindDefinitionFromMouse(mouseEvent, withNullAsUndefined(keyboardEvent));\r\n        }));\r\n        this.toUnhook.add(linkGesture.onExecute(function (mouseEvent) {\r\n            if (_this.isEnabled(mouseEvent)) {\r\n                _this.gotoDefinition(mouseEvent.target.position, mouseEvent.hasSideBySideModifier).then(function () {\r\n                    _this.removeLinkDecorations();\r\n                }, function (error) {\r\n                    _this.removeLinkDecorations();\r\n                    onUnexpectedError(error);\r\n                });\r\n            }\r\n        }));\r\n        this.toUnhook.add(linkGesture.onCancel(function () {\r\n            _this.removeLinkDecorations();\r\n            _this.currentWordAtPosition = null;\r\n        }));\r\n    }\r\n    GotoDefinitionAtPositionEditorContribution.get = function (editor) {\r\n        return editor.getContribution(GotoDefinitionAtPositionEditorContribution.ID);\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.startFindDefinitionFromCursor = function (position) {\r\n        // For issue: https://github.com/microsoft/vscode/issues/46257\r\n        // equivalent to mouse move with meta/ctrl key\r\n        var _this = this;\r\n        // First find the definition and add decorations\r\n        // to the editor to be shown with the content hover widget\r\n        return this.startFindDefinition(position).then(function () {\r\n            // Add listeners for editor cursor move and key down events\r\n            // Dismiss the \"extended\" editor decorations when the user hides\r\n            // the hover widget. There is no event for the widget itself so these\r\n            // serve as a best effort. After removing the link decorations, the hover\r\n            // widget is clean and will only show declarations per next request.\r\n            _this.toUnhookForKeyboard.add(_this.editor.onDidChangeCursorPosition(function () {\r\n                _this.currentWordAtPosition = null;\r\n                _this.removeLinkDecorations();\r\n                _this.toUnhookForKeyboard.clear();\r\n            }));\r\n            _this.toUnhookForKeyboard.add(_this.editor.onKeyDown(function (e) {\r\n                if (e) {\r\n                    _this.currentWordAtPosition = null;\r\n                    _this.removeLinkDecorations();\r\n                    _this.toUnhookForKeyboard.clear();\r\n                }\r\n            }));\r\n        });\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.startFindDefinitionFromMouse = function (mouseEvent, withKey) {\r\n        // check if we are active and on a content widget\r\n        if (mouseEvent.target.type === 9 /* CONTENT_WIDGET */ && this.linkDecorations.length > 0) {\r\n            return;\r\n        }\r\n        if (!this.editor.hasModel() || !this.isEnabled(mouseEvent, withKey)) {\r\n            this.currentWordAtPosition = null;\r\n            this.removeLinkDecorations();\r\n            return;\r\n        }\r\n        var position = mouseEvent.target.position;\r\n        this.startFindDefinition(position);\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.startFindDefinition = function (position) {\r\n        var _this = this;\r\n        var _a;\r\n        // Dispose listeners for updating decorations when using keyboard to show definition hover\r\n        this.toUnhookForKeyboard.clear();\r\n        // Find word at mouse position\r\n        var word = position ? (_a = this.editor.getModel()) === null || _a === void 0 ? void 0 : _a.getWordAtPosition(position) : null;\r\n        if (!word) {\r\n            this.currentWordAtPosition = null;\r\n            this.removeLinkDecorations();\r\n            return Promise.resolve(0);\r\n        }\r\n        // Return early if word at position is still the same\r\n        if (this.currentWordAtPosition && this.currentWordAtPosition.startColumn === word.startColumn && this.currentWordAtPosition.endColumn === word.endColumn && this.currentWordAtPosition.word === word.word) {\r\n            return Promise.resolve(0);\r\n        }\r\n        this.currentWordAtPosition = word;\r\n        // Find definition and decorate word if found\r\n        var state = new EditorState(this.editor, 4 /* Position */ | 1 /* Value */ | 2 /* Selection */ | 8 /* Scroll */);\r\n        if (this.previousPromise) {\r\n            this.previousPromise.cancel();\r\n            this.previousPromise = null;\r\n        }\r\n        this.previousPromise = createCancelablePromise(function (token) { return _this.findDefinition(position, token); });\r\n        return this.previousPromise.then(function (results) {\r\n            if (!results || !results.length || !state.validate(_this.editor)) {\r\n                _this.removeLinkDecorations();\r\n                return;\r\n            }\r\n            // Multiple results\r\n            if (results.length > 1) {\r\n                _this.addDecoration(new Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn), new MarkdownString().appendText(nls.localize('multipleResults', \"Click to show {0} definitions.\", results.length)));\r\n            }\r\n            // Single result\r\n            else {\r\n                var result_1 = results[0];\r\n                if (!result_1.uri) {\r\n                    return;\r\n                }\r\n                _this.textModelResolverService.createModelReference(result_1.uri).then(function (ref) {\r\n                    if (!ref.object || !ref.object.textEditorModel) {\r\n                        ref.dispose();\r\n                        return;\r\n                    }\r\n                    var textEditorModel = ref.object.textEditorModel;\r\n                    var startLineNumber = result_1.range.startLineNumber;\r\n                    if (startLineNumber < 1 || startLineNumber > textEditorModel.getLineCount()) {\r\n                        // invalid range\r\n                        ref.dispose();\r\n                        return;\r\n                    }\r\n                    var previewValue = _this.getPreviewValue(textEditorModel, startLineNumber, result_1);\r\n                    var wordRange;\r\n                    if (result_1.originSelectionRange) {\r\n                        wordRange = Range.lift(result_1.originSelectionRange);\r\n                    }\r\n                    else {\r\n                        wordRange = new Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn);\r\n                    }\r\n                    var modeId = _this.modeService.getModeIdByFilepathOrFirstLine(textEditorModel.uri);\r\n                    _this.addDecoration(wordRange, new MarkdownString().appendCodeblock(modeId ? modeId : '', previewValue));\r\n                    ref.dispose();\r\n                });\r\n            }\r\n        }).then(undefined, onUnexpectedError);\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.getPreviewValue = function (textEditorModel, startLineNumber, result) {\r\n        var rangeToUse = result.targetSelectionRange ? result.range : this.getPreviewRangeBasedOnBrackets(textEditorModel, startLineNumber);\r\n        var numberOfLinesInRange = rangeToUse.endLineNumber - rangeToUse.startLineNumber;\r\n        if (numberOfLinesInRange >= GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES) {\r\n            rangeToUse = this.getPreviewRangeBasedOnIndentation(textEditorModel, startLineNumber);\r\n        }\r\n        var previewValue = this.stripIndentationFromPreviewRange(textEditorModel, startLineNumber, rangeToUse);\r\n        return previewValue;\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.stripIndentationFromPreviewRange = function (textEditorModel, startLineNumber, previewRange) {\r\n        var startIndent = textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber);\r\n        var minIndent = startIndent;\r\n        for (var endLineNumber = startLineNumber + 1; endLineNumber < previewRange.endLineNumber; endLineNumber++) {\r\n            var endIndent = textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber);\r\n            minIndent = Math.min(minIndent, endIndent);\r\n        }\r\n        var previewValue = textEditorModel.getValueInRange(previewRange).replace(new RegExp(\"^\\\\s{\" + (minIndent - 1) + \"}\", 'gm'), '').trim();\r\n        return previewValue;\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.getPreviewRangeBasedOnIndentation = function (textEditorModel, startLineNumber) {\r\n        var startIndent = textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber);\r\n        var maxLineNumber = Math.min(textEditorModel.getLineCount(), startLineNumber + GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES);\r\n        var endLineNumber = startLineNumber + 1;\r\n        for (; endLineNumber < maxLineNumber; endLineNumber++) {\r\n            var endIndent = textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber);\r\n            if (startIndent === endIndent) {\r\n                break;\r\n            }\r\n        }\r\n        return new Range(startLineNumber, 1, endLineNumber + 1, 1);\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.getPreviewRangeBasedOnBrackets = function (textEditorModel, startLineNumber) {\r\n        var maxLineNumber = Math.min(textEditorModel.getLineCount(), startLineNumber + GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES);\r\n        var brackets = [];\r\n        var ignoreFirstEmpty = true;\r\n        var currentBracket = textEditorModel.findNextBracket(new Position(startLineNumber, 1));\r\n        while (currentBracket !== null) {\r\n            if (brackets.length === 0) {\r\n                brackets.push(currentBracket);\r\n            }\r\n            else {\r\n                var lastBracket = brackets[brackets.length - 1];\r\n                if (lastBracket.open[0] === currentBracket.open[0] && lastBracket.isOpen && !currentBracket.isOpen) {\r\n                    brackets.pop();\r\n                }\r\n                else {\r\n                    brackets.push(currentBracket);\r\n                }\r\n                if (brackets.length === 0) {\r\n                    if (ignoreFirstEmpty) {\r\n                        ignoreFirstEmpty = false;\r\n                    }\r\n                    else {\r\n                        return new Range(startLineNumber, 1, currentBracket.range.endLineNumber + 1, 1);\r\n                    }\r\n                }\r\n            }\r\n            var maxColumn = textEditorModel.getLineMaxColumn(startLineNumber);\r\n            var nextLineNumber = currentBracket.range.endLineNumber;\r\n            var nextColumn = currentBracket.range.endColumn;\r\n            if (maxColumn === currentBracket.range.endColumn) {\r\n                nextLineNumber++;\r\n                nextColumn = 1;\r\n            }\r\n            if (nextLineNumber > maxLineNumber) {\r\n                return new Range(startLineNumber, 1, maxLineNumber + 1, 1);\r\n            }\r\n            currentBracket = textEditorModel.findNextBracket(new Position(nextLineNumber, nextColumn));\r\n        }\r\n        return new Range(startLineNumber, 1, maxLineNumber + 1, 1);\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.addDecoration = function (range, hoverMessage) {\r\n        var newDecorations = {\r\n            range: range,\r\n            options: {\r\n                inlineClassName: 'goto-definition-link',\r\n                hoverMessage: hoverMessage\r\n            }\r\n        };\r\n        this.linkDecorations = this.editor.deltaDecorations(this.linkDecorations, [newDecorations]);\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.removeLinkDecorations = function () {\r\n        if (this.linkDecorations.length > 0) {\r\n            this.linkDecorations = this.editor.deltaDecorations(this.linkDecorations, []);\r\n        }\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.isEnabled = function (mouseEvent, withKey) {\r\n        return this.editor.hasModel() &&\r\n            mouseEvent.isNoneOrSingleMouseDown &&\r\n            (mouseEvent.target.type === 6 /* CONTENT_TEXT */) &&\r\n            (mouseEvent.hasTriggerModifier || (withKey ? withKey.keyCodeIsTriggerKey : false)) &&\r\n            DefinitionProviderRegistry.has(this.editor.getModel());\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.findDefinition = function (position, token) {\r\n        var model = this.editor.getModel();\r\n        if (!model) {\r\n            return Promise.resolve(null);\r\n        }\r\n        return getDefinitionsAtPosition(model, position, token);\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.gotoDefinition = function (position, openToSide) {\r\n        var _this = this;\r\n        this.editor.setPosition(position);\r\n        var action = new DefinitionAction({ openToSide: openToSide, openInPeek: false, muteMessage: true }, { alias: '', label: '', id: '', precondition: undefined });\r\n        return this.editor.invokeWithinContext(function (accessor) { return action.run(accessor, _this.editor); });\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.prototype.dispose = function () {\r\n        this.toUnhook.dispose();\r\n    };\r\n    GotoDefinitionAtPositionEditorContribution.ID = 'editor.contrib.gotodefinitionatposition';\r\n    GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES = 8;\r\n    GotoDefinitionAtPositionEditorContribution = __decorate([\r\n        __param(1, ITextModelService),\r\n        __param(2, IModeService)\r\n    ], GotoDefinitionAtPositionEditorContribution);\r\n    return GotoDefinitionAtPositionEditorContribution;\r\n}());\r\nexport { GotoDefinitionAtPositionEditorContribution };\r\nregisterEditorContribution(GotoDefinitionAtPositionEditorContribution.ID, GotoDefinitionAtPositionEditorContribution);\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var activeLinkForeground = theme.getColor(editorActiveLinkForeground);\r\n    if (activeLinkForeground) {\r\n        collector.addRule(\".monaco-editor .goto-definition-link { color: \" + activeLinkForeground + \" !important; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport Severity from '../../../base/common/severity.js';\r\nimport { registerThemingParticipant } from '../../theme/common/themeService.js';\r\nimport { problemsErrorIconForeground, problemsInfoIconForeground, problemsWarningIconForeground } from '../../theme/common/colorRegistry.js';\r\nexport var SeverityIcon;\r\n(function (SeverityIcon) {\r\n    function className(severity) {\r\n        switch (severity) {\r\n            case Severity.Ignore:\r\n                return 'severity-ignore codicon-info';\r\n            case Severity.Info:\r\n                return 'codicon-info';\r\n            case Severity.Warning:\r\n                return 'codicon-warning';\r\n            case Severity.Error:\r\n                return 'codicon-error';\r\n        }\r\n        return '';\r\n    }\r\n    SeverityIcon.className = className;\r\n})(SeverityIcon || (SeverityIcon = {}));\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var errorIconForeground = theme.getColor(problemsErrorIconForeground);\r\n    if (errorIconForeground) {\r\n        collector.addRule(\"\\n\\t\\t\\t.monaco-editor .zone-widget .codicon-error,\\n\\t\\t\\t.monaco-workbench .markers-panel .marker-icon.codicon-error,\\n\\t\\t\\t.monaco-workbench .extensions-viewlet > .extensions .codicon-error,\\n\\t\\t\\t.monaco-workbench .dialog-box .dialog-message-row .codicon-error {\\n\\t\\t\\t\\tcolor: \" + errorIconForeground + \";\\n\\t\\t\\t}\\n\\t\\t\");\r\n    }\r\n    var warningIconForeground = theme.getColor(problemsWarningIconForeground);\r\n    if (errorIconForeground) {\r\n        collector.addRule(\"\\n\\t\\t\\t.monaco-editor .zone-widget .codicon-warning,\\n\\t\\t\\t.monaco-workbench .markers-panel .marker-icon.codicon-warning,\\n\\t\\t\\t.monaco-workbench .extensions-viewlet > .extensions .codicon-warning,\\n\\t\\t\\t.monaco-workbench .extension-editor .codicon-warning,\\n\\t\\t\\t.monaco-workbench .dialog-box .dialog-message-row .codicon-warning {\\n\\t\\t\\t\\tcolor: \" + warningIconForeground + \";\\n\\t\\t\\t}\\n\\t\\t\");\r\n    }\r\n    var infoIconForeground = theme.getColor(problemsInfoIconForeground);\r\n    if (errorIconForeground) {\r\n        collector.addRule(\"\\n\\t\\t\\t.monaco-editor .zone-widget .codicon-info,\\n\\t\\t\\t.monaco-workbench .markers-panel .marker-icon.codicon-info,\\n\\t\\t\\t.monaco-workbench .extensions-viewlet > .extensions .codicon-info,\\n\\t\\t\\t.monaco-workbench .extension-editor .codicon-info,\\n\\t\\t\\t.monaco-workbench .dialog-box .dialog-message-row .codicon-info {\\n\\t\\t\\t\\tcolor: \" + infoIconForeground + \";\\n\\t\\t\\t}\\n\\t\\t\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './media/gotoErrorWidget.css';\r\nimport * as nls from '../../../nls.js';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { dispose, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { MarkerSeverity } from '../../../platform/markers/common/markers.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { registerColor, oneOf, textLinkForeground, editorErrorForeground, editorErrorBorder, editorWarningForeground, editorWarningBorder, editorInfoForeground, editorInfoBorder } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { Color } from '../../../base/common/color.js';\r\nimport { ScrollableElement } from '../../../base/browser/ui/scrollbar/scrollableElement.js';\r\nimport { getBaseLabel, getPathLabel } from '../../../base/common/labels.js';\r\nimport { isNonEmptyArray } from '../../../base/common/arrays.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { PeekViewWidget, peekViewTitleForeground, peekViewTitleInfoForeground } from '../peekView/peekView.js';\r\nimport { basename } from '../../../base/common/resources.js';\r\nimport { SeverityIcon } from '../../../platform/severityIcon/common/severityIcon.js';\r\nvar MessageWidget = /** @class */ (function () {\r\n    function MessageWidget(parent, editor, onRelatedInformation) {\r\n        var _this = this;\r\n        this._lines = 0;\r\n        this._longestLineLength = 0;\r\n        this._relatedDiagnostics = new WeakMap();\r\n        this._disposables = new DisposableStore();\r\n        this._editor = editor;\r\n        var domNode = document.createElement('div');\r\n        domNode.className = 'descriptioncontainer';\r\n        domNode.setAttribute('aria-live', 'assertive');\r\n        domNode.setAttribute('role', 'alert');\r\n        this._messageBlock = document.createElement('div');\r\n        dom.addClass(this._messageBlock, 'message');\r\n        domNode.appendChild(this._messageBlock);\r\n        this._relatedBlock = document.createElement('div');\r\n        domNode.appendChild(this._relatedBlock);\r\n        this._disposables.add(dom.addStandardDisposableListener(this._relatedBlock, 'click', function (event) {\r\n            event.preventDefault();\r\n            var related = _this._relatedDiagnostics.get(event.target);\r\n            if (related) {\r\n                onRelatedInformation(related);\r\n            }\r\n        }));\r\n        this._scrollable = new ScrollableElement(domNode, {\r\n            horizontal: 1 /* Auto */,\r\n            vertical: 1 /* Auto */,\r\n            useShadows: false,\r\n            horizontalScrollbarSize: 3,\r\n            verticalScrollbarSize: 3\r\n        });\r\n        parent.appendChild(this._scrollable.getDomNode());\r\n        this._disposables.add(this._scrollable.onScroll(function (e) {\r\n            domNode.style.left = \"-\" + e.scrollLeft + \"px\";\r\n            domNode.style.top = \"-\" + e.scrollTop + \"px\";\r\n        }));\r\n        this._disposables.add(this._scrollable);\r\n    }\r\n    MessageWidget.prototype.dispose = function () {\r\n        dispose(this._disposables);\r\n    };\r\n    MessageWidget.prototype.update = function (_a) {\r\n        var source = _a.source, message = _a.message, relatedInformation = _a.relatedInformation, code = _a.code;\r\n        var lines = message.split(/\\r\\n|\\r|\\n/g);\r\n        this._lines = lines.length;\r\n        this._longestLineLength = 0;\r\n        for (var _i = 0, lines_1 = lines; _i < lines_1.length; _i++) {\r\n            var line = lines_1[_i];\r\n            this._longestLineLength = Math.max(line.length, this._longestLineLength);\r\n        }\r\n        dom.clearNode(this._messageBlock);\r\n        this._editor.applyFontInfo(this._messageBlock);\r\n        var lastLineElement = this._messageBlock;\r\n        for (var _b = 0, lines_2 = lines; _b < lines_2.length; _b++) {\r\n            var line = lines_2[_b];\r\n            lastLineElement = document.createElement('div');\r\n            lastLineElement.innerText = line;\r\n            if (line === '') {\r\n                lastLineElement.style.height = this._messageBlock.style.lineHeight;\r\n            }\r\n            this._messageBlock.appendChild(lastLineElement);\r\n        }\r\n        if (source || code) {\r\n            var detailsElement = document.createElement('span');\r\n            dom.addClass(detailsElement, 'details');\r\n            lastLineElement.appendChild(detailsElement);\r\n            if (source) {\r\n                var sourceElement = document.createElement('span');\r\n                sourceElement.innerText = source;\r\n                dom.addClass(sourceElement, 'source');\r\n                detailsElement.appendChild(sourceElement);\r\n            }\r\n            if (code) {\r\n                var codeElement = document.createElement('span');\r\n                codeElement.innerText = \"(\" + code + \")\";\r\n                dom.addClass(codeElement, 'code');\r\n                detailsElement.appendChild(codeElement);\r\n            }\r\n        }\r\n        dom.clearNode(this._relatedBlock);\r\n        this._editor.applyFontInfo(this._relatedBlock);\r\n        if (isNonEmptyArray(relatedInformation)) {\r\n            var relatedInformationNode = this._relatedBlock.appendChild(document.createElement('div'));\r\n            relatedInformationNode.style.paddingTop = Math.floor(this._editor.getOption(47 /* lineHeight */) * 0.66) + \"px\";\r\n            this._lines += 1;\r\n            for (var _c = 0, relatedInformation_1 = relatedInformation; _c < relatedInformation_1.length; _c++) {\r\n                var related = relatedInformation_1[_c];\r\n                var container = document.createElement('div');\r\n                var relatedResource = document.createElement('a');\r\n                dom.addClass(relatedResource, 'filename');\r\n                relatedResource.innerHTML = getBaseLabel(related.resource) + \"(\" + related.startLineNumber + \", \" + related.startColumn + \"): \";\r\n                relatedResource.title = getPathLabel(related.resource, undefined);\r\n                this._relatedDiagnostics.set(relatedResource, related);\r\n                var relatedMessage = document.createElement('span');\r\n                relatedMessage.innerText = related.message;\r\n                container.appendChild(relatedResource);\r\n                container.appendChild(relatedMessage);\r\n                this._lines += 1;\r\n                relatedInformationNode.appendChild(container);\r\n            }\r\n        }\r\n        var fontInfo = this._editor.getOption(32 /* fontInfo */);\r\n        var scrollWidth = Math.ceil(fontInfo.typicalFullwidthCharacterWidth * this._longestLineLength * 0.75);\r\n        var scrollHeight = fontInfo.lineHeight * this._lines;\r\n        this._scrollable.setScrollDimensions({ scrollWidth: scrollWidth, scrollHeight: scrollHeight });\r\n    };\r\n    MessageWidget.prototype.layout = function (height, width) {\r\n        this._scrollable.getDomNode().style.height = height + \"px\";\r\n        this._scrollable.getDomNode().style.width = width + \"px\";\r\n        this._scrollable.setScrollDimensions({ width: width, height: height });\r\n    };\r\n    MessageWidget.prototype.getHeightInLines = function () {\r\n        return Math.min(17, this._lines);\r\n    };\r\n    return MessageWidget;\r\n}());\r\nvar MarkerNavigationWidget = /** @class */ (function (_super) {\r\n    __extends(MarkerNavigationWidget, _super);\r\n    function MarkerNavigationWidget(editor, actions, _themeService) {\r\n        var _this = _super.call(this, editor, { showArrow: true, showFrame: true, isAccessible: true }) || this;\r\n        _this.actions = actions;\r\n        _this._themeService = _themeService;\r\n        _this._callOnDispose = new DisposableStore();\r\n        _this._onDidSelectRelatedInformation = new Emitter();\r\n        _this.onDidSelectRelatedInformation = _this._onDidSelectRelatedInformation.event;\r\n        _this._severity = MarkerSeverity.Warning;\r\n        _this._backgroundColor = Color.white;\r\n        _this._applyTheme(_themeService.getTheme());\r\n        _this._callOnDispose.add(_themeService.onThemeChange(_this._applyTheme.bind(_this)));\r\n        _this.create();\r\n        return _this;\r\n    }\r\n    MarkerNavigationWidget.prototype._applyTheme = function (theme) {\r\n        this._backgroundColor = theme.getColor(editorMarkerNavigationBackground);\r\n        var colorId = editorMarkerNavigationError;\r\n        if (this._severity === MarkerSeverity.Warning) {\r\n            colorId = editorMarkerNavigationWarning;\r\n        }\r\n        else if (this._severity === MarkerSeverity.Info) {\r\n            colorId = editorMarkerNavigationInfo;\r\n        }\r\n        var frameColor = theme.getColor(colorId);\r\n        this.style({\r\n            arrowColor: frameColor,\r\n            frameColor: frameColor,\r\n            headerBackgroundColor: this._backgroundColor,\r\n            primaryHeadingColor: theme.getColor(peekViewTitleForeground),\r\n            secondaryHeadingColor: theme.getColor(peekViewTitleInfoForeground)\r\n        }); // style() will trigger _applyStyles\r\n    };\r\n    MarkerNavigationWidget.prototype._applyStyles = function () {\r\n        if (this._parentContainer) {\r\n            this._parentContainer.style.backgroundColor = this._backgroundColor ? this._backgroundColor.toString() : '';\r\n        }\r\n        _super.prototype._applyStyles.call(this);\r\n    };\r\n    MarkerNavigationWidget.prototype.dispose = function () {\r\n        this._callOnDispose.dispose();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    MarkerNavigationWidget.prototype._fillHead = function (container) {\r\n        _super.prototype._fillHead.call(this, container);\r\n        this._actionbarWidget.push(this.actions, { label: false, icon: true });\r\n    };\r\n    MarkerNavigationWidget.prototype._fillTitleIcon = function (container) {\r\n        this._icon = dom.append(container, dom.$(''));\r\n    };\r\n    MarkerNavigationWidget.prototype._getActionBarOptions = function () {\r\n        return {\r\n            orientation: 1 /* HORIZONTAL_REVERSE */\r\n        };\r\n    };\r\n    MarkerNavigationWidget.prototype._fillBody = function (container) {\r\n        var _this = this;\r\n        this._parentContainer = container;\r\n        dom.addClass(container, 'marker-widget');\r\n        this._parentContainer.tabIndex = 0;\r\n        this._parentContainer.setAttribute('role', 'tooltip');\r\n        this._container = document.createElement('div');\r\n        container.appendChild(this._container);\r\n        this._message = new MessageWidget(this._container, this.editor, function (related) { return _this._onDidSelectRelatedInformation.fire(related); });\r\n        this._disposables.add(this._message);\r\n    };\r\n    MarkerNavigationWidget.prototype.show = function (where, heightInLines) {\r\n        throw new Error('call showAtMarker');\r\n    };\r\n    MarkerNavigationWidget.prototype.showAtMarker = function (marker, markerIdx, markerCount) {\r\n        // update:\r\n        // * title\r\n        // * message\r\n        this._container.classList.remove('stale');\r\n        this._message.update(marker);\r\n        // update frame color (only applied on 'show')\r\n        this._severity = marker.severity;\r\n        this._applyTheme(this._themeService.getTheme());\r\n        // show\r\n        var range = Range.lift(marker);\r\n        var editorPosition = this.editor.getPosition();\r\n        var position = editorPosition && range.containsPosition(editorPosition) ? editorPosition : range.getStartPosition();\r\n        _super.prototype.show.call(this, position, this.computeRequiredHeight());\r\n        var model = this.editor.getModel();\r\n        if (model) {\r\n            var detail = markerCount > 1\r\n                ? nls.localize('problems', \"{0} of {1} problems\", markerIdx, markerCount)\r\n                : nls.localize('change', \"{0} of {1} problem\", markerIdx, markerCount);\r\n            this.setTitle(basename(model.uri), detail);\r\n        }\r\n        this._icon.className = \"codicon \" + SeverityIcon.className(MarkerSeverity.toSeverity(this._severity));\r\n        this.editor.revealPositionInCenter(position, 0 /* Smooth */);\r\n    };\r\n    MarkerNavigationWidget.prototype.updateMarker = function (marker) {\r\n        this._container.classList.remove('stale');\r\n        this._message.update(marker);\r\n    };\r\n    MarkerNavigationWidget.prototype.showStale = function () {\r\n        this._container.classList.add('stale');\r\n        this._relayout();\r\n    };\r\n    MarkerNavigationWidget.prototype._doLayoutBody = function (heightInPixel, widthInPixel) {\r\n        _super.prototype._doLayoutBody.call(this, heightInPixel, widthInPixel);\r\n        this._heightInPixel = heightInPixel;\r\n        this._message.layout(heightInPixel, widthInPixel);\r\n        this._container.style.height = heightInPixel + \"px\";\r\n    };\r\n    MarkerNavigationWidget.prototype._onWidth = function (widthInPixel) {\r\n        this._message.layout(this._heightInPixel, widthInPixel);\r\n    };\r\n    MarkerNavigationWidget.prototype._relayout = function () {\r\n        _super.prototype._relayout.call(this, this.computeRequiredHeight());\r\n    };\r\n    MarkerNavigationWidget.prototype.computeRequiredHeight = function () {\r\n        return 3 + this._message.getHeightInLines();\r\n    };\r\n    return MarkerNavigationWidget;\r\n}(PeekViewWidget));\r\nexport { MarkerNavigationWidget };\r\n// theming\r\nvar errorDefault = oneOf(editorErrorForeground, editorErrorBorder);\r\nvar warningDefault = oneOf(editorWarningForeground, editorWarningBorder);\r\nvar infoDefault = oneOf(editorInfoForeground, editorInfoBorder);\r\nexport var editorMarkerNavigationError = registerColor('editorMarkerNavigationError.background', { dark: errorDefault, light: errorDefault, hc: errorDefault }, nls.localize('editorMarkerNavigationError', 'Editor marker navigation widget error color.'));\r\nexport var editorMarkerNavigationWarning = registerColor('editorMarkerNavigationWarning.background', { dark: warningDefault, light: warningDefault, hc: warningDefault }, nls.localize('editorMarkerNavigationWarning', 'Editor marker navigation widget warning color.'));\r\nexport var editorMarkerNavigationInfo = registerColor('editorMarkerNavigationInfo.background', { dark: infoDefault, light: infoDefault, hc: infoDefault }, nls.localize('editorMarkerNavigationInfo', 'Editor marker navigation widget info color.'));\r\nexport var editorMarkerNavigationBackground = registerColor('editorMarkerNavigation.background', { dark: '#2D2D30', light: Color.white, hc: '#0C141F' }, nls.localize('editorMarkerNavigationBackground', 'Editor marker navigation widget background.'));\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var link = theme.getColor(textLinkForeground);\r\n    if (link) {\r\n        collector.addRule(\".monaco-editor .marker-widget a { color: \" + link + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { RawContextKey, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IMarkerService, MarkerSeverity } from '../../../platform/markers/common/markers.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { registerEditorAction, registerEditorContribution, EditorAction, EditorCommand, registerEditorCommand } from '../../browser/editorExtensions.js';\r\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { MarkerNavigationWidget } from './gotoErrorWidget.js';\r\nimport { compare } from '../../../base/common/strings.js';\r\nimport { binarySearch, find } from '../../../base/common/arrays.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { MenuRegistry } from '../../../platform/actions/common/actions.js';\r\nimport { Action } from '../../../base/common/actions.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { isEqual } from '../../../base/common/resources.js';\r\nvar MarkerModel = /** @class */ (function () {\r\n    function MarkerModel(editor, markers) {\r\n        var _this = this;\r\n        this._toUnbind = new DisposableStore();\r\n        this._editor = editor;\r\n        this._markers = [];\r\n        this._nextIdx = -1;\r\n        this._ignoreSelectionChange = false;\r\n        this._onCurrentMarkerChanged = new Emitter();\r\n        this._onMarkerSetChanged = new Emitter();\r\n        this.setMarkers(markers);\r\n        // listen on editor\r\n        this._toUnbind.add(this._editor.onDidDispose(function () { return _this.dispose(); }));\r\n        this._toUnbind.add(this._editor.onDidChangeCursorPosition(function () {\r\n            if (_this._ignoreSelectionChange) {\r\n                return;\r\n            }\r\n            if (_this.currentMarker && _this._editor.getPosition() && Range.containsPosition(_this.currentMarker, _this._editor.getPosition())) {\r\n                return;\r\n            }\r\n            _this._nextIdx = -1;\r\n        }));\r\n    }\r\n    Object.defineProperty(MarkerModel.prototype, \"onCurrentMarkerChanged\", {\r\n        get: function () {\r\n            return this._onCurrentMarkerChanged.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MarkerModel.prototype, \"onMarkerSetChanged\", {\r\n        get: function () {\r\n            return this._onMarkerSetChanged.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MarkerModel.prototype.setMarkers = function (markers) {\r\n        var oldMarker = this._nextIdx >= 0 ? this._markers[this._nextIdx] : undefined;\r\n        this._markers = markers || [];\r\n        this._markers.sort(MarkerNavigationAction.compareMarker);\r\n        if (!oldMarker) {\r\n            this._nextIdx = -1;\r\n        }\r\n        else {\r\n            this._nextIdx = Math.max(-1, binarySearch(this._markers, oldMarker, MarkerNavigationAction.compareMarker));\r\n        }\r\n        this._onMarkerSetChanged.fire(this);\r\n    };\r\n    MarkerModel.prototype.withoutWatchingEditorPosition = function (callback) {\r\n        this._ignoreSelectionChange = true;\r\n        try {\r\n            callback();\r\n        }\r\n        finally {\r\n            this._ignoreSelectionChange = false;\r\n        }\r\n    };\r\n    MarkerModel.prototype._initIdx = function (fwd) {\r\n        var found = false;\r\n        var position = this._editor.getPosition();\r\n        for (var i = 0; i < this._markers.length; i++) {\r\n            var range = Range.lift(this._markers[i]);\r\n            if (range.isEmpty() && this._editor.getModel()) {\r\n                var word = this._editor.getModel().getWordAtPosition(range.getStartPosition());\r\n                if (word) {\r\n                    range = new Range(range.startLineNumber, word.startColumn, range.startLineNumber, word.endColumn);\r\n                }\r\n            }\r\n            if (position && (range.containsPosition(position) || position.isBeforeOrEqual(range.getStartPosition()))) {\r\n                this._nextIdx = i;\r\n                found = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!found) {\r\n            // after the last change\r\n            this._nextIdx = fwd ? 0 : this._markers.length - 1;\r\n        }\r\n        if (this._nextIdx < 0) {\r\n            this._nextIdx = this._markers.length - 1;\r\n        }\r\n    };\r\n    Object.defineProperty(MarkerModel.prototype, \"currentMarker\", {\r\n        get: function () {\r\n            return this.canNavigate() ? this._markers[this._nextIdx] : undefined;\r\n        },\r\n        set: function (marker) {\r\n            var idx = this._nextIdx;\r\n            this._nextIdx = -1;\r\n            if (marker) {\r\n                this._nextIdx = this.indexOf(marker);\r\n            }\r\n            if (this._nextIdx !== idx) {\r\n                this._onCurrentMarkerChanged.fire(marker);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MarkerModel.prototype.move = function (fwd, inCircles) {\r\n        if (!this.canNavigate()) {\r\n            this._onCurrentMarkerChanged.fire(undefined);\r\n            return !inCircles;\r\n        }\r\n        var oldIdx = this._nextIdx;\r\n        var atEdge = false;\r\n        if (this._nextIdx === -1) {\r\n            this._initIdx(fwd);\r\n        }\r\n        else if (fwd) {\r\n            if (inCircles || this._nextIdx + 1 < this._markers.length) {\r\n                this._nextIdx = (this._nextIdx + 1) % this._markers.length;\r\n            }\r\n            else {\r\n                atEdge = true;\r\n            }\r\n        }\r\n        else if (!fwd) {\r\n            if (inCircles || this._nextIdx > 0) {\r\n                this._nextIdx = (this._nextIdx - 1 + this._markers.length) % this._markers.length;\r\n            }\r\n            else {\r\n                atEdge = true;\r\n            }\r\n        }\r\n        if (oldIdx !== this._nextIdx) {\r\n            var marker = this._markers[this._nextIdx];\r\n            this._onCurrentMarkerChanged.fire(marker);\r\n        }\r\n        return atEdge;\r\n    };\r\n    MarkerModel.prototype.canNavigate = function () {\r\n        return this._markers.length > 0;\r\n    };\r\n    MarkerModel.prototype.findMarkerAtPosition = function (pos) {\r\n        return find(this._markers, function (marker) { return Range.containsPosition(marker, pos); });\r\n    };\r\n    Object.defineProperty(MarkerModel.prototype, \"total\", {\r\n        get: function () {\r\n            return this._markers.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MarkerModel.prototype.indexOf = function (marker) {\r\n        return 1 + this._markers.indexOf(marker);\r\n    };\r\n    MarkerModel.prototype.dispose = function () {\r\n        this._toUnbind.dispose();\r\n    };\r\n    return MarkerModel;\r\n}());\r\nvar MarkerController = /** @class */ (function () {\r\n    function MarkerController(editor, _markerService, _contextKeyService, _themeService, _editorService, _keybindingService) {\r\n        this._markerService = _markerService;\r\n        this._contextKeyService = _contextKeyService;\r\n        this._themeService = _themeService;\r\n        this._editorService = _editorService;\r\n        this._keybindingService = _keybindingService;\r\n        this._model = null;\r\n        this._widget = null;\r\n        this._disposeOnClose = new DisposableStore();\r\n        this._editor = editor;\r\n        this._widgetVisible = CONTEXT_MARKERS_NAVIGATION_VISIBLE.bindTo(this._contextKeyService);\r\n    }\r\n    MarkerController.get = function (editor) {\r\n        return editor.getContribution(MarkerController.ID);\r\n    };\r\n    MarkerController.prototype.dispose = function () {\r\n        this._cleanUp();\r\n        this._disposeOnClose.dispose();\r\n    };\r\n    MarkerController.prototype._cleanUp = function () {\r\n        this._widgetVisible.reset();\r\n        this._disposeOnClose.clear();\r\n        this._widget = null;\r\n        this._model = null;\r\n    };\r\n    MarkerController.prototype.getOrCreateModel = function () {\r\n        var _this = this;\r\n        if (this._model) {\r\n            return this._model;\r\n        }\r\n        var markers = this._getMarkers();\r\n        this._model = new MarkerModel(this._editor, markers);\r\n        this._markerService.onMarkerChanged(this._onMarkerChanged, this, this._disposeOnClose);\r\n        var prevMarkerKeybinding = this._keybindingService.lookupKeybinding(PrevMarkerAction.ID);\r\n        var nextMarkerKeybinding = this._keybindingService.lookupKeybinding(NextMarkerAction.ID);\r\n        var actions = [\r\n            new Action(PrevMarkerAction.ID, PrevMarkerAction.LABEL + (prevMarkerKeybinding ? \" (\" + prevMarkerKeybinding.getLabel() + \")\" : ''), 'show-previous-problem codicon-chevron-up', this._model.canNavigate(), function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\r\n                if (this._model) {\r\n                    this._model.move(false, true);\r\n                }\r\n                return [2 /*return*/];\r\n            }); }); }),\r\n            new Action(NextMarkerAction.ID, NextMarkerAction.LABEL + (nextMarkerKeybinding ? \" (\" + nextMarkerKeybinding.getLabel() + \")\" : ''), 'show-next-problem codicon-chevron-down', this._model.canNavigate(), function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\r\n                if (this._model) {\r\n                    this._model.move(true, true);\r\n                }\r\n                return [2 /*return*/];\r\n            }); }); })\r\n        ];\r\n        this._widget = new MarkerNavigationWidget(this._editor, actions, this._themeService);\r\n        this._widgetVisible.set(true);\r\n        this._widget.onDidClose(function () { return _this.closeMarkersNavigation(); }, this, this._disposeOnClose);\r\n        this._disposeOnClose.add(this._model);\r\n        this._disposeOnClose.add(this._widget);\r\n        for (var _i = 0, actions_1 = actions; _i < actions_1.length; _i++) {\r\n            var action = actions_1[_i];\r\n            this._disposeOnClose.add(action);\r\n        }\r\n        this._disposeOnClose.add(this._widget.onDidSelectRelatedInformation(function (related) {\r\n            _this._editorService.openCodeEditor({\r\n                resource: related.resource,\r\n                options: { pinned: true, revealIfOpened: true, selection: Range.lift(related).collapseToStart() }\r\n            }, _this._editor).then(undefined, onUnexpectedError);\r\n            _this.closeMarkersNavigation(false);\r\n        }));\r\n        this._disposeOnClose.add(this._editor.onDidChangeModel(function () { return _this._cleanUp(); }));\r\n        this._disposeOnClose.add(this._model.onCurrentMarkerChanged(function (marker) {\r\n            if (!marker || !_this._model) {\r\n                _this._cleanUp();\r\n            }\r\n            else {\r\n                _this._model.withoutWatchingEditorPosition(function () {\r\n                    if (!_this._widget || !_this._model) {\r\n                        return;\r\n                    }\r\n                    _this._widget.showAtMarker(marker, _this._model.indexOf(marker), _this._model.total);\r\n                });\r\n            }\r\n        }));\r\n        this._disposeOnClose.add(this._model.onMarkerSetChanged(function () {\r\n            if (!_this._widget || !_this._widget.position || !_this._model) {\r\n                return;\r\n            }\r\n            var marker = _this._model.findMarkerAtPosition(_this._widget.position);\r\n            if (marker) {\r\n                _this._widget.updateMarker(marker);\r\n            }\r\n            else {\r\n                _this._widget.showStale();\r\n            }\r\n        }));\r\n        return this._model;\r\n    };\r\n    MarkerController.prototype.closeMarkersNavigation = function (focusEditor) {\r\n        if (focusEditor === void 0) { focusEditor = true; }\r\n        this._cleanUp();\r\n        if (focusEditor) {\r\n            this._editor.focus();\r\n        }\r\n    };\r\n    MarkerController.prototype.show = function (marker) {\r\n        var model = this.getOrCreateModel();\r\n        model.currentMarker = marker;\r\n    };\r\n    MarkerController.prototype._onMarkerChanged = function (changedResources) {\r\n        var editorModel = this._editor.getModel();\r\n        if (!editorModel) {\r\n            return;\r\n        }\r\n        if (!this._model) {\r\n            return;\r\n        }\r\n        if (!changedResources.some(function (r) { return isEqual(editorModel.uri, r); })) {\r\n            return;\r\n        }\r\n        this._model.setMarkers(this._getMarkers());\r\n    };\r\n    MarkerController.prototype._getMarkers = function () {\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return [];\r\n        }\r\n        return this._markerService.read({\r\n            resource: model.uri,\r\n            severities: MarkerSeverity.Error | MarkerSeverity.Warning | MarkerSeverity.Info\r\n        });\r\n    };\r\n    MarkerController.ID = 'editor.contrib.markerController';\r\n    MarkerController = __decorate([\r\n        __param(1, IMarkerService),\r\n        __param(2, IContextKeyService),\r\n        __param(3, IThemeService),\r\n        __param(4, ICodeEditorService),\r\n        __param(5, IKeybindingService)\r\n    ], MarkerController);\r\n    return MarkerController;\r\n}());\r\nexport { MarkerController };\r\nvar MarkerNavigationAction = /** @class */ (function (_super) {\r\n    __extends(MarkerNavigationAction, _super);\r\n    function MarkerNavigationAction(next, multiFile, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._isNext = next;\r\n        _this._multiFile = multiFile;\r\n        return _this;\r\n    }\r\n    MarkerNavigationAction.prototype.run = function (accessor, editor) {\r\n        var _this = this;\r\n        var markerService = accessor.get(IMarkerService);\r\n        var editorService = accessor.get(ICodeEditorService);\r\n        var controller = MarkerController.get(editor);\r\n        if (!controller) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        var model = controller.getOrCreateModel();\r\n        var atEdge = model.move(this._isNext, !this._multiFile);\r\n        if (!atEdge || !this._multiFile) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        // try with the next/prev file\r\n        var markers = markerService.read({ severities: MarkerSeverity.Error | MarkerSeverity.Warning | MarkerSeverity.Info }).sort(MarkerNavigationAction.compareMarker);\r\n        if (markers.length === 0) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        var editorModel = editor.getModel();\r\n        if (!editorModel) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        var oldMarker = model.currentMarker || { resource: editorModel.uri, severity: MarkerSeverity.Error, startLineNumber: 1, startColumn: 1, endLineNumber: 1, endColumn: 1 };\r\n        var idx = binarySearch(markers, oldMarker, MarkerNavigationAction.compareMarker);\r\n        if (idx < 0) {\r\n            // find best match...\r\n            idx = ~idx;\r\n            idx %= markers.length;\r\n        }\r\n        else if (this._isNext) {\r\n            idx = (idx + 1) % markers.length;\r\n        }\r\n        else {\r\n            idx = (idx + markers.length - 1) % markers.length;\r\n        }\r\n        var newMarker = markers[idx];\r\n        if (isEqual(newMarker.resource, editorModel.uri)) {\r\n            // the next `resource` is this resource which\r\n            // means we cycle within this file\r\n            model.move(this._isNext, true);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        // close the widget for this editor-instance, open the resource\r\n        // for the next marker and re-start marker navigation in there\r\n        controller.closeMarkersNavigation();\r\n        return editorService.openCodeEditor({\r\n            resource: newMarker.resource,\r\n            options: { pinned: false, revealIfOpened: true, revealInCenterIfOutsideViewport: true, selection: newMarker }\r\n        }, editor).then(function (editor) {\r\n            if (!editor) {\r\n                return undefined;\r\n            }\r\n            return editor.getAction(_this.id).run();\r\n        });\r\n    };\r\n    MarkerNavigationAction.compareMarker = function (a, b) {\r\n        var res = compare(a.resource.toString(), b.resource.toString());\r\n        if (res === 0) {\r\n            res = MarkerSeverity.compare(a.severity, b.severity);\r\n        }\r\n        if (res === 0) {\r\n            res = Range.compareRangesUsingStarts(a, b);\r\n        }\r\n        return res;\r\n    };\r\n    return MarkerNavigationAction;\r\n}(EditorAction));\r\nvar NextMarkerAction = /** @class */ (function (_super) {\r\n    __extends(NextMarkerAction, _super);\r\n    function NextMarkerAction() {\r\n        return _super.call(this, true, false, {\r\n            id: NextMarkerAction.ID,\r\n            label: NextMarkerAction.LABEL,\r\n            alias: 'Go to Next Problem (Error, Warning, Info)',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: { kbExpr: EditorContextKeys.editorTextFocus, primary: 512 /* Alt */ | 66 /* F8 */, weight: 100 /* EditorContrib */ }\r\n        }) || this;\r\n    }\r\n    NextMarkerAction.ID = 'editor.action.marker.next';\r\n    NextMarkerAction.LABEL = nls.localize('markerAction.next.label', \"Go to Next Problem (Error, Warning, Info)\");\r\n    return NextMarkerAction;\r\n}(MarkerNavigationAction));\r\nexport { NextMarkerAction };\r\nvar PrevMarkerAction = /** @class */ (function (_super) {\r\n    __extends(PrevMarkerAction, _super);\r\n    function PrevMarkerAction() {\r\n        return _super.call(this, false, false, {\r\n            id: PrevMarkerAction.ID,\r\n            label: PrevMarkerAction.LABEL,\r\n            alias: 'Go to Previous Problem (Error, Warning, Info)',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: { kbExpr: EditorContextKeys.editorTextFocus, primary: 1024 /* Shift */ | 512 /* Alt */ | 66 /* F8 */, weight: 100 /* EditorContrib */ }\r\n        }) || this;\r\n    }\r\n    PrevMarkerAction.ID = 'editor.action.marker.prev';\r\n    PrevMarkerAction.LABEL = nls.localize('markerAction.previous.label', \"Go to Previous Problem (Error, Warning, Info)\");\r\n    return PrevMarkerAction;\r\n}(MarkerNavigationAction));\r\nvar NextMarkerInFilesAction = /** @class */ (function (_super) {\r\n    __extends(NextMarkerInFilesAction, _super);\r\n    function NextMarkerInFilesAction() {\r\n        return _super.call(this, true, true, {\r\n            id: 'editor.action.marker.nextInFiles',\r\n            label: nls.localize('markerAction.nextInFiles.label', \"Go to Next Problem in Files (Error, Warning, Info)\"),\r\n            alias: 'Go to Next Problem in Files (Error, Warning, Info)',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 66 /* F8 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return NextMarkerInFilesAction;\r\n}(MarkerNavigationAction));\r\nvar PrevMarkerInFilesAction = /** @class */ (function (_super) {\r\n    __extends(PrevMarkerInFilesAction, _super);\r\n    function PrevMarkerInFilesAction() {\r\n        return _super.call(this, false, true, {\r\n            id: 'editor.action.marker.prevInFiles',\r\n            label: nls.localize('markerAction.previousInFiles.label', \"Go to Previous Problem in Files (Error, Warning, Info)\"),\r\n            alias: 'Go to Previous Problem in Files (Error, Warning, Info)',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 1024 /* Shift */ | 66 /* F8 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return PrevMarkerInFilesAction;\r\n}(MarkerNavigationAction));\r\nregisterEditorContribution(MarkerController.ID, MarkerController);\r\nregisterEditorAction(NextMarkerAction);\r\nregisterEditorAction(PrevMarkerAction);\r\nregisterEditorAction(NextMarkerInFilesAction);\r\nregisterEditorAction(PrevMarkerInFilesAction);\r\nvar CONTEXT_MARKERS_NAVIGATION_VISIBLE = new RawContextKey('markersNavigationVisible', false);\r\nvar MarkerCommand = EditorCommand.bindToContribution(MarkerController.get);\r\nregisterEditorCommand(new MarkerCommand({\r\n    id: 'closeMarkersNavigation',\r\n    precondition: CONTEXT_MARKERS_NAVIGATION_VISIBLE,\r\n    handler: function (x) { return x.closeMarkersNavigation(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 50,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 9 /* Escape */,\r\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\r\n    }\r\n}));\r\n// Go to menu\r\nMenuRegistry.appendMenuItem(17 /* MenubarGoMenu */, {\r\n    group: '6_problem_nav',\r\n    command: {\r\n        id: 'editor.action.marker.nextInFiles',\r\n        title: nls.localize({ key: 'miGotoNextProblem', comment: ['&& denotes a mnemonic'] }, \"Next &&Problem\")\r\n    },\r\n    order: 1\r\n});\r\nMenuRegistry.appendMenuItem(17 /* MenubarGoMenu */, {\r\n    group: '6_problem_nav',\r\n    command: {\r\n        id: 'editor.action.marker.prevInFiles',\r\n        title: nls.localize({ key: 'miGotoPreviousProblem', comment: ['&& denotes a mnemonic'] }, \"Previous &&Problem\")\r\n    },\r\n    order: 2\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Emitter } from '../../../base/common/event.js';\r\nvar ColorPickerModel = /** @class */ (function () {\r\n    function ColorPickerModel(color, availableColorPresentations, presentationIndex) {\r\n        this.presentationIndex = presentationIndex;\r\n        this._onColorFlushed = new Emitter();\r\n        this.onColorFlushed = this._onColorFlushed.event;\r\n        this._onDidChangeColor = new Emitter();\r\n        this.onDidChangeColor = this._onDidChangeColor.event;\r\n        this._onDidChangePresentation = new Emitter();\r\n        this.onDidChangePresentation = this._onDidChangePresentation.event;\r\n        this.originalColor = color;\r\n        this._color = color;\r\n        this._colorPresentations = availableColorPresentations;\r\n    }\r\n    Object.defineProperty(ColorPickerModel.prototype, \"color\", {\r\n        get: function () {\r\n            return this._color;\r\n        },\r\n        set: function (color) {\r\n            if (this._color.equals(color)) {\r\n                return;\r\n            }\r\n            this._color = color;\r\n            this._onDidChangeColor.fire(color);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ColorPickerModel.prototype, \"presentation\", {\r\n        get: function () { return this.colorPresentations[this.presentationIndex]; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ColorPickerModel.prototype, \"colorPresentations\", {\r\n        get: function () {\r\n            return this._colorPresentations;\r\n        },\r\n        set: function (colorPresentations) {\r\n            this._colorPresentations = colorPresentations;\r\n            if (this.presentationIndex > colorPresentations.length - 1) {\r\n                this.presentationIndex = 0;\r\n            }\r\n            this._onDidChangePresentation.fire(this.presentation);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColorPickerModel.prototype.selectNextColorPresentation = function () {\r\n        this.presentationIndex = (this.presentationIndex + 1) % this.colorPresentations.length;\r\n        this.flushColor();\r\n        this._onDidChangePresentation.fire(this.presentation);\r\n    };\r\n    ColorPickerModel.prototype.guessColorPresentation = function (color, originalText) {\r\n        for (var i = 0; i < this.colorPresentations.length; i++) {\r\n            if (originalText === this.colorPresentations[i].label) {\r\n                this.presentationIndex = i;\r\n                this._onDidChangePresentation.fire(this.presentation);\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    ColorPickerModel.prototype.flushColor = function () {\r\n        this._onColorFlushed.fire(this._color);\r\n    };\r\n    return ColorPickerModel;\r\n}());\r\nexport { ColorPickerModel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './colorPicker.css';\r\nimport { onDidChangeZoomLevel } from '../../../base/browser/browser.js';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { GlobalMouseMoveMonitor, standardMouseMoveMerger } from '../../../base/browser/globalMouseMoveMonitor.js';\r\nimport { Widget } from '../../../base/browser/ui/widget.js';\r\nimport { Color, HSVA, RGBA } from '../../../base/common/color.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { editorHoverBackground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nvar $ = dom.$;\r\nvar ColorPickerHeader = /** @class */ (function (_super) {\r\n    __extends(ColorPickerHeader, _super);\r\n    function ColorPickerHeader(container, model, themeService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.model = model;\r\n        _this.domNode = $('.colorpicker-header');\r\n        dom.append(container, _this.domNode);\r\n        _this.pickedColorNode = dom.append(_this.domNode, $('.picked-color'));\r\n        var colorBox = dom.append(_this.domNode, $('.original-color'));\r\n        colorBox.style.backgroundColor = Color.Format.CSS.format(_this.model.originalColor) || '';\r\n        _this.backgroundColor = themeService.getTheme().getColor(editorHoverBackground) || Color.white;\r\n        _this._register(registerThemingParticipant(function (theme, collector) {\r\n            _this.backgroundColor = theme.getColor(editorHoverBackground) || Color.white;\r\n        }));\r\n        _this._register(dom.addDisposableListener(_this.pickedColorNode, dom.EventType.CLICK, function () { return _this.model.selectNextColorPresentation(); }));\r\n        _this._register(dom.addDisposableListener(colorBox, dom.EventType.CLICK, function () {\r\n            _this.model.color = _this.model.originalColor;\r\n            _this.model.flushColor();\r\n        }));\r\n        _this._register(model.onDidChangeColor(_this.onDidChangeColor, _this));\r\n        _this._register(model.onDidChangePresentation(_this.onDidChangePresentation, _this));\r\n        _this.pickedColorNode.style.backgroundColor = Color.Format.CSS.format(model.color) || '';\r\n        dom.toggleClass(_this.pickedColorNode, 'light', model.color.rgba.a < 0.5 ? _this.backgroundColor.isLighter() : model.color.isLighter());\r\n        return _this;\r\n    }\r\n    ColorPickerHeader.prototype.onDidChangeColor = function (color) {\r\n        this.pickedColorNode.style.backgroundColor = Color.Format.CSS.format(color) || '';\r\n        dom.toggleClass(this.pickedColorNode, 'light', color.rgba.a < 0.5 ? this.backgroundColor.isLighter() : color.isLighter());\r\n        this.onDidChangePresentation();\r\n    };\r\n    ColorPickerHeader.prototype.onDidChangePresentation = function () {\r\n        this.pickedColorNode.textContent = this.model.presentation ? this.model.presentation.label : '';\r\n    };\r\n    return ColorPickerHeader;\r\n}(Disposable));\r\nexport { ColorPickerHeader };\r\nvar ColorPickerBody = /** @class */ (function (_super) {\r\n    __extends(ColorPickerBody, _super);\r\n    function ColorPickerBody(container, model, pixelRatio) {\r\n        var _this = _super.call(this) || this;\r\n        _this.model = model;\r\n        _this.pixelRatio = pixelRatio;\r\n        _this.domNode = $('.colorpicker-body');\r\n        dom.append(container, _this.domNode);\r\n        _this.saturationBox = new SaturationBox(_this.domNode, _this.model, _this.pixelRatio);\r\n        _this._register(_this.saturationBox);\r\n        _this._register(_this.saturationBox.onDidChange(_this.onDidSaturationValueChange, _this));\r\n        _this._register(_this.saturationBox.onColorFlushed(_this.flushColor, _this));\r\n        _this.opacityStrip = new OpacityStrip(_this.domNode, _this.model);\r\n        _this._register(_this.opacityStrip);\r\n        _this._register(_this.opacityStrip.onDidChange(_this.onDidOpacityChange, _this));\r\n        _this._register(_this.opacityStrip.onColorFlushed(_this.flushColor, _this));\r\n        _this.hueStrip = new HueStrip(_this.domNode, _this.model);\r\n        _this._register(_this.hueStrip);\r\n        _this._register(_this.hueStrip.onDidChange(_this.onDidHueChange, _this));\r\n        _this._register(_this.hueStrip.onColorFlushed(_this.flushColor, _this));\r\n        return _this;\r\n    }\r\n    ColorPickerBody.prototype.flushColor = function () {\r\n        this.model.flushColor();\r\n    };\r\n    ColorPickerBody.prototype.onDidSaturationValueChange = function (_a) {\r\n        var s = _a.s, v = _a.v;\r\n        var hsva = this.model.color.hsva;\r\n        this.model.color = new Color(new HSVA(hsva.h, s, v, hsva.a));\r\n    };\r\n    ColorPickerBody.prototype.onDidOpacityChange = function (a) {\r\n        var hsva = this.model.color.hsva;\r\n        this.model.color = new Color(new HSVA(hsva.h, hsva.s, hsva.v, a));\r\n    };\r\n    ColorPickerBody.prototype.onDidHueChange = function (value) {\r\n        var hsva = this.model.color.hsva;\r\n        var h = (1 - value) * 360;\r\n        this.model.color = new Color(new HSVA(h === 360 ? 0 : h, hsva.s, hsva.v, hsva.a));\r\n    };\r\n    ColorPickerBody.prototype.layout = function () {\r\n        this.saturationBox.layout();\r\n        this.opacityStrip.layout();\r\n        this.hueStrip.layout();\r\n    };\r\n    return ColorPickerBody;\r\n}(Disposable));\r\nexport { ColorPickerBody };\r\nvar SaturationBox = /** @class */ (function (_super) {\r\n    __extends(SaturationBox, _super);\r\n    function SaturationBox(container, model, pixelRatio) {\r\n        var _this = _super.call(this) || this;\r\n        _this.model = model;\r\n        _this.pixelRatio = pixelRatio;\r\n        _this._onDidChange = new Emitter();\r\n        _this.onDidChange = _this._onDidChange.event;\r\n        _this._onColorFlushed = new Emitter();\r\n        _this.onColorFlushed = _this._onColorFlushed.event;\r\n        _this.domNode = $('.saturation-wrap');\r\n        dom.append(container, _this.domNode);\r\n        // Create canvas, draw selected color\r\n        _this.canvas = document.createElement('canvas');\r\n        _this.canvas.className = 'saturation-box';\r\n        dom.append(_this.domNode, _this.canvas);\r\n        // Add selection circle\r\n        _this.selection = $('.saturation-selection');\r\n        dom.append(_this.domNode, _this.selection);\r\n        _this.layout();\r\n        _this._register(dom.addDisposableGenericMouseDownListner(_this.domNode, function (e) { return _this.onMouseDown(e); }));\r\n        _this._register(_this.model.onDidChangeColor(_this.onDidChangeColor, _this));\r\n        _this.monitor = null;\r\n        return _this;\r\n    }\r\n    SaturationBox.prototype.onMouseDown = function (e) {\r\n        var _this = this;\r\n        this.monitor = this._register(new GlobalMouseMoveMonitor());\r\n        var origin = dom.getDomNodePagePosition(this.domNode);\r\n        if (e.target !== this.selection) {\r\n            this.onDidChangePosition(e.offsetX, e.offsetY);\r\n        }\r\n        this.monitor.startMonitoring(standardMouseMoveMerger, function (event) { return _this.onDidChangePosition(event.posx - origin.left, event.posy - origin.top); }, function () { return null; });\r\n        var mouseUpListener = dom.addDisposableGenericMouseUpListner(document, function () {\r\n            _this._onColorFlushed.fire();\r\n            mouseUpListener.dispose();\r\n            if (_this.monitor) {\r\n                _this.monitor.stopMonitoring(true);\r\n                _this.monitor = null;\r\n            }\r\n        }, true);\r\n    };\r\n    SaturationBox.prototype.onDidChangePosition = function (left, top) {\r\n        var s = Math.max(0, Math.min(1, left / this.width));\r\n        var v = Math.max(0, Math.min(1, 1 - (top / this.height)));\r\n        this.paintSelection(s, v);\r\n        this._onDidChange.fire({ s: s, v: v });\r\n    };\r\n    SaturationBox.prototype.layout = function () {\r\n        this.width = this.domNode.offsetWidth;\r\n        this.height = this.domNode.offsetHeight;\r\n        this.canvas.width = this.width * this.pixelRatio;\r\n        this.canvas.height = this.height * this.pixelRatio;\r\n        this.paint();\r\n        var hsva = this.model.color.hsva;\r\n        this.paintSelection(hsva.s, hsva.v);\r\n    };\r\n    SaturationBox.prototype.paint = function () {\r\n        var hsva = this.model.color.hsva;\r\n        var saturatedColor = new Color(new HSVA(hsva.h, 1, 1, 1));\r\n        var ctx = this.canvas.getContext('2d');\r\n        var whiteGradient = ctx.createLinearGradient(0, 0, this.canvas.width, 0);\r\n        whiteGradient.addColorStop(0, 'rgba(255, 255, 255, 1)');\r\n        whiteGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.5)');\r\n        whiteGradient.addColorStop(1, 'rgba(255, 255, 255, 0)');\r\n        var blackGradient = ctx.createLinearGradient(0, 0, 0, this.canvas.height);\r\n        blackGradient.addColorStop(0, 'rgba(0, 0, 0, 0)');\r\n        blackGradient.addColorStop(1, 'rgba(0, 0, 0, 1)');\r\n        ctx.rect(0, 0, this.canvas.width, this.canvas.height);\r\n        ctx.fillStyle = Color.Format.CSS.format(saturatedColor);\r\n        ctx.fill();\r\n        ctx.fillStyle = whiteGradient;\r\n        ctx.fill();\r\n        ctx.fillStyle = blackGradient;\r\n        ctx.fill();\r\n    };\r\n    SaturationBox.prototype.paintSelection = function (s, v) {\r\n        this.selection.style.left = s * this.width + \"px\";\r\n        this.selection.style.top = this.height - v * this.height + \"px\";\r\n    };\r\n    SaturationBox.prototype.onDidChangeColor = function () {\r\n        if (this.monitor && this.monitor.isMonitoring()) {\r\n            return;\r\n        }\r\n        this.paint();\r\n    };\r\n    return SaturationBox;\r\n}(Disposable));\r\nvar Strip = /** @class */ (function (_super) {\r\n    __extends(Strip, _super);\r\n    function Strip(container, model) {\r\n        var _this = _super.call(this) || this;\r\n        _this.model = model;\r\n        _this._onDidChange = new Emitter();\r\n        _this.onDidChange = _this._onDidChange.event;\r\n        _this._onColorFlushed = new Emitter();\r\n        _this.onColorFlushed = _this._onColorFlushed.event;\r\n        _this.domNode = dom.append(container, $('.strip'));\r\n        _this.overlay = dom.append(_this.domNode, $('.overlay'));\r\n        _this.slider = dom.append(_this.domNode, $('.slider'));\r\n        _this.slider.style.top = \"0px\";\r\n        _this._register(dom.addDisposableGenericMouseDownListner(_this.domNode, function (e) { return _this.onMouseDown(e); }));\r\n        _this.layout();\r\n        return _this;\r\n    }\r\n    Strip.prototype.layout = function () {\r\n        this.height = this.domNode.offsetHeight - this.slider.offsetHeight;\r\n        var value = this.getValue(this.model.color);\r\n        this.updateSliderPosition(value);\r\n    };\r\n    Strip.prototype.onMouseDown = function (e) {\r\n        var _this = this;\r\n        var monitor = this._register(new GlobalMouseMoveMonitor());\r\n        var origin = dom.getDomNodePagePosition(this.domNode);\r\n        dom.addClass(this.domNode, 'grabbing');\r\n        if (e.target !== this.slider) {\r\n            this.onDidChangeTop(e.offsetY);\r\n        }\r\n        monitor.startMonitoring(standardMouseMoveMerger, function (event) { return _this.onDidChangeTop(event.posy - origin.top); }, function () { return null; });\r\n        var mouseUpListener = dom.addDisposableGenericMouseUpListner(document, function () {\r\n            _this._onColorFlushed.fire();\r\n            mouseUpListener.dispose();\r\n            monitor.stopMonitoring(true);\r\n            dom.removeClass(_this.domNode, 'grabbing');\r\n        }, true);\r\n    };\r\n    Strip.prototype.onDidChangeTop = function (top) {\r\n        var value = Math.max(0, Math.min(1, 1 - (top / this.height)));\r\n        this.updateSliderPosition(value);\r\n        this._onDidChange.fire(value);\r\n    };\r\n    Strip.prototype.updateSliderPosition = function (value) {\r\n        this.slider.style.top = (1 - value) * this.height + \"px\";\r\n    };\r\n    return Strip;\r\n}(Disposable));\r\nvar OpacityStrip = /** @class */ (function (_super) {\r\n    __extends(OpacityStrip, _super);\r\n    function OpacityStrip(container, model) {\r\n        var _this = _super.call(this, container, model) || this;\r\n        dom.addClass(_this.domNode, 'opacity-strip');\r\n        _this._register(model.onDidChangeColor(_this.onDidChangeColor, _this));\r\n        _this.onDidChangeColor(_this.model.color);\r\n        return _this;\r\n    }\r\n    OpacityStrip.prototype.onDidChangeColor = function (color) {\r\n        var _a = color.rgba, r = _a.r, g = _a.g, b = _a.b;\r\n        var opaque = new Color(new RGBA(r, g, b, 1));\r\n        var transparent = new Color(new RGBA(r, g, b, 0));\r\n        this.overlay.style.background = \"linear-gradient(to bottom, \" + opaque + \" 0%, \" + transparent + \" 100%)\";\r\n    };\r\n    OpacityStrip.prototype.getValue = function (color) {\r\n        return color.hsva.a;\r\n    };\r\n    return OpacityStrip;\r\n}(Strip));\r\nvar HueStrip = /** @class */ (function (_super) {\r\n    __extends(HueStrip, _super);\r\n    function HueStrip(container, model) {\r\n        var _this = _super.call(this, container, model) || this;\r\n        dom.addClass(_this.domNode, 'hue-strip');\r\n        return _this;\r\n    }\r\n    HueStrip.prototype.getValue = function (color) {\r\n        return 1 - (color.hsva.h / 360);\r\n    };\r\n    return HueStrip;\r\n}(Strip));\r\nvar ColorPickerWidget = /** @class */ (function (_super) {\r\n    __extends(ColorPickerWidget, _super);\r\n    function ColorPickerWidget(container, model, pixelRatio, themeService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.model = model;\r\n        _this.pixelRatio = pixelRatio;\r\n        _this._register(onDidChangeZoomLevel(function () { return _this.layout(); }));\r\n        var element = $('.colorpicker-widget');\r\n        container.appendChild(element);\r\n        var header = new ColorPickerHeader(element, _this.model, themeService);\r\n        _this.body = new ColorPickerBody(element, _this.model, _this.pixelRatio);\r\n        _this._register(header);\r\n        _this._register(_this.body);\r\n        return _this;\r\n    }\r\n    ColorPickerWidget.prototype.layout = function () {\r\n        this.body.layout();\r\n    };\r\n    return ColorPickerWidget;\r\n}(Widget));\r\nexport { ColorPickerWidget };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { coalesce } from '../../../base/common/arrays.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { registerDefaultLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport { HoverProviderRegistry } from '../../common/modes.js';\r\nexport function getHover(model, position, token) {\r\n    var supports = HoverProviderRegistry.ordered(model);\r\n    var promises = supports.map(function (support) {\r\n        return Promise.resolve(support.provideHover(model, position, token)).then(function (hover) {\r\n            return hover && isValid(hover) ? hover : undefined;\r\n        }, function (err) {\r\n            onUnexpectedExternalError(err);\r\n            return undefined;\r\n        });\r\n    });\r\n    return Promise.all(promises).then(coalesce);\r\n}\r\nregisterDefaultLanguageCommand('_executeHoverProvider', function (model, position) { return getHover(model, position, CancellationToken.None); });\r\nfunction isValid(result) {\r\n    var hasRange = (typeof result.range !== 'undefined');\r\n    var hasHtmlContent = typeof result.contents !== 'undefined' && result.contents && result.contents.length > 0;\r\n    return hasRange && hasHtmlContent;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { RunOnceScheduler, createCancelablePromise } from '../../../base/common/async.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nvar HoverOperation = /** @class */ (function () {\r\n    function HoverOperation(computer, success, error, progress, hoverTime) {\r\n        var _this = this;\r\n        this._computer = computer;\r\n        this._state = 0 /* IDLE */;\r\n        this._hoverTime = hoverTime;\r\n        this._firstWaitScheduler = new RunOnceScheduler(function () { return _this._triggerAsyncComputation(); }, 0);\r\n        this._secondWaitScheduler = new RunOnceScheduler(function () { return _this._triggerSyncComputation(); }, 0);\r\n        this._loadingMessageScheduler = new RunOnceScheduler(function () { return _this._showLoadingMessage(); }, 0);\r\n        this._asyncComputationPromise = null;\r\n        this._asyncComputationPromiseDone = false;\r\n        this._completeCallback = success;\r\n        this._errorCallback = error;\r\n        this._progressCallback = progress;\r\n    }\r\n    HoverOperation.prototype.setHoverTime = function (hoverTime) {\r\n        this._hoverTime = hoverTime;\r\n    };\r\n    HoverOperation.prototype._firstWaitTime = function () {\r\n        return this._hoverTime / 2;\r\n    };\r\n    HoverOperation.prototype._secondWaitTime = function () {\r\n        return this._hoverTime / 2;\r\n    };\r\n    HoverOperation.prototype._loadingMessageTime = function () {\r\n        return 3 * this._hoverTime;\r\n    };\r\n    HoverOperation.prototype._triggerAsyncComputation = function () {\r\n        var _this = this;\r\n        this._state = 2 /* SECOND_WAIT */;\r\n        this._secondWaitScheduler.schedule(this._secondWaitTime());\r\n        if (this._computer.computeAsync) {\r\n            this._asyncComputationPromiseDone = false;\r\n            this._asyncComputationPromise = createCancelablePromise(function (token) { return _this._computer.computeAsync(token); });\r\n            this._asyncComputationPromise.then(function (asyncResult) {\r\n                _this._asyncComputationPromiseDone = true;\r\n                _this._withAsyncResult(asyncResult);\r\n            }, function (e) { return _this._onError(e); });\r\n        }\r\n        else {\r\n            this._asyncComputationPromiseDone = true;\r\n        }\r\n    };\r\n    HoverOperation.prototype._triggerSyncComputation = function () {\r\n        if (this._computer.computeSync) {\r\n            this._computer.onResult(this._computer.computeSync(), true);\r\n        }\r\n        if (this._asyncComputationPromiseDone) {\r\n            this._state = 0 /* IDLE */;\r\n            this._onComplete(this._computer.getResult());\r\n        }\r\n        else {\r\n            this._state = 3 /* WAITING_FOR_ASYNC_COMPUTATION */;\r\n            this._onProgress(this._computer.getResult());\r\n        }\r\n    };\r\n    HoverOperation.prototype._showLoadingMessage = function () {\r\n        if (this._state === 3 /* WAITING_FOR_ASYNC_COMPUTATION */) {\r\n            this._onProgress(this._computer.getResultWithLoadingMessage());\r\n        }\r\n    };\r\n    HoverOperation.prototype._withAsyncResult = function (asyncResult) {\r\n        if (asyncResult) {\r\n            this._computer.onResult(asyncResult, false);\r\n        }\r\n        if (this._state === 3 /* WAITING_FOR_ASYNC_COMPUTATION */) {\r\n            this._state = 0 /* IDLE */;\r\n            this._onComplete(this._computer.getResult());\r\n        }\r\n    };\r\n    HoverOperation.prototype._onComplete = function (value) {\r\n        if (this._completeCallback) {\r\n            this._completeCallback(value);\r\n        }\r\n    };\r\n    HoverOperation.prototype._onError = function (error) {\r\n        if (this._errorCallback) {\r\n            this._errorCallback(error);\r\n        }\r\n        else {\r\n            onUnexpectedError(error);\r\n        }\r\n    };\r\n    HoverOperation.prototype._onProgress = function (value) {\r\n        if (this._progressCallback) {\r\n            this._progressCallback(value);\r\n        }\r\n    };\r\n    HoverOperation.prototype.start = function (mode) {\r\n        if (mode === 0 /* Delayed */) {\r\n            if (this._state === 0 /* IDLE */) {\r\n                this._state = 1 /* FIRST_WAIT */;\r\n                this._firstWaitScheduler.schedule(this._firstWaitTime());\r\n                this._loadingMessageScheduler.schedule(this._loadingMessageTime());\r\n            }\r\n        }\r\n        else {\r\n            switch (this._state) {\r\n                case 0 /* IDLE */:\r\n                    this._triggerAsyncComputation();\r\n                    this._secondWaitScheduler.cancel();\r\n                    this._triggerSyncComputation();\r\n                    break;\r\n                case 2 /* SECOND_WAIT */:\r\n                    this._secondWaitScheduler.cancel();\r\n                    this._triggerSyncComputation();\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    HoverOperation.prototype.cancel = function () {\r\n        this._loadingMessageScheduler.cancel();\r\n        if (this._state === 1 /* FIRST_WAIT */) {\r\n            this._firstWaitScheduler.cancel();\r\n        }\r\n        if (this._state === 2 /* SECOND_WAIT */) {\r\n            this._secondWaitScheduler.cancel();\r\n            if (this._asyncComputationPromise) {\r\n                this._asyncComputationPromise.cancel();\r\n                this._asyncComputationPromise = null;\r\n            }\r\n        }\r\n        if (this._state === 3 /* WAITING_FOR_ASYNC_COMPUTATION */) {\r\n            if (this._asyncComputationPromise) {\r\n                this._asyncComputationPromise.cancel();\r\n                this._asyncComputationPromise = null;\r\n            }\r\n        }\r\n        this._state = 0 /* IDLE */;\r\n    };\r\n    return HoverOperation;\r\n}());\r\nexport { HoverOperation };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { toggleClass } from '../../../base/browser/dom.js';\r\nimport { DomScrollableElement } from '../../../base/browser/ui/scrollbar/scrollableElement.js';\r\nimport { Widget } from '../../../base/browser/ui/widget.js';\r\nvar ContentHoverWidget = /** @class */ (function (_super) {\r\n    __extends(ContentHoverWidget, _super);\r\n    function ContentHoverWidget(id, editor) {\r\n        var _this = _super.call(this) || this;\r\n        // Editor.IContentWidget.allowEditorOverflow\r\n        _this.allowEditorOverflow = true;\r\n        _this._id = id;\r\n        _this._editor = editor;\r\n        _this._isVisible = false;\r\n        _this._stoleFocus = false;\r\n        _this._containerDomNode = document.createElement('div');\r\n        _this._containerDomNode.className = 'monaco-editor-hover hidden';\r\n        _this._containerDomNode.tabIndex = 0;\r\n        _this._domNode = document.createElement('div');\r\n        _this._domNode.className = 'monaco-editor-hover-content';\r\n        _this.scrollbar = new DomScrollableElement(_this._domNode, {});\r\n        _this._register(_this.scrollbar);\r\n        _this._containerDomNode.appendChild(_this.scrollbar.getDomNode());\r\n        _this.onkeydown(_this._containerDomNode, function (e) {\r\n            if (e.equals(9 /* Escape */)) {\r\n                _this.hide();\r\n            }\r\n        });\r\n        _this._register(_this._editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(32 /* fontInfo */)) {\r\n                _this.updateFont();\r\n            }\r\n        }));\r\n        _this._editor.onDidLayoutChange(function (e) { return _this.layout(); });\r\n        _this.layout();\r\n        _this._editor.addContentWidget(_this);\r\n        _this._showAtPosition = null;\r\n        _this._showAtRange = null;\r\n        _this._stoleFocus = false;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ContentHoverWidget.prototype, \"isVisible\", {\r\n        get: function () {\r\n            return this._isVisible;\r\n        },\r\n        set: function (value) {\r\n            this._isVisible = value;\r\n            toggleClass(this._containerDomNode, 'hidden', !this._isVisible);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContentHoverWidget.prototype.getId = function () {\r\n        return this._id;\r\n    };\r\n    ContentHoverWidget.prototype.getDomNode = function () {\r\n        return this._containerDomNode;\r\n    };\r\n    ContentHoverWidget.prototype.showAt = function (position, range, focus) {\r\n        // Position has changed\r\n        this._showAtPosition = position;\r\n        this._showAtRange = range;\r\n        this.isVisible = true;\r\n        this._editor.layoutContentWidget(this);\r\n        // Simply force a synchronous render on the editor\r\n        // such that the widget does not really render with left = '0px'\r\n        this._editor.render();\r\n        this._stoleFocus = focus;\r\n        if (focus) {\r\n            this._containerDomNode.focus();\r\n        }\r\n    };\r\n    ContentHoverWidget.prototype.hide = function () {\r\n        if (!this.isVisible) {\r\n            return;\r\n        }\r\n        this.isVisible = false;\r\n        this._editor.layoutContentWidget(this);\r\n        if (this._stoleFocus) {\r\n            this._editor.focus();\r\n        }\r\n    };\r\n    ContentHoverWidget.prototype.getPosition = function () {\r\n        if (this.isVisible) {\r\n            return {\r\n                position: this._showAtPosition,\r\n                range: this._showAtRange,\r\n                preference: [\r\n                    1 /* ABOVE */,\r\n                    2 /* BELOW */\r\n                ]\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    ContentHoverWidget.prototype.dispose = function () {\r\n        this._editor.removeContentWidget(this);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    ContentHoverWidget.prototype.updateFont = function () {\r\n        var _this = this;\r\n        var codeClasses = Array.prototype.slice.call(this._domNode.getElementsByClassName('code'));\r\n        codeClasses.forEach(function (node) { return _this._editor.applyFontInfo(node); });\r\n    };\r\n    ContentHoverWidget.prototype.updateContents = function (node) {\r\n        this._domNode.textContent = '';\r\n        this._domNode.appendChild(node);\r\n        this.updateFont();\r\n        this._editor.layoutContentWidget(this);\r\n        this.onContentsChange();\r\n    };\r\n    ContentHoverWidget.prototype.onContentsChange = function () {\r\n        this.scrollbar.scanDomNode();\r\n    };\r\n    ContentHoverWidget.prototype.layout = function () {\r\n        var height = Math.max(this._editor.getLayoutInfo().height / 4, 250);\r\n        var _a = this._editor.getOption(32 /* fontInfo */), fontSize = _a.fontSize, lineHeight = _a.lineHeight;\r\n        this._domNode.style.fontSize = fontSize + \"px\";\r\n        this._domNode.style.lineHeight = lineHeight + \"px\";\r\n        this._domNode.style.maxHeight = height + \"px\";\r\n        this._domNode.style.maxWidth = Math.max(this._editor.getLayoutInfo().width * 0.66, 500) + \"px\";\r\n    };\r\n    return ContentHoverWidget;\r\n}(Widget));\r\nexport { ContentHoverWidget };\r\nvar GlyphHoverWidget = /** @class */ (function (_super) {\r\n    __extends(GlyphHoverWidget, _super);\r\n    function GlyphHoverWidget(id, editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this._id = id;\r\n        _this._editor = editor;\r\n        _this._isVisible = false;\r\n        _this._domNode = document.createElement('div');\r\n        _this._domNode.className = 'monaco-editor-hover hidden';\r\n        _this._domNode.setAttribute('aria-hidden', 'true');\r\n        _this._domNode.setAttribute('role', 'presentation');\r\n        _this._showAtLineNumber = -1;\r\n        _this._register(_this._editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(32 /* fontInfo */)) {\r\n                _this.updateFont();\r\n            }\r\n        }));\r\n        _this._editor.addOverlayWidget(_this);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(GlyphHoverWidget.prototype, \"isVisible\", {\r\n        get: function () {\r\n            return this._isVisible;\r\n        },\r\n        set: function (value) {\r\n            this._isVisible = value;\r\n            toggleClass(this._domNode, 'hidden', !this._isVisible);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GlyphHoverWidget.prototype.getId = function () {\r\n        return this._id;\r\n    };\r\n    GlyphHoverWidget.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    GlyphHoverWidget.prototype.showAt = function (lineNumber) {\r\n        this._showAtLineNumber = lineNumber;\r\n        if (!this.isVisible) {\r\n            this.isVisible = true;\r\n        }\r\n        var editorLayout = this._editor.getLayoutInfo();\r\n        var topForLineNumber = this._editor.getTopForLineNumber(this._showAtLineNumber);\r\n        var editorScrollTop = this._editor.getScrollTop();\r\n        var lineHeight = this._editor.getOption(47 /* lineHeight */);\r\n        var nodeHeight = this._domNode.clientHeight;\r\n        var top = topForLineNumber - editorScrollTop - ((nodeHeight - lineHeight) / 2);\r\n        this._domNode.style.left = editorLayout.glyphMarginLeft + editorLayout.glyphMarginWidth + \"px\";\r\n        this._domNode.style.top = Math.max(Math.round(top), 0) + \"px\";\r\n    };\r\n    GlyphHoverWidget.prototype.hide = function () {\r\n        if (!this.isVisible) {\r\n            return;\r\n        }\r\n        this.isVisible = false;\r\n    };\r\n    GlyphHoverWidget.prototype.getPosition = function () {\r\n        return null;\r\n    };\r\n    GlyphHoverWidget.prototype.dispose = function () {\r\n        this._editor.removeOverlayWidget(this);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    GlyphHoverWidget.prototype.updateFont = function () {\r\n        var _this = this;\r\n        var codeTags = Array.prototype.slice.call(this._domNode.getElementsByTagName('code'));\r\n        var codeClasses = Array.prototype.slice.call(this._domNode.getElementsByClassName('code'));\r\n        __spreadArrays(codeTags, codeClasses).forEach(function (node) { return _this._editor.applyFontInfo(node); });\r\n    };\r\n    GlyphHoverWidget.prototype.updateContents = function (node) {\r\n        this._domNode.textContent = '';\r\n        this._domNode.appendChild(node);\r\n        this.updateFont();\r\n    };\r\n    return GlyphHoverWidget;\r\n}(Widget));\r\nexport { GlyphHoverWidget };\r\n","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n// BEGIN MONACOCHANGE\nvar __marked_exports;\n// END MONACOCHANGE\n\n;(function(root) {\n'use strict';\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,\n  nptable: noop,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?>\\\\n*' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading| {0,3}>|<\\/?(?:tag)(?: +|\\n|\\/?>)|<(?:script|pre|style|!--))[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d{1,9}\\.)/;\nblock.item = /^( *)(bull) ?[^\\n]*(?:\\n(?!\\1bull ?)[^\\n]*)*/;\nblock.item = edit(block.item, 'gm')\n  .replace(/bull/g, block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n  + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n  + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n  + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n  + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n  + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?-->/;\nblock.html = edit(block.html, 'i')\n  .replace('comment', block._comment)\n  .replace('tag', block._tag)\n  .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n  .getRegex();\n\nblock.paragraph = edit(block.paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', block.heading)\n  .replace('lheading', block.lheading)\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ {0,3}(`{3,}|~{3,})([^`\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n});\n\nblock.gfm.paragraph = edit(block.paragraph)\n  .replace('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  .getRegex();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:.*[^>\\n ].*(?:\\n|$))*)\\n*|$)/,\n  table: /^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n((?: *[^>\\n ].*(?:\\n|$))*)\\n*|$)/\n});\n\n/**\n * Pedantic grammar\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit(\n    '^ *(?:comment *(?:\\\\n|\\\\s*$)'\n    + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n    .replace('comment', block._comment)\n    .replace(/tag/g, '(?!(?:'\n      + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n      + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n      + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n    .getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = Object.create(null);\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.pedantic) {\n    this.rules = block.pedantic;\n  } else if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top) {\n  src = src.replace(/^ +$/gm, '');\n  var next,\n      loose,\n      cap,\n      bull,\n      b,\n      item,\n      listStart,\n      listItems,\n      t,\n      space,\n      i,\n      tag,\n      l,\n      isordered,\n      istask,\n      ischecked;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? rtrim(cap, '\\n')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2] ? cap[2].trim() : cap[2],\n        text: cap[3] || ''\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (cap = this.rules.nptable.exec(src)) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length);\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(item.cells[i], item.header.length);\n        }\n\n        this.tokens.push(item);\n\n        continue;\n      }\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n      isordered = bull.length > 1;\n\n      listStart = {\n        type: 'list_start',\n        ordered: isordered,\n        start: isordered ? +bull : '',\n        loose: false\n      };\n\n      this.tokens.push(listStart);\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      listItems = [];\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) */, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull.length > 1 ? b.length === 1\n            : (b.length > 1 || (this.options.smartLists && b !== bull))) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        if (loose) {\n          listStart.loose = true;\n        }\n\n        // Check for task list items\n        istask = /^\\[[ xX]\\] /.test(item);\n        ischecked = undefined;\n        if (istask) {\n          ischecked = item[1] !== ' ';\n          item = item.replace(/^\\[[ xX]\\] +/, '');\n        }\n\n        t = {\n          type: 'list_item_start',\n          task: istask,\n          checked: ischecked,\n          loose: loose\n        };\n\n        listItems.push(t);\n        this.tokens.push(t);\n\n        // Recurse.\n        this.token(item, false);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      if (listStart.loose) {\n        l = listItems.length;\n        i = 0;\n        for (; i < l; i++) {\n          listItems[i].loose = true;\n        }\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if (top && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      if (!this.tokens.links[tag]) {\n        this.tokens.links[tag] = {\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n      continue;\n    }\n\n    // table (gfm)\n    if (cap = this.rules.table.exec(src)) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length);\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(\n            item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''),\n            item.header.length);\n        }\n\n        this.tokens.push(item);\n\n        continue;\n      }\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noop,\n  tag: '^comment'\n    + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n  link: /^!?\\[(label)\\]\\(href(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n  nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n  strong: /^__([^\\s_])__(?!_)|^\\*\\*([^\\s*])\\*\\*(?!\\*)|^__([^\\s][\\s\\S]*?[^\\s])__(?!_)|^\\*\\*([^\\s][\\s\\S]*?[^\\s])\\*\\*(?!\\*)/,\n  em: /^_([^\\s_])_(?!_)|^\\*([^\\s*\"<\\[])\\*(?!\\*)|^_([^\\s][\\s\\S]*?[^\\s_])_(?!_|[^\\spunctuation])|^_([^\\s_][\\s\\S]*?[^\\s])_(?!_|[^\\spunctuation])|^\\*([^\\s\"<\\[][\\s\\S]*?[^\\s*])\\*(?!\\*)|^\\*([^\\s*\"<\\[][\\s\\S]*?[^\\s])\\*(?!\\*)/,\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noop,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*]|\\b_|$)|[^ ](?= {2,}\\n))|(?= {2,}\\n))/\n};\n\n// list of punctuation marks from common mark spec\n// without ` and ] to workaround Rule 17 (inline code blocks/links)\ninline._punctuation = '!\"#$%&\\'()*+,\\\\-./:;<=>?@\\\\[^_{|}~';\ninline.em = edit(inline.em).replace(/punctuation/g, inline._punctuation).getRegex();\n\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex();\n\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n\ninline.tag = edit(inline.tag)\n  .replace('comment', block._comment)\n  .replace('attribute', inline._attribute)\n  .getRegex();\n\ninline._label = /(?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]?|`[^`]*`|`(?!`)|[^\\[\\]\\\\`])*?/;\ninline._href = /\\s*(<(?:\\\\[<>]?|[^\\s<>\\\\])*>|[^\\s\\x00-\\x1f]*)/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n\ninline.link = edit(inline.link)\n  .replace('label', inline._label)\n  .replace('href', inline._href)\n  .replace('title', inline._title)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('label', inline._label)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/,\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n    .replace('label', inline._label)\n    .getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n    .replace('label', inline._label)\n    .getRegex()\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*~]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?= {2,}\\n|[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/\n});\n\ninline.gfm.url = edit(inline.gfm.url, 'i')\n  .replace('email', inline.gfm._extended_email)\n  .getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace(/\\{2,\\}/g, '*').getRegex()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer();\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  } else if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = '',\n      link,\n      text,\n      href,\n      title,\n      cap,\n      prevCapZero;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += escape(cap[1]);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      if (!this.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.inRawBlock = true;\n      } else if (this.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.inRawBlock = false;\n      }\n\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0];\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      var lastParenIndex = findClosingBracket(cap[2], '()');\n      if (lastParenIndex > -1) {\n        var linkLen = cap[0].length - (cap[2].length - lastParenIndex) - (cap[3] || '').length;\n        cap[2] = cap[2].substring(0, lastParenIndex);\n        cap[0] = cap[0].substring(0, linkLen).trim();\n        cap[3] = '';\n      }\n      src = src.substring(cap[0].length);\n      this.inLink = true;\n      href = cap[2];\n      if (this.options.pedantic) {\n        link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        } else {\n          title = '';\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n      href = href.trim().replace(/^<([\\s\\S]*)>$/, '$1');\n      out += this.outputLink(cap, {\n        href: InlineLexer.escapes(href),\n        title: InlineLexer.escapes(title)\n      });\n      this.inLink = false;\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      this.inLink = true;\n      out += this.outputLink(cap, link);\n      this.inLink = false;\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[4] || cap[3] || cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2].trim(), true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(this.mangle(cap[1]));\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      if (cap[2] === '@') {\n        text = escape(cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        // do extended autolink path validation\n        do {\n          prevCapZero = cap[0];\n          cap[0] = this.rules._backpedal.exec(cap[0])[0];\n        } while (prevCapZero !== cap[0]);\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n      src = src.substring(cap[0].length);\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (this.inRawBlock) {\n        out += this.renderer.text(cap[0]);\n      } else {\n        out += this.renderer.text(escape(this.smartypants(cap[0])));\n      }\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\nInlineLexer.escapes = function(text) {\n  return text ? text.replace(InlineLexer.rules._escapes, '$1') : text;\n};\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = link.href,\n      title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  if (!this.options.mangle) return text;\n  var out = '',\n      l = text.length,\n      i = 0,\n      ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer(options) {\n  this.options = options || marked.defaults;\n}\n\nRenderer.prototype.code = function(code, infostring, escaped) {\n  var lang = (infostring || '').match(/\\S*/)[0];\n  if (this.options.highlight) {\n    var out = this.options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return '<pre><code>'\n      + (escaped ? code : escape(code, true))\n      + '</code></pre>';\n  }\n\n  return '<pre><code class=\"'\n    + this.options.langPrefix\n    + escape(lang, true)\n    + '\">'\n    + (escaped ? code : escape(code, true))\n    + '</code></pre>\\n';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw, slugger) {\n  if (this.options.headerIds) {\n    return '<h'\n      + level\n      + ' id=\"'\n      + this.options.headerPrefix\n      + slugger.slug(raw)\n      + '\">'\n      + text\n      + '</h'\n      + level\n      + '>\\n';\n  }\n  // ignore IDs\n  return '<h' + level + '>' + text + '</h' + level + '>\\n';\n};\n\nRenderer.prototype.hr = function() {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n};\n\nRenderer.prototype.list = function(body, ordered, start) {\n  var type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n  return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return '<li>' + text + '</li>\\n';\n};\n\nRenderer.prototype.checkbox = function(checked) {\n  return '<input '\n    + (checked ? 'checked=\"\" ' : '')\n    + 'disabled=\"\" type=\"checkbox\"'\n    + (this.options.xhtml ? ' /' : '')\n    + '> ';\n};\n\nRenderer.prototype.paragraph = function(text) {\n  return '<p>' + text + '</p>\\n';\n};\n\nRenderer.prototype.table = function(header, body) {\n  if (body) body = '<tbody>' + body + '</tbody>';\n\n  return '<table>\\n'\n    + '<thead>\\n'\n    + header\n    + '</thead>\\n'\n    + body\n    + '</table>\\n';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return '<tr>\\n' + content + '</tr>\\n';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? 'th' : 'td';\n  var tag = flags.align\n    ? '<' + type + ' align=\"' + flags.align + '\">'\n    : '<' + type + '>';\n  return tag + content + '</' + type + '>\\n';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return '<strong>' + text + '</strong>';\n};\n\nRenderer.prototype.em = function(text) {\n  return '<em>' + text + '</em>';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return '<code>' + text + '</code>';\n};\n\nRenderer.prototype.br = function() {\n  return this.options.xhtml ? '<br/>' : '<br>';\n};\n\nRenderer.prototype.del = function(text) {\n  return '<del>' + text + '</del>';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n  if (href === null) {\n    return text;\n  }\n  var out = '<a href=\"' + escape(href) + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>' + text + '</a>';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n  if (href === null) {\n    return text;\n  }\n\n  var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += this.options.xhtml ? '/>' : '>';\n  return out;\n};\n\nRenderer.prototype.text = function(text) {\n  return text;\n};\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\n\nfunction TextRenderer() {}\n\n// no need for block level renderers\n\nTextRenderer.prototype.strong =\nTextRenderer.prototype.em =\nTextRenderer.prototype.codespan =\nTextRenderer.prototype.del =\nTextRenderer.prototype.text = function (text) {\n  return text;\n};\n\nTextRenderer.prototype.link =\nTextRenderer.prototype.image = function(href, title, text) {\n  return '' + text;\n};\n\nTextRenderer.prototype.br = function() {\n  return '';\n};\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer();\n  this.renderer = this.options.renderer;\n  this.renderer.options = this.options;\n  this.slugger = new Slugger();\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options) {\n  var parser = new Parser(options);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options);\n  // use an InlineLexer with a TextRenderer to extract pure text\n  this.inlineText = new InlineLexer(\n    src.links,\n    merge({}, this.options, {renderer: new TextRenderer()})\n  );\n  this.tokens = src.reverse();\n\n  var out = '';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case 'space': {\n      return '';\n    }\n    case 'hr': {\n      return this.renderer.hr();\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        unescape(this.inlineText.output(this.token.text)),\n        this.slugger);\n    }\n    case 'code': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped);\n    }\n    case 'table': {\n      var header = '',\n          body = '',\n          i,\n          row,\n          cell,\n          j;\n\n      // header\n      cell = '';\n      for (i = 0; i < this.token.header.length; i++) {\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = '';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case 'blockquote_start': {\n      body = '';\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case 'list_start': {\n      body = '';\n      var ordered = this.token.ordered,\n          start = this.token.start;\n\n      while (this.next().type !== 'list_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered, start);\n    }\n    case 'list_item_start': {\n      body = '';\n      var loose = this.token.loose;\n      var checked = this.token.checked;\n      var task = this.token.task;\n\n      if (this.token.task) {\n        body += this.renderer.checkbox(checked);\n      }\n\n      while (this.next().type !== 'list_item_end') {\n        body += !loose && this.token.type === 'text'\n          ? this.parseText()\n          : this.tok();\n      }\n      return this.renderer.listitem(body, task, checked);\n    }\n    case 'html': {\n      // TODO parse inline content if parameter markdown=1\n      return this.renderer.html(this.token.text);\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText());\n    }\n    default: {\n      var errMsg = 'Token with \"' + this.token.type + '\" type was not found.';\n      if (this.options.silent) {\n        console.log(errMsg);\n      } else {\n        throw new Error(errMsg);\n      }\n    }\n  }\n};\n\n/**\n * Slugger generates header id\n */\n\nfunction Slugger () {\n  this.seen = {};\n}\n\n/**\n * Convert string to unique id\n */\n\nSlugger.prototype.slug = function (value) {\n  var slug = value\n    .toLowerCase()\n    .trim()\n    .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '')\n    .replace(/\\s/g, '-');\n\n  if (this.seen.hasOwnProperty(slug)) {\n    var originalSlug = slug;\n    do {\n      this.seen[originalSlug]++;\n      slug = originalSlug + '-' + this.seen[originalSlug];\n    } while (this.seen.hasOwnProperty(slug));\n  }\n  this.seen[slug] = 0;\n\n  return slug;\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  if (encode) {\n    if (escape.escapeTest.test(html)) {\n      return html.replace(escape.escapeReplace, function (ch) { return escape.replacements[ch]; });\n    }\n  } else {\n    if (escape.escapeTestNoEncode.test(html)) {\n      return html.replace(escape.escapeReplaceNoEncode, function (ch) { return escape.replacements[ch]; });\n    }\n  }\n\n  return html;\n}\n\nescape.escapeTest = /[&<>\"']/;\nescape.escapeReplace = /[&<>\"']/g;\nescape.replacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\nescape.escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\nescape.escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig, function(_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nfunction edit(regex, opt) {\n  regex = regex.source || regex;\n  opt = opt || '';\n  return {\n    replace: function(name, val) {\n      val = val.source || val;\n      val = val.replace(/(^|[^\\[])\\^/g, '$1');\n      regex = regex.replace(name, val);\n      return this;\n    },\n    getRegex: function() {\n      return new RegExp(regex, opt);\n    }\n  };\n}\n\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    try {\n      var prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase();\n    } catch (e) {\n      return null;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n  return href;\n}\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (/^[^:]+:\\/*[^/]*$/.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n  base = baseUrls[' ' + base];\n\n  if (href.slice(0, 2) === '//') {\n    return base.replace(/:[\\s\\S]*/, ':') + href;\n  } else if (href.charAt(0) === '/') {\n    return base.replace(/(:\\/*[^/]*)[\\s\\S]*/, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\nvar baseUrls = {};\nvar originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1,\n      target,\n      key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n        var escaped = false,\n            curr = offset;\n        while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n        if (escaped) {\n          // odd number of slashes means | is escaped\n          // so we leave it alone\n          return '|';\n        } else {\n          // add space before unescaped |\n          return ' |';\n        }\n      }),\n      cells = row.split(/ \\|/),\n      i = 0;\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) cells.push('');\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n  return cells;\n}\n\n// Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n// /c*$/ is vulnerable to REDOS.\n// invert: Remove suffix of non-c chars instead. Default falsey.\nfunction rtrim(str, c, invert) {\n  if (str.length === 0) {\n    return '';\n  }\n\n  // Length of suffix matching the invert condition.\n  var suffLen = 0;\n\n  // Step left until we fail to match the invert condition.\n  while (suffLen < str.length) {\n    var currChar = str.charAt(str.length - suffLen - 1);\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.substr(0, str.length - suffLen);\n}\n\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n  var level = 0;\n  for (var i = 0; i < str.length; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n  return -1;\n}\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight,\n        tokens,\n        pending,\n        i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt);\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      var out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.getDefaults = function () {\n  return {\n    baseUrl: null,\n    breaks: false,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: new Renderer(),\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    tables: true,\n    xhtml: false\n  };\n};\n\nmarked.defaults = marked.getDefaults();\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.Slugger = Slugger;\n\nmarked.parse = marked;\n\n// BEGIN MONACOCHANGE\n// if (typeof module !== 'undefined' && typeof exports === 'object') {\n//   module.exports = marked;\n// } else if (typeof define === 'function' && define.amd) {\n//   define(function() { return marked; });\n// } else {\n//   root.marked = marked;\n// }\n// })(this || (typeof window !== 'undefined' ? window : global));\n__marked_exports = marked;\n}).call(this);\n\n// ESM-comment-begin\n// define(function() { return __marked_exports; });\n// ESM-comment-end\n\n// ESM-uncomment-begin\nexport var marked = __marked_exports;\nexport var Parser = __marked_exports.Parser;\nexport var parser = __marked_exports.parser;\nexport var Renderer = __marked_exports.Renderer;\nexport var TextRenderer = __marked_exports.TextRenderer;\nexport var Lexer = __marked_exports.Lexer;\nexport var lexer = __marked_exports.lexer;\nexport var InlineLexer = __marked_exports.InlineLexer;\nexport var inlineLexer = __marked_exports.inlineLexer;\nexport var parse = __marked_exports.parse;\n// ESM-uncomment-end\n// END MONACOCHANGE\n","/*\nThe MIT License (MIT)\n\nCopyright © 2015 Nicolas Bevacqua\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\nthe Software, and to permit persons to whom the Software is furnished to do so,\nsubject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nlet __insane_func;\n\n(function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \"function\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\"Cannot find module '\" + i + \"'\"); throw a.code = \"MODULE_NOT_FOUND\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \"function\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({\n\t1: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tvar toMap = require('./toMap');\n\t\tvar uris = ['background', 'base', 'cite', 'href', 'longdesc', 'src', 'usemap'];\n\n\t\tmodule.exports = {\n\t\t\turis: toMap(uris) // attributes that have an href and hence need to be sanitized\n\t\t};\n\n\t}, { \"./toMap\": 10 }], 2: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tvar defaults = {\n\t\t\tallowedAttributes: {\n\t\t\t\t'*': ['title', 'accesskey'],\n\t\t\t\ta: ['href', 'name', 'target', 'aria-label'],\n\t\t\t\tiframe: ['allowfullscreen', 'frameborder', 'src'],\n\t\t\t\timg: ['src', 'alt', 'title', 'aria-label']\n\t\t\t},\n\t\t\tallowedClasses: {},\n\t\t\tallowedSchemes: ['http', 'https', 'mailto'],\n\t\t\tallowedTags: [\n\t\t\t\t'a', 'abbr', 'article', 'b', 'blockquote', 'br', 'caption', 'code', 'del', 'details', 'div', 'em',\n\t\t\t\t'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'ins', 'kbd', 'li', 'main', 'mark',\n\t\t\t\t'ol', 'p', 'pre', 'section', 'span', 'strike', 'strong', 'sub', 'summary', 'sup', 'table',\n\t\t\t\t'tbody', 'td', 'th', 'thead', 'tr', 'u', 'ul'\n\t\t\t],\n\t\t\tfilter: null\n\t\t};\n\n\t\tmodule.exports = defaults;\n\n\t}, {}], 3: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tvar toMap = require('./toMap');\n\t\tvar voids = ['area', 'br', 'col', 'hr', 'img', 'wbr', 'input', 'base', 'basefont', 'link', 'meta'];\n\n\t\tmodule.exports = {\n\t\t\tvoids: toMap(voids)\n\t\t};\n\n\t}, { \"./toMap\": 10 }], 4: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tvar he = require('he');\n\t\tvar assign = require('assignment');\n\t\tvar parser = require('./parser');\n\t\tvar sanitizer = require('./sanitizer');\n\t\tvar defaults = require('./defaults');\n\n\t\tfunction insane(html, options, strict) {\n\t\t\tvar buffer = [];\n\t\t\tvar configuration = strict === true ? options : assign({}, defaults, options);\n\t\t\tvar handler = sanitizer(buffer, configuration);\n\n\t\t\tparser(html, handler);\n\n\t\t\treturn buffer.join('');\n\t\t}\n\n\t\tinsane.defaults = defaults;\n\t\tmodule.exports = insane;\n\t\t__insane_func = insane;\n\n\t}, { \"./defaults\": 2, \"./parser\": 7, \"./sanitizer\": 8, \"assignment\": 6, \"he\": 9 }], 5: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tmodule.exports = function lowercase(string) {\n\t\t\treturn typeof string === 'string' ? string.toLowerCase() : string;\n\t\t};\n\n\t}, {}], 6: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tfunction assignment(result) {\n\t\t\tvar stack = Array.prototype.slice.call(arguments, 1);\n\t\t\tvar item;\n\t\t\tvar key;\n\t\t\twhile (stack.length) {\n\t\t\t\titem = stack.shift();\n\t\t\t\tfor (key in item) {\n\t\t\t\t\tif (item.hasOwnProperty(key)) {\n\t\t\t\t\t\tif (Object.prototype.toString.call(result[key]) === '[object Object]') {\n\t\t\t\t\t\t\tresult[key] = assignment(result[key], item[key]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult[key] = item[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tmodule.exports = assignment;\n\n\t}, {}], 7: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tvar he = require('he');\n\t\tvar lowercase = require('./lowercase');\n\t\tvar attributes = require('./attributes');\n\t\tvar elements = require('./elements');\n\t\tvar rstart = /^<\\s*([\\w:-]+)((?:\\s+[\\w:-]+(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*(\\/?)\\s*>/;\n\t\tvar rend = /^<\\s*\\/\\s*([\\w:-]+)[^>]*>/;\n\t\tvar rattrs = /([\\w:-]+)(?:\\s*=\\s*(?:(?:\"((?:[^\"])*)\")|(?:'((?:[^'])*)')|([^>\\s]+)))?/g;\n\t\tvar rtag = /^</;\n\t\tvar rtagend = /^<\\s*\\//;\n\n\t\tfunction createStack() {\n\t\t\tvar stack = [];\n\t\t\tstack.lastItem = function lastItem() {\n\t\t\t\treturn stack[stack.length - 1];\n\t\t\t};\n\t\t\treturn stack;\n\t\t}\n\n\t\tfunction parser(html, handler) {\n\t\t\tvar stack = createStack();\n\t\t\tvar last = html;\n\t\t\tvar chars;\n\n\t\t\twhile (html) {\n\t\t\t\tparsePart();\n\t\t\t}\n\t\t\tparseEndTag(); // clean up any remaining tags\n\n\t\t\tfunction parsePart() {\n\t\t\t\tchars = true;\n\t\t\t\tparseTag();\n\n\t\t\t\tvar same = html === last;\n\t\t\t\tlast = html;\n\n\t\t\t\tif (same) { // discard, because it's invalid\n\t\t\t\t\thtml = '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction parseTag() {\n\t\t\t\tif (html.substr(0, 4) === '<!--') { // comments\n\t\t\t\t\tparseComment();\n\t\t\t\t} else if (rtagend.test(html)) {\n\t\t\t\t\tparseEdge(rend, parseEndTag);\n\t\t\t\t} else if (rtag.test(html)) {\n\t\t\t\t\tparseEdge(rstart, parseStartTag);\n\t\t\t\t}\n\t\t\t\tparseTagDecode();\n\t\t\t}\n\n\t\t\tfunction parseEdge(regex, parser) {\n\t\t\t\tvar match = html.match(regex);\n\t\t\t\tif (match) {\n\t\t\t\t\thtml = html.substring(match[0].length);\n\t\t\t\t\tmatch[0].replace(regex, parser);\n\t\t\t\t\tchars = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction parseComment() {\n\t\t\t\tvar index = html.indexOf('-->');\n\t\t\t\tif (index >= 0) {\n\t\t\t\t\tif (handler.comment) {\n\t\t\t\t\t\thandler.comment(html.substring(4, index));\n\t\t\t\t\t}\n\t\t\t\t\thtml = html.substring(index + 3);\n\t\t\t\t\tchars = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction parseTagDecode() {\n\t\t\t\tif (!chars) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar text;\n\t\t\t\tvar index = html.indexOf('<');\n\t\t\t\tif (index >= 0) {\n\t\t\t\t\ttext = html.substring(0, index);\n\t\t\t\t\thtml = html.substring(index);\n\t\t\t\t} else {\n\t\t\t\t\ttext = html;\n\t\t\t\t\thtml = '';\n\t\t\t\t}\n\t\t\t\tif (handler.chars) {\n\t\t\t\t\thandler.chars(text);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction parseStartTag(tag, tagName, rest, unary) {\n\t\t\t\tvar attrs = {};\n\t\t\t\tvar low = lowercase(tagName);\n\t\t\t\tvar u = elements.voids[low] || !!unary;\n\n\t\t\t\trest.replace(rattrs, attrReplacer);\n\n\t\t\t\tif (!u) {\n\t\t\t\t\tstack.push(low);\n\t\t\t\t}\n\t\t\t\tif (handler.start) {\n\t\t\t\t\thandler.start(low, attrs, u);\n\t\t\t\t}\n\n\t\t\t\tfunction attrReplacer(match, name, doubleQuotedValue, singleQuotedValue, unquotedValue) {\n\t\t\t\t\tif (doubleQuotedValue === void 0 && singleQuotedValue === void 0 && unquotedValue === void 0) {\n\t\t\t\t\t\tattrs[name] = void 0; // attribute is like <button disabled></button>\n\t\t\t\t\t} else {\n\t\t\t\t\t\tattrs[name] = he.decode(doubleQuotedValue || singleQuotedValue || unquotedValue || '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction parseEndTag(tag, tagName) {\n\t\t\t\tvar i;\n\t\t\t\tvar pos = 0;\n\t\t\t\tvar low = lowercase(tagName);\n\t\t\t\tif (low) {\n\t\t\t\t\tfor (pos = stack.length - 1; pos >= 0; pos--) {\n\t\t\t\t\t\tif (stack[pos] === low) {\n\t\t\t\t\t\t\tbreak; // find the closest opened tag of the same type\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pos >= 0) {\n\t\t\t\t\tfor (i = stack.length - 1; i >= pos; i--) {\n\t\t\t\t\t\tif (handler.end) { // close all the open elements, up the stack\n\t\t\t\t\t\t\thandler.end(stack[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tstack.length = pos;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tmodule.exports = parser;\n\n\t}, { \"./attributes\": 1, \"./elements\": 3, \"./lowercase\": 5, \"he\": 9 }], 8: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tvar he = require('he');\n\t\tvar lowercase = require('./lowercase');\n\t\tvar attributes = require('./attributes');\n\t\tvar elements = require('./elements');\n\n\t\tfunction sanitizer(buffer, options) {\n\t\t\tvar last;\n\t\t\tvar context;\n\t\t\tvar o = options || {};\n\n\t\t\treset();\n\n\t\t\treturn {\n\t\t\t\tstart: start,\n\t\t\t\tend: end,\n\t\t\t\tchars: chars\n\t\t\t};\n\n\t\t\tfunction out(value) {\n\t\t\t\tbuffer.push(value);\n\t\t\t}\n\n\t\t\tfunction start(tag, attrs, unary) {\n\t\t\t\tvar low = lowercase(tag);\n\n\t\t\t\tif (context.ignoring) {\n\t\t\t\t\tignore(low); return;\n\t\t\t\t}\n\t\t\t\tif ((o.allowedTags || []).indexOf(low) === -1) {\n\t\t\t\t\tignore(low); return;\n\t\t\t\t}\n\t\t\t\tif (o.filter && !o.filter({ tag: low, attrs: attrs })) {\n\t\t\t\t\tignore(low); return;\n\t\t\t\t}\n\n\t\t\t\tout('<');\n\t\t\t\tout(low);\n\t\t\t\tObject.keys(attrs).forEach(parse);\n\t\t\t\tout(unary ? '/>' : '>');\n\n\t\t\t\tfunction parse(key) {\n\t\t\t\t\tvar value = attrs[key];\n\t\t\t\t\tvar classesOk = (o.allowedClasses || {})[low] || [];\n\t\t\t\t\tvar attrsOk = (o.allowedAttributes || {})[low] || [];\n\t\t\t\t\tattrsOk = attrsOk.concat((o.allowedAttributes || {})['*'] || []);\n\t\t\t\t\tvar valid;\n\t\t\t\t\tvar lkey = lowercase(key);\n\t\t\t\t\tif (lkey === 'class' && attrsOk.indexOf(lkey) === -1) {\n\t\t\t\t\t\tvalue = value.split(' ').filter(isValidClass).join(' ').trim();\n\t\t\t\t\t\tvalid = value.length;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalid = attrsOk.indexOf(lkey) !== -1 && (attributes.uris[lkey] !== true || testUrl(value));\n\t\t\t\t\t}\n\t\t\t\t\tif (valid) {\n\t\t\t\t\t\tout(' ');\n\t\t\t\t\t\tout(key);\n\t\t\t\t\t\tif (typeof value === 'string') {\n\t\t\t\t\t\t\tout('=\"');\n\t\t\t\t\t\t\tout(he.encode(value));\n\t\t\t\t\t\t\tout('\"');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfunction isValidClass(className) {\n\t\t\t\t\t\treturn classesOk && classesOk.indexOf(className) !== -1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction end(tag) {\n\t\t\t\tvar low = lowercase(tag);\n\t\t\t\tvar allowed = (o.allowedTags || []).indexOf(low) !== -1;\n\t\t\t\tif (allowed) {\n\t\t\t\t\tif (context.ignoring === false) {\n\t\t\t\t\t\tout('</');\n\t\t\t\t\t\tout(low);\n\t\t\t\t\t\tout('>');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunignore(low);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tunignore(low);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction testUrl(text) {\n\t\t\t\tvar start = text[0];\n\t\t\t\tif (start === '#' || start === '/') {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tvar colon = text.indexOf(':');\n\t\t\t\tif (colon === -1) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tvar questionmark = text.indexOf('?');\n\t\t\t\tif (questionmark !== -1 && colon > questionmark) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tvar hash = text.indexOf('#');\n\t\t\t\tif (hash !== -1 && colon > hash) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn o.allowedSchemes.some(matches);\n\n\t\t\t\tfunction matches(scheme) {\n\t\t\t\t\treturn text.indexOf(scheme + ':') === 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction chars(text) {\n\t\t\t\tif (context.ignoring === false) {\n\t\t\t\t\tout(o.transformText ? o.transformText(text) : text);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction ignore(tag) {\n\t\t\t\tif (elements.voids[tag]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (context.ignoring === false) {\n\t\t\t\t\tcontext = { ignoring: tag, depth: 1 };\n\t\t\t\t} else if (context.ignoring === tag) {\n\t\t\t\t\tcontext.depth++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction unignore(tag) {\n\t\t\t\tif (context.ignoring === tag) {\n\t\t\t\t\tif (--context.depth <= 0) {\n\t\t\t\t\t\treset();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction reset() {\n\t\t\t\tcontext = { ignoring: false, depth: 0 };\n\t\t\t}\n\t\t}\n\n\t\tmodule.exports = sanitizer;\n\n\t}, { \"./attributes\": 1, \"./elements\": 3, \"./lowercase\": 5, \"he\": 9 }], 9: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tvar escapes = {\n\t\t\t'&': '&amp;',\n\t\t\t'<': '&lt;',\n\t\t\t'>': '&gt;',\n\t\t\t'\"': '&quot;',\n\t\t\t\"'\": '&#39;'\n\t\t};\n\t\tvar unescapes = {\n\t\t\t'&amp;': '&',\n\t\t\t'&lt;': '<',\n\t\t\t'&gt;': '>',\n\t\t\t'&quot;': '\"',\n\t\t\t'&#39;': \"'\"\n\t\t};\n\t\tvar rescaped = /(&amp;|&lt;|&gt;|&quot;|&#39;)/g;\n\t\tvar runescaped = /[&<>\"']/g;\n\n\t\tfunction escapeHtmlChar(match) {\n\t\t\treturn escapes[match];\n\t\t}\n\t\tfunction unescapeHtmlChar(match) {\n\t\t\treturn unescapes[match];\n\t\t}\n\n\t\tfunction escapeHtml(text) {\n\t\t\treturn text == null ? '' : String(text).replace(runescaped, escapeHtmlChar);\n\t\t}\n\n\t\tfunction unescapeHtml(html) {\n\t\t\treturn html == null ? '' : String(html).replace(rescaped, unescapeHtmlChar);\n\t\t}\n\n\t\tescapeHtml.options = unescapeHtml.options = {};\n\n\t\tmodule.exports = {\n\t\t\tencode: escapeHtml,\n\t\t\tescape: escapeHtml,\n\t\t\tdecode: unescapeHtml,\n\t\t\tunescape: unescapeHtml,\n\t\t\tversion: '1.0.0-browser'\n\t\t};\n\n\t}, {}], 10: [function (require, module, exports) {\n\t\t'use strict';\n\n\t\tfunction toMap(list) {\n\t\t\treturn list.reduce(asKey, {});\n\t\t}\n\n\t\tfunction asKey(accumulator, item) {\n\t\t\taccumulator[item] = true;\n\t\t\treturn accumulator;\n\t\t}\n\n\t\tmodule.exports = toMap;\n\n\t}, {}]\n}, {}, [4]);\n\n// ESM-comment-begin\n// define(function() { return { insane: __insane_func }; });\n// ESM-comment-end\n\n// ESM-uncomment-begin\nexport var insane = __insane_func;\n// ESM-uncomment-end\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as DOM from './dom.js';\r\nimport { createElement } from './formattedTextRenderer.js';\r\nimport { onUnexpectedError } from '../common/errors.js';\r\nimport { parseHrefAndDimensions, removeMarkdownEscapes } from '../common/htmlContent.js';\r\nimport { defaultGenerator } from '../common/idGenerator.js';\r\nimport * as marked from '../common/marked/marked.js';\r\nimport { insane } from '../common/insane/insane.js';\r\nimport { parse } from '../common/marshalling.js';\r\nimport { cloneAndChange } from '../common/objects.js';\r\nimport { escape } from '../common/strings.js';\r\nimport { URI } from '../common/uri.js';\r\nimport { Schemas } from '../common/network.js';\r\n/**\r\n * Create html nodes for the given content element.\r\n */\r\nexport function renderMarkdown(markdown, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var element = createElement(options);\r\n    var _uriMassage = function (part) {\r\n        var data;\r\n        try {\r\n            data = parse(decodeURIComponent(part));\r\n        }\r\n        catch (e) {\r\n            // ignore\r\n        }\r\n        if (!data) {\r\n            return part;\r\n        }\r\n        data = cloneAndChange(data, function (value) {\r\n            if (markdown.uris && markdown.uris[value]) {\r\n                return URI.revive(markdown.uris[value]);\r\n            }\r\n            else {\r\n                return undefined;\r\n            }\r\n        });\r\n        return encodeURIComponent(JSON.stringify(data));\r\n    };\r\n    var _href = function (href, isDomUri) {\r\n        var data = markdown.uris && markdown.uris[href];\r\n        if (!data) {\r\n            return href; // no uri exists\r\n        }\r\n        var uri = URI.revive(data);\r\n        if (URI.parse(href).toString() === uri.toString()) {\r\n            return href; // no tranformation performed\r\n        }\r\n        if (isDomUri) {\r\n            uri = DOM.asDomUri(uri);\r\n        }\r\n        if (uri.query) {\r\n            uri = uri.with({ query: _uriMassage(uri.query) });\r\n        }\r\n        return uri.toString(true);\r\n    };\r\n    // signal to code-block render that the\r\n    // element has been created\r\n    var signalInnerHTML;\r\n    var withInnerHTML = new Promise(function (c) { return signalInnerHTML = c; });\r\n    var renderer = new marked.Renderer();\r\n    renderer.image = function (href, title, text) {\r\n        var _a;\r\n        var dimensions = [];\r\n        var attributes = [];\r\n        if (href) {\r\n            (_a = parseHrefAndDimensions(href), href = _a.href, dimensions = _a.dimensions);\r\n            href = _href(href, true);\r\n            attributes.push(\"src=\\\"\" + href + \"\\\"\");\r\n        }\r\n        if (text) {\r\n            attributes.push(\"alt=\\\"\" + text + \"\\\"\");\r\n        }\r\n        if (title) {\r\n            attributes.push(\"title=\\\"\" + title + \"\\\"\");\r\n        }\r\n        if (dimensions.length) {\r\n            attributes = attributes.concat(dimensions);\r\n        }\r\n        return '<img ' + attributes.join(' ') + '>';\r\n    };\r\n    renderer.link = function (href, title, text) {\r\n        // Remove markdown escapes. Workaround for https://github.com/chjj/marked/issues/829\r\n        if (href === text) { // raw link case\r\n            text = removeMarkdownEscapes(text);\r\n        }\r\n        href = _href(href, false);\r\n        title = removeMarkdownEscapes(title);\r\n        href = removeMarkdownEscapes(href);\r\n        if (!href\r\n            || href.match(/^data:|javascript:/i)\r\n            || (href.match(/^command:/i) && !markdown.isTrusted)\r\n            || href.match(/^command:(\\/\\/\\/)?_workbench\\.downloadResource/i)) {\r\n            // drop the link\r\n            return text;\r\n        }\r\n        else {\r\n            // HTML Encode href\r\n            href = href.replace(/&/g, '&amp;')\r\n                .replace(/</g, '&lt;')\r\n                .replace(/>/g, '&gt;')\r\n                .replace(/\"/g, '&quot;')\r\n                .replace(/'/g, '&#39;');\r\n            return \"<a href=\\\"#\\\" data-href=\\\"\" + href + \"\\\" title=\\\"\" + (title || href) + \"\\\">\" + text + \"</a>\";\r\n        }\r\n    };\r\n    renderer.paragraph = function (text) {\r\n        return \"<p>\" + text + \"</p>\";\r\n    };\r\n    if (options.codeBlockRenderer) {\r\n        renderer.code = function (code, lang) {\r\n            var value = options.codeBlockRenderer(lang, code);\r\n            // when code-block rendering is async we return sync\r\n            // but update the node with the real result later.\r\n            var id = defaultGenerator.nextId();\r\n            var promise = Promise.all([value, withInnerHTML]).then(function (values) {\r\n                var strValue = values[0];\r\n                var span = element.querySelector(\"div[data-code=\\\"\" + id + \"\\\"]\");\r\n                if (span) {\r\n                    span.innerHTML = strValue;\r\n                }\r\n            }).catch(function (err) {\r\n                // ignore\r\n            });\r\n            if (options.codeBlockRenderCallback) {\r\n                promise.then(options.codeBlockRenderCallback);\r\n            }\r\n            return \"<div class=\\\"code\\\" data-code=\\\"\" + id + \"\\\">\" + escape(code) + \"</div>\";\r\n        };\r\n    }\r\n    var actionHandler = options.actionHandler;\r\n    if (actionHandler) {\r\n        actionHandler.disposeables.add(DOM.addStandardDisposableListener(element, 'click', function (event) {\r\n            var target = event.target;\r\n            if (target.tagName !== 'A') {\r\n                target = target.parentElement;\r\n                if (!target || target.tagName !== 'A') {\r\n                    return;\r\n                }\r\n            }\r\n            try {\r\n                var href = target.dataset['href'];\r\n                if (href) {\r\n                    actionHandler.callback(href, event);\r\n                }\r\n            }\r\n            catch (err) {\r\n                onUnexpectedError(err);\r\n            }\r\n            finally {\r\n                event.preventDefault();\r\n            }\r\n        }));\r\n    }\r\n    var markedOptions = {\r\n        sanitize: true,\r\n        renderer: renderer\r\n    };\r\n    var allowedSchemes = [Schemas.http, Schemas.https, Schemas.mailto, Schemas.data, Schemas.file, Schemas.vscodeRemote, Schemas.vscodeRemoteResource];\r\n    if (markdown.isTrusted) {\r\n        allowedSchemes.push(Schemas.command);\r\n    }\r\n    var renderedMarkdown = marked.parse(markdown.value, markedOptions);\r\n    element.innerHTML = insane(renderedMarkdown, {\r\n        allowedSchemes: allowedSchemes,\r\n        allowedAttributes: {\r\n            'a': ['href', 'name', 'target', 'data-href'],\r\n            'iframe': ['allowfullscreen', 'frameborder', 'src'],\r\n            'img': ['src', 'title', 'alt', 'width', 'height'],\r\n            'div': ['class', 'data-code'],\r\n            'span': ['class']\r\n        }\r\n    });\r\n    signalInnerHTML();\r\n    return element;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { renderMarkdown } from '../../../base/browser/markdownRenderer.js';\r\nimport { IOpenerService, NullOpenerService } from '../../../platform/opener/common/opener.js';\r\nimport { IModeService } from '../../common/services/modeService.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { tokenizeToString } from '../../common/modes/textToHtmlTokenizer.js';\r\nimport { optional } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { DisposableStore, Disposable } from '../../../base/common/lifecycle.js';\r\nimport { TokenizationRegistry } from '../../common/modes.js';\r\nvar MarkdownRenderer = /** @class */ (function (_super) {\r\n    __extends(MarkdownRenderer, _super);\r\n    function MarkdownRenderer(_editor, _modeService, _openerService) {\r\n        if (_openerService === void 0) { _openerService = NullOpenerService; }\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = _editor;\r\n        _this._modeService = _modeService;\r\n        _this._openerService = _openerService;\r\n        _this._onDidRenderCodeBlock = _this._register(new Emitter());\r\n        _this.onDidRenderCodeBlock = _this._onDidRenderCodeBlock.event;\r\n        return _this;\r\n    }\r\n    MarkdownRenderer.prototype.getOptions = function (disposeables) {\r\n        var _this = this;\r\n        return {\r\n            codeBlockRenderer: function (languageAlias, value) {\r\n                // In markdown,\r\n                // it is possible that we stumble upon language aliases (e.g.js instead of javascript)\r\n                // it is possible no alias is given in which case we fall back to the current editor lang\r\n                var modeId = null;\r\n                if (languageAlias) {\r\n                    modeId = _this._modeService.getModeIdForLanguageName(languageAlias);\r\n                }\r\n                else {\r\n                    var model = _this._editor.getModel();\r\n                    if (model) {\r\n                        modeId = model.getLanguageIdentifier().language;\r\n                    }\r\n                }\r\n                _this._modeService.triggerMode(modeId || '');\r\n                return Promise.resolve(true).then(function (_) {\r\n                    var promise = TokenizationRegistry.getPromise(modeId || '');\r\n                    if (promise) {\r\n                        return promise.then(function (support) { return tokenizeToString(value, support); });\r\n                    }\r\n                    return tokenizeToString(value, undefined);\r\n                }).then(function (code) {\r\n                    return \"<span style=\\\"font-family: \" + _this._editor.getOption(32 /* fontInfo */).fontFamily + \"\\\">\" + code + \"</span>\";\r\n                });\r\n            },\r\n            codeBlockRenderCallback: function () { return _this._onDidRenderCodeBlock.fire(); },\r\n            actionHandler: {\r\n                callback: function (content) {\r\n                    _this._openerService.open(content, { fromUserGesture: true }).catch(onUnexpectedError);\r\n                },\r\n                disposeables: disposeables\r\n            }\r\n        };\r\n    };\r\n    MarkdownRenderer.prototype.render = function (markdown) {\r\n        var disposeables = new DisposableStore();\r\n        var element;\r\n        if (!markdown) {\r\n            element = document.createElement('span');\r\n        }\r\n        else {\r\n            element = renderMarkdown(markdown, this.getOptions(disposeables));\r\n        }\r\n        return {\r\n            element: element,\r\n            dispose: function () { return disposeables.dispose(); }\r\n        };\r\n    };\r\n    MarkdownRenderer = __decorate([\r\n        __param(1, IModeService),\r\n        __param(2, optional(IOpenerService))\r\n    ], MarkdownRenderer);\r\n    return MarkdownRenderer;\r\n}(Disposable));\r\nexport { MarkdownRenderer };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { Color, RGBA } from '../../../base/common/color.js';\r\nimport { MarkdownString, isEmptyMarkdownString, markedStringsEquals } from '../../../base/common/htmlContent.js';\r\nimport { toDisposable, DisposableStore, combinedDisposable, MutableDisposable } from '../../../base/common/lifecycle.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { HoverProviderRegistry, TokenizationRegistry } from '../../common/modes.js';\r\nimport { getColorPresentations } from '../colorPicker/color.js';\r\nimport { ColorDetector } from '../colorPicker/colorDetector.js';\r\nimport { ColorPickerModel } from '../colorPicker/colorPickerModel.js';\r\nimport { ColorPickerWidget } from '../colorPicker/colorPickerWidget.js';\r\nimport { getHover } from './getHover.js';\r\nimport { HoverOperation } from './hoverOperation.js';\r\nimport { ContentHoverWidget } from './hoverWidgets.js';\r\nimport { MarkdownRenderer } from '../markdown/markdownRenderer.js';\r\nimport { coalesce, isNonEmptyArray, asArray } from '../../../base/common/arrays.js';\r\nimport { IMarkerData, MarkerSeverity } from '../../../platform/markers/common/markers.js';\r\nimport { basename } from '../../../base/common/resources.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { NullOpenerService } from '../../../platform/opener/common/opener.js';\r\nimport { MarkerController, NextMarkerAction } from '../gotoError/gotoError.js';\r\nimport { createCancelablePromise } from '../../../base/common/async.js';\r\nimport { getCodeActions } from '../codeAction/codeAction.js';\r\nimport { QuickFixAction, QuickFixController } from '../codeAction/codeActionCommands.js';\r\nimport { CodeActionKind } from '../codeAction/types.js';\r\nvar $ = dom.$;\r\nvar ColorHover = /** @class */ (function () {\r\n    function ColorHover(range, color, provider) {\r\n        this.range = range;\r\n        this.color = color;\r\n        this.provider = provider;\r\n    }\r\n    return ColorHover;\r\n}());\r\nvar MarkerHover = /** @class */ (function () {\r\n    function MarkerHover(range, marker) {\r\n        this.range = range;\r\n        this.marker = marker;\r\n    }\r\n    return MarkerHover;\r\n}());\r\nvar ModesContentComputer = /** @class */ (function () {\r\n    function ModesContentComputer(editor, _markerDecorationsService) {\r\n        this._markerDecorationsService = _markerDecorationsService;\r\n        this._editor = editor;\r\n        this._result = [];\r\n    }\r\n    ModesContentComputer.prototype.setRange = function (range) {\r\n        this._range = range;\r\n        this._result = [];\r\n    };\r\n    ModesContentComputer.prototype.clearResult = function () {\r\n        this._result = [];\r\n    };\r\n    ModesContentComputer.prototype.computeAsync = function (token) {\r\n        if (!this._editor.hasModel() || !this._range) {\r\n            return Promise.resolve([]);\r\n        }\r\n        var model = this._editor.getModel();\r\n        if (!HoverProviderRegistry.has(model)) {\r\n            return Promise.resolve([]);\r\n        }\r\n        return getHover(model, new Position(this._range.startLineNumber, this._range.startColumn), token);\r\n    };\r\n    ModesContentComputer.prototype.computeSync = function () {\r\n        var _this = this;\r\n        if (!this._editor.hasModel() || !this._range) {\r\n            return [];\r\n        }\r\n        var model = this._editor.getModel();\r\n        var lineNumber = this._range.startLineNumber;\r\n        if (lineNumber > this._editor.getModel().getLineCount()) {\r\n            // Illegal line number => no results\r\n            return [];\r\n        }\r\n        var colorDetector = ColorDetector.get(this._editor);\r\n        var maxColumn = model.getLineMaxColumn(lineNumber);\r\n        var lineDecorations = this._editor.getLineDecorations(lineNumber);\r\n        var didFindColor = false;\r\n        var hoverRange = this._range;\r\n        var result = lineDecorations.map(function (d) {\r\n            var startColumn = (d.range.startLineNumber === lineNumber) ? d.range.startColumn : 1;\r\n            var endColumn = (d.range.endLineNumber === lineNumber) ? d.range.endColumn : maxColumn;\r\n            if (startColumn > hoverRange.startColumn || hoverRange.endColumn > endColumn) {\r\n                return null;\r\n            }\r\n            var range = new Range(hoverRange.startLineNumber, startColumn, hoverRange.startLineNumber, endColumn);\r\n            var marker = _this._markerDecorationsService.getMarker(model, d);\r\n            if (marker) {\r\n                return new MarkerHover(range, marker);\r\n            }\r\n            var colorData = colorDetector.getColorData(d.range.getStartPosition());\r\n            if (!didFindColor && colorData) {\r\n                didFindColor = true;\r\n                var _a = colorData.colorInfo, color = _a.color, range_1 = _a.range;\r\n                return new ColorHover(range_1, color, colorData.provider);\r\n            }\r\n            else {\r\n                if (isEmptyMarkdownString(d.options.hoverMessage)) {\r\n                    return null;\r\n                }\r\n                var contents = d.options.hoverMessage ? asArray(d.options.hoverMessage) : [];\r\n                return { contents: contents, range: range };\r\n            }\r\n        });\r\n        return coalesce(result);\r\n    };\r\n    ModesContentComputer.prototype.onResult = function (result, isFromSynchronousComputation) {\r\n        // Always put synchronous messages before asynchronous ones\r\n        if (isFromSynchronousComputation) {\r\n            this._result = result.concat(this._result.sort(function (a, b) {\r\n                if (a instanceof ColorHover) { // sort picker messages at to the top\r\n                    return -1;\r\n                }\r\n                else if (b instanceof ColorHover) {\r\n                    return 1;\r\n                }\r\n                return 0;\r\n            }));\r\n        }\r\n        else {\r\n            this._result = this._result.concat(result);\r\n        }\r\n    };\r\n    ModesContentComputer.prototype.getResult = function () {\r\n        return this._result.slice(0);\r\n    };\r\n    ModesContentComputer.prototype.getResultWithLoadingMessage = function () {\r\n        return this._result.slice(0).concat([this._getLoadingMessage()]);\r\n    };\r\n    ModesContentComputer.prototype._getLoadingMessage = function () {\r\n        return {\r\n            range: this._range,\r\n            contents: [new MarkdownString().appendText(nls.localize('modesContentHover.loading', \"Loading...\"))]\r\n        };\r\n    };\r\n    return ModesContentComputer;\r\n}());\r\nvar ModesContentHoverWidget = /** @class */ (function (_super) {\r\n    __extends(ModesContentHoverWidget, _super);\r\n    function ModesContentHoverWidget(editor, markerDecorationsService, _themeService, _keybindingService, _modeService, _openerService) {\r\n        if (_openerService === void 0) { _openerService = NullOpenerService; }\r\n        var _this = _super.call(this, ModesContentHoverWidget.ID, editor) || this;\r\n        _this._themeService = _themeService;\r\n        _this._keybindingService = _keybindingService;\r\n        _this._modeService = _modeService;\r\n        _this._openerService = _openerService;\r\n        _this.renderDisposable = _this._register(new MutableDisposable());\r\n        _this._messages = [];\r\n        _this._lastRange = null;\r\n        _this._computer = new ModesContentComputer(_this._editor, markerDecorationsService);\r\n        _this._highlightDecorations = [];\r\n        _this._isChangingDecorations = false;\r\n        _this._shouldFocus = false;\r\n        _this._colorPicker = null;\r\n        _this._hoverOperation = new HoverOperation(_this._computer, function (result) { return _this._withResult(result, true); }, null, function (result) { return _this._withResult(result, false); }, _this._editor.getOption(42 /* hover */).delay);\r\n        _this._register(dom.addStandardDisposableListener(_this.getDomNode(), dom.EventType.FOCUS, function () {\r\n            if (_this._colorPicker) {\r\n                dom.addClass(_this.getDomNode(), 'colorpicker-hover');\r\n            }\r\n        }));\r\n        _this._register(dom.addStandardDisposableListener(_this.getDomNode(), dom.EventType.BLUR, function () {\r\n            dom.removeClass(_this.getDomNode(), 'colorpicker-hover');\r\n        }));\r\n        _this._register(editor.onDidChangeConfiguration(function (e) {\r\n            _this._hoverOperation.setHoverTime(_this._editor.getOption(42 /* hover */).delay);\r\n        }));\r\n        _this._register(TokenizationRegistry.onDidChange(function (e) {\r\n            if (_this.isVisible && _this._lastRange && _this._messages.length > 0) {\r\n                _this._domNode.textContent = '';\r\n                _this._renderMessages(_this._lastRange, _this._messages);\r\n            }\r\n        }));\r\n        return _this;\r\n    }\r\n    ModesContentHoverWidget.prototype.dispose = function () {\r\n        this._hoverOperation.cancel();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    ModesContentHoverWidget.prototype.onModelDecorationsChanged = function () {\r\n        if (this._isChangingDecorations) {\r\n            return;\r\n        }\r\n        if (this.isVisible) {\r\n            // The decorations have changed and the hover is visible,\r\n            // we need to recompute the displayed text\r\n            this._hoverOperation.cancel();\r\n            this._computer.clearResult();\r\n            if (!this._colorPicker) { // TODO@Michel ensure that displayed text for other decorations is computed even if color picker is in place\r\n                this._hoverOperation.start(0 /* Delayed */);\r\n            }\r\n        }\r\n    };\r\n    ModesContentHoverWidget.prototype.startShowingAt = function (range, mode, focus) {\r\n        if (this._lastRange && this._lastRange.equalsRange(range)) {\r\n            // We have to show the widget at the exact same range as before, so no work is needed\r\n            return;\r\n        }\r\n        this._hoverOperation.cancel();\r\n        if (this.isVisible) {\r\n            // The range might have changed, but the hover is visible\r\n            // Instead of hiding it completely, filter out messages that are still in the new range and\r\n            // kick off a new computation\r\n            if (!this._showAtPosition || this._showAtPosition.lineNumber !== range.startLineNumber) {\r\n                this.hide();\r\n            }\r\n            else {\r\n                var filteredMessages = [];\r\n                for (var i = 0, len = this._messages.length; i < len; i++) {\r\n                    var msg = this._messages[i];\r\n                    var rng = msg.range;\r\n                    if (rng && rng.startColumn <= range.startColumn && rng.endColumn >= range.endColumn) {\r\n                        filteredMessages.push(msg);\r\n                    }\r\n                }\r\n                if (filteredMessages.length > 0) {\r\n                    if (hoverContentsEquals(filteredMessages, this._messages)) {\r\n                        return;\r\n                    }\r\n                    this._renderMessages(range, filteredMessages);\r\n                }\r\n                else {\r\n                    this.hide();\r\n                }\r\n            }\r\n        }\r\n        this._lastRange = range;\r\n        this._computer.setRange(range);\r\n        this._shouldFocus = focus;\r\n        this._hoverOperation.start(mode);\r\n    };\r\n    ModesContentHoverWidget.prototype.hide = function () {\r\n        this._lastRange = null;\r\n        this._hoverOperation.cancel();\r\n        _super.prototype.hide.call(this);\r\n        this._isChangingDecorations = true;\r\n        this._highlightDecorations = this._editor.deltaDecorations(this._highlightDecorations, []);\r\n        this._isChangingDecorations = false;\r\n        this.renderDisposable.clear();\r\n        this._colorPicker = null;\r\n    };\r\n    ModesContentHoverWidget.prototype.isColorPickerVisible = function () {\r\n        if (this._colorPicker) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    ModesContentHoverWidget.prototype._withResult = function (result, complete) {\r\n        this._messages = result;\r\n        if (this._lastRange && this._messages.length > 0) {\r\n            this._renderMessages(this._lastRange, this._messages);\r\n        }\r\n        else if (complete) {\r\n            this.hide();\r\n        }\r\n    };\r\n    ModesContentHoverWidget.prototype._renderMessages = function (renderRange, messages) {\r\n        var _this = this;\r\n        this.renderDisposable.dispose();\r\n        this._colorPicker = null;\r\n        // update column from which to show\r\n        var renderColumn = 1073741824 /* MAX_SAFE_SMALL_INTEGER */;\r\n        var highlightRange = messages[0].range ? Range.lift(messages[0].range) : null;\r\n        var fragment = document.createDocumentFragment();\r\n        var isEmptyHoverContent = true;\r\n        var containColorPicker = false;\r\n        var markdownDisposeables = new DisposableStore();\r\n        var markerMessages = [];\r\n        messages.forEach(function (msg) {\r\n            if (!msg.range) {\r\n                return;\r\n            }\r\n            renderColumn = Math.min(renderColumn, msg.range.startColumn);\r\n            highlightRange = highlightRange ? Range.plusRange(highlightRange, msg.range) : Range.lift(msg.range);\r\n            if (msg instanceof ColorHover) {\r\n                containColorPicker = true;\r\n                var _a = msg.color, red = _a.red, green = _a.green, blue = _a.blue, alpha = _a.alpha;\r\n                var rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\r\n                var color_1 = new Color(rgba);\r\n                if (!_this._editor.hasModel()) {\r\n                    return;\r\n                }\r\n                var editorModel_1 = _this._editor.getModel();\r\n                var range_2 = new Range(msg.range.startLineNumber, msg.range.startColumn, msg.range.endLineNumber, msg.range.endColumn);\r\n                var colorInfo = { range: msg.range, color: msg.color };\r\n                // create blank olor picker model and widget first to ensure it's positioned correctly.\r\n                var model_1 = new ColorPickerModel(color_1, [], 0);\r\n                var widget_1 = new ColorPickerWidget(fragment, model_1, _this._editor.getOption(101 /* pixelRatio */), _this._themeService);\r\n                getColorPresentations(editorModel_1, colorInfo, msg.provider, CancellationToken.None).then(function (colorPresentations) {\r\n                    model_1.colorPresentations = colorPresentations || [];\r\n                    if (!_this._editor.hasModel()) {\r\n                        // gone...\r\n                        return;\r\n                    }\r\n                    var originalText = _this._editor.getModel().getValueInRange(msg.range);\r\n                    model_1.guessColorPresentation(color_1, originalText);\r\n                    var updateEditorModel = function () {\r\n                        var textEdits;\r\n                        var newRange;\r\n                        if (model_1.presentation.textEdit) {\r\n                            textEdits = [model_1.presentation.textEdit];\r\n                            newRange = new Range(model_1.presentation.textEdit.range.startLineNumber, model_1.presentation.textEdit.range.startColumn, model_1.presentation.textEdit.range.endLineNumber, model_1.presentation.textEdit.range.endColumn);\r\n                            newRange = newRange.setEndPosition(newRange.endLineNumber, newRange.startColumn + model_1.presentation.textEdit.text.length);\r\n                        }\r\n                        else {\r\n                            textEdits = [{ identifier: null, range: range_2, text: model_1.presentation.label, forceMoveMarkers: false }];\r\n                            newRange = range_2.setEndPosition(range_2.endLineNumber, range_2.startColumn + model_1.presentation.label.length);\r\n                        }\r\n                        _this._editor.pushUndoStop();\r\n                        _this._editor.executeEdits('colorpicker', textEdits);\r\n                        if (model_1.presentation.additionalTextEdits) {\r\n                            textEdits = __spreadArrays(model_1.presentation.additionalTextEdits);\r\n                            _this._editor.executeEdits('colorpicker', textEdits);\r\n                            _this.hide();\r\n                        }\r\n                        _this._editor.pushUndoStop();\r\n                        range_2 = newRange;\r\n                    };\r\n                    var updateColorPresentations = function (color) {\r\n                        return getColorPresentations(editorModel_1, {\r\n                            range: range_2,\r\n                            color: {\r\n                                red: color.rgba.r / 255,\r\n                                green: color.rgba.g / 255,\r\n                                blue: color.rgba.b / 255,\r\n                                alpha: color.rgba.a\r\n                            }\r\n                        }, msg.provider, CancellationToken.None).then(function (colorPresentations) {\r\n                            model_1.colorPresentations = colorPresentations || [];\r\n                        });\r\n                    };\r\n                    var colorListener = model_1.onColorFlushed(function (color) {\r\n                        updateColorPresentations(color).then(updateEditorModel);\r\n                    });\r\n                    var colorChangeListener = model_1.onDidChangeColor(updateColorPresentations);\r\n                    _this._colorPicker = widget_1;\r\n                    _this.showAt(range_2.getStartPosition(), range_2, _this._shouldFocus);\r\n                    _this.updateContents(fragment);\r\n                    _this._colorPicker.layout();\r\n                    _this.renderDisposable.value = combinedDisposable(colorListener, colorChangeListener, widget_1, markdownDisposeables);\r\n                });\r\n            }\r\n            else {\r\n                if (msg instanceof MarkerHover) {\r\n                    markerMessages.push(msg);\r\n                    isEmptyHoverContent = false;\r\n                }\r\n                else {\r\n                    msg.contents\r\n                        .filter(function (contents) { return !isEmptyMarkdownString(contents); })\r\n                        .forEach(function (contents) {\r\n                        var markdownHoverElement = $('div.hover-row.markdown-hover');\r\n                        var hoverContentsElement = dom.append(markdownHoverElement, $('div.hover-contents'));\r\n                        var renderer = markdownDisposeables.add(new MarkdownRenderer(_this._editor, _this._modeService, _this._openerService));\r\n                        markdownDisposeables.add(renderer.onDidRenderCodeBlock(function () {\r\n                            hoverContentsElement.className = 'hover-contents code-hover-contents';\r\n                            _this.onContentsChange();\r\n                        }));\r\n                        var renderedContents = markdownDisposeables.add(renderer.render(contents));\r\n                        hoverContentsElement.appendChild(renderedContents.element);\r\n                        fragment.appendChild(markdownHoverElement);\r\n                        isEmptyHoverContent = false;\r\n                    });\r\n                }\r\n            }\r\n        });\r\n        if (markerMessages.length) {\r\n            markerMessages.forEach(function (msg) { return fragment.appendChild(_this.renderMarkerHover(msg)); });\r\n            var markerHoverForStatusbar = markerMessages.length === 1 ? markerMessages[0] : markerMessages.sort(function (a, b) { return MarkerSeverity.compare(a.marker.severity, b.marker.severity); })[0];\r\n            fragment.appendChild(this.renderMarkerStatusbar(markerHoverForStatusbar));\r\n        }\r\n        // show\r\n        if (!containColorPicker && !isEmptyHoverContent) {\r\n            this.showAt(new Position(renderRange.startLineNumber, renderColumn), highlightRange, this._shouldFocus);\r\n            this.updateContents(fragment);\r\n        }\r\n        this._isChangingDecorations = true;\r\n        this._highlightDecorations = this._editor.deltaDecorations(this._highlightDecorations, highlightRange ? [{\r\n                range: highlightRange,\r\n                options: ModesContentHoverWidget._DECORATION_OPTIONS\r\n            }] : []);\r\n        this._isChangingDecorations = false;\r\n    };\r\n    ModesContentHoverWidget.prototype.renderMarkerHover = function (markerHover) {\r\n        var _this = this;\r\n        var hoverElement = $('div.hover-row');\r\n        var markerElement = dom.append(hoverElement, $('div.marker.hover-contents'));\r\n        var _a = markerHover.marker, source = _a.source, message = _a.message, code = _a.code, relatedInformation = _a.relatedInformation;\r\n        this._editor.applyFontInfo(markerElement);\r\n        var messageElement = dom.append(markerElement, $('span'));\r\n        messageElement.style.whiteSpace = 'pre-wrap';\r\n        messageElement.innerText = message;\r\n        if (source || code) {\r\n            var detailsElement = dom.append(markerElement, $('span'));\r\n            detailsElement.style.opacity = '0.6';\r\n            detailsElement.style.paddingLeft = '6px';\r\n            detailsElement.innerText = source && code ? source + \"(\" + code + \")\" : source ? source : \"(\" + code + \")\";\r\n        }\r\n        if (isNonEmptyArray(relatedInformation)) {\r\n            var _loop_1 = function (message_1, resource, startLineNumber, startColumn) {\r\n                var relatedInfoContainer = dom.append(markerElement, $('div'));\r\n                relatedInfoContainer.style.marginTop = '8px';\r\n                var a = dom.append(relatedInfoContainer, $('a'));\r\n                a.innerText = basename(resource) + \"(\" + startLineNumber + \", \" + startColumn + \"): \";\r\n                a.style.cursor = 'pointer';\r\n                a.onclick = function (e) {\r\n                    e.stopPropagation();\r\n                    e.preventDefault();\r\n                    if (_this._openerService) {\r\n                        _this._openerService.open(resource.with({ fragment: startLineNumber + \",\" + startColumn }), { fromUserGesture: true }).catch(onUnexpectedError);\r\n                    }\r\n                };\r\n                var messageElement_1 = dom.append(relatedInfoContainer, $('span'));\r\n                messageElement_1.innerText = message_1;\r\n                this_1._editor.applyFontInfo(messageElement_1);\r\n            };\r\n            var this_1 = this;\r\n            for (var _i = 0, relatedInformation_1 = relatedInformation; _i < relatedInformation_1.length; _i++) {\r\n                var _b = relatedInformation_1[_i], message_1 = _b.message, resource = _b.resource, startLineNumber = _b.startLineNumber, startColumn = _b.startColumn;\r\n                _loop_1(message_1, resource, startLineNumber, startColumn);\r\n            }\r\n        }\r\n        return hoverElement;\r\n    };\r\n    ModesContentHoverWidget.prototype.renderMarkerStatusbar = function (markerHover) {\r\n        var _this = this;\r\n        var hoverElement = $('div.hover-row.status-bar');\r\n        var disposables = new DisposableStore();\r\n        var actionsElement = dom.append(hoverElement, $('div.actions'));\r\n        if (markerHover.marker.severity === MarkerSeverity.Error || markerHover.marker.severity === MarkerSeverity.Warning || markerHover.marker.severity === MarkerSeverity.Info) {\r\n            disposables.add(this.renderAction(actionsElement, {\r\n                label: nls.localize('peek problem', \"Peek Problem\"),\r\n                commandId: NextMarkerAction.ID,\r\n                run: function () {\r\n                    _this.hide();\r\n                    MarkerController.get(_this._editor).show(markerHover.marker);\r\n                    _this._editor.focus();\r\n                }\r\n            }));\r\n        }\r\n        var quickfixPlaceholderElement = dom.append(actionsElement, $('div'));\r\n        quickfixPlaceholderElement.style.opacity = '0';\r\n        quickfixPlaceholderElement.style.transition = 'opacity 0.2s';\r\n        setTimeout(function () { return quickfixPlaceholderElement.style.opacity = '1'; }, 200);\r\n        quickfixPlaceholderElement.textContent = nls.localize('checkingForQuickFixes', \"Checking for quick fixes...\");\r\n        disposables.add(toDisposable(function () { return quickfixPlaceholderElement.remove(); }));\r\n        var codeActionsPromise = this.getCodeActions(markerHover.marker);\r\n        disposables.add(toDisposable(function () { return codeActionsPromise.cancel(); }));\r\n        codeActionsPromise.then(function (actions) {\r\n            quickfixPlaceholderElement.style.transition = '';\r\n            quickfixPlaceholderElement.style.opacity = '1';\r\n            if (!actions.validActions.length) {\r\n                actions.dispose();\r\n                quickfixPlaceholderElement.textContent = nls.localize('noQuickFixes', \"No quick fixes available\");\r\n                return;\r\n            }\r\n            quickfixPlaceholderElement.remove();\r\n            var showing = false;\r\n            disposables.add(toDisposable(function () {\r\n                if (!showing) {\r\n                    actions.dispose();\r\n                }\r\n            }));\r\n            disposables.add(_this.renderAction(actionsElement, {\r\n                label: nls.localize('quick fixes', \"Quick Fix...\"),\r\n                commandId: QuickFixAction.Id,\r\n                run: function (target) {\r\n                    showing = true;\r\n                    var controller = QuickFixController.get(_this._editor);\r\n                    var elementPosition = dom.getDomNodePagePosition(target);\r\n                    controller.showCodeActions(actions, {\r\n                        x: elementPosition.left + 6,\r\n                        y: elementPosition.top + elementPosition.height + 6\r\n                    });\r\n                }\r\n            }));\r\n        });\r\n        this.renderDisposable.value = disposables;\r\n        return hoverElement;\r\n    };\r\n    ModesContentHoverWidget.prototype.getCodeActions = function (marker) {\r\n        var _this = this;\r\n        return createCancelablePromise(function (cancellationToken) {\r\n            return getCodeActions(_this._editor.getModel(), new Range(marker.startLineNumber, marker.startColumn, marker.endLineNumber, marker.endColumn), { type: 'manual', filter: { include: CodeActionKind.QuickFix } }, cancellationToken);\r\n        });\r\n    };\r\n    ModesContentHoverWidget.prototype.renderAction = function (parent, actionOptions) {\r\n        var actionContainer = dom.append(parent, $('div.action-container'));\r\n        var action = dom.append(actionContainer, $('a.action'));\r\n        if (actionOptions.iconClass) {\r\n            dom.append(action, $(\"span.icon.\" + actionOptions.iconClass));\r\n        }\r\n        var label = dom.append(action, $('span'));\r\n        label.textContent = actionOptions.label;\r\n        var keybinding = this._keybindingService.lookupKeybinding(actionOptions.commandId);\r\n        if (keybinding) {\r\n            label.title = actionOptions.label + \" (\" + keybinding.getLabel() + \")\";\r\n        }\r\n        return dom.addDisposableListener(actionContainer, dom.EventType.CLICK, function (e) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            actionOptions.run(actionContainer);\r\n        });\r\n    };\r\n    ModesContentHoverWidget.ID = 'editor.contrib.modesContentHoverWidget';\r\n    ModesContentHoverWidget._DECORATION_OPTIONS = ModelDecorationOptions.register({\r\n        className: 'hoverHighlight'\r\n    });\r\n    return ModesContentHoverWidget;\r\n}(ContentHoverWidget));\r\nexport { ModesContentHoverWidget };\r\nfunction hoverContentsEquals(first, second) {\r\n    if ((!first && second) || (first && !second) || first.length !== second.length) {\r\n        return false;\r\n    }\r\n    for (var i = 0; i < first.length; i++) {\r\n        var firstElement = first[i];\r\n        var secondElement = second[i];\r\n        if (firstElement instanceof MarkerHover && secondElement instanceof MarkerHover) {\r\n            return IMarkerData.makeKey(firstElement.marker) === IMarkerData.makeKey(secondElement.marker);\r\n        }\r\n        if (firstElement instanceof ColorHover || secondElement instanceof ColorHover) {\r\n            return false;\r\n        }\r\n        if (firstElement instanceof MarkerHover || secondElement instanceof MarkerHover) {\r\n            return false;\r\n        }\r\n        if (!markedStringsEquals(firstElement.contents, secondElement.contents)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { $ } from '../../../base/browser/dom.js';\r\nimport { isEmptyMarkdownString } from '../../../base/common/htmlContent.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { HoverOperation } from './hoverOperation.js';\r\nimport { GlyphHoverWidget } from './hoverWidgets.js';\r\nimport { MarkdownRenderer } from '../markdown/markdownRenderer.js';\r\nimport { NullOpenerService } from '../../../platform/opener/common/opener.js';\r\nimport { asArray } from '../../../base/common/arrays.js';\r\nvar MarginComputer = /** @class */ (function () {\r\n    function MarginComputer(editor) {\r\n        this._editor = editor;\r\n        this._lineNumber = -1;\r\n        this._result = [];\r\n    }\r\n    MarginComputer.prototype.setLineNumber = function (lineNumber) {\r\n        this._lineNumber = lineNumber;\r\n        this._result = [];\r\n    };\r\n    MarginComputer.prototype.clearResult = function () {\r\n        this._result = [];\r\n    };\r\n    MarginComputer.prototype.computeSync = function () {\r\n        var toHoverMessage = function (contents) {\r\n            return {\r\n                value: contents\r\n            };\r\n        };\r\n        var lineDecorations = this._editor.getLineDecorations(this._lineNumber);\r\n        var result = [];\r\n        if (!lineDecorations) {\r\n            return result;\r\n        }\r\n        for (var _i = 0, lineDecorations_1 = lineDecorations; _i < lineDecorations_1.length; _i++) {\r\n            var d = lineDecorations_1[_i];\r\n            if (!d.options.glyphMarginClassName) {\r\n                continue;\r\n            }\r\n            var hoverMessage = d.options.glyphMarginHoverMessage;\r\n            if (!hoverMessage || isEmptyMarkdownString(hoverMessage)) {\r\n                continue;\r\n            }\r\n            result.push.apply(result, asArray(hoverMessage).map(toHoverMessage));\r\n        }\r\n        return result;\r\n    };\r\n    MarginComputer.prototype.onResult = function (result, isFromSynchronousComputation) {\r\n        this._result = this._result.concat(result);\r\n    };\r\n    MarginComputer.prototype.getResult = function () {\r\n        return this._result;\r\n    };\r\n    MarginComputer.prototype.getResultWithLoadingMessage = function () {\r\n        return this.getResult();\r\n    };\r\n    return MarginComputer;\r\n}());\r\nvar ModesGlyphHoverWidget = /** @class */ (function (_super) {\r\n    __extends(ModesGlyphHoverWidget, _super);\r\n    function ModesGlyphHoverWidget(editor, modeService, openerService) {\r\n        if (openerService === void 0) { openerService = NullOpenerService; }\r\n        var _this = _super.call(this, ModesGlyphHoverWidget.ID, editor) || this;\r\n        _this._renderDisposeables = _this._register(new DisposableStore());\r\n        _this._messages = [];\r\n        _this._lastLineNumber = -1;\r\n        _this._markdownRenderer = _this._register(new MarkdownRenderer(_this._editor, modeService, openerService));\r\n        _this._computer = new MarginComputer(_this._editor);\r\n        _this._hoverOperation = new HoverOperation(_this._computer, function (result) { return _this._withResult(result); }, undefined, function (result) { return _this._withResult(result); }, 300);\r\n        return _this;\r\n    }\r\n    ModesGlyphHoverWidget.prototype.dispose = function () {\r\n        this._hoverOperation.cancel();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    ModesGlyphHoverWidget.prototype.onModelDecorationsChanged = function () {\r\n        if (this.isVisible) {\r\n            // The decorations have changed and the hover is visible,\r\n            // we need to recompute the displayed text\r\n            this._hoverOperation.cancel();\r\n            this._computer.clearResult();\r\n            this._hoverOperation.start(0 /* Delayed */);\r\n        }\r\n    };\r\n    ModesGlyphHoverWidget.prototype.startShowingAt = function (lineNumber) {\r\n        if (this._lastLineNumber === lineNumber) {\r\n            // We have to show the widget at the exact same line number as before, so no work is needed\r\n            return;\r\n        }\r\n        this._hoverOperation.cancel();\r\n        this.hide();\r\n        this._lastLineNumber = lineNumber;\r\n        this._computer.setLineNumber(lineNumber);\r\n        this._hoverOperation.start(0 /* Delayed */);\r\n    };\r\n    ModesGlyphHoverWidget.prototype.hide = function () {\r\n        this._lastLineNumber = -1;\r\n        this._hoverOperation.cancel();\r\n        _super.prototype.hide.call(this);\r\n    };\r\n    ModesGlyphHoverWidget.prototype._withResult = function (result) {\r\n        this._messages = result;\r\n        if (this._messages.length > 0) {\r\n            this._renderMessages(this._lastLineNumber, this._messages);\r\n        }\r\n        else {\r\n            this.hide();\r\n        }\r\n    };\r\n    ModesGlyphHoverWidget.prototype._renderMessages = function (lineNumber, messages) {\r\n        this._renderDisposeables.clear();\r\n        var fragment = document.createDocumentFragment();\r\n        for (var _i = 0, messages_1 = messages; _i < messages_1.length; _i++) {\r\n            var msg = messages_1[_i];\r\n            var renderedContents = this._markdownRenderer.render(msg.value);\r\n            this._renderDisposeables.add(renderedContents);\r\n            fragment.appendChild($('div.hover-row', undefined, renderedContents.element));\r\n        }\r\n        this.updateContents(fragment);\r\n        this.showAt(lineNumber);\r\n    };\r\n    ModesGlyphHoverWidget.ID = 'editor.contrib.modesGlyphHoverWidget';\r\n    return ModesGlyphHoverWidget;\r\n}(GlyphHoverWidget));\r\nexport { ModesGlyphHoverWidget };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport './hover.css';\r\nimport * as nls from '../../../nls.js';\r\nimport { KeyChord } from '../../../base/common/keyCodes.js';\r\nimport { DisposableStore, MutableDisposable } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { IModeService } from '../../common/services/modeService.js';\r\nimport { ModesContentHoverWidget } from './modesContentHover.js';\r\nimport { ModesGlyphHoverWidget } from './modesGlyphHover.js';\r\nimport { IOpenerService } from '../../../platform/opener/common/opener.js';\r\nimport { editorHoverBackground, editorHoverBorder, editorHoverHighlight, textCodeBlockBackground, textLinkForeground, editorHoverStatusBarBackground, editorHoverForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { IThemeService, registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { IMarkerDecorationsService } from '../../common/services/markersDecorationService.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { GotoDefinitionAtPositionEditorContribution } from '../gotoSymbol/link/goToDefinitionAtPosition.js';\r\nvar ModesHoverController = /** @class */ (function () {\r\n    function ModesHoverController(_editor, _openerService, _modeService, _markerDecorationsService, _keybindingService, _themeService) {\r\n        var _this = this;\r\n        this._editor = _editor;\r\n        this._openerService = _openerService;\r\n        this._modeService = _modeService;\r\n        this._markerDecorationsService = _markerDecorationsService;\r\n        this._keybindingService = _keybindingService;\r\n        this._themeService = _themeService;\r\n        this._toUnhook = new DisposableStore();\r\n        this._contentWidget = new MutableDisposable();\r\n        this._glyphWidget = new MutableDisposable();\r\n        this._isMouseDown = false;\r\n        this._hoverClicked = false;\r\n        this._hookEvents();\r\n        this._didChangeConfigurationHandler = this._editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(42 /* hover */)) {\r\n                _this._hideWidgets();\r\n                _this._unhookEvents();\r\n                _this._hookEvents();\r\n            }\r\n        });\r\n    }\r\n    Object.defineProperty(ModesHoverController.prototype, \"contentWidget\", {\r\n        get: function () {\r\n            if (!this._contentWidget.value) {\r\n                this._createHoverWidgets();\r\n            }\r\n            return this._contentWidget.value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ModesHoverController.prototype, \"glyphWidget\", {\r\n        get: function () {\r\n            if (!this._glyphWidget.value) {\r\n                this._createHoverWidgets();\r\n            }\r\n            return this._glyphWidget.value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ModesHoverController.get = function (editor) {\r\n        return editor.getContribution(ModesHoverController.ID);\r\n    };\r\n    ModesHoverController.prototype._hookEvents = function () {\r\n        var _this = this;\r\n        var hideWidgetsEventHandler = function () { return _this._hideWidgets(); };\r\n        var hoverOpts = this._editor.getOption(42 /* hover */);\r\n        this._isHoverEnabled = hoverOpts.enabled;\r\n        this._isHoverSticky = hoverOpts.sticky;\r\n        if (this._isHoverEnabled) {\r\n            this._toUnhook.add(this._editor.onMouseDown(function (e) { return _this._onEditorMouseDown(e); }));\r\n            this._toUnhook.add(this._editor.onMouseUp(function (e) { return _this._onEditorMouseUp(e); }));\r\n            this._toUnhook.add(this._editor.onMouseMove(function (e) { return _this._onEditorMouseMove(e); }));\r\n            this._toUnhook.add(this._editor.onKeyDown(function (e) { return _this._onKeyDown(e); }));\r\n            this._toUnhook.add(this._editor.onDidChangeModelDecorations(function () { return _this._onModelDecorationsChanged(); }));\r\n        }\r\n        else {\r\n            this._toUnhook.add(this._editor.onMouseMove(hideWidgetsEventHandler));\r\n        }\r\n        this._toUnhook.add(this._editor.onMouseLeave(hideWidgetsEventHandler));\r\n        this._toUnhook.add(this._editor.onDidChangeModel(hideWidgetsEventHandler));\r\n        this._toUnhook.add(this._editor.onDidScrollChange(function (e) { return _this._onEditorScrollChanged(e); }));\r\n    };\r\n    ModesHoverController.prototype._unhookEvents = function () {\r\n        this._toUnhook.clear();\r\n    };\r\n    ModesHoverController.prototype._onModelDecorationsChanged = function () {\r\n        this.contentWidget.onModelDecorationsChanged();\r\n        this.glyphWidget.onModelDecorationsChanged();\r\n    };\r\n    ModesHoverController.prototype._onEditorScrollChanged = function (e) {\r\n        if (e.scrollTopChanged || e.scrollLeftChanged) {\r\n            this._hideWidgets();\r\n        }\r\n    };\r\n    ModesHoverController.prototype._onEditorMouseDown = function (mouseEvent) {\r\n        this._isMouseDown = true;\r\n        var targetType = mouseEvent.target.type;\r\n        if (targetType === 9 /* CONTENT_WIDGET */ && mouseEvent.target.detail === ModesContentHoverWidget.ID) {\r\n            this._hoverClicked = true;\r\n            // mouse down on top of content hover widget\r\n            return;\r\n        }\r\n        if (targetType === 12 /* OVERLAY_WIDGET */ && mouseEvent.target.detail === ModesGlyphHoverWidget.ID) {\r\n            // mouse down on top of overlay hover widget\r\n            return;\r\n        }\r\n        if (targetType !== 12 /* OVERLAY_WIDGET */ && mouseEvent.target.detail !== ModesGlyphHoverWidget.ID) {\r\n            this._hoverClicked = false;\r\n        }\r\n        this._hideWidgets();\r\n    };\r\n    ModesHoverController.prototype._onEditorMouseUp = function (mouseEvent) {\r\n        this._isMouseDown = false;\r\n    };\r\n    ModesHoverController.prototype._onEditorMouseMove = function (mouseEvent) {\r\n        var targetType = mouseEvent.target.type;\r\n        if (this._isMouseDown && this._hoverClicked && this.contentWidget.isColorPickerVisible()) {\r\n            return;\r\n        }\r\n        if (this._isHoverSticky && targetType === 9 /* CONTENT_WIDGET */ && mouseEvent.target.detail === ModesContentHoverWidget.ID) {\r\n            // mouse moved on top of content hover widget\r\n            return;\r\n        }\r\n        if (this._isHoverSticky && targetType === 12 /* OVERLAY_WIDGET */ && mouseEvent.target.detail === ModesGlyphHoverWidget.ID) {\r\n            // mouse moved on top of overlay hover widget\r\n            return;\r\n        }\r\n        if (targetType === 7 /* CONTENT_EMPTY */) {\r\n            var epsilon = this._editor.getOption(32 /* fontInfo */).typicalHalfwidthCharacterWidth / 2;\r\n            var data = mouseEvent.target.detail;\r\n            if (data && !data.isAfterLines && typeof data.horizontalDistanceToText === 'number' && data.horizontalDistanceToText < epsilon) {\r\n                // Let hover kick in even when the mouse is technically in the empty area after a line, given the distance is small enough\r\n                targetType = 6 /* CONTENT_TEXT */;\r\n            }\r\n        }\r\n        if (targetType === 6 /* CONTENT_TEXT */) {\r\n            this.glyphWidget.hide();\r\n            if (this._isHoverEnabled && mouseEvent.target.range) {\r\n                this.contentWidget.startShowingAt(mouseEvent.target.range, 0 /* Delayed */, false);\r\n            }\r\n        }\r\n        else if (targetType === 2 /* GUTTER_GLYPH_MARGIN */) {\r\n            this.contentWidget.hide();\r\n            if (this._isHoverEnabled && mouseEvent.target.position) {\r\n                this.glyphWidget.startShowingAt(mouseEvent.target.position.lineNumber);\r\n            }\r\n        }\r\n        else {\r\n            this._hideWidgets();\r\n        }\r\n    };\r\n    ModesHoverController.prototype._onKeyDown = function (e) {\r\n        if (e.keyCode !== 5 /* Ctrl */ && e.keyCode !== 6 /* Alt */ && e.keyCode !== 57 /* Meta */ && e.keyCode !== 4 /* Shift */) {\r\n            // Do not hide hover when a modifier key is pressed\r\n            this._hideWidgets();\r\n        }\r\n    };\r\n    ModesHoverController.prototype._hideWidgets = function () {\r\n        if (!this._glyphWidget.value || !this._contentWidget.value || (this._isMouseDown && this._hoverClicked && this._contentWidget.value.isColorPickerVisible())) {\r\n            return;\r\n        }\r\n        this._glyphWidget.value.hide();\r\n        this._contentWidget.value.hide();\r\n    };\r\n    ModesHoverController.prototype._createHoverWidgets = function () {\r\n        this._contentWidget.value = new ModesContentHoverWidget(this._editor, this._markerDecorationsService, this._themeService, this._keybindingService, this._modeService, this._openerService);\r\n        this._glyphWidget.value = new ModesGlyphHoverWidget(this._editor, this._modeService, this._openerService);\r\n    };\r\n    ModesHoverController.prototype.showContentHover = function (range, mode, focus) {\r\n        this.contentWidget.startShowingAt(range, mode, focus);\r\n    };\r\n    ModesHoverController.prototype.dispose = function () {\r\n        this._unhookEvents();\r\n        this._toUnhook.dispose();\r\n        this._didChangeConfigurationHandler.dispose();\r\n        this._glyphWidget.dispose();\r\n        this._contentWidget.dispose();\r\n    };\r\n    ModesHoverController.ID = 'editor.contrib.hover';\r\n    ModesHoverController = __decorate([\r\n        __param(1, IOpenerService),\r\n        __param(2, IModeService),\r\n        __param(3, IMarkerDecorationsService),\r\n        __param(4, IKeybindingService),\r\n        __param(5, IThemeService)\r\n    ], ModesHoverController);\r\n    return ModesHoverController;\r\n}());\r\nexport { ModesHoverController };\r\nvar ShowHoverAction = /** @class */ (function (_super) {\r\n    __extends(ShowHoverAction, _super);\r\n    function ShowHoverAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.showHover',\r\n            label: nls.localize({\r\n                key: 'showHover',\r\n                comment: [\r\n                    'Label for action that will trigger the showing of a hover in the editor.',\r\n                    'This allows for users to show the hover without using the mouse.'\r\n                ]\r\n            }, \"Show Hover\"),\r\n            alias: 'Show Hover',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 39 /* KEY_I */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    ShowHoverAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var controller = ModesHoverController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        var position = editor.getPosition();\r\n        var range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\r\n        var focus = editor.getOption(2 /* accessibilitySupport */) === 2 /* Enabled */;\r\n        controller.showContentHover(range, 1 /* Immediate */, focus);\r\n    };\r\n    return ShowHoverAction;\r\n}(EditorAction));\r\nvar ShowDefinitionPreviewHoverAction = /** @class */ (function (_super) {\r\n    __extends(ShowDefinitionPreviewHoverAction, _super);\r\n    function ShowDefinitionPreviewHoverAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.showDefinitionPreviewHover',\r\n            label: nls.localize({\r\n                key: 'showDefinitionPreviewHover',\r\n                comment: [\r\n                    'Label for action that will trigger the showing of definition preview hover in the editor.',\r\n                    'This allows for users to show the definition preview hover without using the mouse.'\r\n                ]\r\n            }, \"Show Definition Preview Hover\"),\r\n            alias: 'Show Definition Preview Hover',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    ShowDefinitionPreviewHoverAction.prototype.run = function (accessor, editor) {\r\n        var controller = ModesHoverController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        var position = editor.getPosition();\r\n        if (!position) {\r\n            return;\r\n        }\r\n        var range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\r\n        var goto = GotoDefinitionAtPositionEditorContribution.get(editor);\r\n        var promise = goto.startFindDefinitionFromCursor(position);\r\n        if (promise) {\r\n            promise.then(function () {\r\n                controller.showContentHover(range, 1 /* Immediate */, true);\r\n            });\r\n        }\r\n        else {\r\n            controller.showContentHover(range, 1 /* Immediate */, true);\r\n        }\r\n    };\r\n    return ShowDefinitionPreviewHoverAction;\r\n}(EditorAction));\r\nregisterEditorContribution(ModesHoverController.ID, ModesHoverController);\r\nregisterEditorAction(ShowHoverAction);\r\nregisterEditorAction(ShowDefinitionPreviewHoverAction);\r\n// theming\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var editorHoverHighlightColor = theme.getColor(editorHoverHighlight);\r\n    if (editorHoverHighlightColor) {\r\n        collector.addRule(\".monaco-editor .hoverHighlight { background-color: \" + editorHoverHighlightColor + \"; }\");\r\n    }\r\n    var hoverBackground = theme.getColor(editorHoverBackground);\r\n    if (hoverBackground) {\r\n        collector.addRule(\".monaco-editor .monaco-editor-hover { background-color: \" + hoverBackground + \"; }\");\r\n    }\r\n    var hoverBorder = theme.getColor(editorHoverBorder);\r\n    if (hoverBorder) {\r\n        collector.addRule(\".monaco-editor .monaco-editor-hover { border: 1px solid \" + hoverBorder + \"; }\");\r\n        collector.addRule(\".monaco-editor .monaco-editor-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid \" + hoverBorder.transparent(0.5) + \"; }\");\r\n        collector.addRule(\".monaco-editor .monaco-editor-hover hr { border-top: 1px solid \" + hoverBorder.transparent(0.5) + \"; }\");\r\n        collector.addRule(\".monaco-editor .monaco-editor-hover hr { border-bottom: 0px solid \" + hoverBorder.transparent(0.5) + \"; }\");\r\n    }\r\n    var link = theme.getColor(textLinkForeground);\r\n    if (link) {\r\n        collector.addRule(\".monaco-editor .monaco-editor-hover a { color: \" + link + \"; }\");\r\n    }\r\n    var hoverForeground = theme.getColor(editorHoverForeground);\r\n    if (hoverForeground) {\r\n        collector.addRule(\".monaco-editor .monaco-editor-hover { color: \" + hoverForeground + \"; }\");\r\n    }\r\n    var actionsBackground = theme.getColor(editorHoverStatusBarBackground);\r\n    if (actionsBackground) {\r\n        collector.addRule(\".monaco-editor .monaco-editor-hover .hover-row .actions { background-color: \" + actionsBackground + \"; }\");\r\n    }\r\n    var codeBackground = theme.getColor(textCodeBlockBackground);\r\n    if (codeBackground) {\r\n        collector.addRule(\".monaco-editor .monaco-editor-hover code { background-color: \" + codeBackground + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Selection } from '../../common/core/selection.js';\r\nvar InPlaceReplaceCommand = /** @class */ (function () {\r\n    function InPlaceReplaceCommand(editRange, originalSelection, text) {\r\n        this._editRange = editRange;\r\n        this._originalSelection = originalSelection;\r\n        this._text = text;\r\n    }\r\n    InPlaceReplaceCommand.prototype.getEditOperations = function (model, builder) {\r\n        builder.addTrackedEditOperation(this._editRange, this._text);\r\n    };\r\n    InPlaceReplaceCommand.prototype.computeCursorState = function (model, helper) {\r\n        var inverseEditOperations = helper.getInverseEditOperations();\r\n        var srcRange = inverseEditOperations[0].range;\r\n        if (!this._originalSelection.isEmpty()) {\r\n            // Preserve selection and extends to typed text\r\n            return new Selection(srcRange.endLineNumber, srcRange.endColumn - this._text.length, srcRange.endLineNumber, srcRange.endColumn);\r\n        }\r\n        return new Selection(srcRange.endLineNumber, Math.min(this._originalSelection.positionColumn, srcRange.endColumn), srcRange.endLineNumber, Math.min(this._originalSelection.positionColumn, srcRange.endColumn));\r\n    };\r\n    return InPlaceReplaceCommand;\r\n}());\r\nexport { InPlaceReplaceCommand };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { registerEditorAction, EditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { IEditorWorkerService } from '../../common/services/editorWorkerService.js';\r\nimport { InPlaceReplaceCommand } from './inPlaceReplaceCommand.js';\r\nimport { EditorState } from '../../browser/core/editorState.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { editorBracketMatchBorder } from '../../common/view/editorColorRegistry.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { createCancelablePromise, timeout } from '../../../base/common/async.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nvar InPlaceReplaceController = /** @class */ (function () {\r\n    function InPlaceReplaceController(editor, editorWorkerService) {\r\n        this.decorationIds = [];\r\n        this.editor = editor;\r\n        this.editorWorkerService = editorWorkerService;\r\n    }\r\n    InPlaceReplaceController.get = function (editor) {\r\n        return editor.getContribution(InPlaceReplaceController.ID);\r\n    };\r\n    InPlaceReplaceController.prototype.dispose = function () {\r\n    };\r\n    InPlaceReplaceController.prototype.run = function (source, up) {\r\n        var _this = this;\r\n        // cancel any pending request\r\n        if (this.currentRequest) {\r\n            this.currentRequest.cancel();\r\n        }\r\n        var editorSelection = this.editor.getSelection();\r\n        var model = this.editor.getModel();\r\n        if (!model || !editorSelection) {\r\n            return undefined;\r\n        }\r\n        var selection = editorSelection;\r\n        if (selection.startLineNumber !== selection.endLineNumber) {\r\n            // Can't accept multiline selection\r\n            return undefined;\r\n        }\r\n        var state = new EditorState(this.editor, 1 /* Value */ | 4 /* Position */);\r\n        var modelURI = model.uri;\r\n        if (!this.editorWorkerService.canNavigateValueSet(modelURI)) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        this.currentRequest = createCancelablePromise(function (token) { return _this.editorWorkerService.navigateValueSet(modelURI, selection, up); });\r\n        return this.currentRequest.then(function (result) {\r\n            if (!result || !result.range || !result.value) {\r\n                // No proper result\r\n                return;\r\n            }\r\n            if (!state.validate(_this.editor)) {\r\n                // state has changed\r\n                return;\r\n            }\r\n            // Selection\r\n            var editRange = Range.lift(result.range);\r\n            var highlightRange = result.range;\r\n            var diff = result.value.length - (selection.endColumn - selection.startColumn);\r\n            // highlight\r\n            highlightRange = {\r\n                startLineNumber: highlightRange.startLineNumber,\r\n                startColumn: highlightRange.startColumn,\r\n                endLineNumber: highlightRange.endLineNumber,\r\n                endColumn: highlightRange.startColumn + result.value.length\r\n            };\r\n            if (diff > 1) {\r\n                selection = new Selection(selection.startLineNumber, selection.startColumn, selection.endLineNumber, selection.endColumn + diff - 1);\r\n            }\r\n            // Insert new text\r\n            var command = new InPlaceReplaceCommand(editRange, selection, result.value);\r\n            _this.editor.pushUndoStop();\r\n            _this.editor.executeCommand(source, command);\r\n            _this.editor.pushUndoStop();\r\n            // add decoration\r\n            _this.decorationIds = _this.editor.deltaDecorations(_this.decorationIds, [{\r\n                    range: highlightRange,\r\n                    options: InPlaceReplaceController.DECORATION\r\n                }]);\r\n            // remove decoration after delay\r\n            if (_this.decorationRemover) {\r\n                _this.decorationRemover.cancel();\r\n            }\r\n            _this.decorationRemover = timeout(350);\r\n            _this.decorationRemover.then(function () { return _this.decorationIds = _this.editor.deltaDecorations(_this.decorationIds, []); }).catch(onUnexpectedError);\r\n        }).catch(onUnexpectedError);\r\n    };\r\n    InPlaceReplaceController.ID = 'editor.contrib.inPlaceReplaceController';\r\n    InPlaceReplaceController.DECORATION = ModelDecorationOptions.register({\r\n        className: 'valueSetReplacement'\r\n    });\r\n    InPlaceReplaceController = __decorate([\r\n        __param(1, IEditorWorkerService)\r\n    ], InPlaceReplaceController);\r\n    return InPlaceReplaceController;\r\n}());\r\nvar InPlaceReplaceUp = /** @class */ (function (_super) {\r\n    __extends(InPlaceReplaceUp, _super);\r\n    function InPlaceReplaceUp() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.inPlaceReplace.up',\r\n            label: nls.localize('InPlaceReplaceAction.previous.label', \"Replace with Previous Value\"),\r\n            alias: 'Replace with Previous Value',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 82 /* US_COMMA */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    InPlaceReplaceUp.prototype.run = function (accessor, editor) {\r\n        var controller = InPlaceReplaceController.get(editor);\r\n        if (!controller) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        return controller.run(this.id, true);\r\n    };\r\n    return InPlaceReplaceUp;\r\n}(EditorAction));\r\nvar InPlaceReplaceDown = /** @class */ (function (_super) {\r\n    __extends(InPlaceReplaceDown, _super);\r\n    function InPlaceReplaceDown() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.inPlaceReplace.down',\r\n            label: nls.localize('InPlaceReplaceAction.next.label', \"Replace with Next Value\"),\r\n            alias: 'Replace with Next Value',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 84 /* US_DOT */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    InPlaceReplaceDown.prototype.run = function (accessor, editor) {\r\n        var controller = InPlaceReplaceController.get(editor);\r\n        if (!controller) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        return controller.run(this.id, false);\r\n    };\r\n    return InPlaceReplaceDown;\r\n}(EditorAction));\r\nregisterEditorContribution(InPlaceReplaceController.ID, InPlaceReplaceController);\r\nregisterEditorAction(InPlaceReplaceUp);\r\nregisterEditorAction(InPlaceReplaceDown);\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var border = theme.getColor(editorBracketMatchBorder);\r\n    if (border) {\r\n        collector.addRule(\".monaco-editor.vs .valueSetReplacement { outline: solid 2px \" + border + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { EditOperation } from '../core/editOperation.js';\r\nimport { Range } from '../core/range.js';\r\nvar TrimTrailingWhitespaceCommand = /** @class */ (function () {\r\n    function TrimTrailingWhitespaceCommand(selection, cursors) {\r\n        this._selection = selection;\r\n        this._cursors = cursors;\r\n        this._selectionId = null;\r\n    }\r\n    TrimTrailingWhitespaceCommand.prototype.getEditOperations = function (model, builder) {\r\n        var ops = trimTrailingWhitespace(model, this._cursors);\r\n        for (var i = 0, len = ops.length; i < len; i++) {\r\n            var op = ops[i];\r\n            builder.addEditOperation(op.range, op.text);\r\n        }\r\n        this._selectionId = builder.trackSelection(this._selection);\r\n    };\r\n    TrimTrailingWhitespaceCommand.prototype.computeCursorState = function (model, helper) {\r\n        return helper.getTrackedSelection(this._selectionId);\r\n    };\r\n    return TrimTrailingWhitespaceCommand;\r\n}());\r\nexport { TrimTrailingWhitespaceCommand };\r\n/**\r\n * Generate commands for trimming trailing whitespace on a model and ignore lines on which cursors are sitting.\r\n */\r\nexport function trimTrailingWhitespace(model, cursors) {\r\n    // Sort cursors ascending\r\n    cursors.sort(function (a, b) {\r\n        if (a.lineNumber === b.lineNumber) {\r\n            return a.column - b.column;\r\n        }\r\n        return a.lineNumber - b.lineNumber;\r\n    });\r\n    // Reduce multiple cursors on the same line and only keep the last one on the line\r\n    for (var i = cursors.length - 2; i >= 0; i--) {\r\n        if (cursors[i].lineNumber === cursors[i + 1].lineNumber) {\r\n            // Remove cursor at `i`\r\n            cursors.splice(i, 1);\r\n        }\r\n    }\r\n    var r = [];\r\n    var rLen = 0;\r\n    var cursorIndex = 0;\r\n    var cursorLen = cursors.length;\r\n    for (var lineNumber = 1, lineCount = model.getLineCount(); lineNumber <= lineCount; lineNumber++) {\r\n        var lineContent = model.getLineContent(lineNumber);\r\n        var maxLineColumn = lineContent.length + 1;\r\n        var minEditColumn = 0;\r\n        if (cursorIndex < cursorLen && cursors[cursorIndex].lineNumber === lineNumber) {\r\n            minEditColumn = cursors[cursorIndex].column;\r\n            cursorIndex++;\r\n            if (minEditColumn === maxLineColumn) {\r\n                // The cursor is at the end of the line => no edits for sure on this line\r\n                continue;\r\n            }\r\n        }\r\n        if (lineContent.length === 0) {\r\n            continue;\r\n        }\r\n        var lastNonWhitespaceIndex = strings.lastNonWhitespaceIndex(lineContent);\r\n        var fromColumn = 0;\r\n        if (lastNonWhitespaceIndex === -1) {\r\n            // Entire line is whitespace\r\n            fromColumn = 1;\r\n        }\r\n        else if (lastNonWhitespaceIndex !== lineContent.length - 1) {\r\n            // There is trailing whitespace\r\n            fromColumn = lastNonWhitespaceIndex + 2;\r\n        }\r\n        else {\r\n            // There is no trailing whitespace\r\n            continue;\r\n        }\r\n        fromColumn = Math.max(minEditColumn, fromColumn);\r\n        r[rLen++] = EditOperation.delete(new Range(lineNumber, fromColumn, lineNumber, maxLineColumn));\r\n    }\r\n    return r;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nvar CopyLinesCommand = /** @class */ (function () {\r\n    function CopyLinesCommand(selection, isCopyingDown) {\r\n        this._selection = selection;\r\n        this._isCopyingDown = isCopyingDown;\r\n        this._selectionDirection = 0 /* LTR */;\r\n        this._selectionId = null;\r\n        this._startLineNumberDelta = 0;\r\n        this._endLineNumberDelta = 0;\r\n    }\r\n    CopyLinesCommand.prototype.getEditOperations = function (model, builder) {\r\n        var s = this._selection;\r\n        this._startLineNumberDelta = 0;\r\n        this._endLineNumberDelta = 0;\r\n        if (s.startLineNumber < s.endLineNumber && s.endColumn === 1) {\r\n            this._endLineNumberDelta = 1;\r\n            s = s.setEndPosition(s.endLineNumber - 1, model.getLineMaxColumn(s.endLineNumber - 1));\r\n        }\r\n        var sourceLines = [];\r\n        for (var i = s.startLineNumber; i <= s.endLineNumber; i++) {\r\n            sourceLines.push(model.getLineContent(i));\r\n        }\r\n        var sourceText = sourceLines.join('\\n');\r\n        if (sourceText === '') {\r\n            // Duplicating empty line\r\n            if (this._isCopyingDown) {\r\n                this._startLineNumberDelta++;\r\n                this._endLineNumberDelta++;\r\n            }\r\n        }\r\n        if (!this._isCopyingDown) {\r\n            builder.addEditOperation(new Range(s.endLineNumber, model.getLineMaxColumn(s.endLineNumber), s.endLineNumber, model.getLineMaxColumn(s.endLineNumber)), '\\n' + sourceText);\r\n        }\r\n        else {\r\n            builder.addEditOperation(new Range(s.startLineNumber, 1, s.startLineNumber, 1), sourceText + '\\n');\r\n        }\r\n        this._selectionId = builder.trackSelection(s);\r\n        this._selectionDirection = this._selection.getDirection();\r\n    };\r\n    CopyLinesCommand.prototype.computeCursorState = function (model, helper) {\r\n        var result = helper.getTrackedSelection(this._selectionId);\r\n        if (this._startLineNumberDelta !== 0 || this._endLineNumberDelta !== 0) {\r\n            var startLineNumber = result.startLineNumber;\r\n            var startColumn = result.startColumn;\r\n            var endLineNumber = result.endLineNumber;\r\n            var endColumn = result.endColumn;\r\n            if (this._startLineNumberDelta !== 0) {\r\n                startLineNumber = startLineNumber + this._startLineNumberDelta;\r\n                startColumn = 1;\r\n            }\r\n            if (this._endLineNumberDelta !== 0) {\r\n                endLineNumber = endLineNumber + this._endLineNumberDelta;\r\n                endColumn = 1;\r\n            }\r\n            result = Selection.createWithDirection(startLineNumber, startColumn, endLineNumber, endColumn, this._selectionDirection);\r\n        }\r\n        return result;\r\n    };\r\n    return CopyLinesCommand;\r\n}());\r\nexport { CopyLinesCommand };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nexport function getSpaceCnt(str, tabSize) {\r\n    var spacesCnt = 0;\r\n    for (var i = 0; i < str.length; i++) {\r\n        if (str.charAt(i) === '\\t') {\r\n            spacesCnt += tabSize;\r\n        }\r\n        else {\r\n            spacesCnt++;\r\n        }\r\n    }\r\n    return spacesCnt;\r\n}\r\nexport function generateIndent(spacesCnt, tabSize, insertSpaces) {\r\n    spacesCnt = spacesCnt < 0 ? 0 : spacesCnt;\r\n    var result = '';\r\n    if (!insertSpaces) {\r\n        var tabsCnt = Math.floor(spacesCnt / tabSize);\r\n        spacesCnt = spacesCnt % tabSize;\r\n        for (var i = 0; i < tabsCnt; i++) {\r\n            result += '\\t';\r\n        }\r\n    }\r\n    for (var i = 0; i < spacesCnt; i++) {\r\n        result += ' ';\r\n    }\r\n    return result;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { ShiftCommand } from '../../common/commands/shiftCommand.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { IndentAction } from '../../common/modes/languageConfiguration.js';\r\nimport { LanguageConfigurationRegistry } from '../../common/modes/languageConfigurationRegistry.js';\r\nimport * as indentUtils from '../indentation/indentUtils.js';\r\nvar MoveLinesCommand = /** @class */ (function () {\r\n    function MoveLinesCommand(selection, isMovingDown, autoIndent) {\r\n        this._selection = selection;\r\n        this._isMovingDown = isMovingDown;\r\n        this._autoIndent = autoIndent;\r\n        this._selectionId = null;\r\n        this._moveEndLineSelectionShrink = false;\r\n    }\r\n    MoveLinesCommand.prototype.getEditOperations = function (model, builder) {\r\n        var modelLineCount = model.getLineCount();\r\n        if (this._isMovingDown && this._selection.endLineNumber === modelLineCount) {\r\n            this._selectionId = builder.trackSelection(this._selection);\r\n            return;\r\n        }\r\n        if (!this._isMovingDown && this._selection.startLineNumber === 1) {\r\n            this._selectionId = builder.trackSelection(this._selection);\r\n            return;\r\n        }\r\n        this._moveEndPositionDown = false;\r\n        var s = this._selection;\r\n        if (s.startLineNumber < s.endLineNumber && s.endColumn === 1) {\r\n            this._moveEndPositionDown = true;\r\n            s = s.setEndPosition(s.endLineNumber - 1, model.getLineMaxColumn(s.endLineNumber - 1));\r\n        }\r\n        var _a = model.getOptions(), tabSize = _a.tabSize, indentSize = _a.indentSize, insertSpaces = _a.insertSpaces;\r\n        var indentConverter = this.buildIndentConverter(tabSize, indentSize, insertSpaces);\r\n        var virtualModel = {\r\n            getLineTokens: function (lineNumber) {\r\n                return model.getLineTokens(lineNumber);\r\n            },\r\n            getLanguageIdentifier: function () {\r\n                return model.getLanguageIdentifier();\r\n            },\r\n            getLanguageIdAtPosition: function (lineNumber, column) {\r\n                return model.getLanguageIdAtPosition(lineNumber, column);\r\n            },\r\n            getLineContent: null,\r\n        };\r\n        if (s.startLineNumber === s.endLineNumber && model.getLineMaxColumn(s.startLineNumber) === 1) {\r\n            // Current line is empty\r\n            var lineNumber = s.startLineNumber;\r\n            var otherLineNumber = (this._isMovingDown ? lineNumber + 1 : lineNumber - 1);\r\n            if (model.getLineMaxColumn(otherLineNumber) === 1) {\r\n                // Other line number is empty too, so no editing is needed\r\n                // Add a no-op to force running by the model\r\n                builder.addEditOperation(new Range(1, 1, 1, 1), null);\r\n            }\r\n            else {\r\n                // Type content from other line number on line number\r\n                builder.addEditOperation(new Range(lineNumber, 1, lineNumber, 1), model.getLineContent(otherLineNumber));\r\n                // Remove content from other line number\r\n                builder.addEditOperation(new Range(otherLineNumber, 1, otherLineNumber, model.getLineMaxColumn(otherLineNumber)), null);\r\n            }\r\n            // Track selection at the other line number\r\n            s = new Selection(otherLineNumber, 1, otherLineNumber, 1);\r\n        }\r\n        else {\r\n            var movingLineNumber_1;\r\n            var movingLineText = void 0;\r\n            if (this._isMovingDown) {\r\n                movingLineNumber_1 = s.endLineNumber + 1;\r\n                movingLineText = model.getLineContent(movingLineNumber_1);\r\n                // Delete line that needs to be moved\r\n                builder.addEditOperation(new Range(movingLineNumber_1 - 1, model.getLineMaxColumn(movingLineNumber_1 - 1), movingLineNumber_1, model.getLineMaxColumn(movingLineNumber_1)), null);\r\n                var insertingText_1 = movingLineText;\r\n                if (this.shouldAutoIndent(model, s)) {\r\n                    var movingLineMatchResult = this.matchEnterRule(model, indentConverter, tabSize, movingLineNumber_1, s.startLineNumber - 1);\r\n                    // if s.startLineNumber - 1 matches onEnter rule, we still honor that.\r\n                    if (movingLineMatchResult !== null) {\r\n                        var oldIndentation = strings.getLeadingWhitespace(model.getLineContent(movingLineNumber_1));\r\n                        var newSpaceCnt = movingLineMatchResult + indentUtils.getSpaceCnt(oldIndentation, tabSize);\r\n                        var newIndentation = indentUtils.generateIndent(newSpaceCnt, tabSize, insertSpaces);\r\n                        insertingText_1 = newIndentation + this.trimLeft(movingLineText);\r\n                    }\r\n                    else {\r\n                        // no enter rule matches, let's check indentatin rules then.\r\n                        virtualModel.getLineContent = function (lineNumber) {\r\n                            if (lineNumber === s.startLineNumber) {\r\n                                return model.getLineContent(movingLineNumber_1);\r\n                            }\r\n                            else {\r\n                                return model.getLineContent(lineNumber);\r\n                            }\r\n                        };\r\n                        var indentOfMovingLine = LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent, virtualModel, model.getLanguageIdAtPosition(movingLineNumber_1, 1), s.startLineNumber, indentConverter);\r\n                        if (indentOfMovingLine !== null) {\r\n                            var oldIndentation = strings.getLeadingWhitespace(model.getLineContent(movingLineNumber_1));\r\n                            var newSpaceCnt = indentUtils.getSpaceCnt(indentOfMovingLine, tabSize);\r\n                            var oldSpaceCnt = indentUtils.getSpaceCnt(oldIndentation, tabSize);\r\n                            if (newSpaceCnt !== oldSpaceCnt) {\r\n                                var newIndentation = indentUtils.generateIndent(newSpaceCnt, tabSize, insertSpaces);\r\n                                insertingText_1 = newIndentation + this.trimLeft(movingLineText);\r\n                            }\r\n                        }\r\n                    }\r\n                    // add edit operations for moving line first to make sure it's executed after we make indentation change\r\n                    // to s.startLineNumber\r\n                    builder.addEditOperation(new Range(s.startLineNumber, 1, s.startLineNumber, 1), insertingText_1 + '\\n');\r\n                    var ret = this.matchEnterRule(model, indentConverter, tabSize, s.startLineNumber, s.startLineNumber, insertingText_1);\r\n                    // check if the line being moved before matches onEnter rules, if so let's adjust the indentation by onEnter rules.\r\n                    if (ret !== null) {\r\n                        if (ret !== 0) {\r\n                            this.getIndentEditsOfMovingBlock(model, builder, s, tabSize, insertSpaces, ret);\r\n                        }\r\n                    }\r\n                    else {\r\n                        // it doesn't match onEnter rules, let's check indentation rules then.\r\n                        virtualModel.getLineContent = function (lineNumber) {\r\n                            if (lineNumber === s.startLineNumber) {\r\n                                return insertingText_1;\r\n                            }\r\n                            else if (lineNumber >= s.startLineNumber + 1 && lineNumber <= s.endLineNumber + 1) {\r\n                                return model.getLineContent(lineNumber - 1);\r\n                            }\r\n                            else {\r\n                                return model.getLineContent(lineNumber);\r\n                            }\r\n                        };\r\n                        var newIndentatOfMovingBlock = LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent, virtualModel, model.getLanguageIdAtPosition(movingLineNumber_1, 1), s.startLineNumber + 1, indentConverter);\r\n                        if (newIndentatOfMovingBlock !== null) {\r\n                            var oldIndentation = strings.getLeadingWhitespace(model.getLineContent(s.startLineNumber));\r\n                            var newSpaceCnt = indentUtils.getSpaceCnt(newIndentatOfMovingBlock, tabSize);\r\n                            var oldSpaceCnt = indentUtils.getSpaceCnt(oldIndentation, tabSize);\r\n                            if (newSpaceCnt !== oldSpaceCnt) {\r\n                                var spaceCntOffset = newSpaceCnt - oldSpaceCnt;\r\n                                this.getIndentEditsOfMovingBlock(model, builder, s, tabSize, insertSpaces, spaceCntOffset);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    // Insert line that needs to be moved before\r\n                    builder.addEditOperation(new Range(s.startLineNumber, 1, s.startLineNumber, 1), insertingText_1 + '\\n');\r\n                }\r\n            }\r\n            else {\r\n                movingLineNumber_1 = s.startLineNumber - 1;\r\n                movingLineText = model.getLineContent(movingLineNumber_1);\r\n                // Delete line that needs to be moved\r\n                builder.addEditOperation(new Range(movingLineNumber_1, 1, movingLineNumber_1 + 1, 1), null);\r\n                // Insert line that needs to be moved after\r\n                builder.addEditOperation(new Range(s.endLineNumber, model.getLineMaxColumn(s.endLineNumber), s.endLineNumber, model.getLineMaxColumn(s.endLineNumber)), '\\n' + movingLineText);\r\n                if (this.shouldAutoIndent(model, s)) {\r\n                    virtualModel.getLineContent = function (lineNumber) {\r\n                        if (lineNumber === movingLineNumber_1) {\r\n                            return model.getLineContent(s.startLineNumber);\r\n                        }\r\n                        else {\r\n                            return model.getLineContent(lineNumber);\r\n                        }\r\n                    };\r\n                    var ret = this.matchEnterRule(model, indentConverter, tabSize, s.startLineNumber, s.startLineNumber - 2);\r\n                    // check if s.startLineNumber - 2 matches onEnter rules, if so adjust the moving block by onEnter rules.\r\n                    if (ret !== null) {\r\n                        if (ret !== 0) {\r\n                            this.getIndentEditsOfMovingBlock(model, builder, s, tabSize, insertSpaces, ret);\r\n                        }\r\n                    }\r\n                    else {\r\n                        // it doesn't match any onEnter rule, let's check indentation rules then.\r\n                        var indentOfFirstLine = LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent, virtualModel, model.getLanguageIdAtPosition(s.startLineNumber, 1), movingLineNumber_1, indentConverter);\r\n                        if (indentOfFirstLine !== null) {\r\n                            // adjust the indentation of the moving block\r\n                            var oldIndent = strings.getLeadingWhitespace(model.getLineContent(s.startLineNumber));\r\n                            var newSpaceCnt = indentUtils.getSpaceCnt(indentOfFirstLine, tabSize);\r\n                            var oldSpaceCnt = indentUtils.getSpaceCnt(oldIndent, tabSize);\r\n                            if (newSpaceCnt !== oldSpaceCnt) {\r\n                                var spaceCntOffset = newSpaceCnt - oldSpaceCnt;\r\n                                this.getIndentEditsOfMovingBlock(model, builder, s, tabSize, insertSpaces, spaceCntOffset);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this._selectionId = builder.trackSelection(s);\r\n    };\r\n    MoveLinesCommand.prototype.buildIndentConverter = function (tabSize, indentSize, insertSpaces) {\r\n        return {\r\n            shiftIndent: function (indentation) {\r\n                return ShiftCommand.shiftIndent(indentation, indentation.length + 1, tabSize, indentSize, insertSpaces);\r\n            },\r\n            unshiftIndent: function (indentation) {\r\n                return ShiftCommand.unshiftIndent(indentation, indentation.length + 1, tabSize, indentSize, insertSpaces);\r\n            }\r\n        };\r\n    };\r\n    MoveLinesCommand.prototype.matchEnterRule = function (model, indentConverter, tabSize, line, oneLineAbove, oneLineAboveText) {\r\n        var validPrecedingLine = oneLineAbove;\r\n        while (validPrecedingLine >= 1) {\r\n            // ship empty lines as empty lines just inherit indentation\r\n            var lineContent = void 0;\r\n            if (validPrecedingLine === oneLineAbove && oneLineAboveText !== undefined) {\r\n                lineContent = oneLineAboveText;\r\n            }\r\n            else {\r\n                lineContent = model.getLineContent(validPrecedingLine);\r\n            }\r\n            var nonWhitespaceIdx = strings.lastNonWhitespaceIndex(lineContent);\r\n            if (nonWhitespaceIdx >= 0) {\r\n                break;\r\n            }\r\n            validPrecedingLine--;\r\n        }\r\n        if (validPrecedingLine < 1 || line > model.getLineCount()) {\r\n            return null;\r\n        }\r\n        var maxColumn = model.getLineMaxColumn(validPrecedingLine);\r\n        var enter = LanguageConfigurationRegistry.getEnterAction(this._autoIndent, model, new Range(validPrecedingLine, maxColumn, validPrecedingLine, maxColumn));\r\n        if (enter) {\r\n            var enterPrefix = enter.indentation;\r\n            if (enter.indentAction === IndentAction.None) {\r\n                enterPrefix = enter.indentation + enter.appendText;\r\n            }\r\n            else if (enter.indentAction === IndentAction.Indent) {\r\n                enterPrefix = enter.indentation + enter.appendText;\r\n            }\r\n            else if (enter.indentAction === IndentAction.IndentOutdent) {\r\n                enterPrefix = enter.indentation;\r\n            }\r\n            else if (enter.indentAction === IndentAction.Outdent) {\r\n                enterPrefix = indentConverter.unshiftIndent(enter.indentation) + enter.appendText;\r\n            }\r\n            var movingLineText = model.getLineContent(line);\r\n            if (this.trimLeft(movingLineText).indexOf(this.trimLeft(enterPrefix)) >= 0) {\r\n                var oldIndentation = strings.getLeadingWhitespace(model.getLineContent(line));\r\n                var newIndentation = strings.getLeadingWhitespace(enterPrefix);\r\n                var indentMetadataOfMovelingLine = LanguageConfigurationRegistry.getIndentMetadata(model, line);\r\n                if (indentMetadataOfMovelingLine !== null && indentMetadataOfMovelingLine & 2 /* DECREASE_MASK */) {\r\n                    newIndentation = indentConverter.unshiftIndent(newIndentation);\r\n                }\r\n                var newSpaceCnt = indentUtils.getSpaceCnt(newIndentation, tabSize);\r\n                var oldSpaceCnt = indentUtils.getSpaceCnt(oldIndentation, tabSize);\r\n                return newSpaceCnt - oldSpaceCnt;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    MoveLinesCommand.prototype.trimLeft = function (str) {\r\n        return str.replace(/^\\s+/, '');\r\n    };\r\n    MoveLinesCommand.prototype.shouldAutoIndent = function (model, selection) {\r\n        if (this._autoIndent < 4 /* Full */) {\r\n            return false;\r\n        }\r\n        // if it's not easy to tokenize, we stop auto indent.\r\n        if (!model.isCheapToTokenize(selection.startLineNumber)) {\r\n            return false;\r\n        }\r\n        var languageAtSelectionStart = model.getLanguageIdAtPosition(selection.startLineNumber, 1);\r\n        var languageAtSelectionEnd = model.getLanguageIdAtPosition(selection.endLineNumber, 1);\r\n        if (languageAtSelectionStart !== languageAtSelectionEnd) {\r\n            return false;\r\n        }\r\n        if (LanguageConfigurationRegistry.getIndentRulesSupport(languageAtSelectionStart) === null) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    MoveLinesCommand.prototype.getIndentEditsOfMovingBlock = function (model, builder, s, tabSize, insertSpaces, offset) {\r\n        for (var i = s.startLineNumber; i <= s.endLineNumber; i++) {\r\n            var lineContent = model.getLineContent(i);\r\n            var originalIndent = strings.getLeadingWhitespace(lineContent);\r\n            var originalSpacesCnt = indentUtils.getSpaceCnt(originalIndent, tabSize);\r\n            var newSpacesCnt = originalSpacesCnt + offset;\r\n            var newIndent = indentUtils.generateIndent(newSpacesCnt, tabSize, insertSpaces);\r\n            if (newIndent !== originalIndent) {\r\n                builder.addEditOperation(new Range(i, 1, i, originalIndent.length + 1), newIndent);\r\n                if (i === s.endLineNumber && s.endColumn <= originalIndent.length + 1 && newIndent === '') {\r\n                    // as users select part of the original indent white spaces\r\n                    // when we adjust the indentation of endLine, we should adjust the cursor position as well.\r\n                    this._moveEndLineSelectionShrink = true;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MoveLinesCommand.prototype.computeCursorState = function (model, helper) {\r\n        var result = helper.getTrackedSelection(this._selectionId);\r\n        if (this._moveEndPositionDown) {\r\n            result = result.setEndPosition(result.endLineNumber + 1, 1);\r\n        }\r\n        if (this._moveEndLineSelectionShrink && result.startLineNumber < result.endLineNumber) {\r\n            result = result.setEndPosition(result.endLineNumber, 2);\r\n        }\r\n        return result;\r\n    };\r\n    return MoveLinesCommand;\r\n}());\r\nexport { MoveLinesCommand };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { EditOperation } from '../../common/core/editOperation.js';\r\nimport { Range } from '../../common/core/range.js';\r\nvar SortLinesCommand = /** @class */ (function () {\r\n    function SortLinesCommand(selection, descending) {\r\n        this.selection = selection;\r\n        this.descending = descending;\r\n        this.selectionId = null;\r\n    }\r\n    SortLinesCommand.getCollator = function () {\r\n        if (!SortLinesCommand._COLLATOR) {\r\n            SortLinesCommand._COLLATOR = new Intl.Collator();\r\n        }\r\n        return SortLinesCommand._COLLATOR;\r\n    };\r\n    SortLinesCommand.prototype.getEditOperations = function (model, builder) {\r\n        var op = sortLines(model, this.selection, this.descending);\r\n        if (op) {\r\n            builder.addEditOperation(op.range, op.text);\r\n        }\r\n        this.selectionId = builder.trackSelection(this.selection);\r\n    };\r\n    SortLinesCommand.prototype.computeCursorState = function (model, helper) {\r\n        return helper.getTrackedSelection(this.selectionId);\r\n    };\r\n    SortLinesCommand.canRun = function (model, selection, descending) {\r\n        if (model === null) {\r\n            return false;\r\n        }\r\n        var data = getSortData(model, selection, descending);\r\n        if (!data) {\r\n            return false;\r\n        }\r\n        for (var i = 0, len = data.before.length; i < len; i++) {\r\n            if (data.before[i] !== data.after[i]) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    SortLinesCommand._COLLATOR = null;\r\n    return SortLinesCommand;\r\n}());\r\nexport { SortLinesCommand };\r\nfunction getSortData(model, selection, descending) {\r\n    var startLineNumber = selection.startLineNumber;\r\n    var endLineNumber = selection.endLineNumber;\r\n    if (selection.endColumn === 1) {\r\n        endLineNumber--;\r\n    }\r\n    // Nothing to sort if user didn't select anything.\r\n    if (startLineNumber >= endLineNumber) {\r\n        return null;\r\n    }\r\n    var linesToSort = [];\r\n    // Get the contents of the selection to be sorted.\r\n    for (var lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber++) {\r\n        linesToSort.push(model.getLineContent(lineNumber));\r\n    }\r\n    var sorted = linesToSort.slice(0);\r\n    sorted.sort(SortLinesCommand.getCollator().compare);\r\n    // If descending, reverse the order.\r\n    if (descending === true) {\r\n        sorted = sorted.reverse();\r\n    }\r\n    return {\r\n        startLineNumber: startLineNumber,\r\n        endLineNumber: endLineNumber,\r\n        before: linesToSort,\r\n        after: sorted\r\n    };\r\n}\r\n/**\r\n * Generate commands for sorting lines on a model.\r\n */\r\nfunction sortLines(model, selection, descending) {\r\n    var data = getSortData(model, selection, descending);\r\n    if (!data) {\r\n        return null;\r\n    }\r\n    return EditOperation.replace(new Range(data.startLineNumber, 1, data.endLineNumber, model.getLineMaxColumn(data.endLineNumber)), data.after.join('\\n'));\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { KeyChord } from '../../../base/common/keyCodes.js';\r\nimport { CoreEditingCommands } from '../../browser/controller/coreCommands.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { ReplaceCommand, ReplaceCommandThatPreservesSelection, ReplaceCommandThatSelectsText } from '../../common/commands/replaceCommand.js';\r\nimport { TrimTrailingWhitespaceCommand } from '../../common/commands/trimTrailingWhitespaceCommand.js';\r\nimport { TypeOperations } from '../../common/controller/cursorTypeOperations.js';\r\nimport { EditOperation } from '../../common/core/editOperation.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { CopyLinesCommand } from './copyLinesCommand.js';\r\nimport { MoveLinesCommand } from './moveLinesCommand.js';\r\nimport { SortLinesCommand } from './sortLinesCommand.js';\r\n// copy lines\r\nvar AbstractCopyLinesAction = /** @class */ (function (_super) {\r\n    __extends(AbstractCopyLinesAction, _super);\r\n    function AbstractCopyLinesAction(down, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this.down = down;\r\n        return _this;\r\n    }\r\n    AbstractCopyLinesAction.prototype.run = function (_accessor, editor) {\r\n        var commands = [];\r\n        var selections = editor.getSelections() || [];\r\n        for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\r\n            var selection = selections_1[_i];\r\n            commands.push(new CopyLinesCommand(selection, this.down));\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return AbstractCopyLinesAction;\r\n}(EditorAction));\r\nvar CopyLinesUpAction = /** @class */ (function (_super) {\r\n    __extends(CopyLinesUpAction, _super);\r\n    function CopyLinesUpAction() {\r\n        return _super.call(this, false, {\r\n            id: 'editor.action.copyLinesUpAction',\r\n            label: nls.localize('lines.copyUp', \"Copy Line Up\"),\r\n            alias: 'Copy Line Up',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 512 /* Alt */ | 1024 /* Shift */ | 16 /* UpArrow */,\r\n                linux: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 1024 /* Shift */ | 16 /* UpArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 23 /* MenubarSelectionMenu */,\r\n                group: '2_line',\r\n                title: nls.localize({ key: 'miCopyLinesUp', comment: ['&& denotes a mnemonic'] }, \"&&Copy Line Up\"),\r\n                order: 1\r\n            }\r\n        }) || this;\r\n    }\r\n    return CopyLinesUpAction;\r\n}(AbstractCopyLinesAction));\r\nvar CopyLinesDownAction = /** @class */ (function (_super) {\r\n    __extends(CopyLinesDownAction, _super);\r\n    function CopyLinesDownAction() {\r\n        return _super.call(this, true, {\r\n            id: 'editor.action.copyLinesDownAction',\r\n            label: nls.localize('lines.copyDown', \"Copy Line Down\"),\r\n            alias: 'Copy Line Down',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 512 /* Alt */ | 1024 /* Shift */ | 18 /* DownArrow */,\r\n                linux: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 1024 /* Shift */ | 18 /* DownArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 23 /* MenubarSelectionMenu */,\r\n                group: '2_line',\r\n                title: nls.localize({ key: 'miCopyLinesDown', comment: ['&& denotes a mnemonic'] }, \"Co&&py Line Down\"),\r\n                order: 2\r\n            }\r\n        }) || this;\r\n    }\r\n    return CopyLinesDownAction;\r\n}(AbstractCopyLinesAction));\r\nvar DuplicateSelectionAction = /** @class */ (function (_super) {\r\n    __extends(DuplicateSelectionAction, _super);\r\n    function DuplicateSelectionAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.duplicateSelection',\r\n            label: nls.localize('duplicateSelection', \"Duplicate Selection\"),\r\n            alias: 'Duplicate Selection',\r\n            precondition: EditorContextKeys.writable,\r\n            menuOpts: {\r\n                menuId: 23 /* MenubarSelectionMenu */,\r\n                group: '2_line',\r\n                title: nls.localize({ key: 'miDuplicateSelection', comment: ['&& denotes a mnemonic'] }, \"&&Duplicate Selection\"),\r\n                order: 5\r\n            }\r\n        }) || this;\r\n    }\r\n    DuplicateSelectionAction.prototype.run = function (accessor, editor, args) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var commands = [];\r\n        var selections = editor.getSelections();\r\n        var model = editor.getModel();\r\n        for (var _i = 0, selections_2 = selections; _i < selections_2.length; _i++) {\r\n            var selection = selections_2[_i];\r\n            if (selection.isEmpty()) {\r\n                commands.push(new CopyLinesCommand(selection, true));\r\n            }\r\n            else {\r\n                var insertSelection = new Selection(selection.endLineNumber, selection.endColumn, selection.endLineNumber, selection.endColumn);\r\n                commands.push(new ReplaceCommandThatSelectsText(insertSelection, model.getValueInRange(selection)));\r\n            }\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return DuplicateSelectionAction;\r\n}(EditorAction));\r\nexport { DuplicateSelectionAction };\r\n// move lines\r\nvar AbstractMoveLinesAction = /** @class */ (function (_super) {\r\n    __extends(AbstractMoveLinesAction, _super);\r\n    function AbstractMoveLinesAction(down, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this.down = down;\r\n        return _this;\r\n    }\r\n    AbstractMoveLinesAction.prototype.run = function (_accessor, editor) {\r\n        var commands = [];\r\n        var selections = editor.getSelections() || [];\r\n        var autoIndent = editor.getOption(8 /* autoIndent */);\r\n        for (var _i = 0, selections_3 = selections; _i < selections_3.length; _i++) {\r\n            var selection = selections_3[_i];\r\n            commands.push(new MoveLinesCommand(selection, this.down, autoIndent));\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return AbstractMoveLinesAction;\r\n}(EditorAction));\r\nvar MoveLinesUpAction = /** @class */ (function (_super) {\r\n    __extends(MoveLinesUpAction, _super);\r\n    function MoveLinesUpAction() {\r\n        return _super.call(this, false, {\r\n            id: 'editor.action.moveLinesUpAction',\r\n            label: nls.localize('lines.moveUp', \"Move Line Up\"),\r\n            alias: 'Move Line Up',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 512 /* Alt */ | 16 /* UpArrow */,\r\n                linux: { primary: 512 /* Alt */ | 16 /* UpArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 23 /* MenubarSelectionMenu */,\r\n                group: '2_line',\r\n                title: nls.localize({ key: 'miMoveLinesUp', comment: ['&& denotes a mnemonic'] }, \"Mo&&ve Line Up\"),\r\n                order: 3\r\n            }\r\n        }) || this;\r\n    }\r\n    return MoveLinesUpAction;\r\n}(AbstractMoveLinesAction));\r\nvar MoveLinesDownAction = /** @class */ (function (_super) {\r\n    __extends(MoveLinesDownAction, _super);\r\n    function MoveLinesDownAction() {\r\n        return _super.call(this, true, {\r\n            id: 'editor.action.moveLinesDownAction',\r\n            label: nls.localize('lines.moveDown', \"Move Line Down\"),\r\n            alias: 'Move Line Down',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 512 /* Alt */ | 18 /* DownArrow */,\r\n                linux: { primary: 512 /* Alt */ | 18 /* DownArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 23 /* MenubarSelectionMenu */,\r\n                group: '2_line',\r\n                title: nls.localize({ key: 'miMoveLinesDown', comment: ['&& denotes a mnemonic'] }, \"Move &&Line Down\"),\r\n                order: 4\r\n            }\r\n        }) || this;\r\n    }\r\n    return MoveLinesDownAction;\r\n}(AbstractMoveLinesAction));\r\nvar AbstractSortLinesAction = /** @class */ (function (_super) {\r\n    __extends(AbstractSortLinesAction, _super);\r\n    function AbstractSortLinesAction(descending, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this.descending = descending;\r\n        return _this;\r\n    }\r\n    AbstractSortLinesAction.prototype.run = function (_accessor, editor) {\r\n        var selections = editor.getSelections() || [];\r\n        for (var _i = 0, selections_4 = selections; _i < selections_4.length; _i++) {\r\n            var selection = selections_4[_i];\r\n            if (!SortLinesCommand.canRun(editor.getModel(), selection, this.descending)) {\r\n                return;\r\n            }\r\n        }\r\n        var commands = [];\r\n        for (var i = 0, len = selections.length; i < len; i++) {\r\n            commands[i] = new SortLinesCommand(selections[i], this.descending);\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return AbstractSortLinesAction;\r\n}(EditorAction));\r\nexport { AbstractSortLinesAction };\r\nvar SortLinesAscendingAction = /** @class */ (function (_super) {\r\n    __extends(SortLinesAscendingAction, _super);\r\n    function SortLinesAscendingAction() {\r\n        return _super.call(this, false, {\r\n            id: 'editor.action.sortLinesAscending',\r\n            label: nls.localize('lines.sortAscending', \"Sort Lines Ascending\"),\r\n            alias: 'Sort Lines Ascending',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return SortLinesAscendingAction;\r\n}(AbstractSortLinesAction));\r\nexport { SortLinesAscendingAction };\r\nvar SortLinesDescendingAction = /** @class */ (function (_super) {\r\n    __extends(SortLinesDescendingAction, _super);\r\n    function SortLinesDescendingAction() {\r\n        return _super.call(this, true, {\r\n            id: 'editor.action.sortLinesDescending',\r\n            label: nls.localize('lines.sortDescending', \"Sort Lines Descending\"),\r\n            alias: 'Sort Lines Descending',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return SortLinesDescendingAction;\r\n}(AbstractSortLinesAction));\r\nexport { SortLinesDescendingAction };\r\nvar TrimTrailingWhitespaceAction = /** @class */ (function (_super) {\r\n    __extends(TrimTrailingWhitespaceAction, _super);\r\n    function TrimTrailingWhitespaceAction() {\r\n        return _super.call(this, {\r\n            id: TrimTrailingWhitespaceAction.ID,\r\n            label: nls.localize('lines.trimTrailingWhitespace', \"Trim Trailing Whitespace\"),\r\n            alias: 'Trim Trailing Whitespace',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 54 /* KEY_X */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    TrimTrailingWhitespaceAction.prototype.run = function (_accessor, editor, args) {\r\n        var cursors = [];\r\n        if (args.reason === 'auto-save') {\r\n            // See https://github.com/editorconfig/editorconfig-vscode/issues/47\r\n            // It is very convenient for the editor config extension to invoke this action.\r\n            // So, if we get a reason:'auto-save' passed in, let's preserve cursor positions.\r\n            cursors = (editor.getSelections() || []).map(function (s) { return new Position(s.positionLineNumber, s.positionColumn); });\r\n        }\r\n        var selection = editor.getSelection();\r\n        if (selection === null) {\r\n            return;\r\n        }\r\n        var command = new TrimTrailingWhitespaceCommand(selection, cursors);\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, [command]);\r\n        editor.pushUndoStop();\r\n    };\r\n    TrimTrailingWhitespaceAction.ID = 'editor.action.trimTrailingWhitespace';\r\n    return TrimTrailingWhitespaceAction;\r\n}(EditorAction));\r\nexport { TrimTrailingWhitespaceAction };\r\nvar DeleteLinesAction = /** @class */ (function (_super) {\r\n    __extends(DeleteLinesAction, _super);\r\n    function DeleteLinesAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.deleteLines',\r\n            label: nls.localize('lines.delete', \"Delete Line\"),\r\n            alias: 'Delete Line',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 41 /* KEY_K */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    DeleteLinesAction.prototype.run = function (_accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var ops = this._getLinesToRemove(editor);\r\n        var model = editor.getModel();\r\n        if (model.getLineCount() === 1 && model.getLineMaxColumn(1) === 1) {\r\n            // Model is empty\r\n            return;\r\n        }\r\n        var linesDeleted = 0;\r\n        var edits = [];\r\n        var cursorState = [];\r\n        for (var i = 0, len = ops.length; i < len; i++) {\r\n            var op = ops[i];\r\n            var startLineNumber = op.startLineNumber;\r\n            var endLineNumber = op.endLineNumber;\r\n            var startColumn = 1;\r\n            var endColumn = model.getLineMaxColumn(endLineNumber);\r\n            if (endLineNumber < model.getLineCount()) {\r\n                endLineNumber += 1;\r\n                endColumn = 1;\r\n            }\r\n            else if (startLineNumber > 1) {\r\n                startLineNumber -= 1;\r\n                startColumn = model.getLineMaxColumn(startLineNumber);\r\n            }\r\n            edits.push(EditOperation.replace(new Selection(startLineNumber, startColumn, endLineNumber, endColumn), ''));\r\n            cursorState.push(new Selection(startLineNumber - linesDeleted, op.positionColumn, startLineNumber - linesDeleted, op.positionColumn));\r\n            linesDeleted += (op.endLineNumber - op.startLineNumber + 1);\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeEdits(this.id, edits, cursorState);\r\n        editor.pushUndoStop();\r\n    };\r\n    DeleteLinesAction.prototype._getLinesToRemove = function (editor) {\r\n        // Construct delete operations\r\n        var operations = editor.getSelections().map(function (s) {\r\n            var endLineNumber = s.endLineNumber;\r\n            if (s.startLineNumber < s.endLineNumber && s.endColumn === 1) {\r\n                endLineNumber -= 1;\r\n            }\r\n            return {\r\n                startLineNumber: s.startLineNumber,\r\n                selectionStartColumn: s.selectionStartColumn,\r\n                endLineNumber: endLineNumber,\r\n                positionColumn: s.positionColumn\r\n            };\r\n        });\r\n        // Sort delete operations\r\n        operations.sort(function (a, b) {\r\n            if (a.startLineNumber === b.startLineNumber) {\r\n                return a.endLineNumber - b.endLineNumber;\r\n            }\r\n            return a.startLineNumber - b.startLineNumber;\r\n        });\r\n        // Merge delete operations which are adjacent or overlapping\r\n        var mergedOperations = [];\r\n        var previousOperation = operations[0];\r\n        for (var i = 1; i < operations.length; i++) {\r\n            if (previousOperation.endLineNumber + 1 >= operations[i].startLineNumber) {\r\n                // Merge current operations into the previous one\r\n                previousOperation.endLineNumber = operations[i].endLineNumber;\r\n            }\r\n            else {\r\n                // Push previous operation\r\n                mergedOperations.push(previousOperation);\r\n                previousOperation = operations[i];\r\n            }\r\n        }\r\n        // Push the last operation\r\n        mergedOperations.push(previousOperation);\r\n        return mergedOperations;\r\n    };\r\n    return DeleteLinesAction;\r\n}(EditorAction));\r\nexport { DeleteLinesAction };\r\nvar IndentLinesAction = /** @class */ (function (_super) {\r\n    __extends(IndentLinesAction, _super);\r\n    function IndentLinesAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.indentLines',\r\n            label: nls.localize('lines.indent', \"Indent Line\"),\r\n            alias: 'Indent Line',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 89 /* US_CLOSE_SQUARE_BRACKET */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    IndentLinesAction.prototype.run = function (_accessor, editor) {\r\n        var cursors = editor._getCursors();\r\n        if (!cursors) {\r\n            return;\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, TypeOperations.indent(cursors.context.config, editor.getModel(), editor.getSelections()));\r\n        editor.pushUndoStop();\r\n    };\r\n    return IndentLinesAction;\r\n}(EditorAction));\r\nexport { IndentLinesAction };\r\nvar OutdentLinesAction = /** @class */ (function (_super) {\r\n    __extends(OutdentLinesAction, _super);\r\n    function OutdentLinesAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.outdentLines',\r\n            label: nls.localize('lines.outdent', \"Outdent Line\"),\r\n            alias: 'Outdent Line',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 87 /* US_OPEN_SQUARE_BRACKET */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    OutdentLinesAction.prototype.run = function (_accessor, editor) {\r\n        CoreEditingCommands.Outdent.runEditorCommand(_accessor, editor, null);\r\n    };\r\n    return OutdentLinesAction;\r\n}(EditorAction));\r\nvar InsertLineBeforeAction = /** @class */ (function (_super) {\r\n    __extends(InsertLineBeforeAction, _super);\r\n    function InsertLineBeforeAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.insertLineBefore',\r\n            label: nls.localize('lines.insertBefore', \"Insert Line Above\"),\r\n            alias: 'Insert Line Above',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 3 /* Enter */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    InsertLineBeforeAction.prototype.run = function (_accessor, editor) {\r\n        var cursors = editor._getCursors();\r\n        if (!cursors) {\r\n            return;\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, TypeOperations.lineInsertBefore(cursors.context.config, editor.getModel(), editor.getSelections()));\r\n    };\r\n    return InsertLineBeforeAction;\r\n}(EditorAction));\r\nexport { InsertLineBeforeAction };\r\nvar InsertLineAfterAction = /** @class */ (function (_super) {\r\n    __extends(InsertLineAfterAction, _super);\r\n    function InsertLineAfterAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.insertLineAfter',\r\n            label: nls.localize('lines.insertAfter', \"Insert Line Below\"),\r\n            alias: 'Insert Line Below',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 3 /* Enter */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    InsertLineAfterAction.prototype.run = function (_accessor, editor) {\r\n        var cursors = editor._getCursors();\r\n        if (!cursors) {\r\n            return;\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, TypeOperations.lineInsertAfter(cursors.context.config, editor.getModel(), editor.getSelections()));\r\n    };\r\n    return InsertLineAfterAction;\r\n}(EditorAction));\r\nexport { InsertLineAfterAction };\r\nvar AbstractDeleteAllToBoundaryAction = /** @class */ (function (_super) {\r\n    __extends(AbstractDeleteAllToBoundaryAction, _super);\r\n    function AbstractDeleteAllToBoundaryAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AbstractDeleteAllToBoundaryAction.prototype.run = function (_accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var primaryCursor = editor.getSelection();\r\n        var rangesToDelete = this._getRangesToDelete(editor);\r\n        // merge overlapping selections\r\n        var effectiveRanges = [];\r\n        for (var i = 0, count = rangesToDelete.length - 1; i < count; i++) {\r\n            var range = rangesToDelete[i];\r\n            var nextRange = rangesToDelete[i + 1];\r\n            if (Range.intersectRanges(range, nextRange) === null) {\r\n                effectiveRanges.push(range);\r\n            }\r\n            else {\r\n                rangesToDelete[i + 1] = Range.plusRange(range, nextRange);\r\n            }\r\n        }\r\n        effectiveRanges.push(rangesToDelete[rangesToDelete.length - 1]);\r\n        var endCursorState = this._getEndCursorState(primaryCursor, effectiveRanges);\r\n        var edits = effectiveRanges.map(function (range) {\r\n            return EditOperation.replace(range, '');\r\n        });\r\n        editor.pushUndoStop();\r\n        editor.executeEdits(this.id, edits, endCursorState);\r\n        editor.pushUndoStop();\r\n    };\r\n    return AbstractDeleteAllToBoundaryAction;\r\n}(EditorAction));\r\nexport { AbstractDeleteAllToBoundaryAction };\r\nvar DeleteAllLeftAction = /** @class */ (function (_super) {\r\n    __extends(DeleteAllLeftAction, _super);\r\n    function DeleteAllLeftAction() {\r\n        return _super.call(this, {\r\n            id: 'deleteAllLeft',\r\n            label: nls.localize('lines.deleteAllLeft', \"Delete All Left\"),\r\n            alias: 'Delete All Left',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 2048 /* CtrlCmd */ | 1 /* Backspace */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    DeleteAllLeftAction.prototype._getEndCursorState = function (primaryCursor, rangesToDelete) {\r\n        var endPrimaryCursor = null;\r\n        var endCursorState = [];\r\n        var deletedLines = 0;\r\n        rangesToDelete.forEach(function (range) {\r\n            var endCursor;\r\n            if (range.endColumn === 1 && deletedLines > 0) {\r\n                var newStartLine = range.startLineNumber - deletedLines;\r\n                endCursor = new Selection(newStartLine, range.startColumn, newStartLine, range.startColumn);\r\n            }\r\n            else {\r\n                endCursor = new Selection(range.startLineNumber, range.startColumn, range.startLineNumber, range.startColumn);\r\n            }\r\n            deletedLines += range.endLineNumber - range.startLineNumber;\r\n            if (range.intersectRanges(primaryCursor)) {\r\n                endPrimaryCursor = endCursor;\r\n            }\r\n            else {\r\n                endCursorState.push(endCursor);\r\n            }\r\n        });\r\n        if (endPrimaryCursor) {\r\n            endCursorState.unshift(endPrimaryCursor);\r\n        }\r\n        return endCursorState;\r\n    };\r\n    DeleteAllLeftAction.prototype._getRangesToDelete = function (editor) {\r\n        var selections = editor.getSelections();\r\n        if (selections === null) {\r\n            return [];\r\n        }\r\n        var rangesToDelete = selections;\r\n        var model = editor.getModel();\r\n        if (model === null) {\r\n            return [];\r\n        }\r\n        rangesToDelete.sort(Range.compareRangesUsingStarts);\r\n        rangesToDelete = rangesToDelete.map(function (selection) {\r\n            if (selection.isEmpty()) {\r\n                if (selection.startColumn === 1) {\r\n                    var deleteFromLine = Math.max(1, selection.startLineNumber - 1);\r\n                    var deleteFromColumn = selection.startLineNumber === 1 ? 1 : model.getLineContent(deleteFromLine).length + 1;\r\n                    return new Range(deleteFromLine, deleteFromColumn, selection.startLineNumber, 1);\r\n                }\r\n                else {\r\n                    return new Range(selection.startLineNumber, 1, selection.startLineNumber, selection.startColumn);\r\n                }\r\n            }\r\n            else {\r\n                return new Range(selection.startLineNumber, 1, selection.endLineNumber, selection.endColumn);\r\n            }\r\n        });\r\n        return rangesToDelete;\r\n    };\r\n    return DeleteAllLeftAction;\r\n}(AbstractDeleteAllToBoundaryAction));\r\nexport { DeleteAllLeftAction };\r\nvar DeleteAllRightAction = /** @class */ (function (_super) {\r\n    __extends(DeleteAllRightAction, _super);\r\n    function DeleteAllRightAction() {\r\n        return _super.call(this, {\r\n            id: 'deleteAllRight',\r\n            label: nls.localize('lines.deleteAllRight', \"Delete All Right\"),\r\n            alias: 'Delete All Right',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 41 /* KEY_K */, secondary: [2048 /* CtrlCmd */ | 20 /* Delete */] },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    DeleteAllRightAction.prototype._getEndCursorState = function (primaryCursor, rangesToDelete) {\r\n        var endPrimaryCursor = null;\r\n        var endCursorState = [];\r\n        for (var i = 0, len = rangesToDelete.length, offset = 0; i < len; i++) {\r\n            var range = rangesToDelete[i];\r\n            var endCursor = new Selection(range.startLineNumber - offset, range.startColumn, range.startLineNumber - offset, range.startColumn);\r\n            if (range.intersectRanges(primaryCursor)) {\r\n                endPrimaryCursor = endCursor;\r\n            }\r\n            else {\r\n                endCursorState.push(endCursor);\r\n            }\r\n        }\r\n        if (endPrimaryCursor) {\r\n            endCursorState.unshift(endPrimaryCursor);\r\n        }\r\n        return endCursorState;\r\n    };\r\n    DeleteAllRightAction.prototype._getRangesToDelete = function (editor) {\r\n        var model = editor.getModel();\r\n        if (model === null) {\r\n            return [];\r\n        }\r\n        var selections = editor.getSelections();\r\n        if (selections === null) {\r\n            return [];\r\n        }\r\n        var rangesToDelete = selections.map(function (sel) {\r\n            if (sel.isEmpty()) {\r\n                var maxColumn = model.getLineMaxColumn(sel.startLineNumber);\r\n                if (sel.startColumn === maxColumn) {\r\n                    return new Range(sel.startLineNumber, sel.startColumn, sel.startLineNumber + 1, 1);\r\n                }\r\n                else {\r\n                    return new Range(sel.startLineNumber, sel.startColumn, sel.startLineNumber, maxColumn);\r\n                }\r\n            }\r\n            return sel;\r\n        });\r\n        rangesToDelete.sort(Range.compareRangesUsingStarts);\r\n        return rangesToDelete;\r\n    };\r\n    return DeleteAllRightAction;\r\n}(AbstractDeleteAllToBoundaryAction));\r\nexport { DeleteAllRightAction };\r\nvar JoinLinesAction = /** @class */ (function (_super) {\r\n    __extends(JoinLinesAction, _super);\r\n    function JoinLinesAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.joinLines',\r\n            label: nls.localize('lines.joinLines', \"Join Lines\"),\r\n            alias: 'Join Lines',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 40 /* KEY_J */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    JoinLinesAction.prototype.run = function (_accessor, editor) {\r\n        var selections = editor.getSelections();\r\n        if (selections === null) {\r\n            return;\r\n        }\r\n        var primaryCursor = editor.getSelection();\r\n        if (primaryCursor === null) {\r\n            return;\r\n        }\r\n        selections.sort(Range.compareRangesUsingStarts);\r\n        var reducedSelections = [];\r\n        var lastSelection = selections.reduce(function (previousValue, currentValue) {\r\n            if (previousValue.isEmpty()) {\r\n                if (previousValue.endLineNumber === currentValue.startLineNumber) {\r\n                    if (primaryCursor.equalsSelection(previousValue)) {\r\n                        primaryCursor = currentValue;\r\n                    }\r\n                    return currentValue;\r\n                }\r\n                if (currentValue.startLineNumber > previousValue.endLineNumber + 1) {\r\n                    reducedSelections.push(previousValue);\r\n                    return currentValue;\r\n                }\r\n                else {\r\n                    return new Selection(previousValue.startLineNumber, previousValue.startColumn, currentValue.endLineNumber, currentValue.endColumn);\r\n                }\r\n            }\r\n            else {\r\n                if (currentValue.startLineNumber > previousValue.endLineNumber) {\r\n                    reducedSelections.push(previousValue);\r\n                    return currentValue;\r\n                }\r\n                else {\r\n                    return new Selection(previousValue.startLineNumber, previousValue.startColumn, currentValue.endLineNumber, currentValue.endColumn);\r\n                }\r\n            }\r\n        });\r\n        reducedSelections.push(lastSelection);\r\n        var model = editor.getModel();\r\n        if (model === null) {\r\n            return;\r\n        }\r\n        var edits = [];\r\n        var endCursorState = [];\r\n        var endPrimaryCursor = primaryCursor;\r\n        var lineOffset = 0;\r\n        for (var i = 0, len = reducedSelections.length; i < len; i++) {\r\n            var selection = reducedSelections[i];\r\n            var startLineNumber = selection.startLineNumber;\r\n            var startColumn = 1;\r\n            var columnDeltaOffset = 0;\r\n            var endLineNumber = void 0, endColumn = void 0;\r\n            var selectionEndPositionOffset = model.getLineContent(selection.endLineNumber).length - selection.endColumn;\r\n            if (selection.isEmpty() || selection.startLineNumber === selection.endLineNumber) {\r\n                var position = selection.getStartPosition();\r\n                if (position.lineNumber < model.getLineCount()) {\r\n                    endLineNumber = startLineNumber + 1;\r\n                    endColumn = model.getLineMaxColumn(endLineNumber);\r\n                }\r\n                else {\r\n                    endLineNumber = position.lineNumber;\r\n                    endColumn = model.getLineMaxColumn(position.lineNumber);\r\n                }\r\n            }\r\n            else {\r\n                endLineNumber = selection.endLineNumber;\r\n                endColumn = model.getLineMaxColumn(endLineNumber);\r\n            }\r\n            var trimmedLinesContent = model.getLineContent(startLineNumber);\r\n            for (var i_1 = startLineNumber + 1; i_1 <= endLineNumber; i_1++) {\r\n                var lineText = model.getLineContent(i_1);\r\n                var firstNonWhitespaceIdx = model.getLineFirstNonWhitespaceColumn(i_1);\r\n                if (firstNonWhitespaceIdx >= 1) {\r\n                    var insertSpace = true;\r\n                    if (trimmedLinesContent === '') {\r\n                        insertSpace = false;\r\n                    }\r\n                    if (insertSpace && (trimmedLinesContent.charAt(trimmedLinesContent.length - 1) === ' ' ||\r\n                        trimmedLinesContent.charAt(trimmedLinesContent.length - 1) === '\\t')) {\r\n                        insertSpace = false;\r\n                        trimmedLinesContent = trimmedLinesContent.replace(/[\\s\\uFEFF\\xA0]+$/g, ' ');\r\n                    }\r\n                    var lineTextWithoutIndent = lineText.substr(firstNonWhitespaceIdx - 1);\r\n                    trimmedLinesContent += (insertSpace ? ' ' : '') + lineTextWithoutIndent;\r\n                    if (insertSpace) {\r\n                        columnDeltaOffset = lineTextWithoutIndent.length + 1;\r\n                    }\r\n                    else {\r\n                        columnDeltaOffset = lineTextWithoutIndent.length;\r\n                    }\r\n                }\r\n                else {\r\n                    columnDeltaOffset = 0;\r\n                }\r\n            }\r\n            var deleteSelection = new Range(startLineNumber, startColumn, endLineNumber, endColumn);\r\n            if (!deleteSelection.isEmpty()) {\r\n                var resultSelection = void 0;\r\n                if (selection.isEmpty()) {\r\n                    edits.push(EditOperation.replace(deleteSelection, trimmedLinesContent));\r\n                    resultSelection = new Selection(deleteSelection.startLineNumber - lineOffset, trimmedLinesContent.length - columnDeltaOffset + 1, startLineNumber - lineOffset, trimmedLinesContent.length - columnDeltaOffset + 1);\r\n                }\r\n                else {\r\n                    if (selection.startLineNumber === selection.endLineNumber) {\r\n                        edits.push(EditOperation.replace(deleteSelection, trimmedLinesContent));\r\n                        resultSelection = new Selection(selection.startLineNumber - lineOffset, selection.startColumn, selection.endLineNumber - lineOffset, selection.endColumn);\r\n                    }\r\n                    else {\r\n                        edits.push(EditOperation.replace(deleteSelection, trimmedLinesContent));\r\n                        resultSelection = new Selection(selection.startLineNumber - lineOffset, selection.startColumn, selection.startLineNumber - lineOffset, trimmedLinesContent.length - selectionEndPositionOffset);\r\n                    }\r\n                }\r\n                if (Range.intersectRanges(deleteSelection, primaryCursor) !== null) {\r\n                    endPrimaryCursor = resultSelection;\r\n                }\r\n                else {\r\n                    endCursorState.push(resultSelection);\r\n                }\r\n            }\r\n            lineOffset += deleteSelection.endLineNumber - deleteSelection.startLineNumber;\r\n        }\r\n        endCursorState.unshift(endPrimaryCursor);\r\n        editor.pushUndoStop();\r\n        editor.executeEdits(this.id, edits, endCursorState);\r\n        editor.pushUndoStop();\r\n    };\r\n    return JoinLinesAction;\r\n}(EditorAction));\r\nexport { JoinLinesAction };\r\nvar TransposeAction = /** @class */ (function (_super) {\r\n    __extends(TransposeAction, _super);\r\n    function TransposeAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.transpose',\r\n            label: nls.localize('editor.transpose', \"Transpose characters around the cursor\"),\r\n            alias: 'Transpose characters around the cursor',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    TransposeAction.prototype.run = function (_accessor, editor) {\r\n        var selections = editor.getSelections();\r\n        if (selections === null) {\r\n            return;\r\n        }\r\n        var model = editor.getModel();\r\n        if (model === null) {\r\n            return;\r\n        }\r\n        var commands = [];\r\n        for (var i = 0, len = selections.length; i < len; i++) {\r\n            var selection = selections[i];\r\n            if (!selection.isEmpty()) {\r\n                continue;\r\n            }\r\n            var cursor = selection.getStartPosition();\r\n            var maxColumn = model.getLineMaxColumn(cursor.lineNumber);\r\n            if (cursor.column >= maxColumn) {\r\n                if (cursor.lineNumber === model.getLineCount()) {\r\n                    continue;\r\n                }\r\n                // The cursor is at the end of current line and current line is not empty\r\n                // then we transpose the character before the cursor and the line break if there is any following line.\r\n                var deleteSelection = new Range(cursor.lineNumber, Math.max(1, cursor.column - 1), cursor.lineNumber + 1, 1);\r\n                var chars = model.getValueInRange(deleteSelection).split('').reverse().join('');\r\n                commands.push(new ReplaceCommand(new Selection(cursor.lineNumber, Math.max(1, cursor.column - 1), cursor.lineNumber + 1, 1), chars));\r\n            }\r\n            else {\r\n                var deleteSelection = new Range(cursor.lineNumber, Math.max(1, cursor.column - 1), cursor.lineNumber, cursor.column + 1);\r\n                var chars = model.getValueInRange(deleteSelection).split('').reverse().join('');\r\n                commands.push(new ReplaceCommandThatPreservesSelection(deleteSelection, chars, new Selection(cursor.lineNumber, cursor.column + 1, cursor.lineNumber, cursor.column + 1)));\r\n            }\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return TransposeAction;\r\n}(EditorAction));\r\nexport { TransposeAction };\r\nvar AbstractCaseAction = /** @class */ (function (_super) {\r\n    __extends(AbstractCaseAction, _super);\r\n    function AbstractCaseAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AbstractCaseAction.prototype.run = function (_accessor, editor) {\r\n        var selections = editor.getSelections();\r\n        if (selections === null) {\r\n            return;\r\n        }\r\n        var model = editor.getModel();\r\n        if (model === null) {\r\n            return;\r\n        }\r\n        var wordSeparators = editor.getOption(92 /* wordSeparators */);\r\n        var commands = [];\r\n        for (var i = 0, len = selections.length; i < len; i++) {\r\n            var selection = selections[i];\r\n            if (selection.isEmpty()) {\r\n                var cursor = selection.getStartPosition();\r\n                var word = model.getWordAtPosition(cursor);\r\n                if (!word) {\r\n                    continue;\r\n                }\r\n                var wordRange = new Range(cursor.lineNumber, word.startColumn, cursor.lineNumber, word.endColumn);\r\n                var text = model.getValueInRange(wordRange);\r\n                commands.push(new ReplaceCommandThatPreservesSelection(wordRange, this._modifyText(text, wordSeparators), new Selection(cursor.lineNumber, cursor.column, cursor.lineNumber, cursor.column)));\r\n            }\r\n            else {\r\n                var text = model.getValueInRange(selection);\r\n                commands.push(new ReplaceCommandThatPreservesSelection(selection, this._modifyText(text, wordSeparators), selection));\r\n            }\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return AbstractCaseAction;\r\n}(EditorAction));\r\nexport { AbstractCaseAction };\r\nvar UpperCaseAction = /** @class */ (function (_super) {\r\n    __extends(UpperCaseAction, _super);\r\n    function UpperCaseAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.transformToUppercase',\r\n            label: nls.localize('editor.transformToUppercase', \"Transform to Uppercase\"),\r\n            alias: 'Transform to Uppercase',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    UpperCaseAction.prototype._modifyText = function (text, wordSeparators) {\r\n        return text.toLocaleUpperCase();\r\n    };\r\n    return UpperCaseAction;\r\n}(AbstractCaseAction));\r\nexport { UpperCaseAction };\r\nvar LowerCaseAction = /** @class */ (function (_super) {\r\n    __extends(LowerCaseAction, _super);\r\n    function LowerCaseAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.transformToLowercase',\r\n            label: nls.localize('editor.transformToLowercase', \"Transform to Lowercase\"),\r\n            alias: 'Transform to Lowercase',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    LowerCaseAction.prototype._modifyText = function (text, wordSeparators) {\r\n        return text.toLocaleLowerCase();\r\n    };\r\n    return LowerCaseAction;\r\n}(AbstractCaseAction));\r\nexport { LowerCaseAction };\r\nvar TitleCaseAction = /** @class */ (function (_super) {\r\n    __extends(TitleCaseAction, _super);\r\n    function TitleCaseAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.transformToTitlecase',\r\n            label: nls.localize('editor.transformToTitlecase', \"Transform to Title Case\"),\r\n            alias: 'Transform to Title Case',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    TitleCaseAction.prototype._modifyText = function (text, wordSeparators) {\r\n        var separators = '\\r\\n\\t ' + wordSeparators;\r\n        var excludedChars = separators.split('');\r\n        var title = '';\r\n        var startUpperCase = true;\r\n        for (var i = 0; i < text.length; i++) {\r\n            var currentChar = text[i];\r\n            if (excludedChars.indexOf(currentChar) >= 0) {\r\n                startUpperCase = true;\r\n                title += currentChar;\r\n            }\r\n            else if (startUpperCase) {\r\n                startUpperCase = false;\r\n                title += currentChar.toLocaleUpperCase();\r\n            }\r\n            else {\r\n                title += currentChar.toLocaleLowerCase();\r\n            }\r\n        }\r\n        return title;\r\n    };\r\n    return TitleCaseAction;\r\n}(AbstractCaseAction));\r\nexport { TitleCaseAction };\r\nregisterEditorAction(CopyLinesUpAction);\r\nregisterEditorAction(CopyLinesDownAction);\r\nregisterEditorAction(DuplicateSelectionAction);\r\nregisterEditorAction(MoveLinesUpAction);\r\nregisterEditorAction(MoveLinesDownAction);\r\nregisterEditorAction(SortLinesAscendingAction);\r\nregisterEditorAction(SortLinesDescendingAction);\r\nregisterEditorAction(TrimTrailingWhitespaceAction);\r\nregisterEditorAction(DeleteLinesAction);\r\nregisterEditorAction(IndentLinesAction);\r\nregisterEditorAction(OutdentLinesAction);\r\nregisterEditorAction(InsertLineBeforeAction);\r\nregisterEditorAction(InsertLineAfterAction);\r\nregisterEditorAction(DeleteAllLeftAction);\r\nregisterEditorAction(DeleteAllRightAction);\r\nregisterEditorAction(JoinLinesAction);\r\nregisterEditorAction(TransposeAction);\r\nregisterEditorAction(UpperCaseAction);\r\nregisterEditorAction(LowerCaseAction);\r\nregisterEditorAction(TitleCaseAction);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { LinkProviderRegistry } from '../../common/modes.js';\r\nimport { IModelService } from '../../common/services/modelService.js';\r\nimport { CommandsRegistry } from '../../../platform/commands/common/commands.js';\r\nimport { isDisposable, Disposable } from '../../../base/common/lifecycle.js';\r\nimport { coalesce } from '../../../base/common/arrays.js';\r\nvar Link = /** @class */ (function () {\r\n    function Link(link, provider) {\r\n        this._link = link;\r\n        this._provider = provider;\r\n    }\r\n    Link.prototype.toJSON = function () {\r\n        return {\r\n            range: this.range,\r\n            url: this.url,\r\n            tooltip: this.tooltip\r\n        };\r\n    };\r\n    Object.defineProperty(Link.prototype, \"range\", {\r\n        get: function () {\r\n            return this._link.range;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Link.prototype, \"url\", {\r\n        get: function () {\r\n            return this._link.url;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Link.prototype, \"tooltip\", {\r\n        get: function () {\r\n            return this._link.tooltip;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Link.prototype.resolve = function (token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                if (this._link.url) {\r\n                    return [2 /*return*/, this._link.url];\r\n                }\r\n                if (typeof this._provider.resolveLink === 'function') {\r\n                    return [2 /*return*/, Promise.resolve(this._provider.resolveLink(this._link, token)).then(function (value) {\r\n                            _this._link = value || _this._link;\r\n                            if (_this._link.url) {\r\n                                // recurse\r\n                                return _this.resolve(token);\r\n                            }\r\n                            return Promise.reject(new Error('missing'));\r\n                        })];\r\n                }\r\n                return [2 /*return*/, Promise.reject(new Error('missing'))];\r\n            });\r\n        });\r\n    };\r\n    return Link;\r\n}());\r\nexport { Link };\r\nvar LinksList = /** @class */ (function (_super) {\r\n    __extends(LinksList, _super);\r\n    function LinksList(tuples) {\r\n        var _this = _super.call(this) || this;\r\n        var links = [];\r\n        var _loop_1 = function (list, provider) {\r\n            // merge all links\r\n            var newLinks = list.links.map(function (link) { return new Link(link, provider); });\r\n            links = LinksList._union(links, newLinks);\r\n            // register disposables\r\n            if (isDisposable(provider)) {\r\n                this_1._register(provider);\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var _i = 0, tuples_1 = tuples; _i < tuples_1.length; _i++) {\r\n            var _a = tuples_1[_i], list = _a[0], provider = _a[1];\r\n            _loop_1(list, provider);\r\n        }\r\n        _this.links = links;\r\n        return _this;\r\n    }\r\n    LinksList._union = function (oldLinks, newLinks) {\r\n        // reunite oldLinks with newLinks and remove duplicates\r\n        var result = [];\r\n        var oldIndex;\r\n        var oldLen;\r\n        var newIndex;\r\n        var newLen;\r\n        for (oldIndex = 0, newIndex = 0, oldLen = oldLinks.length, newLen = newLinks.length; oldIndex < oldLen && newIndex < newLen;) {\r\n            var oldLink = oldLinks[oldIndex];\r\n            var newLink = newLinks[newIndex];\r\n            if (Range.areIntersectingOrTouching(oldLink.range, newLink.range)) {\r\n                // Remove the oldLink\r\n                oldIndex++;\r\n                continue;\r\n            }\r\n            var comparisonResult = Range.compareRangesUsingStarts(oldLink.range, newLink.range);\r\n            if (comparisonResult < 0) {\r\n                // oldLink is before\r\n                result.push(oldLink);\r\n                oldIndex++;\r\n            }\r\n            else {\r\n                // newLink is before\r\n                result.push(newLink);\r\n                newIndex++;\r\n            }\r\n        }\r\n        for (; oldIndex < oldLen; oldIndex++) {\r\n            result.push(oldLinks[oldIndex]);\r\n        }\r\n        for (; newIndex < newLen; newIndex++) {\r\n            result.push(newLinks[newIndex]);\r\n        }\r\n        return result;\r\n    };\r\n    return LinksList;\r\n}(Disposable));\r\nexport { LinksList };\r\nexport function getLinks(model, token) {\r\n    var lists = [];\r\n    // ask all providers for links in parallel\r\n    var promises = LinkProviderRegistry.ordered(model).reverse().map(function (provider, i) {\r\n        return Promise.resolve(provider.provideLinks(model, token)).then(function (result) {\r\n            if (result) {\r\n                lists[i] = [result, provider];\r\n            }\r\n        }, onUnexpectedExternalError);\r\n    });\r\n    return Promise.all(promises).then(function () {\r\n        var result = new LinksList(coalesce(lists));\r\n        if (!token.isCancellationRequested) {\r\n            return result;\r\n        }\r\n        result.dispose();\r\n        return new LinksList([]);\r\n    });\r\n}\r\nCommandsRegistry.registerCommand('_executeLinkProvider', function (accessor) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    return __awaiter(void 0, void 0, void 0, function () {\r\n        var uri, model, list, result;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    uri = args[0];\r\n                    if (!(uri instanceof URI)) {\r\n                        return [2 /*return*/, []];\r\n                    }\r\n                    model = accessor.get(IModelService).getModel(uri);\r\n                    if (!model) {\r\n                        return [2 /*return*/, []];\r\n                    }\r\n                    return [4 /*yield*/, getLinks(model, CancellationToken.None)];\r\n                case 1:\r\n                    list = _a.sent();\r\n                    if (!list) {\r\n                        return [2 /*return*/, []];\r\n                    }\r\n                    result = list.links.slice(0);\r\n                    list.dispose();\r\n                    return [2 /*return*/, result];\r\n            }\r\n        });\r\n    });\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport './links.css';\r\nimport * as nls from '../../../nls.js';\r\nimport * as async from '../../../base/common/async.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { MarkdownString } from '../../../base/common/htmlContent.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport * as platform from '../../../base/common/platform.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { LinkProviderRegistry } from '../../common/modes.js';\r\nimport { ClickLinkGesture } from '../gotoSymbol/link/clickLinkGesture.js';\r\nimport { getLinks } from './getLinks.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nimport { IOpenerService } from '../../../platform/opener/common/opener.js';\r\nimport { editorActiveLinkForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nfunction getHoverMessage(link, useMetaKey) {\r\n    var executeCmd = link.url && /^command:/i.test(link.url.toString());\r\n    var label = link.tooltip\r\n        ? link.tooltip\r\n        : executeCmd\r\n            ? nls.localize('links.navigate.executeCmd', 'Execute command')\r\n            : nls.localize('links.navigate.follow', 'Follow link');\r\n    var kb = useMetaKey\r\n        ? platform.isMacintosh\r\n            ? nls.localize('links.navigate.kb.meta.mac', \"cmd + click\")\r\n            : nls.localize('links.navigate.kb.meta', \"ctrl + click\")\r\n        : platform.isMacintosh\r\n            ? nls.localize('links.navigate.kb.alt.mac', \"option + click\")\r\n            : nls.localize('links.navigate.kb.alt', \"alt + click\");\r\n    if (link.url) {\r\n        var hoverMessage = new MarkdownString('', true).appendMarkdown(\"[\" + label + \"](\" + link.url.toString() + \") (\" + kb + \")\");\r\n        return hoverMessage;\r\n    }\r\n    else {\r\n        return new MarkdownString().appendText(label + \" (\" + kb + \")\");\r\n    }\r\n}\r\nvar decoration = {\r\n    general: ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        collapseOnReplaceEdit: true,\r\n        inlineClassName: 'detected-link'\r\n    }),\r\n    active: ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        collapseOnReplaceEdit: true,\r\n        inlineClassName: 'detected-link-active'\r\n    })\r\n};\r\nvar LinkOccurrence = /** @class */ (function () {\r\n    function LinkOccurrence(link, decorationId) {\r\n        this.link = link;\r\n        this.decorationId = decorationId;\r\n    }\r\n    LinkOccurrence.decoration = function (link, useMetaKey) {\r\n        return {\r\n            range: link.range,\r\n            options: LinkOccurrence._getOptions(link, useMetaKey, false)\r\n        };\r\n    };\r\n    LinkOccurrence._getOptions = function (link, useMetaKey, isActive) {\r\n        var options = __assign({}, (isActive ? decoration.active : decoration.general));\r\n        options.hoverMessage = getHoverMessage(link, useMetaKey);\r\n        return options;\r\n    };\r\n    LinkOccurrence.prototype.activate = function (changeAccessor, useMetaKey) {\r\n        changeAccessor.changeDecorationOptions(this.decorationId, LinkOccurrence._getOptions(this.link, useMetaKey, true));\r\n    };\r\n    LinkOccurrence.prototype.deactivate = function (changeAccessor, useMetaKey) {\r\n        changeAccessor.changeDecorationOptions(this.decorationId, LinkOccurrence._getOptions(this.link, useMetaKey, false));\r\n    };\r\n    return LinkOccurrence;\r\n}());\r\nvar LinkDetector = /** @class */ (function () {\r\n    function LinkDetector(editor, openerService, notificationService) {\r\n        var _this = this;\r\n        this.listenersToRemove = new DisposableStore();\r\n        this.editor = editor;\r\n        this.openerService = openerService;\r\n        this.notificationService = notificationService;\r\n        var clickLinkGesture = new ClickLinkGesture(editor);\r\n        this.listenersToRemove.add(clickLinkGesture);\r\n        this.listenersToRemove.add(clickLinkGesture.onMouseMoveOrRelevantKeyDown(function (_a) {\r\n            var mouseEvent = _a[0], keyboardEvent = _a[1];\r\n            _this._onEditorMouseMove(mouseEvent, keyboardEvent);\r\n        }));\r\n        this.listenersToRemove.add(clickLinkGesture.onExecute(function (e) {\r\n            _this.onEditorMouseUp(e);\r\n        }));\r\n        this.listenersToRemove.add(clickLinkGesture.onCancel(function (e) {\r\n            _this.cleanUpActiveLinkDecoration();\r\n        }));\r\n        this.enabled = editor.getOption(50 /* links */);\r\n        this.listenersToRemove.add(editor.onDidChangeConfiguration(function (e) {\r\n            var enabled = editor.getOption(50 /* links */);\r\n            if (_this.enabled === enabled) {\r\n                // No change in our configuration option\r\n                return;\r\n            }\r\n            _this.enabled = enabled;\r\n            // Remove any links (for the getting disabled case)\r\n            _this.updateDecorations([]);\r\n            // Stop any computation (for the getting disabled case)\r\n            _this.stop();\r\n            // Start computing (for the getting enabled case)\r\n            _this.beginCompute();\r\n        }));\r\n        this.listenersToRemove.add(editor.onDidChangeModelContent(function (e) { return _this.onChange(); }));\r\n        this.listenersToRemove.add(editor.onDidChangeModel(function (e) { return _this.onModelChanged(); }));\r\n        this.listenersToRemove.add(editor.onDidChangeModelLanguage(function (e) { return _this.onModelModeChanged(); }));\r\n        this.listenersToRemove.add(LinkProviderRegistry.onDidChange(function (e) { return _this.onModelModeChanged(); }));\r\n        this.timeout = new async.TimeoutTimer();\r\n        this.computePromise = null;\r\n        this.activeLinksList = null;\r\n        this.currentOccurrences = {};\r\n        this.activeLinkDecorationId = null;\r\n        this.beginCompute();\r\n    }\r\n    LinkDetector.get = function (editor) {\r\n        return editor.getContribution(LinkDetector.ID);\r\n    };\r\n    LinkDetector.prototype.onModelChanged = function () {\r\n        this.currentOccurrences = {};\r\n        this.activeLinkDecorationId = null;\r\n        this.stop();\r\n        this.beginCompute();\r\n    };\r\n    LinkDetector.prototype.onModelModeChanged = function () {\r\n        this.stop();\r\n        this.beginCompute();\r\n    };\r\n    LinkDetector.prototype.onChange = function () {\r\n        var _this = this;\r\n        this.timeout.setIfNotSet(function () { return _this.beginCompute(); }, LinkDetector.RECOMPUTE_TIME);\r\n    };\r\n    LinkDetector.prototype.beginCompute = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var model, _a, err_1;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        if (!this.editor.hasModel() || !this.enabled) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        model = this.editor.getModel();\r\n                        if (!LinkProviderRegistry.has(model)) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        if (this.activeLinksList) {\r\n                            this.activeLinksList.dispose();\r\n                            this.activeLinksList = null;\r\n                        }\r\n                        this.computePromise = async.createCancelablePromise(function (token) { return getLinks(model, token); });\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, 4, 5]);\r\n                        _a = this;\r\n                        return [4 /*yield*/, this.computePromise];\r\n                    case 2:\r\n                        _a.activeLinksList = _b.sent();\r\n                        this.updateDecorations(this.activeLinksList.links);\r\n                        return [3 /*break*/, 5];\r\n                    case 3:\r\n                        err_1 = _b.sent();\r\n                        onUnexpectedError(err_1);\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        this.computePromise = null;\r\n                        return [7 /*endfinally*/];\r\n                    case 5: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    LinkDetector.prototype.updateDecorations = function (links) {\r\n        var useMetaKey = (this.editor.getOption(57 /* multiCursorModifier */) === 'altKey');\r\n        var oldDecorations = [];\r\n        var keys = Object.keys(this.currentOccurrences);\r\n        for (var i = 0, len = keys.length; i < len; i++) {\r\n            var decorationId = keys[i];\r\n            var occurance = this.currentOccurrences[decorationId];\r\n            oldDecorations.push(occurance.decorationId);\r\n        }\r\n        var newDecorations = [];\r\n        if (links) {\r\n            // Not sure why this is sometimes null\r\n            for (var _i = 0, links_1 = links; _i < links_1.length; _i++) {\r\n                var link = links_1[_i];\r\n                newDecorations.push(LinkOccurrence.decoration(link, useMetaKey));\r\n            }\r\n        }\r\n        var decorations = this.editor.deltaDecorations(oldDecorations, newDecorations);\r\n        this.currentOccurrences = {};\r\n        this.activeLinkDecorationId = null;\r\n        for (var i = 0, len = decorations.length; i < len; i++) {\r\n            var occurance = new LinkOccurrence(links[i], decorations[i]);\r\n            this.currentOccurrences[occurance.decorationId] = occurance;\r\n        }\r\n    };\r\n    LinkDetector.prototype._onEditorMouseMove = function (mouseEvent, withKey) {\r\n        var _this = this;\r\n        var useMetaKey = (this.editor.getOption(57 /* multiCursorModifier */) === 'altKey');\r\n        if (this.isEnabled(mouseEvent, withKey)) {\r\n            this.cleanUpActiveLinkDecoration(); // always remove previous link decoration as their can only be one\r\n            var occurrence_1 = this.getLinkOccurrence(mouseEvent.target.position);\r\n            if (occurrence_1) {\r\n                this.editor.changeDecorations(function (changeAccessor) {\r\n                    occurrence_1.activate(changeAccessor, useMetaKey);\r\n                    _this.activeLinkDecorationId = occurrence_1.decorationId;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            this.cleanUpActiveLinkDecoration();\r\n        }\r\n    };\r\n    LinkDetector.prototype.cleanUpActiveLinkDecoration = function () {\r\n        var useMetaKey = (this.editor.getOption(57 /* multiCursorModifier */) === 'altKey');\r\n        if (this.activeLinkDecorationId) {\r\n            var occurrence_2 = this.currentOccurrences[this.activeLinkDecorationId];\r\n            if (occurrence_2) {\r\n                this.editor.changeDecorations(function (changeAccessor) {\r\n                    occurrence_2.deactivate(changeAccessor, useMetaKey);\r\n                });\r\n            }\r\n            this.activeLinkDecorationId = null;\r\n        }\r\n    };\r\n    LinkDetector.prototype.onEditorMouseUp = function (mouseEvent) {\r\n        if (!this.isEnabled(mouseEvent)) {\r\n            return;\r\n        }\r\n        var occurrence = this.getLinkOccurrence(mouseEvent.target.position);\r\n        if (!occurrence) {\r\n            return;\r\n        }\r\n        this.openLinkOccurrence(occurrence, mouseEvent.hasSideBySideModifier, true /* from user gesture */);\r\n    };\r\n    LinkDetector.prototype.openLinkOccurrence = function (occurrence, openToSide, fromUserGesture) {\r\n        var _this = this;\r\n        if (fromUserGesture === void 0) { fromUserGesture = false; }\r\n        if (!this.openerService) {\r\n            return;\r\n        }\r\n        var link = occurrence.link;\r\n        link.resolve(CancellationToken.None).then(function (uri) {\r\n            // open the uri\r\n            return _this.openerService.open(uri, { openToSide: openToSide, fromUserGesture: fromUserGesture });\r\n        }, function (err) {\r\n            var messageOrError = err instanceof Error ? err.message : err;\r\n            // different error cases\r\n            if (messageOrError === 'invalid') {\r\n                _this.notificationService.warn(nls.localize('invalid.url', 'Failed to open this link because it is not well-formed: {0}', link.url.toString()));\r\n            }\r\n            else if (messageOrError === 'missing') {\r\n                _this.notificationService.warn(nls.localize('missing.url', 'Failed to open this link because its target is missing.'));\r\n            }\r\n            else {\r\n                onUnexpectedError(err);\r\n            }\r\n        });\r\n    };\r\n    LinkDetector.prototype.getLinkOccurrence = function (position) {\r\n        if (!this.editor.hasModel() || !position) {\r\n            return null;\r\n        }\r\n        var decorations = this.editor.getModel().getDecorationsInRange({\r\n            startLineNumber: position.lineNumber,\r\n            startColumn: position.column,\r\n            endLineNumber: position.lineNumber,\r\n            endColumn: position.column\r\n        }, 0, true);\r\n        for (var _i = 0, decorations_1 = decorations; _i < decorations_1.length; _i++) {\r\n            var decoration_1 = decorations_1[_i];\r\n            var currentOccurrence = this.currentOccurrences[decoration_1.id];\r\n            if (currentOccurrence) {\r\n                return currentOccurrence;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    LinkDetector.prototype.isEnabled = function (mouseEvent, withKey) {\r\n        return Boolean((mouseEvent.target.type === 6 /* CONTENT_TEXT */)\r\n            && (mouseEvent.hasTriggerModifier || (withKey && withKey.keyCodeIsTriggerKey)));\r\n    };\r\n    LinkDetector.prototype.stop = function () {\r\n        this.timeout.cancel();\r\n        if (this.activeLinksList) {\r\n            this.activeLinksList.dispose();\r\n        }\r\n        if (this.computePromise) {\r\n            this.computePromise.cancel();\r\n            this.computePromise = null;\r\n        }\r\n    };\r\n    LinkDetector.prototype.dispose = function () {\r\n        this.listenersToRemove.dispose();\r\n        this.stop();\r\n        this.timeout.dispose();\r\n    };\r\n    LinkDetector.ID = 'editor.linkDetector';\r\n    LinkDetector.RECOMPUTE_TIME = 1000; // ms\r\n    LinkDetector = __decorate([\r\n        __param(1, IOpenerService),\r\n        __param(2, INotificationService)\r\n    ], LinkDetector);\r\n    return LinkDetector;\r\n}());\r\nvar OpenLinkAction = /** @class */ (function (_super) {\r\n    __extends(OpenLinkAction, _super);\r\n    function OpenLinkAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.openLink',\r\n            label: nls.localize('label', \"Open Link\"),\r\n            alias: 'Open Link',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    OpenLinkAction.prototype.run = function (accessor, editor) {\r\n        var linkDetector = LinkDetector.get(editor);\r\n        if (!linkDetector) {\r\n            return;\r\n        }\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var selections = editor.getSelections();\r\n        for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\r\n            var sel = selections_1[_i];\r\n            var link = linkDetector.getLinkOccurrence(sel.getEndPosition());\r\n            if (link) {\r\n                linkDetector.openLinkOccurrence(link, false);\r\n            }\r\n        }\r\n    };\r\n    return OpenLinkAction;\r\n}(EditorAction));\r\nregisterEditorContribution(LinkDetector.ID, LinkDetector);\r\nregisterEditorAction(OpenLinkAction);\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var activeLinkForeground = theme.getColor(editorActiveLinkForeground);\r\n    if (activeLinkForeground) {\r\n        collector.addRule(\".monaco-editor .detected-link-active { color: \" + activeLinkForeground + \" !important; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { RunOnceScheduler } from '../../../base/common/async.js';\r\nimport { KeyChord } from '../../../base/common/keyCodes.js';\r\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { CursorMoveCommands } from '../../common/controller/cursorMoveCommands.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { OverviewRulerLane } from '../../common/model.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { DocumentHighlightProviderRegistry } from '../../common/modes.js';\r\nimport { CommonFindController } from '../find/findController.js';\r\nimport { overviewRulerSelectionHighlightForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { themeColorFromId } from '../../../platform/theme/common/themeService.js';\r\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\r\nvar InsertCursorAbove = /** @class */ (function (_super) {\r\n    __extends(InsertCursorAbove, _super);\r\n    function InsertCursorAbove() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.insertCursorAbove',\r\n            label: nls.localize('mutlicursor.insertAbove', \"Add Cursor Above\"),\r\n            alias: 'Add Cursor Above',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 16 /* UpArrow */,\r\n                linux: {\r\n                    primary: 1024 /* Shift */ | 512 /* Alt */ | 16 /* UpArrow */,\r\n                    secondary: [2048 /* CtrlCmd */ | 1024 /* Shift */ | 16 /* UpArrow */]\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 23 /* MenubarSelectionMenu */,\r\n                group: '3_multi',\r\n                title: nls.localize({ key: 'miInsertCursorAbove', comment: ['&& denotes a mnemonic'] }, \"&&Add Cursor Above\"),\r\n                order: 2\r\n            }\r\n        }) || this;\r\n    }\r\n    InsertCursorAbove.prototype.run = function (accessor, editor, args) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var useLogicalLine = (args && args.logicalLine === true);\r\n        var cursors = editor._getCursors();\r\n        var context = cursors.context;\r\n        if (context.config.readOnly) {\r\n            return;\r\n        }\r\n        context.model.pushStackElement();\r\n        cursors.setStates(args.source, 3 /* Explicit */, CursorMoveCommands.addCursorUp(context, cursors.getAll(), useLogicalLine));\r\n        cursors.reveal(args.source, true, 1 /* TopMost */, 0 /* Smooth */);\r\n    };\r\n    return InsertCursorAbove;\r\n}(EditorAction));\r\nexport { InsertCursorAbove };\r\nvar InsertCursorBelow = /** @class */ (function (_super) {\r\n    __extends(InsertCursorBelow, _super);\r\n    function InsertCursorBelow() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.insertCursorBelow',\r\n            label: nls.localize('mutlicursor.insertBelow', \"Add Cursor Below\"),\r\n            alias: 'Add Cursor Below',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 18 /* DownArrow */,\r\n                linux: {\r\n                    primary: 1024 /* Shift */ | 512 /* Alt */ | 18 /* DownArrow */,\r\n                    secondary: [2048 /* CtrlCmd */ | 1024 /* Shift */ | 18 /* DownArrow */]\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 23 /* MenubarSelectionMenu */,\r\n                group: '3_multi',\r\n                title: nls.localize({ key: 'miInsertCursorBelow', comment: ['&& denotes a mnemonic'] }, \"A&&dd Cursor Below\"),\r\n                order: 3\r\n            }\r\n        }) || this;\r\n    }\r\n    InsertCursorBelow.prototype.run = function (accessor, editor, args) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var useLogicalLine = (args && args.logicalLine === true);\r\n        var cursors = editor._getCursors();\r\n        var context = cursors.context;\r\n        if (context.config.readOnly) {\r\n            return;\r\n        }\r\n        context.model.pushStackElement();\r\n        cursors.setStates(args.source, 3 /* Explicit */, CursorMoveCommands.addCursorDown(context, cursors.getAll(), useLogicalLine));\r\n        cursors.reveal(args.source, true, 2 /* BottomMost */, 0 /* Smooth */);\r\n    };\r\n    return InsertCursorBelow;\r\n}(EditorAction));\r\nexport { InsertCursorBelow };\r\nvar InsertCursorAtEndOfEachLineSelected = /** @class */ (function (_super) {\r\n    __extends(InsertCursorAtEndOfEachLineSelected, _super);\r\n    function InsertCursorAtEndOfEachLineSelected() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.insertCursorAtEndOfEachLineSelected',\r\n            label: nls.localize('mutlicursor.insertAtEndOfEachLineSelected', \"Add Cursors to Line Ends\"),\r\n            alias: 'Add Cursors to Line Ends',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 39 /* KEY_I */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 23 /* MenubarSelectionMenu */,\r\n                group: '3_multi',\r\n                title: nls.localize({ key: 'miInsertCursorAtEndOfEachLineSelected', comment: ['&& denotes a mnemonic'] }, \"Add C&&ursors to Line Ends\"),\r\n                order: 4\r\n            }\r\n        }) || this;\r\n    }\r\n    InsertCursorAtEndOfEachLineSelected.prototype.getCursorsForSelection = function (selection, model, result) {\r\n        if (selection.isEmpty()) {\r\n            return;\r\n        }\r\n        for (var i = selection.startLineNumber; i < selection.endLineNumber; i++) {\r\n            var currentLineMaxColumn = model.getLineMaxColumn(i);\r\n            result.push(new Selection(i, currentLineMaxColumn, i, currentLineMaxColumn));\r\n        }\r\n        if (selection.endColumn > 1) {\r\n            result.push(new Selection(selection.endLineNumber, selection.endColumn, selection.endLineNumber, selection.endColumn));\r\n        }\r\n    };\r\n    InsertCursorAtEndOfEachLineSelected.prototype.run = function (accessor, editor) {\r\n        var _this = this;\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = editor.getModel();\r\n        var selections = editor.getSelections();\r\n        var newSelections = [];\r\n        selections.forEach(function (sel) { return _this.getCursorsForSelection(sel, model, newSelections); });\r\n        if (newSelections.length > 0) {\r\n            editor.setSelections(newSelections);\r\n        }\r\n    };\r\n    return InsertCursorAtEndOfEachLineSelected;\r\n}(EditorAction));\r\nvar InsertCursorAtEndOfLineSelected = /** @class */ (function (_super) {\r\n    __extends(InsertCursorAtEndOfLineSelected, _super);\r\n    function InsertCursorAtEndOfLineSelected() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.addCursorsToBottom',\r\n            label: nls.localize('mutlicursor.addCursorsToBottom', \"Add Cursors To Bottom\"),\r\n            alias: 'Add Cursors To Bottom',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    InsertCursorAtEndOfLineSelected.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var selections = editor.getSelections();\r\n        var lineCount = editor.getModel().getLineCount();\r\n        var newSelections = [];\r\n        for (var i = selections[0].startLineNumber; i <= lineCount; i++) {\r\n            newSelections.push(new Selection(i, selections[0].startColumn, i, selections[0].endColumn));\r\n        }\r\n        if (newSelections.length > 0) {\r\n            editor.setSelections(newSelections);\r\n        }\r\n    };\r\n    return InsertCursorAtEndOfLineSelected;\r\n}(EditorAction));\r\nvar InsertCursorAtTopOfLineSelected = /** @class */ (function (_super) {\r\n    __extends(InsertCursorAtTopOfLineSelected, _super);\r\n    function InsertCursorAtTopOfLineSelected() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.addCursorsToTop',\r\n            label: nls.localize('mutlicursor.addCursorsToTop', \"Add Cursors To Top\"),\r\n            alias: 'Add Cursors To Top',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    InsertCursorAtTopOfLineSelected.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var selections = editor.getSelections();\r\n        var newSelections = [];\r\n        for (var i = selections[0].startLineNumber; i >= 1; i--) {\r\n            newSelections.push(new Selection(i, selections[0].startColumn, i, selections[0].endColumn));\r\n        }\r\n        if (newSelections.length > 0) {\r\n            editor.setSelections(newSelections);\r\n        }\r\n    };\r\n    return InsertCursorAtTopOfLineSelected;\r\n}(EditorAction));\r\nvar MultiCursorSessionResult = /** @class */ (function () {\r\n    function MultiCursorSessionResult(selections, revealRange, revealScrollType) {\r\n        this.selections = selections;\r\n        this.revealRange = revealRange;\r\n        this.revealScrollType = revealScrollType;\r\n    }\r\n    return MultiCursorSessionResult;\r\n}());\r\nexport { MultiCursorSessionResult };\r\nvar MultiCursorSession = /** @class */ (function () {\r\n    function MultiCursorSession(_editor, findController, isDisconnectedFromFindController, searchText, wholeWord, matchCase, currentMatch) {\r\n        this._editor = _editor;\r\n        this.findController = findController;\r\n        this.isDisconnectedFromFindController = isDisconnectedFromFindController;\r\n        this.searchText = searchText;\r\n        this.wholeWord = wholeWord;\r\n        this.matchCase = matchCase;\r\n        this.currentMatch = currentMatch;\r\n    }\r\n    MultiCursorSession.create = function (editor, findController) {\r\n        if (!editor.hasModel()) {\r\n            return null;\r\n        }\r\n        var findState = findController.getState();\r\n        // Find widget owns entirely what we search for if:\r\n        //  - focus is not in the editor (i.e. it is in the find widget)\r\n        //  - and the search widget is visible\r\n        //  - and the search string is non-empty\r\n        if (!editor.hasTextFocus() && findState.isRevealed && findState.searchString.length > 0) {\r\n            // Find widget owns what is searched for\r\n            return new MultiCursorSession(editor, findController, false, findState.searchString, findState.wholeWord, findState.matchCase, null);\r\n        }\r\n        // Otherwise, the selection gives the search text, and the find widget gives the search settings\r\n        // The exception is the find state disassociation case: when beginning with a single, collapsed selection\r\n        var isDisconnectedFromFindController = false;\r\n        var wholeWord;\r\n        var matchCase;\r\n        var selections = editor.getSelections();\r\n        if (selections.length === 1 && selections[0].isEmpty()) {\r\n            isDisconnectedFromFindController = true;\r\n            wholeWord = true;\r\n            matchCase = true;\r\n        }\r\n        else {\r\n            wholeWord = findState.wholeWord;\r\n            matchCase = findState.matchCase;\r\n        }\r\n        // Selection owns what is searched for\r\n        var s = editor.getSelection();\r\n        var searchText;\r\n        var currentMatch = null;\r\n        if (s.isEmpty()) {\r\n            // selection is empty => expand to current word\r\n            var word = editor.getModel().getWordAtPosition(s.getStartPosition());\r\n            if (!word) {\r\n                return null;\r\n            }\r\n            searchText = word.word;\r\n            currentMatch = new Selection(s.startLineNumber, word.startColumn, s.startLineNumber, word.endColumn);\r\n        }\r\n        else {\r\n            searchText = editor.getModel().getValueInRange(s).replace(/\\r\\n/g, '\\n');\r\n        }\r\n        return new MultiCursorSession(editor, findController, isDisconnectedFromFindController, searchText, wholeWord, matchCase, currentMatch);\r\n    };\r\n    MultiCursorSession.prototype.addSelectionToNextFindMatch = function () {\r\n        if (!this._editor.hasModel()) {\r\n            return null;\r\n        }\r\n        var nextMatch = this._getNextMatch();\r\n        if (!nextMatch) {\r\n            return null;\r\n        }\r\n        var allSelections = this._editor.getSelections();\r\n        return new MultiCursorSessionResult(allSelections.concat(nextMatch), nextMatch, 0 /* Smooth */);\r\n    };\r\n    MultiCursorSession.prototype.moveSelectionToNextFindMatch = function () {\r\n        if (!this._editor.hasModel()) {\r\n            return null;\r\n        }\r\n        var nextMatch = this._getNextMatch();\r\n        if (!nextMatch) {\r\n            return null;\r\n        }\r\n        var allSelections = this._editor.getSelections();\r\n        return new MultiCursorSessionResult(allSelections.slice(0, allSelections.length - 1).concat(nextMatch), nextMatch, 0 /* Smooth */);\r\n    };\r\n    MultiCursorSession.prototype._getNextMatch = function () {\r\n        if (!this._editor.hasModel()) {\r\n            return null;\r\n        }\r\n        if (this.currentMatch) {\r\n            var result = this.currentMatch;\r\n            this.currentMatch = null;\r\n            return result;\r\n        }\r\n        this.findController.highlightFindOptions();\r\n        var allSelections = this._editor.getSelections();\r\n        var lastAddedSelection = allSelections[allSelections.length - 1];\r\n        var nextMatch = this._editor.getModel().findNextMatch(this.searchText, lastAddedSelection.getEndPosition(), false, this.matchCase, this.wholeWord ? this._editor.getOption(92 /* wordSeparators */) : null, false);\r\n        if (!nextMatch) {\r\n            return null;\r\n        }\r\n        return new Selection(nextMatch.range.startLineNumber, nextMatch.range.startColumn, nextMatch.range.endLineNumber, nextMatch.range.endColumn);\r\n    };\r\n    MultiCursorSession.prototype.addSelectionToPreviousFindMatch = function () {\r\n        if (!this._editor.hasModel()) {\r\n            return null;\r\n        }\r\n        var previousMatch = this._getPreviousMatch();\r\n        if (!previousMatch) {\r\n            return null;\r\n        }\r\n        var allSelections = this._editor.getSelections();\r\n        return new MultiCursorSessionResult(allSelections.concat(previousMatch), previousMatch, 0 /* Smooth */);\r\n    };\r\n    MultiCursorSession.prototype.moveSelectionToPreviousFindMatch = function () {\r\n        if (!this._editor.hasModel()) {\r\n            return null;\r\n        }\r\n        var previousMatch = this._getPreviousMatch();\r\n        if (!previousMatch) {\r\n            return null;\r\n        }\r\n        var allSelections = this._editor.getSelections();\r\n        return new MultiCursorSessionResult(allSelections.slice(0, allSelections.length - 1).concat(previousMatch), previousMatch, 0 /* Smooth */);\r\n    };\r\n    MultiCursorSession.prototype._getPreviousMatch = function () {\r\n        if (!this._editor.hasModel()) {\r\n            return null;\r\n        }\r\n        if (this.currentMatch) {\r\n            var result = this.currentMatch;\r\n            this.currentMatch = null;\r\n            return result;\r\n        }\r\n        this.findController.highlightFindOptions();\r\n        var allSelections = this._editor.getSelections();\r\n        var lastAddedSelection = allSelections[allSelections.length - 1];\r\n        var previousMatch = this._editor.getModel().findPreviousMatch(this.searchText, lastAddedSelection.getStartPosition(), false, this.matchCase, this.wholeWord ? this._editor.getOption(92 /* wordSeparators */) : null, false);\r\n        if (!previousMatch) {\r\n            return null;\r\n        }\r\n        return new Selection(previousMatch.range.startLineNumber, previousMatch.range.startColumn, previousMatch.range.endLineNumber, previousMatch.range.endColumn);\r\n    };\r\n    MultiCursorSession.prototype.selectAll = function () {\r\n        if (!this._editor.hasModel()) {\r\n            return [];\r\n        }\r\n        this.findController.highlightFindOptions();\r\n        return this._editor.getModel().findMatches(this.searchText, true, false, this.matchCase, this.wholeWord ? this._editor.getOption(92 /* wordSeparators */) : null, false, 1073741824 /* MAX_SAFE_SMALL_INTEGER */);\r\n    };\r\n    return MultiCursorSession;\r\n}());\r\nexport { MultiCursorSession };\r\nvar MultiCursorSelectionController = /** @class */ (function (_super) {\r\n    __extends(MultiCursorSelectionController, _super);\r\n    function MultiCursorSelectionController(editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this._sessionDispose = _this._register(new DisposableStore());\r\n        _this._editor = editor;\r\n        _this._ignoreSelectionChange = false;\r\n        _this._session = null;\r\n        return _this;\r\n    }\r\n    MultiCursorSelectionController.get = function (editor) {\r\n        return editor.getContribution(MultiCursorSelectionController.ID);\r\n    };\r\n    MultiCursorSelectionController.prototype.dispose = function () {\r\n        this._endSession();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    MultiCursorSelectionController.prototype._beginSessionIfNeeded = function (findController) {\r\n        var _this = this;\r\n        if (!this._session) {\r\n            // Create a new session\r\n            var session = MultiCursorSession.create(this._editor, findController);\r\n            if (!session) {\r\n                return;\r\n            }\r\n            this._session = session;\r\n            var newState = { searchString: this._session.searchText };\r\n            if (this._session.isDisconnectedFromFindController) {\r\n                newState.wholeWordOverride = 1 /* True */;\r\n                newState.matchCaseOverride = 1 /* True */;\r\n                newState.isRegexOverride = 2 /* False */;\r\n            }\r\n            findController.getState().change(newState, false);\r\n            this._sessionDispose.add(this._editor.onDidChangeCursorSelection(function (e) {\r\n                if (_this._ignoreSelectionChange) {\r\n                    return;\r\n                }\r\n                _this._endSession();\r\n            }));\r\n            this._sessionDispose.add(this._editor.onDidBlurEditorText(function () {\r\n                _this._endSession();\r\n            }));\r\n            this._sessionDispose.add(findController.getState().onFindReplaceStateChange(function (e) {\r\n                if (e.matchCase || e.wholeWord) {\r\n                    _this._endSession();\r\n                }\r\n            }));\r\n        }\r\n    };\r\n    MultiCursorSelectionController.prototype._endSession = function () {\r\n        this._sessionDispose.clear();\r\n        if (this._session && this._session.isDisconnectedFromFindController) {\r\n            var newState = {\r\n                wholeWordOverride: 0 /* NotSet */,\r\n                matchCaseOverride: 0 /* NotSet */,\r\n                isRegexOverride: 0 /* NotSet */,\r\n            };\r\n            this._session.findController.getState().change(newState, false);\r\n        }\r\n        this._session = null;\r\n    };\r\n    MultiCursorSelectionController.prototype._setSelections = function (selections) {\r\n        this._ignoreSelectionChange = true;\r\n        this._editor.setSelections(selections);\r\n        this._ignoreSelectionChange = false;\r\n    };\r\n    MultiCursorSelectionController.prototype._expandEmptyToWord = function (model, selection) {\r\n        if (!selection.isEmpty()) {\r\n            return selection;\r\n        }\r\n        var word = model.getWordAtPosition(selection.getStartPosition());\r\n        if (!word) {\r\n            return selection;\r\n        }\r\n        return new Selection(selection.startLineNumber, word.startColumn, selection.startLineNumber, word.endColumn);\r\n    };\r\n    MultiCursorSelectionController.prototype._applySessionResult = function (result) {\r\n        if (!result) {\r\n            return;\r\n        }\r\n        this._setSelections(result.selections);\r\n        if (result.revealRange) {\r\n            this._editor.revealRangeInCenterIfOutsideViewport(result.revealRange, result.revealScrollType);\r\n        }\r\n    };\r\n    MultiCursorSelectionController.prototype.getSession = function (findController) {\r\n        return this._session;\r\n    };\r\n    MultiCursorSelectionController.prototype.addSelectionToNextFindMatch = function (findController) {\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        if (!this._session) {\r\n            // If there are multiple cursors, handle the case where they do not all select the same text.\r\n            var allSelections = this._editor.getSelections();\r\n            if (allSelections.length > 1) {\r\n                var findState = findController.getState();\r\n                var matchCase = findState.matchCase;\r\n                var selectionsContainSameText = modelRangesContainSameText(this._editor.getModel(), allSelections, matchCase);\r\n                if (!selectionsContainSameText) {\r\n                    var model = this._editor.getModel();\r\n                    var resultingSelections = [];\r\n                    for (var i = 0, len = allSelections.length; i < len; i++) {\r\n                        resultingSelections[i] = this._expandEmptyToWord(model, allSelections[i]);\r\n                    }\r\n                    this._editor.setSelections(resultingSelections);\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        this._beginSessionIfNeeded(findController);\r\n        if (this._session) {\r\n            this._applySessionResult(this._session.addSelectionToNextFindMatch());\r\n        }\r\n    };\r\n    MultiCursorSelectionController.prototype.addSelectionToPreviousFindMatch = function (findController) {\r\n        this._beginSessionIfNeeded(findController);\r\n        if (this._session) {\r\n            this._applySessionResult(this._session.addSelectionToPreviousFindMatch());\r\n        }\r\n    };\r\n    MultiCursorSelectionController.prototype.moveSelectionToNextFindMatch = function (findController) {\r\n        this._beginSessionIfNeeded(findController);\r\n        if (this._session) {\r\n            this._applySessionResult(this._session.moveSelectionToNextFindMatch());\r\n        }\r\n    };\r\n    MultiCursorSelectionController.prototype.moveSelectionToPreviousFindMatch = function (findController) {\r\n        this._beginSessionIfNeeded(findController);\r\n        if (this._session) {\r\n            this._applySessionResult(this._session.moveSelectionToPreviousFindMatch());\r\n        }\r\n    };\r\n    MultiCursorSelectionController.prototype.selectAll = function (findController) {\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var matches = null;\r\n        var findState = findController.getState();\r\n        // Special case: find widget owns entirely what we search for if:\r\n        // - focus is not in the editor (i.e. it is in the find widget)\r\n        // - and the search widget is visible\r\n        // - and the search string is non-empty\r\n        // - and we're searching for a regex\r\n        if (findState.isRevealed && findState.searchString.length > 0 && findState.isRegex) {\r\n            matches = this._editor.getModel().findMatches(findState.searchString, true, findState.isRegex, findState.matchCase, findState.wholeWord ? this._editor.getOption(92 /* wordSeparators */) : null, false, 1073741824 /* MAX_SAFE_SMALL_INTEGER */);\r\n        }\r\n        else {\r\n            this._beginSessionIfNeeded(findController);\r\n            if (!this._session) {\r\n                return;\r\n            }\r\n            matches = this._session.selectAll();\r\n        }\r\n        if (findState.searchScope) {\r\n            var state = findState.searchScope;\r\n            var inSelection = [];\r\n            for (var i = 0; i < matches.length; i++) {\r\n                if (matches[i].range.endLineNumber <= state.endLineNumber && matches[i].range.startLineNumber >= state.startLineNumber) {\r\n                    inSelection.push(matches[i]);\r\n                }\r\n            }\r\n            matches = inSelection;\r\n        }\r\n        if (matches.length > 0) {\r\n            var editorSelection = this._editor.getSelection();\r\n            // Have the primary cursor remain the one where the action was invoked\r\n            for (var i = 0, len = matches.length; i < len; i++) {\r\n                var match = matches[i];\r\n                var intersection = match.range.intersectRanges(editorSelection);\r\n                if (intersection) {\r\n                    // bingo!\r\n                    matches[i] = matches[0];\r\n                    matches[0] = match;\r\n                    break;\r\n                }\r\n            }\r\n            this._setSelections(matches.map(function (m) { return new Selection(m.range.startLineNumber, m.range.startColumn, m.range.endLineNumber, m.range.endColumn); }));\r\n        }\r\n    };\r\n    MultiCursorSelectionController.ID = 'editor.contrib.multiCursorController';\r\n    return MultiCursorSelectionController;\r\n}(Disposable));\r\nexport { MultiCursorSelectionController };\r\nvar MultiCursorSelectionControllerAction = /** @class */ (function (_super) {\r\n    __extends(MultiCursorSelectionControllerAction, _super);\r\n    function MultiCursorSelectionControllerAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MultiCursorSelectionControllerAction.prototype.run = function (accessor, editor) {\r\n        var multiCursorController = MultiCursorSelectionController.get(editor);\r\n        if (!multiCursorController) {\r\n            return;\r\n        }\r\n        var findController = CommonFindController.get(editor);\r\n        if (!findController) {\r\n            return;\r\n        }\r\n        this._run(multiCursorController, findController);\r\n    };\r\n    return MultiCursorSelectionControllerAction;\r\n}(EditorAction));\r\nexport { MultiCursorSelectionControllerAction };\r\nvar AddSelectionToNextFindMatchAction = /** @class */ (function (_super) {\r\n    __extends(AddSelectionToNextFindMatchAction, _super);\r\n    function AddSelectionToNextFindMatchAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.addSelectionToNextFindMatch',\r\n            label: nls.localize('addSelectionToNextFindMatch', \"Add Selection To Next Find Match\"),\r\n            alias: 'Add Selection To Next Find Match',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 2048 /* CtrlCmd */ | 34 /* KEY_D */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 23 /* MenubarSelectionMenu */,\r\n                group: '3_multi',\r\n                title: nls.localize({ key: 'miAddSelectionToNextFindMatch', comment: ['&& denotes a mnemonic'] }, \"Add &&Next Occurrence\"),\r\n                order: 5\r\n            }\r\n        }) || this;\r\n    }\r\n    AddSelectionToNextFindMatchAction.prototype._run = function (multiCursorController, findController) {\r\n        multiCursorController.addSelectionToNextFindMatch(findController);\r\n    };\r\n    return AddSelectionToNextFindMatchAction;\r\n}(MultiCursorSelectionControllerAction));\r\nexport { AddSelectionToNextFindMatchAction };\r\nvar AddSelectionToPreviousFindMatchAction = /** @class */ (function (_super) {\r\n    __extends(AddSelectionToPreviousFindMatchAction, _super);\r\n    function AddSelectionToPreviousFindMatchAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.addSelectionToPreviousFindMatch',\r\n            label: nls.localize('addSelectionToPreviousFindMatch', \"Add Selection To Previous Find Match\"),\r\n            alias: 'Add Selection To Previous Find Match',\r\n            precondition: undefined,\r\n            menuOpts: {\r\n                menuId: 23 /* MenubarSelectionMenu */,\r\n                group: '3_multi',\r\n                title: nls.localize({ key: 'miAddSelectionToPreviousFindMatch', comment: ['&& denotes a mnemonic'] }, \"Add P&&revious Occurrence\"),\r\n                order: 6\r\n            }\r\n        }) || this;\r\n    }\r\n    AddSelectionToPreviousFindMatchAction.prototype._run = function (multiCursorController, findController) {\r\n        multiCursorController.addSelectionToPreviousFindMatch(findController);\r\n    };\r\n    return AddSelectionToPreviousFindMatchAction;\r\n}(MultiCursorSelectionControllerAction));\r\nexport { AddSelectionToPreviousFindMatchAction };\r\nvar MoveSelectionToNextFindMatchAction = /** @class */ (function (_super) {\r\n    __extends(MoveSelectionToNextFindMatchAction, _super);\r\n    function MoveSelectionToNextFindMatchAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.moveSelectionToNextFindMatch',\r\n            label: nls.localize('moveSelectionToNextFindMatch', \"Move Last Selection To Next Find Match\"),\r\n            alias: 'Move Last Selection To Next Find Match',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, 2048 /* CtrlCmd */ | 34 /* KEY_D */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    MoveSelectionToNextFindMatchAction.prototype._run = function (multiCursorController, findController) {\r\n        multiCursorController.moveSelectionToNextFindMatch(findController);\r\n    };\r\n    return MoveSelectionToNextFindMatchAction;\r\n}(MultiCursorSelectionControllerAction));\r\nexport { MoveSelectionToNextFindMatchAction };\r\nvar MoveSelectionToPreviousFindMatchAction = /** @class */ (function (_super) {\r\n    __extends(MoveSelectionToPreviousFindMatchAction, _super);\r\n    function MoveSelectionToPreviousFindMatchAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.moveSelectionToPreviousFindMatch',\r\n            label: nls.localize('moveSelectionToPreviousFindMatch', \"Move Last Selection To Previous Find Match\"),\r\n            alias: 'Move Last Selection To Previous Find Match',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    MoveSelectionToPreviousFindMatchAction.prototype._run = function (multiCursorController, findController) {\r\n        multiCursorController.moveSelectionToPreviousFindMatch(findController);\r\n    };\r\n    return MoveSelectionToPreviousFindMatchAction;\r\n}(MultiCursorSelectionControllerAction));\r\nexport { MoveSelectionToPreviousFindMatchAction };\r\nvar SelectHighlightsAction = /** @class */ (function (_super) {\r\n    __extends(SelectHighlightsAction, _super);\r\n    function SelectHighlightsAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.selectHighlights',\r\n            label: nls.localize('selectAllOccurrencesOfFindMatch', \"Select All Occurrences of Find Match\"),\r\n            alias: 'Select All Occurrences of Find Match',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 42 /* KEY_L */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 23 /* MenubarSelectionMenu */,\r\n                group: '3_multi',\r\n                title: nls.localize({ key: 'miSelectHighlights', comment: ['&& denotes a mnemonic'] }, \"Select All &&Occurrences\"),\r\n                order: 7\r\n            }\r\n        }) || this;\r\n    }\r\n    SelectHighlightsAction.prototype._run = function (multiCursorController, findController) {\r\n        multiCursorController.selectAll(findController);\r\n    };\r\n    return SelectHighlightsAction;\r\n}(MultiCursorSelectionControllerAction));\r\nexport { SelectHighlightsAction };\r\nvar CompatChangeAll = /** @class */ (function (_super) {\r\n    __extends(CompatChangeAll, _super);\r\n    function CompatChangeAll() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.changeAll',\r\n            label: nls.localize('changeAll.label', \"Change All Occurrences\"),\r\n            alias: 'Change All Occurrences',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.editorTextFocus),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 60 /* F2 */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                group: '1_modification',\r\n                order: 1.2\r\n            }\r\n        }) || this;\r\n    }\r\n    CompatChangeAll.prototype._run = function (multiCursorController, findController) {\r\n        multiCursorController.selectAll(findController);\r\n    };\r\n    return CompatChangeAll;\r\n}(MultiCursorSelectionControllerAction));\r\nexport { CompatChangeAll };\r\nvar SelectionHighlighterState = /** @class */ (function () {\r\n    function SelectionHighlighterState(searchText, matchCase, wordSeparators) {\r\n        this.searchText = searchText;\r\n        this.matchCase = matchCase;\r\n        this.wordSeparators = wordSeparators;\r\n    }\r\n    /**\r\n     * Everything equals except for `lastWordUnderCursor`\r\n     */\r\n    SelectionHighlighterState.softEquals = function (a, b) {\r\n        if (!a && !b) {\r\n            return true;\r\n        }\r\n        if (!a || !b) {\r\n            return false;\r\n        }\r\n        return (a.searchText === b.searchText\r\n            && a.matchCase === b.matchCase\r\n            && a.wordSeparators === b.wordSeparators);\r\n    };\r\n    return SelectionHighlighterState;\r\n}());\r\nvar SelectionHighlighter = /** @class */ (function (_super) {\r\n    __extends(SelectionHighlighter, _super);\r\n    function SelectionHighlighter(editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this.editor = editor;\r\n        _this._isEnabled = editor.getOption(78 /* selectionHighlight */);\r\n        _this.decorations = [];\r\n        _this.updateSoon = _this._register(new RunOnceScheduler(function () { return _this._update(); }, 300));\r\n        _this.state = null;\r\n        _this._register(editor.onDidChangeConfiguration(function (e) {\r\n            _this._isEnabled = editor.getOption(78 /* selectionHighlight */);\r\n        }));\r\n        _this._register(editor.onDidChangeCursorSelection(function (e) {\r\n            if (!_this._isEnabled) {\r\n                // Early exit if nothing needs to be done!\r\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\r\n                return;\r\n            }\r\n            if (e.selection.isEmpty()) {\r\n                if (e.reason === 3 /* Explicit */) {\r\n                    if (_this.state) {\r\n                        // no longer valid\r\n                        _this._setState(null);\r\n                    }\r\n                    _this.updateSoon.schedule();\r\n                }\r\n                else {\r\n                    _this._setState(null);\r\n                }\r\n            }\r\n            else {\r\n                _this._update();\r\n            }\r\n        }));\r\n        _this._register(editor.onDidChangeModel(function (e) {\r\n            _this._setState(null);\r\n        }));\r\n        _this._register(CommonFindController.get(editor).getState().onFindReplaceStateChange(function (e) {\r\n            _this._update();\r\n        }));\r\n        return _this;\r\n    }\r\n    SelectionHighlighter.prototype._update = function () {\r\n        this._setState(SelectionHighlighter._createState(this._isEnabled, this.editor));\r\n    };\r\n    SelectionHighlighter._createState = function (isEnabled, editor) {\r\n        if (!isEnabled) {\r\n            return null;\r\n        }\r\n        if (!editor.hasModel()) {\r\n            return null;\r\n        }\r\n        var s = editor.getSelection();\r\n        if (s.startLineNumber !== s.endLineNumber) {\r\n            // multiline forbidden for perf reasons\r\n            return null;\r\n        }\r\n        var multiCursorController = MultiCursorSelectionController.get(editor);\r\n        if (!multiCursorController) {\r\n            return null;\r\n        }\r\n        var findController = CommonFindController.get(editor);\r\n        if (!findController) {\r\n            return null;\r\n        }\r\n        var r = multiCursorController.getSession(findController);\r\n        if (!r) {\r\n            var allSelections = editor.getSelections();\r\n            if (allSelections.length > 1) {\r\n                var findState_1 = findController.getState();\r\n                var matchCase = findState_1.matchCase;\r\n                var selectionsContainSameText = modelRangesContainSameText(editor.getModel(), allSelections, matchCase);\r\n                if (!selectionsContainSameText) {\r\n                    return null;\r\n                }\r\n            }\r\n            r = MultiCursorSession.create(editor, findController);\r\n        }\r\n        if (!r) {\r\n            return null;\r\n        }\r\n        if (r.currentMatch) {\r\n            // This is an empty selection\r\n            // Do not interfere with semantic word highlighting in the no selection case\r\n            return null;\r\n        }\r\n        if (/^[ \\t]+$/.test(r.searchText)) {\r\n            // whitespace only selection\r\n            return null;\r\n        }\r\n        if (r.searchText.length > 200) {\r\n            // very long selection\r\n            return null;\r\n        }\r\n        // TODO: better handling of this case\r\n        var findState = findController.getState();\r\n        var caseSensitive = findState.matchCase;\r\n        // Return early if the find widget shows the exact same matches\r\n        if (findState.isRevealed) {\r\n            var findStateSearchString = findState.searchString;\r\n            if (!caseSensitive) {\r\n                findStateSearchString = findStateSearchString.toLowerCase();\r\n            }\r\n            var mySearchString = r.searchText;\r\n            if (!caseSensitive) {\r\n                mySearchString = mySearchString.toLowerCase();\r\n            }\r\n            if (findStateSearchString === mySearchString && r.matchCase === findState.matchCase && r.wholeWord === findState.wholeWord && !findState.isRegex) {\r\n                return null;\r\n            }\r\n        }\r\n        return new SelectionHighlighterState(r.searchText, r.matchCase, r.wholeWord ? editor.getOption(92 /* wordSeparators */) : null);\r\n    };\r\n    SelectionHighlighter.prototype._setState = function (state) {\r\n        if (SelectionHighlighterState.softEquals(this.state, state)) {\r\n            this.state = state;\r\n            return;\r\n        }\r\n        this.state = state;\r\n        if (!this.state) {\r\n            this.decorations = this.editor.deltaDecorations(this.decorations, []);\r\n            return;\r\n        }\r\n        if (!this.editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = this.editor.getModel();\r\n        if (model.isTooLargeForTokenization()) {\r\n            // the file is too large, so searching word under cursor in the whole document takes is blocking the UI.\r\n            return;\r\n        }\r\n        var hasFindOccurrences = DocumentHighlightProviderRegistry.has(model);\r\n        var allMatches = model.findMatches(this.state.searchText, true, false, this.state.matchCase, this.state.wordSeparators, false).map(function (m) { return m.range; });\r\n        allMatches.sort(Range.compareRangesUsingStarts);\r\n        var selections = this.editor.getSelections();\r\n        selections.sort(Range.compareRangesUsingStarts);\r\n        // do not overlap with selection (issue #64 and #512)\r\n        var matches = [];\r\n        for (var i = 0, j = 0, len = allMatches.length, lenJ = selections.length; i < len;) {\r\n            var match = allMatches[i];\r\n            if (j >= lenJ) {\r\n                // finished all editor selections\r\n                matches.push(match);\r\n                i++;\r\n            }\r\n            else {\r\n                var cmp = Range.compareRangesUsingStarts(match, selections[j]);\r\n                if (cmp < 0) {\r\n                    // match is before sel\r\n                    if (selections[j].isEmpty() || !Range.areIntersecting(match, selections[j])) {\r\n                        matches.push(match);\r\n                    }\r\n                    i++;\r\n                }\r\n                else if (cmp > 0) {\r\n                    // sel is before match\r\n                    j++;\r\n                }\r\n                else {\r\n                    // sel is equal to match\r\n                    i++;\r\n                    j++;\r\n                }\r\n            }\r\n        }\r\n        var decorations = matches.map(function (r) {\r\n            return {\r\n                range: r,\r\n                // Show in overviewRuler only if model has no semantic highlighting\r\n                options: (hasFindOccurrences ? SelectionHighlighter._SELECTION_HIGHLIGHT : SelectionHighlighter._SELECTION_HIGHLIGHT_OVERVIEW)\r\n            };\r\n        });\r\n        this.decorations = this.editor.deltaDecorations(this.decorations, decorations);\r\n    };\r\n    SelectionHighlighter.prototype.dispose = function () {\r\n        this._setState(null);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    SelectionHighlighter.ID = 'editor.contrib.selectionHighlighter';\r\n    SelectionHighlighter._SELECTION_HIGHLIGHT_OVERVIEW = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'selectionHighlight',\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerSelectionHighlightForeground),\r\n            position: OverviewRulerLane.Center\r\n        }\r\n    });\r\n    SelectionHighlighter._SELECTION_HIGHLIGHT = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'selectionHighlight',\r\n    });\r\n    return SelectionHighlighter;\r\n}(Disposable));\r\nexport { SelectionHighlighter };\r\nfunction modelRangesContainSameText(model, ranges, matchCase) {\r\n    var selectedText = getValueInRange(model, ranges[0], !matchCase);\r\n    for (var i = 1, len = ranges.length; i < len; i++) {\r\n        var range = ranges[i];\r\n        if (range.isEmpty()) {\r\n            return false;\r\n        }\r\n        var thisSelectedText = getValueInRange(model, range, !matchCase);\r\n        if (selectedText !== thisSelectedText) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction getValueInRange(model, range, toLowerCase) {\r\n    var text = model.getValueInRange(range);\r\n    return (toLowerCase ? text.toLowerCase() : text);\r\n}\r\nregisterEditorContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\r\nregisterEditorContribution(SelectionHighlighter.ID, SelectionHighlighter);\r\nregisterEditorAction(InsertCursorAbove);\r\nregisterEditorAction(InsertCursorBelow);\r\nregisterEditorAction(InsertCursorAtEndOfEachLineSelected);\r\nregisterEditorAction(AddSelectionToNextFindMatchAction);\r\nregisterEditorAction(AddSelectionToPreviousFindMatchAction);\r\nregisterEditorAction(MoveSelectionToNextFindMatchAction);\r\nregisterEditorAction(MoveSelectionToPreviousFindMatchAction);\r\nregisterEditorAction(SelectHighlightsAction);\r\nregisterEditorAction(CompatChangeAll);\r\nregisterEditorAction(InsertCursorAtEndOfLineSelected);\r\nregisterEditorAction(InsertCursorAtTopOfLineSelected);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { first } from '../../../base/common/async.js';\r\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { registerDefaultLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport * as modes from '../../common/modes.js';\r\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nexport var Context = {\r\n    Visible: new RawContextKey('parameterHintsVisible', false),\r\n    MultipleSignatures: new RawContextKey('parameterHintsMultipleSignatures', false),\r\n};\r\nexport function provideSignatureHelp(model, position, context, token) {\r\n    var supports = modes.SignatureHelpProviderRegistry.ordered(model);\r\n    return first(supports.map(function (support) { return function () {\r\n        return Promise.resolve(support.provideSignatureHelp(model, position, token, context))\r\n            .catch(function (e) { return onUnexpectedExternalError(e); });\r\n    }; }));\r\n}\r\nregisterDefaultLanguageCommand('_executeSignatureHelpProvider', function (model, position, args) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var result;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0: return [4 /*yield*/, provideSignatureHelp(model, position, {\r\n                    triggerKind: modes.SignatureHelpTriggerKind.Invoke,\r\n                    isRetrigger: false,\r\n                    triggerCharacter: args['triggerCharacter']\r\n                }, CancellationToken.None)];\r\n            case 1:\r\n                result = _a.sent();\r\n                if (!result) {\r\n                    return [2 /*return*/, undefined];\r\n                }\r\n                setTimeout(function () { return result.dispose(); }, 0);\r\n                return [2 /*return*/, result.value];\r\n        }\r\n    });\r\n}); });\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { createCancelablePromise, Delayer } from '../../../base/common/async.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Disposable, MutableDisposable } from '../../../base/common/lifecycle.js';\r\nimport { CharacterSet } from '../../common/core/characterClassifier.js';\r\nimport * as modes from '../../common/modes.js';\r\nimport { provideSignatureHelp } from './provideSignatureHelp.js';\r\nvar ParameterHintState;\r\n(function (ParameterHintState) {\r\n    ParameterHintState.Default = { type: 0 /* Default */ };\r\n    var Pending = /** @class */ (function () {\r\n        function Pending(request) {\r\n            this.request = request;\r\n            this.type = 2 /* Pending */;\r\n        }\r\n        return Pending;\r\n    }());\r\n    ParameterHintState.Pending = Pending;\r\n    var Active = /** @class */ (function () {\r\n        function Active(hints) {\r\n            this.hints = hints;\r\n            this.type = 1 /* Active */;\r\n        }\r\n        return Active;\r\n    }());\r\n    ParameterHintState.Active = Active;\r\n})(ParameterHintState || (ParameterHintState = {}));\r\nvar ParameterHintsModel = /** @class */ (function (_super) {\r\n    __extends(ParameterHintsModel, _super);\r\n    function ParameterHintsModel(editor, delay) {\r\n        if (delay === void 0) { delay = ParameterHintsModel.DEFAULT_DELAY; }\r\n        var _this = _super.call(this) || this;\r\n        _this._onChangedHints = _this._register(new Emitter());\r\n        _this.onChangedHints = _this._onChangedHints.event;\r\n        _this.triggerOnType = false;\r\n        _this._state = ParameterHintState.Default;\r\n        _this._pendingTriggers = [];\r\n        _this._lastSignatureHelpResult = _this._register(new MutableDisposable());\r\n        _this.triggerChars = new CharacterSet();\r\n        _this.retriggerChars = new CharacterSet();\r\n        _this.triggerId = 0;\r\n        _this.editor = editor;\r\n        _this.throttledDelayer = new Delayer(delay);\r\n        _this._register(_this.editor.onDidChangeConfiguration(function () { return _this.onEditorConfigurationChange(); }));\r\n        _this._register(_this.editor.onDidChangeModel(function (e) { return _this.onModelChanged(); }));\r\n        _this._register(_this.editor.onDidChangeModelLanguage(function (_) { return _this.onModelChanged(); }));\r\n        _this._register(_this.editor.onDidChangeCursorSelection(function (e) { return _this.onCursorChange(e); }));\r\n        _this._register(_this.editor.onDidChangeModelContent(function (e) { return _this.onModelContentChange(); }));\r\n        _this._register(modes.SignatureHelpProviderRegistry.onDidChange(_this.onModelChanged, _this));\r\n        _this._register(_this.editor.onDidType(function (text) { return _this.onDidType(text); }));\r\n        _this.onEditorConfigurationChange();\r\n        _this.onModelChanged();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ParameterHintsModel.prototype, \"state\", {\r\n        get: function () { return this._state; },\r\n        set: function (value) {\r\n            if (this._state.type === 2 /* Pending */) {\r\n                this._state.request.cancel();\r\n            }\r\n            this._state = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ParameterHintsModel.prototype.cancel = function (silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        this.state = ParameterHintState.Default;\r\n        this.throttledDelayer.cancel();\r\n        if (!silent) {\r\n            this._onChangedHints.fire(undefined);\r\n        }\r\n    };\r\n    ParameterHintsModel.prototype.trigger = function (context, delay) {\r\n        var _this = this;\r\n        var model = this.editor.getModel();\r\n        if (!model || !modes.SignatureHelpProviderRegistry.has(model)) {\r\n            return;\r\n        }\r\n        var triggerId = ++this.triggerId;\r\n        this._pendingTriggers.push(context);\r\n        this.throttledDelayer.trigger(function () {\r\n            return _this.doTrigger(triggerId);\r\n        }, delay)\r\n            .catch(onUnexpectedError);\r\n    };\r\n    ParameterHintsModel.prototype.next = function () {\r\n        if (this.state.type !== 1 /* Active */) {\r\n            return;\r\n        }\r\n        var length = this.state.hints.signatures.length;\r\n        var activeSignature = this.state.hints.activeSignature;\r\n        var last = (activeSignature % length) === (length - 1);\r\n        var cycle = this.editor.getOption(62 /* parameterHints */).cycle;\r\n        // If there is only one signature, or we're on last signature of list\r\n        if ((length < 2 || last) && !cycle) {\r\n            this.cancel();\r\n            return;\r\n        }\r\n        this.updateActiveSignature(last && cycle ? 0 : activeSignature + 1);\r\n    };\r\n    ParameterHintsModel.prototype.previous = function () {\r\n        if (this.state.type !== 1 /* Active */) {\r\n            return;\r\n        }\r\n        var length = this.state.hints.signatures.length;\r\n        var activeSignature = this.state.hints.activeSignature;\r\n        var first = activeSignature === 0;\r\n        var cycle = this.editor.getOption(62 /* parameterHints */).cycle;\r\n        // If there is only one signature, or we're on first signature of list\r\n        if ((length < 2 || first) && !cycle) {\r\n            this.cancel();\r\n            return;\r\n        }\r\n        this.updateActiveSignature(first && cycle ? length - 1 : activeSignature - 1);\r\n    };\r\n    ParameterHintsModel.prototype.updateActiveSignature = function (activeSignature) {\r\n        if (this.state.type !== 1 /* Active */) {\r\n            return;\r\n        }\r\n        this.state = new ParameterHintState.Active(__assign(__assign({}, this.state.hints), { activeSignature: activeSignature }));\r\n        this._onChangedHints.fire(this.state.hints);\r\n    };\r\n    ParameterHintsModel.prototype.doTrigger = function (triggerId) {\r\n        var _a, _b;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var isRetrigger, activeSignatureHelp, context, triggerContext, model, position, result, error_1;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        isRetrigger = this.state.type === 1 /* Active */ || this.state.type === 2 /* Pending */;\r\n                        activeSignatureHelp = this.state.type === 1 /* Active */ ? this.state.hints : undefined;\r\n                        this.cancel(true);\r\n                        if (this._pendingTriggers.length === 0) {\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        context = this._pendingTriggers.reduce(mergeTriggerContexts);\r\n                        this._pendingTriggers = [];\r\n                        triggerContext = {\r\n                            triggerKind: context.triggerKind,\r\n                            triggerCharacter: context.triggerCharacter,\r\n                            isRetrigger: isRetrigger,\r\n                            activeSignatureHelp: activeSignatureHelp\r\n                        };\r\n                        if (!this.editor.hasModel()) {\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        model = this.editor.getModel();\r\n                        position = this.editor.getPosition();\r\n                        this.state = new ParameterHintState.Pending(createCancelablePromise(function (token) {\r\n                            return provideSignatureHelp(model, position, triggerContext, token);\r\n                        }));\r\n                        _c.label = 1;\r\n                    case 1:\r\n                        _c.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, this.state.request];\r\n                    case 2:\r\n                        result = _c.sent();\r\n                        // Check that we are still resolving the correct signature help\r\n                        if (triggerId !== this.triggerId) {\r\n                            (_a = result) === null || _a === void 0 ? void 0 : _a.dispose();\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        if (!result || !result.value.signatures || result.value.signatures.length === 0) {\r\n                            (_b = result) === null || _b === void 0 ? void 0 : _b.dispose();\r\n                            this._lastSignatureHelpResult.clear();\r\n                            this.cancel();\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        else {\r\n                            this.state = new ParameterHintState.Active(result.value);\r\n                            this._lastSignatureHelpResult.value = result;\r\n                            this._onChangedHints.fire(this.state.hints);\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        error_1 = _c.sent();\r\n                        if (triggerId === this.triggerId) {\r\n                            this.state = ParameterHintState.Default;\r\n                        }\r\n                        onUnexpectedError(error_1);\r\n                        return [2 /*return*/, false];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Object.defineProperty(ParameterHintsModel.prototype, \"isTriggered\", {\r\n        get: function () {\r\n            return this.state.type === 1 /* Active */\r\n                || this.state.type === 2 /* Pending */\r\n                || this.throttledDelayer.isTriggered();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ParameterHintsModel.prototype.onModelChanged = function () {\r\n        this.cancel();\r\n        // Update trigger characters\r\n        this.triggerChars = new CharacterSet();\r\n        this.retriggerChars = new CharacterSet();\r\n        var model = this.editor.getModel();\r\n        if (!model) {\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = modes.SignatureHelpProviderRegistry.ordered(model); _i < _a.length; _i++) {\r\n            var support = _a[_i];\r\n            for (var _b = 0, _c = support.signatureHelpTriggerCharacters || []; _b < _c.length; _b++) {\r\n                var ch = _c[_b];\r\n                this.triggerChars.add(ch.charCodeAt(0));\r\n                // All trigger characters are also considered retrigger characters\r\n                this.retriggerChars.add(ch.charCodeAt(0));\r\n            }\r\n            for (var _d = 0, _e = support.signatureHelpRetriggerCharacters || []; _d < _e.length; _d++) {\r\n                var ch = _e[_d];\r\n                this.retriggerChars.add(ch.charCodeAt(0));\r\n            }\r\n        }\r\n    };\r\n    ParameterHintsModel.prototype.onDidType = function (text) {\r\n        if (!this.triggerOnType) {\r\n            return;\r\n        }\r\n        var lastCharIndex = text.length - 1;\r\n        var triggerCharCode = text.charCodeAt(lastCharIndex);\r\n        if (this.triggerChars.has(triggerCharCode) || this.isTriggered && this.retriggerChars.has(triggerCharCode)) {\r\n            this.trigger({\r\n                triggerKind: modes.SignatureHelpTriggerKind.TriggerCharacter,\r\n                triggerCharacter: text.charAt(lastCharIndex),\r\n            });\r\n        }\r\n    };\r\n    ParameterHintsModel.prototype.onCursorChange = function (e) {\r\n        if (e.source === 'mouse') {\r\n            this.cancel();\r\n        }\r\n        else if (this.isTriggered) {\r\n            this.trigger({ triggerKind: modes.SignatureHelpTriggerKind.ContentChange });\r\n        }\r\n    };\r\n    ParameterHintsModel.prototype.onModelContentChange = function () {\r\n        if (this.isTriggered) {\r\n            this.trigger({ triggerKind: modes.SignatureHelpTriggerKind.ContentChange });\r\n        }\r\n    };\r\n    ParameterHintsModel.prototype.onEditorConfigurationChange = function () {\r\n        this.triggerOnType = this.editor.getOption(62 /* parameterHints */).enabled;\r\n        if (!this.triggerOnType) {\r\n            this.cancel();\r\n        }\r\n    };\r\n    ParameterHintsModel.prototype.dispose = function () {\r\n        this.cancel(true);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    ParameterHintsModel.DEFAULT_DELAY = 120; // ms\r\n    return ParameterHintsModel;\r\n}(Disposable));\r\nexport { ParameterHintsModel };\r\nfunction mergeTriggerContexts(previous, current) {\r\n    switch (current.triggerKind) {\r\n        case modes.SignatureHelpTriggerKind.Invoke:\r\n            // Invoke overrides previous triggers.\r\n            return current;\r\n        case modes.SignatureHelpTriggerKind.ContentChange:\r\n            // Ignore content changes triggers\r\n            return previous;\r\n        case modes.SignatureHelpTriggerKind.TriggerCharacter:\r\n        default:\r\n            return current;\r\n    }\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { domEvent, stop } from '../../../base/browser/event.js';\r\nimport * as aria from '../../../base/browser/ui/aria/aria.js';\r\nimport { DomScrollableElement } from '../../../base/browser/ui/scrollbar/scrollableElement.js';\r\nimport { Event } from '../../../base/common/event.js';\r\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport './parameterHints.css';\r\nimport { IModeService } from '../../common/services/modeService.js';\r\nimport { MarkdownRenderer } from '../markdown/markdownRenderer.js';\r\nimport { Context } from './provideSignatureHelp.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IOpenerService } from '../../../platform/opener/common/opener.js';\r\nimport { editorHoverBackground, editorHoverBorder, textCodeBlockBackground, textLinkForeground, editorHoverForeground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { HIGH_CONTRAST, registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { ParameterHintsModel } from './parameterHintsModel.js';\r\nimport { pad } from '../../../base/common/strings.js';\r\nvar $ = dom.$;\r\nvar ParameterHintsWidget = /** @class */ (function (_super) {\r\n    __extends(ParameterHintsWidget, _super);\r\n    function ParameterHintsWidget(editor, contextKeyService, openerService, modeService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.editor = editor;\r\n        _this.renderDisposeables = _this._register(new DisposableStore());\r\n        _this.visible = false;\r\n        _this.announcedLabel = null;\r\n        // Editor.IContentWidget.allowEditorOverflow\r\n        _this.allowEditorOverflow = true;\r\n        _this.markdownRenderer = _this._register(new MarkdownRenderer(editor, modeService, openerService));\r\n        _this.model = _this._register(new ParameterHintsModel(editor));\r\n        _this.keyVisible = Context.Visible.bindTo(contextKeyService);\r\n        _this.keyMultipleSignatures = Context.MultipleSignatures.bindTo(contextKeyService);\r\n        _this._register(_this.model.onChangedHints(function (newParameterHints) {\r\n            if (newParameterHints) {\r\n                _this.show();\r\n                _this.render(newParameterHints);\r\n            }\r\n            else {\r\n                _this.hide();\r\n            }\r\n        }));\r\n        return _this;\r\n    }\r\n    ParameterHintsWidget.prototype.createParamaterHintDOMNodes = function () {\r\n        var _this = this;\r\n        var element = $('.editor-widget.parameter-hints-widget');\r\n        var wrapper = dom.append(element, $('.wrapper'));\r\n        wrapper.tabIndex = -1;\r\n        var controls = dom.append(wrapper, $('.controls'));\r\n        var previous = dom.append(controls, $('.button.previous'));\r\n        var overloads = dom.append(controls, $('.overloads'));\r\n        var next = dom.append(controls, $('.button.next'));\r\n        var onPreviousClick = stop(domEvent(previous, 'click'));\r\n        this._register(onPreviousClick(this.previous, this));\r\n        var onNextClick = stop(domEvent(next, 'click'));\r\n        this._register(onNextClick(this.next, this));\r\n        var body = $('.body');\r\n        var scrollbar = new DomScrollableElement(body, {});\r\n        this._register(scrollbar);\r\n        wrapper.appendChild(scrollbar.getDomNode());\r\n        var signature = dom.append(body, $('.signature'));\r\n        var docs = dom.append(body, $('.docs'));\r\n        element.style.userSelect = 'text';\r\n        this.domNodes = {\r\n            element: element,\r\n            signature: signature,\r\n            overloads: overloads,\r\n            docs: docs,\r\n            scrollbar: scrollbar,\r\n        };\r\n        this.editor.addContentWidget(this);\r\n        this.hide();\r\n        this._register(this.editor.onDidChangeCursorSelection(function (e) {\r\n            if (_this.visible) {\r\n                _this.editor.layoutContentWidget(_this);\r\n            }\r\n        }));\r\n        var updateFont = function () {\r\n            if (!_this.domNodes) {\r\n                return;\r\n            }\r\n            var fontInfo = _this.editor.getOption(32 /* fontInfo */);\r\n            _this.domNodes.element.style.fontSize = fontInfo.fontSize + \"px\";\r\n        };\r\n        updateFont();\r\n        this._register(Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor))\r\n            .filter(function (e) { return e.hasChanged(32 /* fontInfo */); })\r\n            .on(updateFont, null));\r\n        this._register(this.editor.onDidLayoutChange(function (e) { return _this.updateMaxHeight(); }));\r\n        this.updateMaxHeight();\r\n    };\r\n    ParameterHintsWidget.prototype.show = function () {\r\n        var _this = this;\r\n        if (this.visible) {\r\n            return;\r\n        }\r\n        if (!this.domNodes) {\r\n            this.createParamaterHintDOMNodes();\r\n        }\r\n        this.keyVisible.set(true);\r\n        this.visible = true;\r\n        setTimeout(function () {\r\n            if (_this.domNodes) {\r\n                dom.addClass(_this.domNodes.element, 'visible');\r\n            }\r\n        }, 100);\r\n        this.editor.layoutContentWidget(this);\r\n    };\r\n    ParameterHintsWidget.prototype.hide = function () {\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        this.keyVisible.reset();\r\n        this.visible = false;\r\n        this.announcedLabel = null;\r\n        if (this.domNodes) {\r\n            dom.removeClass(this.domNodes.element, 'visible');\r\n        }\r\n        this.editor.layoutContentWidget(this);\r\n    };\r\n    ParameterHintsWidget.prototype.getPosition = function () {\r\n        if (this.visible) {\r\n            return {\r\n                position: this.editor.getPosition(),\r\n                preference: [1 /* ABOVE */, 2 /* BELOW */]\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    ParameterHintsWidget.prototype.render = function (hints) {\r\n        if (!this.domNodes) {\r\n            return;\r\n        }\r\n        var multiple = hints.signatures.length > 1;\r\n        dom.toggleClass(this.domNodes.element, 'multiple', multiple);\r\n        this.keyMultipleSignatures.set(multiple);\r\n        this.domNodes.signature.innerHTML = '';\r\n        this.domNodes.docs.innerHTML = '';\r\n        var signature = hints.signatures[hints.activeSignature];\r\n        if (!signature) {\r\n            return;\r\n        }\r\n        var code = dom.append(this.domNodes.signature, $('.code'));\r\n        var hasParameters = signature.parameters.length > 0;\r\n        var fontInfo = this.editor.getOption(32 /* fontInfo */);\r\n        code.style.fontSize = fontInfo.fontSize + \"px\";\r\n        code.style.fontFamily = fontInfo.fontFamily;\r\n        if (!hasParameters) {\r\n            var label = dom.append(code, $('span'));\r\n            label.textContent = signature.label;\r\n        }\r\n        else {\r\n            this.renderParameters(code, signature, hints.activeParameter);\r\n        }\r\n        this.renderDisposeables.clear();\r\n        var activeParameter = signature.parameters[hints.activeParameter];\r\n        if (activeParameter && activeParameter.documentation) {\r\n            var documentation = $('span.documentation');\r\n            if (typeof activeParameter.documentation === 'string') {\r\n                documentation.textContent = activeParameter.documentation;\r\n            }\r\n            else {\r\n                var renderedContents = this.markdownRenderer.render(activeParameter.documentation);\r\n                dom.addClass(renderedContents.element, 'markdown-docs');\r\n                this.renderDisposeables.add(renderedContents);\r\n                documentation.appendChild(renderedContents.element);\r\n            }\r\n            dom.append(this.domNodes.docs, $('p', {}, documentation));\r\n        }\r\n        if (signature.documentation === undefined) { /** no op */ }\r\n        else if (typeof signature.documentation === 'string') {\r\n            dom.append(this.domNodes.docs, $('p', {}, signature.documentation));\r\n        }\r\n        else {\r\n            var renderedContents = this.markdownRenderer.render(signature.documentation);\r\n            dom.addClass(renderedContents.element, 'markdown-docs');\r\n            this.renderDisposeables.add(renderedContents);\r\n            dom.append(this.domNodes.docs, renderedContents.element);\r\n        }\r\n        var hasDocs = this.hasDocs(signature, activeParameter);\r\n        dom.toggleClass(this.domNodes.signature, 'has-docs', hasDocs);\r\n        dom.toggleClass(this.domNodes.docs, 'empty', !hasDocs);\r\n        this.domNodes.overloads.textContent =\r\n            pad(hints.activeSignature + 1, hints.signatures.length.toString().length) + '/' + hints.signatures.length;\r\n        if (activeParameter) {\r\n            var labelToAnnounce = this.getParameterLabel(signature, hints.activeParameter);\r\n            // Select method gets called on every user type while parameter hints are visible.\r\n            // We do not want to spam the user with same announcements, so we only announce if the current parameter changed.\r\n            if (this.announcedLabel !== labelToAnnounce) {\r\n                aria.alert(nls.localize('hint', \"{0}, hint\", labelToAnnounce));\r\n                this.announcedLabel = labelToAnnounce;\r\n            }\r\n        }\r\n        this.editor.layoutContentWidget(this);\r\n        this.domNodes.scrollbar.scanDomNode();\r\n    };\r\n    ParameterHintsWidget.prototype.hasDocs = function (signature, activeParameter) {\r\n        if (activeParameter && typeof (activeParameter.documentation) === 'string' && activeParameter.documentation.length > 0) {\r\n            return true;\r\n        }\r\n        if (activeParameter && typeof (activeParameter.documentation) === 'object' && activeParameter.documentation.value.length > 0) {\r\n            return true;\r\n        }\r\n        if (typeof (signature.documentation) === 'string' && signature.documentation.length > 0) {\r\n            return true;\r\n        }\r\n        if (typeof (signature.documentation) === 'object' && signature.documentation.value.length > 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    ParameterHintsWidget.prototype.renderParameters = function (parent, signature, currentParameter) {\r\n        var _a = this.getParameterLabelOffsets(signature, currentParameter), start = _a[0], end = _a[1];\r\n        var beforeSpan = document.createElement('span');\r\n        beforeSpan.textContent = signature.label.substring(0, start);\r\n        var paramSpan = document.createElement('span');\r\n        paramSpan.textContent = signature.label.substring(start, end);\r\n        paramSpan.className = 'parameter active';\r\n        var afterSpan = document.createElement('span');\r\n        afterSpan.textContent = signature.label.substring(end);\r\n        dom.append(parent, beforeSpan, paramSpan, afterSpan);\r\n    };\r\n    ParameterHintsWidget.prototype.getParameterLabel = function (signature, paramIdx) {\r\n        var param = signature.parameters[paramIdx];\r\n        if (typeof param.label === 'string') {\r\n            return param.label;\r\n        }\r\n        else {\r\n            return signature.label.substring(param.label[0], param.label[1]);\r\n        }\r\n    };\r\n    ParameterHintsWidget.prototype.getParameterLabelOffsets = function (signature, paramIdx) {\r\n        var param = signature.parameters[paramIdx];\r\n        if (!param) {\r\n            return [0, 0];\r\n        }\r\n        else if (Array.isArray(param.label)) {\r\n            return param.label;\r\n        }\r\n        else {\r\n            var idx = signature.label.lastIndexOf(param.label);\r\n            return idx >= 0\r\n                ? [idx, idx + param.label.length]\r\n                : [0, 0];\r\n        }\r\n    };\r\n    ParameterHintsWidget.prototype.next = function () {\r\n        this.editor.focus();\r\n        this.model.next();\r\n    };\r\n    ParameterHintsWidget.prototype.previous = function () {\r\n        this.editor.focus();\r\n        this.model.previous();\r\n    };\r\n    ParameterHintsWidget.prototype.cancel = function () {\r\n        this.model.cancel();\r\n    };\r\n    ParameterHintsWidget.prototype.getDomNode = function () {\r\n        if (!this.domNodes) {\r\n            this.createParamaterHintDOMNodes();\r\n        }\r\n        return this.domNodes.element;\r\n    };\r\n    ParameterHintsWidget.prototype.getId = function () {\r\n        return ParameterHintsWidget.ID;\r\n    };\r\n    ParameterHintsWidget.prototype.trigger = function (context) {\r\n        this.model.trigger(context, 0);\r\n    };\r\n    ParameterHintsWidget.prototype.updateMaxHeight = function () {\r\n        if (!this.domNodes) {\r\n            return;\r\n        }\r\n        var height = Math.max(this.editor.getLayoutInfo().height / 4, 250);\r\n        var maxHeight = height + \"px\";\r\n        this.domNodes.element.style.maxHeight = maxHeight;\r\n        var wrapper = this.domNodes.element.getElementsByClassName('wrapper');\r\n        if (wrapper.length) {\r\n            wrapper[0].style.maxHeight = maxHeight;\r\n        }\r\n    };\r\n    ParameterHintsWidget.ID = 'editor.widget.parameterHintsWidget';\r\n    ParameterHintsWidget = __decorate([\r\n        __param(1, IContextKeyService),\r\n        __param(2, IOpenerService),\r\n        __param(3, IModeService)\r\n    ], ParameterHintsWidget);\r\n    return ParameterHintsWidget;\r\n}(Disposable));\r\nexport { ParameterHintsWidget };\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var border = theme.getColor(editorHoverBorder);\r\n    if (border) {\r\n        var borderWidth = theme.type === HIGH_CONTRAST ? 2 : 1;\r\n        collector.addRule(\".monaco-editor .parameter-hints-widget { border: \" + borderWidth + \"px solid \" + border + \"; }\");\r\n        collector.addRule(\".monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid \" + border.transparent(0.5) + \"; }\");\r\n        collector.addRule(\".monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid \" + border.transparent(0.5) + \"; }\");\r\n    }\r\n    var background = theme.getColor(editorHoverBackground);\r\n    if (background) {\r\n        collector.addRule(\".monaco-editor .parameter-hints-widget { background-color: \" + background + \"; }\");\r\n    }\r\n    var link = theme.getColor(textLinkForeground);\r\n    if (link) {\r\n        collector.addRule(\".monaco-editor .parameter-hints-widget a { color: \" + link + \"; }\");\r\n    }\r\n    var foreground = theme.getColor(editorHoverForeground);\r\n    if (foreground) {\r\n        collector.addRule(\".monaco-editor .parameter-hints-widget { color: \" + foreground + \"; }\");\r\n    }\r\n    var codeBackground = theme.getColor(textCodeBlockBackground);\r\n    if (codeBackground) {\r\n        collector.addRule(\".monaco-editor .parameter-hints-widget code { background-color: \" + codeBackground + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { registerEditorAction, registerEditorContribution, EditorAction, EditorCommand, registerEditorCommand } from '../../browser/editorExtensions.js';\r\nimport { ParameterHintsWidget } from './parameterHintsWidget.js';\r\nimport { Context } from './provideSignatureHelp.js';\r\nimport * as modes from '../../common/modes.js';\r\nvar ParameterHintsController = /** @class */ (function (_super) {\r\n    __extends(ParameterHintsController, _super);\r\n    function ParameterHintsController(editor, instantiationService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.editor = editor;\r\n        _this.widget = _this._register(instantiationService.createInstance(ParameterHintsWidget, _this.editor));\r\n        return _this;\r\n    }\r\n    ParameterHintsController.get = function (editor) {\r\n        return editor.getContribution(ParameterHintsController.ID);\r\n    };\r\n    ParameterHintsController.prototype.cancel = function () {\r\n        this.widget.cancel();\r\n    };\r\n    ParameterHintsController.prototype.previous = function () {\r\n        this.widget.previous();\r\n    };\r\n    ParameterHintsController.prototype.next = function () {\r\n        this.widget.next();\r\n    };\r\n    ParameterHintsController.prototype.trigger = function (context) {\r\n        this.widget.trigger(context);\r\n    };\r\n    ParameterHintsController.ID = 'editor.controller.parameterHints';\r\n    ParameterHintsController = __decorate([\r\n        __param(1, IInstantiationService)\r\n    ], ParameterHintsController);\r\n    return ParameterHintsController;\r\n}(Disposable));\r\nvar TriggerParameterHintsAction = /** @class */ (function (_super) {\r\n    __extends(TriggerParameterHintsAction, _super);\r\n    function TriggerParameterHintsAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.triggerParameterHints',\r\n            label: nls.localize('parameterHints.trigger.label', \"Trigger Parameter Hints\"),\r\n            alias: 'Trigger Parameter Hints',\r\n            precondition: EditorContextKeys.hasSignatureHelpProvider,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 10 /* Space */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    TriggerParameterHintsAction.prototype.run = function (accessor, editor) {\r\n        var controller = ParameterHintsController.get(editor);\r\n        if (controller) {\r\n            controller.trigger({\r\n                triggerKind: modes.SignatureHelpTriggerKind.Invoke\r\n            });\r\n        }\r\n    };\r\n    return TriggerParameterHintsAction;\r\n}(EditorAction));\r\nexport { TriggerParameterHintsAction };\r\nregisterEditorContribution(ParameterHintsController.ID, ParameterHintsController);\r\nregisterEditorAction(TriggerParameterHintsAction);\r\nvar weight = 100 /* EditorContrib */ + 75;\r\nvar ParameterHintsCommand = EditorCommand.bindToContribution(ParameterHintsController.get);\r\nregisterEditorCommand(new ParameterHintsCommand({\r\n    id: 'closeParameterHints',\r\n    precondition: Context.Visible,\r\n    handler: function (x) { return x.cancel(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 9 /* Escape */,\r\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\r\n    }\r\n}));\r\nregisterEditorCommand(new ParameterHintsCommand({\r\n    id: 'showPrevParameterHint',\r\n    precondition: ContextKeyExpr.and(Context.Visible, Context.MultipleSignatures),\r\n    handler: function (x) { return x.previous(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 16 /* UpArrow */,\r\n        secondary: [512 /* Alt */ | 16 /* UpArrow */],\r\n        mac: { primary: 16 /* UpArrow */, secondary: [512 /* Alt */ | 16 /* UpArrow */, 256 /* WinCtrl */ | 46 /* KEY_P */] }\r\n    }\r\n}));\r\nregisterEditorCommand(new ParameterHintsCommand({\r\n    id: 'showNextParameterHint',\r\n    precondition: ContextKeyExpr.and(Context.Visible, Context.MultipleSignatures),\r\n    handler: function (x) { return x.next(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 18 /* DownArrow */,\r\n        secondary: [512 /* Alt */ | 18 /* DownArrow */],\r\n        mac: { primary: 18 /* DownArrow */, secondary: [512 /* Alt */ | 18 /* DownArrow */, 256 /* WinCtrl */ | 44 /* KEY_N */] }\r\n    }\r\n}));\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './renameInputField.css';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { localize } from '../../../nls.js';\r\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { inputBackground, inputBorder, inputForeground, widgetShadow } from '../../../platform/theme/common/colorRegistry.js';\r\nexport var CONTEXT_RENAME_INPUT_VISIBLE = new RawContextKey('renameInputVisible', false);\r\nvar RenameInputField = /** @class */ (function () {\r\n    function RenameInputField(editor, themeService, contextKeyService) {\r\n        var _this = this;\r\n        this.themeService = themeService;\r\n        this._disposables = new DisposableStore();\r\n        // Editor.IContentWidget.allowEditorOverflow\r\n        this.allowEditorOverflow = true;\r\n        this._currentAcceptInput = null;\r\n        this._currentCancelInput = null;\r\n        this._visibleContextKey = CONTEXT_RENAME_INPUT_VISIBLE.bindTo(contextKeyService);\r\n        this._editor = editor;\r\n        this._editor.addContentWidget(this);\r\n        this._disposables.add(editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(32 /* fontInfo */)) {\r\n                _this.updateFont();\r\n            }\r\n        }));\r\n        this._disposables.add(themeService.onThemeChange(function (theme) { return _this.onThemeChange(theme); }));\r\n    }\r\n    RenameInputField.prototype.onThemeChange = function (theme) {\r\n        this.updateStyles(theme);\r\n    };\r\n    RenameInputField.prototype.dispose = function () {\r\n        this._disposables.dispose();\r\n        this._editor.removeContentWidget(this);\r\n    };\r\n    RenameInputField.prototype.getId = function () {\r\n        return '__renameInputWidget';\r\n    };\r\n    RenameInputField.prototype.getDomNode = function () {\r\n        if (!this._domNode) {\r\n            this._inputField = document.createElement('input');\r\n            this._inputField.className = 'rename-input';\r\n            this._inputField.type = 'text';\r\n            this._inputField.setAttribute('aria-label', localize('renameAriaLabel', \"Rename input. Type new name and press Enter to commit.\"));\r\n            this._domNode = document.createElement('div');\r\n            this._domNode.style.height = this._editor.getOption(47 /* lineHeight */) + \"px\";\r\n            this._domNode.className = 'monaco-editor rename-box';\r\n            this._domNode.appendChild(this._inputField);\r\n            this.updateFont();\r\n            this.updateStyles(this.themeService.getTheme());\r\n        }\r\n        return this._domNode;\r\n    };\r\n    RenameInputField.prototype.updateStyles = function (theme) {\r\n        if (!this._inputField) {\r\n            return;\r\n        }\r\n        var background = theme.getColor(inputBackground);\r\n        var foreground = theme.getColor(inputForeground);\r\n        var widgetShadowColor = theme.getColor(widgetShadow);\r\n        var border = theme.getColor(inputBorder);\r\n        this._inputField.style.backgroundColor = background ? background.toString() : '';\r\n        this._inputField.style.color = foreground ? foreground.toString() : null;\r\n        this._inputField.style.borderWidth = border ? '1px' : '0px';\r\n        this._inputField.style.borderStyle = border ? 'solid' : 'none';\r\n        this._inputField.style.borderColor = border ? border.toString() : 'none';\r\n        this._domNode.style.boxShadow = widgetShadowColor ? \" 0 2px 8px \" + widgetShadowColor : '';\r\n    };\r\n    RenameInputField.prototype.updateFont = function () {\r\n        if (!this._inputField) {\r\n            return;\r\n        }\r\n        var fontInfo = this._editor.getOption(32 /* fontInfo */);\r\n        this._inputField.style.fontFamily = fontInfo.fontFamily;\r\n        this._inputField.style.fontWeight = fontInfo.fontWeight;\r\n        this._inputField.style.fontSize = fontInfo.fontSize + \"px\";\r\n    };\r\n    RenameInputField.prototype.getPosition = function () {\r\n        return this._visible\r\n            ? { position: this._position, preference: [2 /* BELOW */, 1 /* ABOVE */] }\r\n            : null;\r\n    };\r\n    RenameInputField.prototype.acceptInput = function () {\r\n        if (this._currentAcceptInput) {\r\n            this._currentAcceptInput();\r\n        }\r\n    };\r\n    RenameInputField.prototype.cancelInput = function (focusEditor) {\r\n        if (this._currentCancelInput) {\r\n            this._currentCancelInput(focusEditor);\r\n        }\r\n    };\r\n    RenameInputField.prototype.getInput = function (where, value, selectionStart, selectionEnd) {\r\n        var _this = this;\r\n        this._position = new Position(where.startLineNumber, where.startColumn);\r\n        this._inputField.value = value;\r\n        this._inputField.setAttribute('selectionStart', selectionStart.toString());\r\n        this._inputField.setAttribute('selectionEnd', selectionEnd.toString());\r\n        this._inputField.size = Math.max((where.endColumn - where.startColumn) * 1.1, 20);\r\n        var disposeOnDone = new DisposableStore();\r\n        var always = function () {\r\n            disposeOnDone.dispose();\r\n            _this._hide();\r\n        };\r\n        return new Promise(function (resolve) {\r\n            _this._currentCancelInput = function (focusEditor) {\r\n                _this._currentAcceptInput = null;\r\n                _this._currentCancelInput = null;\r\n                resolve(focusEditor);\r\n                return true;\r\n            };\r\n            _this._currentAcceptInput = function () {\r\n                if (_this._inputField.value.trim().length === 0 || _this._inputField.value === value) {\r\n                    // empty or whitespace only or not changed\r\n                    _this.cancelInput(true);\r\n                    return;\r\n                }\r\n                _this._currentAcceptInput = null;\r\n                _this._currentCancelInput = null;\r\n                resolve(_this._inputField.value);\r\n            };\r\n            var onCursorChanged = function () {\r\n                var editorPosition = _this._editor.getPosition();\r\n                if (!editorPosition || !Range.containsPosition(where, editorPosition)) {\r\n                    _this.cancelInput(true);\r\n                }\r\n            };\r\n            disposeOnDone.add(_this._editor.onDidChangeCursorSelection(onCursorChanged));\r\n            disposeOnDone.add(_this._editor.onDidBlurEditorWidget(function () { return _this.cancelInput(false); }));\r\n            _this._show();\r\n        }).then(function (newValue) {\r\n            always();\r\n            return newValue;\r\n        }, function (err) {\r\n            always();\r\n            return Promise.reject(err);\r\n        });\r\n    };\r\n    RenameInputField.prototype._show = function () {\r\n        var _this = this;\r\n        this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber, 0 /* Smooth */);\r\n        this._visible = true;\r\n        this._visibleContextKey.set(true);\r\n        this._editor.layoutContentWidget(this);\r\n        setTimeout(function () {\r\n            _this._inputField.focus();\r\n            _this._inputField.setSelectionRange(parseInt(_this._inputField.getAttribute('selectionStart')), parseInt(_this._inputField.getAttribute('selectionEnd')));\r\n        }, 100);\r\n    };\r\n    RenameInputField.prototype._hide = function () {\r\n        this._visible = false;\r\n        this._visibleContextKey.reset();\r\n        this._editor.layoutContentWidget(this);\r\n    };\r\n    return RenameInputField;\r\n}());\r\nexport { RenameInputField };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport { illegalArgument, onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { IContextKeyService, ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IEditorProgressService } from '../../../platform/progress/common/progress.js';\r\nimport { registerEditorAction, registerEditorContribution, EditorAction, EditorCommand, registerEditorCommand, registerDefaultLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { RenameInputField, CONTEXT_RENAME_INPUT_VISIBLE } from './renameInputField.js';\r\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\r\nimport { RenameProviderRegistry } from '../../common/modes.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { MessageController } from '../message/messageController.js';\r\nimport { EditorStateCancellationTokenSource } from '../../browser/core/editorState.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nimport { IBulkEditService } from '../../browser/services/bulkEditService.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport { CancellationToken, CancellationTokenSource } from '../../../base/common/cancellation.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { IdleValue, raceCancellation } from '../../../base/common/async.js';\r\nimport { withNullAsUndefined } from '../../../base/common/types.js';\r\nvar RenameSkeleton = /** @class */ (function () {\r\n    function RenameSkeleton(model, position) {\r\n        this.model = model;\r\n        this.position = position;\r\n        this._providers = RenameProviderRegistry.ordered(model);\r\n    }\r\n    RenameSkeleton.prototype.hasProvider = function () {\r\n        return this._providers.length > 0;\r\n    };\r\n    RenameSkeleton.prototype.resolveRenameLocation = function (token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var firstProvider, res, _a, word;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        firstProvider = this._providers[0];\r\n                        if (!firstProvider) {\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        if (!firstProvider.resolveRenameLocation) return [3 /*break*/, 2];\r\n                        _a = withNullAsUndefined;\r\n                        return [4 /*yield*/, firstProvider.resolveRenameLocation(this.model, this.position, token)];\r\n                    case 1:\r\n                        res = _a.apply(void 0, [_b.sent()]);\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        if (!res) {\r\n                            word = this.model.getWordAtPosition(this.position);\r\n                            if (word) {\r\n                                return [2 /*return*/, {\r\n                                        range: new Range(this.position.lineNumber, word.startColumn, this.position.lineNumber, word.endColumn),\r\n                                        text: word.word\r\n                                    }];\r\n                            }\r\n                        }\r\n                        return [2 /*return*/, res];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    RenameSkeleton.prototype.provideRenameEdits = function (newName, i, rejects, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var provider, result;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        provider = this._providers[i];\r\n                        if (!provider) {\r\n                            return [2 /*return*/, {\r\n                                    edits: [],\r\n                                    rejectReason: rejects.join('\\n')\r\n                                }];\r\n                        }\r\n                        return [4 /*yield*/, provider.provideRenameEdits(this.model, this.position, newName, token)];\r\n                    case 1:\r\n                        result = _a.sent();\r\n                        if (!result) {\r\n                            return [2 /*return*/, this.provideRenameEdits(newName, i + 1, rejects.concat(nls.localize('no result', \"No result.\")), token)];\r\n                        }\r\n                        else if (result.rejectReason) {\r\n                            return [2 /*return*/, this.provideRenameEdits(newName, i + 1, rejects.concat(result.rejectReason), token)];\r\n                        }\r\n                        return [2 /*return*/, result];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return RenameSkeleton;\r\n}());\r\nexport function rename(model, position, newName) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            return [2 /*return*/, new RenameSkeleton(model, position).provideRenameEdits(newName, 0, [], CancellationToken.None)];\r\n        });\r\n    });\r\n}\r\n// ---  register actions and commands\r\nvar RenameController = /** @class */ (function () {\r\n    function RenameController(editor, _notificationService, _bulkEditService, _progressService, _contextKeyService, _themeService) {\r\n        var _this = this;\r\n        this.editor = editor;\r\n        this._notificationService = _notificationService;\r\n        this._bulkEditService = _bulkEditService;\r\n        this._progressService = _progressService;\r\n        this._contextKeyService = _contextKeyService;\r\n        this._themeService = _themeService;\r\n        this._dispoableStore = new DisposableStore();\r\n        this._cts = new CancellationTokenSource();\r\n        this._renameInputField = new IdleValue(function () { return _this._dispoableStore.add(new RenameInputField(_this.editor, _this._themeService, _this._contextKeyService)); });\r\n    }\r\n    RenameController.get = function (editor) {\r\n        return editor.getContribution(RenameController.ID);\r\n    };\r\n    RenameController.prototype.dispose = function () {\r\n        this._dispoableStore.dispose();\r\n        this._cts.dispose(true);\r\n    };\r\n    RenameController.prototype.run = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var position, skeleton, loc, resolveLocationOperation, e_1, selection, selectionStart, selectionEnd, newNameOrFocusFlag, renameOperation;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this._cts.dispose(true);\r\n                        if (!this.editor.hasModel()) {\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        position = this.editor.getPosition();\r\n                        skeleton = new RenameSkeleton(this.editor.getModel(), position);\r\n                        if (!skeleton.hasProvider()) {\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        this._cts = new EditorStateCancellationTokenSource(this.editor, 4 /* Position */ | 1 /* Value */);\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        resolveLocationOperation = skeleton.resolveRenameLocation(this._cts.token);\r\n                        this._progressService.showWhile(resolveLocationOperation, 250);\r\n                        return [4 /*yield*/, resolveLocationOperation];\r\n                    case 2:\r\n                        loc = _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        e_1 = _a.sent();\r\n                        MessageController.get(this.editor).showMessage(e_1 || nls.localize('resolveRenameLocationFailed', \"An unknown error occurred while resolving rename location\"), position);\r\n                        return [2 /*return*/, undefined];\r\n                    case 4:\r\n                        if (!loc) {\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        if (loc.rejectReason) {\r\n                            MessageController.get(this.editor).showMessage(loc.rejectReason, position);\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        if (this._cts.token.isCancellationRequested) {\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        selection = this.editor.getSelection();\r\n                        selectionStart = 0;\r\n                        selectionEnd = loc.text.length;\r\n                        if (!Range.isEmpty(selection) && !Range.spansMultipleLines(selection) && Range.containsRange(loc.range, selection)) {\r\n                            selectionStart = Math.max(0, selection.startColumn - loc.range.startColumn);\r\n                            selectionEnd = Math.min(loc.range.endColumn, selection.endColumn) - loc.range.startColumn;\r\n                        }\r\n                        return [4 /*yield*/, this._renameInputField.getValue().getInput(loc.range, loc.text, selectionStart, selectionEnd)];\r\n                    case 5:\r\n                        newNameOrFocusFlag = _a.sent();\r\n                        if (typeof newNameOrFocusFlag === 'boolean') {\r\n                            if (newNameOrFocusFlag) {\r\n                                this.editor.focus();\r\n                            }\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        this.editor.focus();\r\n                        renameOperation = raceCancellation(skeleton.provideRenameEdits(newNameOrFocusFlag, 0, [], this._cts.token), this._cts.token).then(function (renameResult) { return __awaiter(_this, void 0, void 0, function () {\r\n                            var editResult;\r\n                            return __generator(this, function (_a) {\r\n                                switch (_a.label) {\r\n                                    case 0:\r\n                                        if (!renameResult || !this.editor.hasModel()) {\r\n                                            return [2 /*return*/];\r\n                                        }\r\n                                        if (renameResult.rejectReason) {\r\n                                            this._notificationService.info(renameResult.rejectReason);\r\n                                            return [2 /*return*/];\r\n                                        }\r\n                                        return [4 /*yield*/, this._bulkEditService.apply(renameResult, { editor: this.editor })];\r\n                                    case 1:\r\n                                        editResult = _a.sent();\r\n                                        // alert\r\n                                        if (editResult.ariaSummary) {\r\n                                            alert(nls.localize('aria', \"Successfully renamed '{0}' to '{1}'. Summary: {2}\", loc.text, newNameOrFocusFlag, editResult.ariaSummary));\r\n                                        }\r\n                                        return [2 /*return*/];\r\n                                }\r\n                            });\r\n                        }); }, function (err) {\r\n                            _this._notificationService.error(nls.localize('rename.failed', \"Rename failed to execute.\"));\r\n                            return Promise.reject(err);\r\n                        });\r\n                        this._progressService.showWhile(renameOperation, 250);\r\n                        return [2 /*return*/, renameOperation];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    RenameController.prototype.acceptRenameInput = function () {\r\n        this._renameInputField.getValue().acceptInput();\r\n    };\r\n    RenameController.prototype.cancelRenameInput = function () {\r\n        this._renameInputField.getValue().cancelInput(true);\r\n    };\r\n    RenameController.ID = 'editor.contrib.renameController';\r\n    RenameController = __decorate([\r\n        __param(1, INotificationService),\r\n        __param(2, IBulkEditService),\r\n        __param(3, IEditorProgressService),\r\n        __param(4, IContextKeyService),\r\n        __param(5, IThemeService)\r\n    ], RenameController);\r\n    return RenameController;\r\n}());\r\n// ---- action implementation\r\nvar RenameAction = /** @class */ (function (_super) {\r\n    __extends(RenameAction, _super);\r\n    function RenameAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.rename',\r\n            label: nls.localize('rename.label', \"Rename Symbol\"),\r\n            alias: 'Rename Symbol',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasRenameProvider),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 60 /* F2 */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                group: '1_modification',\r\n                order: 1.1\r\n            }\r\n        }) || this;\r\n    }\r\n    RenameAction.prototype.runCommand = function (accessor, args) {\r\n        var _this = this;\r\n        var editorService = accessor.get(ICodeEditorService);\r\n        var _a = Array.isArray(args) && args || [undefined, undefined], uri = _a[0], pos = _a[1];\r\n        if (URI.isUri(uri) && Position.isIPosition(pos)) {\r\n            return editorService.openCodeEditor({ resource: uri }, editorService.getActiveCodeEditor()).then(function (editor) {\r\n                if (!editor) {\r\n                    return;\r\n                }\r\n                editor.setPosition(pos);\r\n                editor.invokeWithinContext(function (accessor) {\r\n                    _this.reportTelemetry(accessor, editor);\r\n                    return _this.run(accessor, editor);\r\n                });\r\n            }, onUnexpectedError);\r\n        }\r\n        return _super.prototype.runCommand.call(this, accessor, args);\r\n    };\r\n    RenameAction.prototype.run = function (accessor, editor) {\r\n        var controller = RenameController.get(editor);\r\n        if (controller) {\r\n            return controller.run();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    return RenameAction;\r\n}(EditorAction));\r\nexport { RenameAction };\r\nregisterEditorContribution(RenameController.ID, RenameController);\r\nregisterEditorAction(RenameAction);\r\nvar RenameCommand = EditorCommand.bindToContribution(RenameController.get);\r\nregisterEditorCommand(new RenameCommand({\r\n    id: 'acceptRenameInput',\r\n    precondition: CONTEXT_RENAME_INPUT_VISIBLE,\r\n    handler: function (x) { return x.acceptRenameInput(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 99,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 3 /* Enter */\r\n    }\r\n}));\r\nregisterEditorCommand(new RenameCommand({\r\n    id: 'cancelRenameInput',\r\n    precondition: CONTEXT_RENAME_INPUT_VISIBLE,\r\n    handler: function (x) { return x.cancelRenameInput(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 99,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 9 /* Escape */,\r\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\r\n    }\r\n}));\r\n// ---- api bridge command\r\nregisterDefaultLanguageCommand('_executeDocumentRenameProvider', function (model, position, args) {\r\n    var newName = args.newName;\r\n    if (typeof newName !== 'string') {\r\n        throw illegalArgument('newName');\r\n    }\r\n    return rename(model, position, newName);\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Range } from '../../common/core/range.js';\r\nimport { isUpperAsciiLetter, isLowerAsciiLetter } from '../../../base/common/strings.js';\r\nvar WordSelectionRangeProvider = /** @class */ (function () {\r\n    function WordSelectionRangeProvider() {\r\n    }\r\n    WordSelectionRangeProvider.prototype.provideSelectionRanges = function (model, positions) {\r\n        var result = [];\r\n        for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n            var position = positions_1[_i];\r\n            var bucket = [];\r\n            result.push(bucket);\r\n            this._addInWordRanges(bucket, model, position);\r\n            this._addWordRanges(bucket, model, position);\r\n            this._addWhitespaceLine(bucket, model, position);\r\n            bucket.push({ range: model.getFullModelRange() });\r\n        }\r\n        return result;\r\n    };\r\n    WordSelectionRangeProvider.prototype._addInWordRanges = function (bucket, model, pos) {\r\n        var obj = model.getWordAtPosition(pos);\r\n        if (!obj) {\r\n            return;\r\n        }\r\n        var word = obj.word, startColumn = obj.startColumn;\r\n        var offset = pos.column - startColumn;\r\n        var start = offset;\r\n        var end = offset;\r\n        var lastCh = 0;\r\n        // LEFT anchor (start)\r\n        for (; start >= 0; start--) {\r\n            var ch = word.charCodeAt(start);\r\n            if (ch === 95 /* Underline */ || ch === 45 /* Dash */) {\r\n                // foo-bar OR foo_bar\r\n                break;\r\n            }\r\n            else if (isLowerAsciiLetter(ch) && isUpperAsciiLetter(lastCh)) {\r\n                // fooBar\r\n                break;\r\n            }\r\n            lastCh = ch;\r\n        }\r\n        start += 1;\r\n        // RIGHT anchor (end)\r\n        for (; end < word.length; end++) {\r\n            var ch = word.charCodeAt(end);\r\n            if (isUpperAsciiLetter(ch) && isLowerAsciiLetter(lastCh)) {\r\n                // fooBar\r\n                break;\r\n            }\r\n            else if (ch === 95 /* Underline */ || ch === 45 /* Dash */) {\r\n                // foo-bar OR foo_bar\r\n                break;\r\n            }\r\n            lastCh = ch;\r\n        }\r\n        if (start < end) {\r\n            bucket.push({ range: new Range(pos.lineNumber, startColumn + start, pos.lineNumber, startColumn + end) });\r\n        }\r\n    };\r\n    WordSelectionRangeProvider.prototype._addWordRanges = function (bucket, model, pos) {\r\n        var word = model.getWordAtPosition(pos);\r\n        if (word) {\r\n            bucket.push({ range: new Range(pos.lineNumber, word.startColumn, pos.lineNumber, word.endColumn) });\r\n        }\r\n    };\r\n    WordSelectionRangeProvider.prototype._addWhitespaceLine = function (bucket, model, pos) {\r\n        if (model.getLineLength(pos.lineNumber) > 0\r\n            && model.getLineFirstNonWhitespaceColumn(pos.lineNumber) === 0\r\n            && model.getLineLastNonWhitespaceColumn(pos.lineNumber) === 0) {\r\n            bucket.push({ range: new Range(pos.lineNumber, 1, pos.lineNumber, model.getLineMaxColumn(pos.lineNumber)) });\r\n        }\r\n    };\r\n    return WordSelectionRangeProvider;\r\n}());\r\nexport { WordSelectionRangeProvider };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { LinkedList } from '../../../base/common/linkedList.js';\r\nvar BracketSelectionRangeProvider = /** @class */ (function () {\r\n    function BracketSelectionRangeProvider() {\r\n    }\r\n    BracketSelectionRangeProvider.prototype.provideSelectionRanges = function (model, positions) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var result, _loop_1, _i, positions_1, position;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        result = [];\r\n                        _loop_1 = function (position) {\r\n                            var bucket, ranges;\r\n                            return __generator(this, function (_a) {\r\n                                switch (_a.label) {\r\n                                    case 0:\r\n                                        bucket = [];\r\n                                        result.push(bucket);\r\n                                        ranges = new Map();\r\n                                        return [4 /*yield*/, new Promise(function (resolve) { return BracketSelectionRangeProvider._bracketsRightYield(resolve, 0, model, position, ranges); })];\r\n                                    case 1:\r\n                                        _a.sent();\r\n                                        return [4 /*yield*/, new Promise(function (resolve) { return BracketSelectionRangeProvider._bracketsLeftYield(resolve, 0, model, position, ranges, bucket); })];\r\n                                    case 2:\r\n                                        _a.sent();\r\n                                        return [2 /*return*/];\r\n                                }\r\n                            });\r\n                        };\r\n                        _i = 0, positions_1 = positions;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!(_i < positions_1.length)) return [3 /*break*/, 4];\r\n                        position = positions_1[_i];\r\n                        return [5 /*yield**/, _loop_1(position)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        _i++;\r\n                        return [3 /*break*/, 1];\r\n                    case 4: return [2 /*return*/, result];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    BracketSelectionRangeProvider._bracketsRightYield = function (resolve, round, model, pos, ranges) {\r\n        var counts = new Map();\r\n        var t1 = Date.now();\r\n        while (true) {\r\n            if (round >= BracketSelectionRangeProvider._maxRounds) {\r\n                resolve();\r\n                break;\r\n            }\r\n            if (!pos) {\r\n                resolve();\r\n                break;\r\n            }\r\n            var bracket = model.findNextBracket(pos);\r\n            if (!bracket) {\r\n                resolve();\r\n                break;\r\n            }\r\n            var d = Date.now() - t1;\r\n            if (d > BracketSelectionRangeProvider._maxDuration) {\r\n                setTimeout(function () { return BracketSelectionRangeProvider._bracketsRightYield(resolve, round + 1, model, pos, ranges); });\r\n                break;\r\n            }\r\n            var key = bracket.close[0];\r\n            if (bracket.isOpen) {\r\n                // wait for closing\r\n                var val = counts.has(key) ? counts.get(key) : 0;\r\n                counts.set(key, val + 1);\r\n            }\r\n            else {\r\n                // process closing\r\n                var val = counts.has(key) ? counts.get(key) : 0;\r\n                val -= 1;\r\n                counts.set(key, Math.max(0, val));\r\n                if (val < 0) {\r\n                    var list = ranges.get(key);\r\n                    if (!list) {\r\n                        list = new LinkedList();\r\n                        ranges.set(key, list);\r\n                    }\r\n                    list.push(bracket.range);\r\n                }\r\n            }\r\n            pos = bracket.range.getEndPosition();\r\n        }\r\n    };\r\n    BracketSelectionRangeProvider._bracketsLeftYield = function (resolve, round, model, pos, ranges, bucket) {\r\n        var counts = new Map();\r\n        var t1 = Date.now();\r\n        while (true) {\r\n            if (round >= BracketSelectionRangeProvider._maxRounds && ranges.size === 0) {\r\n                resolve();\r\n                break;\r\n            }\r\n            if (!pos) {\r\n                resolve();\r\n                break;\r\n            }\r\n            var bracket = model.findPrevBracket(pos);\r\n            if (!bracket) {\r\n                resolve();\r\n                break;\r\n            }\r\n            var d = Date.now() - t1;\r\n            if (d > BracketSelectionRangeProvider._maxDuration) {\r\n                setTimeout(function () { return BracketSelectionRangeProvider._bracketsLeftYield(resolve, round + 1, model, pos, ranges, bucket); });\r\n                break;\r\n            }\r\n            var key = bracket.close[0];\r\n            if (!bracket.isOpen) {\r\n                // wait for opening\r\n                var val = counts.has(key) ? counts.get(key) : 0;\r\n                counts.set(key, val + 1);\r\n            }\r\n            else {\r\n                // opening\r\n                var val = counts.has(key) ? counts.get(key) : 0;\r\n                val -= 1;\r\n                counts.set(key, Math.max(0, val));\r\n                if (val < 0) {\r\n                    var list = ranges.get(key);\r\n                    if (list) {\r\n                        var closing = list.shift();\r\n                        if (list.size === 0) {\r\n                            ranges.delete(key);\r\n                        }\r\n                        var innerBracket = Range.fromPositions(bracket.range.getEndPosition(), closing.getStartPosition());\r\n                        var outerBracket = Range.fromPositions(bracket.range.getStartPosition(), closing.getEndPosition());\r\n                        bucket.push({ range: innerBracket });\r\n                        bucket.push({ range: outerBracket });\r\n                        BracketSelectionRangeProvider._addBracketLeading(model, outerBracket, bucket);\r\n                    }\r\n                }\r\n            }\r\n            pos = bracket.range.getStartPosition();\r\n        }\r\n    };\r\n    BracketSelectionRangeProvider._addBracketLeading = function (model, bracket, bucket) {\r\n        if (bracket.startLineNumber === bracket.endLineNumber) {\r\n            return;\r\n        }\r\n        // xxxxxxxx {\r\n        //\r\n        // }\r\n        var startLine = bracket.startLineNumber;\r\n        var column = model.getLineFirstNonWhitespaceColumn(startLine);\r\n        if (column !== 0 && column !== bracket.startColumn) {\r\n            bucket.push({ range: Range.fromPositions(new Position(startLine, column), bracket.getEndPosition()) });\r\n            bucket.push({ range: Range.fromPositions(new Position(startLine, 1), bracket.getEndPosition()) });\r\n        }\r\n        // xxxxxxxx\r\n        // {\r\n        //\r\n        // }\r\n        var aboveLine = startLine - 1;\r\n        if (aboveLine > 0) {\r\n            var column_1 = model.getLineFirstNonWhitespaceColumn(aboveLine);\r\n            if (column_1 === bracket.startColumn && column_1 !== model.getLineLastNonWhitespaceColumn(aboveLine)) {\r\n                bucket.push({ range: Range.fromPositions(new Position(aboveLine, column_1), bracket.getEndPosition()) });\r\n                bucket.push({ range: Range.fromPositions(new Position(aboveLine, 1), bracket.getEndPosition()) });\r\n            }\r\n        }\r\n    };\r\n    BracketSelectionRangeProvider._maxDuration = 30;\r\n    BracketSelectionRangeProvider._maxRounds = 2;\r\n    return BracketSelectionRangeProvider;\r\n}());\r\nexport { BracketSelectionRangeProvider };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport * as arrays from '../../../base/common/arrays.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution, registerDefaultLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport * as modes from '../../common/modes.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { dispose } from '../../../base/common/lifecycle.js';\r\nimport { WordSelectionRangeProvider } from './wordSelections.js';\r\nimport { BracketSelectionRangeProvider } from './bracketSelections.js';\r\nimport { CommandsRegistry } from '../../../platform/commands/common/commands.js';\r\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nvar SelectionRanges = /** @class */ (function () {\r\n    function SelectionRanges(index, ranges) {\r\n        this.index = index;\r\n        this.ranges = ranges;\r\n    }\r\n    SelectionRanges.prototype.mov = function (fwd) {\r\n        var index = this.index + (fwd ? 1 : -1);\r\n        if (index < 0 || index >= this.ranges.length) {\r\n            return this;\r\n        }\r\n        var res = new SelectionRanges(index, this.ranges);\r\n        if (res.ranges[index].equalsRange(this.ranges[this.index])) {\r\n            // next range equals this range, retry with next-next\r\n            return res.mov(fwd);\r\n        }\r\n        return res;\r\n    };\r\n    return SelectionRanges;\r\n}());\r\nvar SmartSelectController = /** @class */ (function () {\r\n    function SmartSelectController(editor) {\r\n        this._ignoreSelection = false;\r\n        this._editor = editor;\r\n    }\r\n    SmartSelectController.get = function (editor) {\r\n        return editor.getContribution(SmartSelectController.ID);\r\n    };\r\n    SmartSelectController.prototype.dispose = function () {\r\n        dispose(this._selectionListener);\r\n    };\r\n    SmartSelectController.prototype.run = function (forward) {\r\n        var _this = this;\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var selections = this._editor.getSelections();\r\n        var model = this._editor.getModel();\r\n        if (!modes.SelectionRangeRegistry.has(model)) {\r\n            return;\r\n        }\r\n        var promise = Promise.resolve(undefined);\r\n        if (!this._state) {\r\n            promise = provideSelectionRanges(model, selections.map(function (s) { return s.getPosition(); }), CancellationToken.None).then(function (ranges) {\r\n                if (!arrays.isNonEmptyArray(ranges) || ranges.length !== selections.length) {\r\n                    // invalid result\r\n                    return;\r\n                }\r\n                if (!_this._editor.hasModel() || !arrays.equals(_this._editor.getSelections(), selections, function (a, b) { return a.equalsSelection(b); })) {\r\n                    // invalid editor state\r\n                    return;\r\n                }\r\n                var _loop_1 = function (i) {\r\n                    ranges[i] = ranges[i].filter(function (range) {\r\n                        // filter ranges inside the selection\r\n                        return range.containsPosition(selections[i].getStartPosition()) && range.containsPosition(selections[i].getEndPosition());\r\n                    });\r\n                    // prepend current selection\r\n                    ranges[i].unshift(selections[i]);\r\n                };\r\n                for (var i = 0; i < ranges.length; i++) {\r\n                    _loop_1(i);\r\n                }\r\n                _this._state = ranges.map(function (ranges) { return new SelectionRanges(0, ranges); });\r\n                // listen to caret move and forget about state\r\n                dispose(_this._selectionListener);\r\n                _this._selectionListener = _this._editor.onDidChangeCursorPosition(function () {\r\n                    if (!_this._ignoreSelection) {\r\n                        dispose(_this._selectionListener);\r\n                        _this._state = undefined;\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        return promise.then(function () {\r\n            if (!_this._state) {\r\n                // no state\r\n                return;\r\n            }\r\n            _this._state = _this._state.map(function (state) { return state.mov(forward); });\r\n            var selections = _this._state.map(function (state) { return Selection.fromPositions(state.ranges[state.index].getStartPosition(), state.ranges[state.index].getEndPosition()); });\r\n            _this._ignoreSelection = true;\r\n            try {\r\n                _this._editor.setSelections(selections);\r\n            }\r\n            finally {\r\n                _this._ignoreSelection = false;\r\n            }\r\n        });\r\n    };\r\n    SmartSelectController.ID = 'editor.contrib.smartSelectController';\r\n    return SmartSelectController;\r\n}());\r\nvar AbstractSmartSelect = /** @class */ (function (_super) {\r\n    __extends(AbstractSmartSelect, _super);\r\n    function AbstractSmartSelect(forward, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._forward = forward;\r\n        return _this;\r\n    }\r\n    AbstractSmartSelect.prototype.run = function (_accessor, editor) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var controller;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        controller = SmartSelectController.get(editor);\r\n                        if (!controller) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, controller.run(this._forward)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return AbstractSmartSelect;\r\n}(EditorAction));\r\nvar GrowSelectionAction = /** @class */ (function (_super) {\r\n    __extends(GrowSelectionAction, _super);\r\n    function GrowSelectionAction() {\r\n        return _super.call(this, true, {\r\n            id: 'editor.action.smartSelect.expand',\r\n            label: nls.localize('smartSelect.expand', \"Expand Selection\"),\r\n            alias: 'Expand Selection',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 17 /* RightArrow */,\r\n                mac: {\r\n                    primary: 2048 /* CtrlCmd */ | 256 /* WinCtrl */ | 1024 /* Shift */ | 17 /* RightArrow */,\r\n                    secondary: [256 /* WinCtrl */ | 1024 /* Shift */ | 17 /* RightArrow */],\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 23 /* MenubarSelectionMenu */,\r\n                group: '1_basic',\r\n                title: nls.localize({ key: 'miSmartSelectGrow', comment: ['&& denotes a mnemonic'] }, \"&&Expand Selection\"),\r\n                order: 2\r\n            }\r\n        }) || this;\r\n    }\r\n    return GrowSelectionAction;\r\n}(AbstractSmartSelect));\r\n// renamed command id\r\nCommandsRegistry.registerCommandAlias('editor.action.smartSelect.grow', 'editor.action.smartSelect.expand');\r\nvar ShrinkSelectionAction = /** @class */ (function (_super) {\r\n    __extends(ShrinkSelectionAction, _super);\r\n    function ShrinkSelectionAction() {\r\n        return _super.call(this, false, {\r\n            id: 'editor.action.smartSelect.shrink',\r\n            label: nls.localize('smartSelect.shrink', \"Shrink Selection\"),\r\n            alias: 'Shrink Selection',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 1024 /* Shift */ | 512 /* Alt */ | 15 /* LeftArrow */,\r\n                mac: {\r\n                    primary: 2048 /* CtrlCmd */ | 256 /* WinCtrl */ | 1024 /* Shift */ | 15 /* LeftArrow */,\r\n                    secondary: [256 /* WinCtrl */ | 1024 /* Shift */ | 15 /* LeftArrow */],\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 23 /* MenubarSelectionMenu */,\r\n                group: '1_basic',\r\n                title: nls.localize({ key: 'miSmartSelectShrink', comment: ['&& denotes a mnemonic'] }, \"&&Shrink Selection\"),\r\n                order: 3\r\n            }\r\n        }) || this;\r\n    }\r\n    return ShrinkSelectionAction;\r\n}(AbstractSmartSelect));\r\nregisterEditorContribution(SmartSelectController.ID, SmartSelectController);\r\nregisterEditorAction(GrowSelectionAction);\r\nregisterEditorAction(ShrinkSelectionAction);\r\n// word selection\r\nmodes.SelectionRangeRegistry.register('*', new WordSelectionRangeProvider());\r\nexport function provideSelectionRanges(model, positions, token) {\r\n    var providers = modes.SelectionRangeRegistry.all(model);\r\n    if (providers.length === 1) {\r\n        // add word selection and bracket selection when no provider exists\r\n        providers.unshift(new BracketSelectionRangeProvider());\r\n    }\r\n    var work = [];\r\n    var allRawRanges = [];\r\n    for (var _i = 0, providers_1 = providers; _i < providers_1.length; _i++) {\r\n        var provider = providers_1[_i];\r\n        work.push(Promise.resolve(provider.provideSelectionRanges(model, positions, token)).then(function (allProviderRanges) {\r\n            if (arrays.isNonEmptyArray(allProviderRanges) && allProviderRanges.length === positions.length) {\r\n                for (var i = 0; i < positions.length; i++) {\r\n                    if (!allRawRanges[i]) {\r\n                        allRawRanges[i] = [];\r\n                    }\r\n                    for (var _i = 0, _a = allProviderRanges[i]; _i < _a.length; _i++) {\r\n                        var oneProviderRanges = _a[_i];\r\n                        if (Range.isIRange(oneProviderRanges.range) && Range.containsPosition(oneProviderRanges.range, positions[i])) {\r\n                            allRawRanges[i].push(Range.lift(oneProviderRanges.range));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }, onUnexpectedExternalError));\r\n    }\r\n    return Promise.all(work).then(function () {\r\n        return allRawRanges.map(function (oneRawRanges) {\r\n            if (oneRawRanges.length === 0) {\r\n                return [];\r\n            }\r\n            // sort all by start/end position\r\n            oneRawRanges.sort(function (a, b) {\r\n                if (Position.isBefore(a.getStartPosition(), b.getStartPosition())) {\r\n                    return 1;\r\n                }\r\n                else if (Position.isBefore(b.getStartPosition(), a.getStartPosition())) {\r\n                    return -1;\r\n                }\r\n                else if (Position.isBefore(a.getEndPosition(), b.getEndPosition())) {\r\n                    return -1;\r\n                }\r\n                else if (Position.isBefore(b.getEndPosition(), a.getEndPosition())) {\r\n                    return 1;\r\n                }\r\n                else {\r\n                    return 0;\r\n                }\r\n            });\r\n            // remove ranges that don't contain the former range or that are equal to the\r\n            // former range\r\n            var oneRanges = [];\r\n            var last;\r\n            for (var _i = 0, oneRawRanges_1 = oneRawRanges; _i < oneRawRanges_1.length; _i++) {\r\n                var range = oneRawRanges_1[_i];\r\n                if (!last || (Range.containsRange(range, last) && !Range.equalsRange(range, last))) {\r\n                    oneRanges.push(range);\r\n                    last = range;\r\n                }\r\n            }\r\n            // add ranges that expand trivia at line starts and ends whenever a range\r\n            // wraps onto the a new line\r\n            var oneRangesWithTrivia = [oneRanges[0]];\r\n            for (var i = 1; i < oneRanges.length; i++) {\r\n                var prev = oneRanges[i - 1];\r\n                var cur = oneRanges[i];\r\n                if (cur.startLineNumber !== prev.startLineNumber || cur.endLineNumber !== prev.endLineNumber) {\r\n                    // add line/block range without leading/failing whitespace\r\n                    var rangeNoWhitespace = new Range(prev.startLineNumber, model.getLineFirstNonWhitespaceColumn(prev.startLineNumber), prev.endLineNumber, model.getLineLastNonWhitespaceColumn(prev.endLineNumber));\r\n                    if (rangeNoWhitespace.containsRange(prev) && !rangeNoWhitespace.equalsRange(prev) && cur.containsRange(rangeNoWhitespace) && !cur.equalsRange(rangeNoWhitespace)) {\r\n                        oneRangesWithTrivia.push(rangeNoWhitespace);\r\n                    }\r\n                    // add line/block range\r\n                    var rangeFull = new Range(prev.startLineNumber, 1, prev.endLineNumber, model.getLineMaxColumn(prev.endLineNumber));\r\n                    if (rangeFull.containsRange(prev) && !rangeFull.equalsRange(rangeNoWhitespace) && cur.containsRange(rangeFull) && !cur.equalsRange(rangeFull)) {\r\n                        oneRangesWithTrivia.push(rangeFull);\r\n                    }\r\n                }\r\n                oneRangesWithTrivia.push(cur);\r\n            }\r\n            return oneRangesWithTrivia;\r\n        });\r\n    });\r\n}\r\nregisterDefaultLanguageCommand('_executeSelectionRangeProvider', function (model, _position, args) {\r\n    return provideSelectionRanges(model, args.positions, CancellationToken.None);\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { first } from '../../../base/common/async.js';\r\nimport { assign } from '../../../base/common/objects.js';\r\nimport { onUnexpectedExternalError, canceled, isPromiseCanceledError } from '../../../base/common/errors.js';\r\nimport { registerDefaultLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport * as modes from '../../common/modes.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { FuzzyScore } from '../../../base/common/filters.js';\r\nimport { isDisposable, DisposableStore } from '../../../base/common/lifecycle.js';\r\nexport var Context = {\r\n    Visible: new RawContextKey('suggestWidgetVisible', false),\r\n    MultipleSuggestions: new RawContextKey('suggestWidgetMultipleSuggestions', false),\r\n    MakesTextEdit: new RawContextKey('suggestionMakesTextEdit', true),\r\n    AcceptSuggestionsOnEnter: new RawContextKey('acceptSuggestionOnEnter', true)\r\n};\r\nvar CompletionItem = /** @class */ (function () {\r\n    function CompletionItem(position, completion, container, provider, model) {\r\n        this.position = position;\r\n        this.completion = completion;\r\n        this.container = container;\r\n        this.provider = provider;\r\n        // sorting, filtering\r\n        this.score = FuzzyScore.Default;\r\n        this.distance = 0;\r\n        // ensure lower-variants (perf)\r\n        this.labelLow = completion.label.toLowerCase();\r\n        this.sortTextLow = completion.sortText && completion.sortText.toLowerCase();\r\n        this.filterTextLow = completion.filterText && completion.filterText.toLowerCase();\r\n        // normalize ranges\r\n        if (Range.isIRange(completion.range)) {\r\n            this.editStart = new Position(completion.range.startLineNumber, completion.range.startColumn);\r\n            this.editInsertEnd = new Position(completion.range.endLineNumber, completion.range.endColumn);\r\n            this.editReplaceEnd = new Position(completion.range.endLineNumber, completion.range.endColumn);\r\n        }\r\n        else {\r\n            this.editStart = new Position(completion.range.insert.startLineNumber, completion.range.insert.startColumn);\r\n            this.editInsertEnd = new Position(completion.range.insert.endLineNumber, completion.range.insert.endColumn);\r\n            this.editReplaceEnd = new Position(completion.range.replace.endLineNumber, completion.range.replace.endColumn);\r\n        }\r\n        // create the suggestion resolver\r\n        var resolveCompletionItem = provider.resolveCompletionItem;\r\n        if (typeof resolveCompletionItem !== 'function') {\r\n            this.resolve = function () { return Promise.resolve(); };\r\n        }\r\n        else {\r\n            var cached_1;\r\n            this.resolve = function (token) {\r\n                if (!cached_1) {\r\n                    var isDone_1 = false;\r\n                    cached_1 = Promise.resolve(resolveCompletionItem.call(provider, model, position, completion, token)).then(function (value) {\r\n                        assign(completion, value);\r\n                        isDone_1 = true;\r\n                    }, function (err) {\r\n                        if (isPromiseCanceledError(err)) {\r\n                            // the IPC queue will reject the request with the\r\n                            // cancellation error -> reset cached\r\n                            cached_1 = undefined;\r\n                        }\r\n                    });\r\n                    token.onCancellationRequested(function () {\r\n                        if (!isDone_1) {\r\n                            // cancellation after the request has been\r\n                            // dispatched -> reset cache\r\n                            cached_1 = undefined;\r\n                        }\r\n                    });\r\n                }\r\n                return cached_1;\r\n            };\r\n        }\r\n    }\r\n    return CompletionItem;\r\n}());\r\nexport { CompletionItem };\r\nvar CompletionOptions = /** @class */ (function () {\r\n    function CompletionOptions(snippetSortOrder, kindFilter, providerFilter) {\r\n        if (snippetSortOrder === void 0) { snippetSortOrder = 2 /* Bottom */; }\r\n        if (kindFilter === void 0) { kindFilter = new Set(); }\r\n        if (providerFilter === void 0) { providerFilter = new Set(); }\r\n        this.snippetSortOrder = snippetSortOrder;\r\n        this.kindFilter = kindFilter;\r\n        this.providerFilter = providerFilter;\r\n    }\r\n    CompletionOptions.default = new CompletionOptions();\r\n    return CompletionOptions;\r\n}());\r\nexport { CompletionOptions };\r\nvar _snippetSuggestSupport;\r\nexport function getSnippetSuggestSupport() {\r\n    return _snippetSuggestSupport;\r\n}\r\nexport function provideSuggestionItems(model, position, options, context, token) {\r\n    if (options === void 0) { options = CompletionOptions.default; }\r\n    if (context === void 0) { context = { triggerKind: 0 /* Invoke */ }; }\r\n    if (token === void 0) { token = CancellationToken.None; }\r\n    var word = model.getWordAtPosition(position);\r\n    var defaultReplaceRange = word ? new Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn) : Range.fromPositions(position);\r\n    var defaultInsertRange = defaultReplaceRange.setEndPosition(position.lineNumber, position.column);\r\n    // const wordUntil = model.getWordUntilPosition(position);\r\n    // const defaultRange = new Range(position.lineNumber, wordUntil.startColumn, position.lineNumber, wordUntil.endColumn);\r\n    position = position.clone();\r\n    // get provider groups, always add snippet suggestion provider\r\n    var supports = modes.CompletionProviderRegistry.orderedGroups(model);\r\n    // add snippets provider unless turned off\r\n    if (!options.kindFilter.has(25 /* Snippet */) && _snippetSuggestSupport) {\r\n        supports.unshift([_snippetSuggestSupport]);\r\n    }\r\n    var allSuggestions = [];\r\n    var disposables = new DisposableStore();\r\n    var hasResult = false;\r\n    // add suggestions from contributed providers - providers are ordered in groups of\r\n    // equal score and once a group produces a result the process stops\r\n    var factory = supports.map(function (supports) { return function () {\r\n        // for each support in the group ask for suggestions\r\n        return Promise.all(supports.map(function (provider) {\r\n            if (options.providerFilter.size > 0 && !options.providerFilter.has(provider)) {\r\n                return undefined;\r\n            }\r\n            return Promise.resolve(provider.provideCompletionItems(model, position, context, token)).then(function (container) {\r\n                var len = allSuggestions.length;\r\n                if (container) {\r\n                    for (var _i = 0, _a = container.suggestions || []; _i < _a.length; _i++) {\r\n                        var suggestion = _a[_i];\r\n                        if (!options.kindFilter.has(suggestion.kind)) {\r\n                            // fill in default range when missing\r\n                            if (!suggestion.range) {\r\n                                suggestion.range = { insert: defaultInsertRange, replace: defaultReplaceRange };\r\n                            }\r\n                            // fill in default sortText when missing\r\n                            if (!suggestion.sortText) {\r\n                                suggestion.sortText = suggestion.label;\r\n                            }\r\n                            allSuggestions.push(new CompletionItem(position, suggestion, container, provider, model));\r\n                        }\r\n                    }\r\n                    if (isDisposable(container)) {\r\n                        disposables.add(container);\r\n                    }\r\n                }\r\n                if (len !== allSuggestions.length && provider !== _snippetSuggestSupport) {\r\n                    hasResult = true;\r\n                }\r\n            }, onUnexpectedExternalError);\r\n        }));\r\n    }; });\r\n    var result = first(factory, function () {\r\n        // stop on result or cancellation\r\n        return hasResult || token.isCancellationRequested;\r\n    }).then(function () {\r\n        if (token.isCancellationRequested) {\r\n            disposables.dispose();\r\n            return Promise.reject(canceled());\r\n        }\r\n        return allSuggestions.sort(getSuggestionComparator(options.snippetSortOrder));\r\n    });\r\n    // result.then(items => {\r\n    // \tconsole.log(model.getWordUntilPosition(position), items.map(item => `${item.suggestion.label}, type=${item.suggestion.type}, incomplete?${item.container.incomplete}, overwriteBefore=${item.suggestion.overwriteBefore}`));\r\n    // \treturn items;\r\n    // }, err => {\r\n    // \tconsole.warn(model.getWordUntilPosition(position), err);\r\n    // });\r\n    return result;\r\n}\r\nfunction defaultComparator(a, b) {\r\n    // check with 'sortText'\r\n    if (a.sortTextLow && b.sortTextLow) {\r\n        if (a.sortTextLow < b.sortTextLow) {\r\n            return -1;\r\n        }\r\n        else if (a.sortTextLow > b.sortTextLow) {\r\n            return 1;\r\n        }\r\n    }\r\n    // check with 'label'\r\n    if (a.completion.label < b.completion.label) {\r\n        return -1;\r\n    }\r\n    else if (a.completion.label > b.completion.label) {\r\n        return 1;\r\n    }\r\n    // check with 'type'\r\n    return a.completion.kind - b.completion.kind;\r\n}\r\nfunction snippetUpComparator(a, b) {\r\n    if (a.completion.kind !== b.completion.kind) {\r\n        if (a.completion.kind === 25 /* Snippet */) {\r\n            return -1;\r\n        }\r\n        else if (b.completion.kind === 25 /* Snippet */) {\r\n            return 1;\r\n        }\r\n    }\r\n    return defaultComparator(a, b);\r\n}\r\nfunction snippetDownComparator(a, b) {\r\n    if (a.completion.kind !== b.completion.kind) {\r\n        if (a.completion.kind === 25 /* Snippet */) {\r\n            return 1;\r\n        }\r\n        else if (b.completion.kind === 25 /* Snippet */) {\r\n            return -1;\r\n        }\r\n    }\r\n    return defaultComparator(a, b);\r\n}\r\nvar _snippetComparators = new Map();\r\n_snippetComparators.set(0 /* Top */, snippetUpComparator);\r\n_snippetComparators.set(2 /* Bottom */, snippetDownComparator);\r\n_snippetComparators.set(1 /* Inline */, defaultComparator);\r\nexport function getSuggestionComparator(snippetConfig) {\r\n    return _snippetComparators.get(snippetConfig);\r\n}\r\nregisterDefaultLanguageCommand('_executeCompletionItemProvider', function (model, position, args) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var result, disposables, resolving, maxItemsToResolve, items, _i, items_1, item;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                result = {\r\n                    incomplete: false,\r\n                    suggestions: []\r\n                };\r\n                disposables = new DisposableStore();\r\n                resolving = [];\r\n                maxItemsToResolve = args['maxItemsToResolve'] || 0;\r\n                return [4 /*yield*/, provideSuggestionItems(model, position)];\r\n            case 1:\r\n                items = _a.sent();\r\n                for (_i = 0, items_1 = items; _i < items_1.length; _i++) {\r\n                    item = items_1[_i];\r\n                    if (resolving.length < maxItemsToResolve) {\r\n                        resolving.push(item.resolve(CancellationToken.None));\r\n                    }\r\n                    result.incomplete = result.incomplete || item.container.incomplete;\r\n                    result.suggestions.push(item.completion);\r\n                    if (isDisposable(item.container)) {\r\n                        disposables.add(item.container);\r\n                    }\r\n                }\r\n                _a.label = 2;\r\n            case 2:\r\n                _a.trys.push([2, , 4, 5]);\r\n                return [4 /*yield*/, Promise.all(resolving)];\r\n            case 3:\r\n                _a.sent();\r\n                return [2 /*return*/, result];\r\n            case 4:\r\n                setTimeout(function () { return disposables.dispose(); }, 100);\r\n                return [7 /*endfinally*/];\r\n            case 5: return [2 /*return*/];\r\n        }\r\n    });\r\n}); });\r\nvar _provider = new /** @class */ (function () {\r\n    function class_1() {\r\n        this.onlyOnceSuggestions = [];\r\n    }\r\n    class_1.prototype.provideCompletionItems = function () {\r\n        var suggestions = this.onlyOnceSuggestions.slice(0);\r\n        var result = { suggestions: suggestions };\r\n        this.onlyOnceSuggestions.length = 0;\r\n        return result;\r\n    };\r\n    return class_1;\r\n}());\r\nmodes.CompletionProviderRegistry.register('*', _provider);\r\nexport function showSimpleSuggestions(editor, suggestions) {\r\n    setTimeout(function () {\r\n        var _a;\r\n        (_a = _provider.onlyOnceSuggestions).push.apply(_a, suggestions);\r\n        editor.getContribution('editor.contrib.suggestController').triggerSuggest(new Set().add(_provider));\r\n    }, 0);\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nvar _a;\r\nvar Scanner = /** @class */ (function () {\r\n    function Scanner() {\r\n        this.value = '';\r\n        this.pos = 0;\r\n    }\r\n    Scanner.isDigitCharacter = function (ch) {\r\n        return ch >= 48 /* Digit0 */ && ch <= 57 /* Digit9 */;\r\n    };\r\n    Scanner.isVariableCharacter = function (ch) {\r\n        return ch === 95 /* Underline */\r\n            || (ch >= 97 /* a */ && ch <= 122 /* z */)\r\n            || (ch >= 65 /* A */ && ch <= 90 /* Z */);\r\n    };\r\n    Scanner.prototype.text = function (value) {\r\n        this.value = value;\r\n        this.pos = 0;\r\n    };\r\n    Scanner.prototype.tokenText = function (token) {\r\n        return this.value.substr(token.pos, token.len);\r\n    };\r\n    Scanner.prototype.next = function () {\r\n        if (this.pos >= this.value.length) {\r\n            return { type: 14 /* EOF */, pos: this.pos, len: 0 };\r\n        }\r\n        var pos = this.pos;\r\n        var len = 0;\r\n        var ch = this.value.charCodeAt(pos);\r\n        var type;\r\n        // static types\r\n        type = Scanner._table[ch];\r\n        if (typeof type === 'number') {\r\n            this.pos += 1;\r\n            return { type: type, pos: pos, len: 1 };\r\n        }\r\n        // number\r\n        if (Scanner.isDigitCharacter(ch)) {\r\n            type = 8 /* Int */;\r\n            do {\r\n                len += 1;\r\n                ch = this.value.charCodeAt(pos + len);\r\n            } while (Scanner.isDigitCharacter(ch));\r\n            this.pos += len;\r\n            return { type: type, pos: pos, len: len };\r\n        }\r\n        // variable name\r\n        if (Scanner.isVariableCharacter(ch)) {\r\n            type = 9 /* VariableName */;\r\n            do {\r\n                ch = this.value.charCodeAt(pos + (++len));\r\n            } while (Scanner.isVariableCharacter(ch) || Scanner.isDigitCharacter(ch));\r\n            this.pos += len;\r\n            return { type: type, pos: pos, len: len };\r\n        }\r\n        // format\r\n        type = 10 /* Format */;\r\n        do {\r\n            len += 1;\r\n            ch = this.value.charCodeAt(pos + len);\r\n        } while (!isNaN(ch)\r\n            && typeof Scanner._table[ch] === 'undefined' // not static token\r\n            && !Scanner.isDigitCharacter(ch) // not number\r\n            && !Scanner.isVariableCharacter(ch) // not variable\r\n        );\r\n        this.pos += len;\r\n        return { type: type, pos: pos, len: len };\r\n    };\r\n    Scanner._table = (_a = {},\r\n        _a[36 /* DollarSign */] = 0 /* Dollar */,\r\n        _a[58 /* Colon */] = 1 /* Colon */,\r\n        _a[44 /* Comma */] = 2 /* Comma */,\r\n        _a[123 /* OpenCurlyBrace */] = 3 /* CurlyOpen */,\r\n        _a[125 /* CloseCurlyBrace */] = 4 /* CurlyClose */,\r\n        _a[92 /* Backslash */] = 5 /* Backslash */,\r\n        _a[47 /* Slash */] = 6 /* Forwardslash */,\r\n        _a[124 /* Pipe */] = 7 /* Pipe */,\r\n        _a[43 /* Plus */] = 11 /* Plus */,\r\n        _a[45 /* Dash */] = 12 /* Dash */,\r\n        _a[63 /* QuestionMark */] = 13 /* QuestionMark */,\r\n        _a);\r\n    return Scanner;\r\n}());\r\nexport { Scanner };\r\nvar Marker = /** @class */ (function () {\r\n    function Marker() {\r\n        this._children = [];\r\n    }\r\n    Marker.prototype.appendChild = function (child) {\r\n        if (child instanceof Text && this._children[this._children.length - 1] instanceof Text) {\r\n            // this and previous child are text -> merge them\r\n            this._children[this._children.length - 1].value += child.value;\r\n        }\r\n        else {\r\n            // normal adoption of child\r\n            child.parent = this;\r\n            this._children.push(child);\r\n        }\r\n        return this;\r\n    };\r\n    Marker.prototype.replace = function (child, others) {\r\n        var parent = child.parent;\r\n        var idx = parent.children.indexOf(child);\r\n        var newChildren = parent.children.slice(0);\r\n        newChildren.splice.apply(newChildren, __spreadArrays([idx, 1], others));\r\n        parent._children = newChildren;\r\n        (function _fixParent(children, parent) {\r\n            for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\r\n                var child_1 = children_1[_i];\r\n                child_1.parent = parent;\r\n                _fixParent(child_1.children, child_1);\r\n            }\r\n        })(others, parent);\r\n    };\r\n    Object.defineProperty(Marker.prototype, \"children\", {\r\n        get: function () {\r\n            return this._children;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Marker.prototype, \"snippet\", {\r\n        get: function () {\r\n            var candidate = this;\r\n            while (true) {\r\n                if (!candidate) {\r\n                    return undefined;\r\n                }\r\n                if (candidate instanceof TextmateSnippet) {\r\n                    return candidate;\r\n                }\r\n                candidate = candidate.parent;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Marker.prototype.toString = function () {\r\n        return this.children.reduce(function (prev, cur) { return prev + cur.toString(); }, '');\r\n    };\r\n    Marker.prototype.len = function () {\r\n        return 0;\r\n    };\r\n    return Marker;\r\n}());\r\nexport { Marker };\r\nvar Text = /** @class */ (function (_super) {\r\n    __extends(Text, _super);\r\n    function Text(value) {\r\n        var _this_1 = _super.call(this) || this;\r\n        _this_1.value = value;\r\n        return _this_1;\r\n    }\r\n    Text.prototype.toString = function () {\r\n        return this.value;\r\n    };\r\n    Text.prototype.len = function () {\r\n        return this.value.length;\r\n    };\r\n    Text.prototype.clone = function () {\r\n        return new Text(this.value);\r\n    };\r\n    return Text;\r\n}(Marker));\r\nexport { Text };\r\nvar TransformableMarker = /** @class */ (function (_super) {\r\n    __extends(TransformableMarker, _super);\r\n    function TransformableMarker() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return TransformableMarker;\r\n}(Marker));\r\nexport { TransformableMarker };\r\nvar Placeholder = /** @class */ (function (_super) {\r\n    __extends(Placeholder, _super);\r\n    function Placeholder(index) {\r\n        var _this_1 = _super.call(this) || this;\r\n        _this_1.index = index;\r\n        return _this_1;\r\n    }\r\n    Placeholder.compareByIndex = function (a, b) {\r\n        if (a.index === b.index) {\r\n            return 0;\r\n        }\r\n        else if (a.isFinalTabstop) {\r\n            return 1;\r\n        }\r\n        else if (b.isFinalTabstop) {\r\n            return -1;\r\n        }\r\n        else if (a.index < b.index) {\r\n            return -1;\r\n        }\r\n        else if (a.index > b.index) {\r\n            return 1;\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    };\r\n    Object.defineProperty(Placeholder.prototype, \"isFinalTabstop\", {\r\n        get: function () {\r\n            return this.index === 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Placeholder.prototype, \"choice\", {\r\n        get: function () {\r\n            return this._children.length === 1 && this._children[0] instanceof Choice\r\n                ? this._children[0]\r\n                : undefined;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Placeholder.prototype.clone = function () {\r\n        var ret = new Placeholder(this.index);\r\n        if (this.transform) {\r\n            ret.transform = this.transform.clone();\r\n        }\r\n        ret._children = this.children.map(function (child) { return child.clone(); });\r\n        return ret;\r\n    };\r\n    return Placeholder;\r\n}(TransformableMarker));\r\nexport { Placeholder };\r\nvar Choice = /** @class */ (function (_super) {\r\n    __extends(Choice, _super);\r\n    function Choice() {\r\n        var _this_1 = _super !== null && _super.apply(this, arguments) || this;\r\n        _this_1.options = [];\r\n        return _this_1;\r\n    }\r\n    Choice.prototype.appendChild = function (marker) {\r\n        if (marker instanceof Text) {\r\n            marker.parent = this;\r\n            this.options.push(marker);\r\n        }\r\n        return this;\r\n    };\r\n    Choice.prototype.toString = function () {\r\n        return this.options[0].value;\r\n    };\r\n    Choice.prototype.len = function () {\r\n        return this.options[0].len();\r\n    };\r\n    Choice.prototype.clone = function () {\r\n        var ret = new Choice();\r\n        this.options.forEach(ret.appendChild, ret);\r\n        return ret;\r\n    };\r\n    return Choice;\r\n}(Marker));\r\nexport { Choice };\r\nvar Transform = /** @class */ (function (_super) {\r\n    __extends(Transform, _super);\r\n    function Transform() {\r\n        var _this_1 = _super !== null && _super.apply(this, arguments) || this;\r\n        _this_1.regexp = new RegExp('');\r\n        return _this_1;\r\n    }\r\n    Transform.prototype.resolve = function (value) {\r\n        var _this = this;\r\n        var didMatch = false;\r\n        var ret = value.replace(this.regexp, function () {\r\n            didMatch = true;\r\n            return _this._replace(Array.prototype.slice.call(arguments, 0, -2));\r\n        });\r\n        // when the regex didn't match and when the transform has\r\n        // else branches, then run those\r\n        if (!didMatch && this._children.some(function (child) { return child instanceof FormatString && Boolean(child.elseValue); })) {\r\n            ret = this._replace([]);\r\n        }\r\n        return ret;\r\n    };\r\n    Transform.prototype._replace = function (groups) {\r\n        var ret = '';\r\n        for (var _i = 0, _a = this._children; _i < _a.length; _i++) {\r\n            var marker = _a[_i];\r\n            if (marker instanceof FormatString) {\r\n                var value = groups[marker.index] || '';\r\n                value = marker.resolve(value);\r\n                ret += value;\r\n            }\r\n            else {\r\n                ret += marker.toString();\r\n            }\r\n        }\r\n        return ret;\r\n    };\r\n    Transform.prototype.toString = function () {\r\n        return '';\r\n    };\r\n    Transform.prototype.clone = function () {\r\n        var ret = new Transform();\r\n        ret.regexp = new RegExp(this.regexp.source, '' + (this.regexp.ignoreCase ? 'i' : '') + (this.regexp.global ? 'g' : ''));\r\n        ret._children = this.children.map(function (child) { return child.clone(); });\r\n        return ret;\r\n    };\r\n    return Transform;\r\n}(Marker));\r\nexport { Transform };\r\nvar FormatString = /** @class */ (function (_super) {\r\n    __extends(FormatString, _super);\r\n    function FormatString(index, shorthandName, ifValue, elseValue) {\r\n        var _this_1 = _super.call(this) || this;\r\n        _this_1.index = index;\r\n        _this_1.shorthandName = shorthandName;\r\n        _this_1.ifValue = ifValue;\r\n        _this_1.elseValue = elseValue;\r\n        return _this_1;\r\n    }\r\n    FormatString.prototype.resolve = function (value) {\r\n        if (this.shorthandName === 'upcase') {\r\n            return !value ? '' : value.toLocaleUpperCase();\r\n        }\r\n        else if (this.shorthandName === 'downcase') {\r\n            return !value ? '' : value.toLocaleLowerCase();\r\n        }\r\n        else if (this.shorthandName === 'capitalize') {\r\n            return !value ? '' : (value[0].toLocaleUpperCase() + value.substr(1));\r\n        }\r\n        else if (this.shorthandName === 'pascalcase') {\r\n            return !value ? '' : this._toPascalCase(value);\r\n        }\r\n        else if (Boolean(value) && typeof this.ifValue === 'string') {\r\n            return this.ifValue;\r\n        }\r\n        else if (!Boolean(value) && typeof this.elseValue === 'string') {\r\n            return this.elseValue;\r\n        }\r\n        else {\r\n            return value || '';\r\n        }\r\n    };\r\n    FormatString.prototype._toPascalCase = function (value) {\r\n        var match = value.match(/[a-z]+/gi);\r\n        if (!match) {\r\n            return value;\r\n        }\r\n        return match.map(function (word) {\r\n            return word.charAt(0).toUpperCase()\r\n                + word.substr(1).toLowerCase();\r\n        })\r\n            .join('');\r\n    };\r\n    FormatString.prototype.clone = function () {\r\n        var ret = new FormatString(this.index, this.shorthandName, this.ifValue, this.elseValue);\r\n        return ret;\r\n    };\r\n    return FormatString;\r\n}(Marker));\r\nexport { FormatString };\r\nvar Variable = /** @class */ (function (_super) {\r\n    __extends(Variable, _super);\r\n    function Variable(name) {\r\n        var _this_1 = _super.call(this) || this;\r\n        _this_1.name = name;\r\n        return _this_1;\r\n    }\r\n    Variable.prototype.resolve = function (resolver) {\r\n        var value = resolver.resolve(this);\r\n        if (this.transform) {\r\n            value = this.transform.resolve(value || '');\r\n        }\r\n        if (value !== undefined) {\r\n            this._children = [new Text(value)];\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    Variable.prototype.clone = function () {\r\n        var ret = new Variable(this.name);\r\n        if (this.transform) {\r\n            ret.transform = this.transform.clone();\r\n        }\r\n        ret._children = this.children.map(function (child) { return child.clone(); });\r\n        return ret;\r\n    };\r\n    return Variable;\r\n}(TransformableMarker));\r\nexport { Variable };\r\nfunction walk(marker, visitor) {\r\n    var stack = __spreadArrays(marker);\r\n    while (stack.length > 0) {\r\n        var marker_1 = stack.shift();\r\n        var recurse = visitor(marker_1);\r\n        if (!recurse) {\r\n            break;\r\n        }\r\n        stack.unshift.apply(stack, marker_1.children);\r\n    }\r\n}\r\nvar TextmateSnippet = /** @class */ (function (_super) {\r\n    __extends(TextmateSnippet, _super);\r\n    function TextmateSnippet() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(TextmateSnippet.prototype, \"placeholderInfo\", {\r\n        get: function () {\r\n            if (!this._placeholders) {\r\n                // fill in placeholders\r\n                var all_1 = [];\r\n                var last_1;\r\n                this.walk(function (candidate) {\r\n                    if (candidate instanceof Placeholder) {\r\n                        all_1.push(candidate);\r\n                        last_1 = !last_1 || last_1.index < candidate.index ? candidate : last_1;\r\n                    }\r\n                    return true;\r\n                });\r\n                this._placeholders = { all: all_1, last: last_1 };\r\n            }\r\n            return this._placeholders;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TextmateSnippet.prototype, \"placeholders\", {\r\n        get: function () {\r\n            var all = this.placeholderInfo.all;\r\n            return all;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TextmateSnippet.prototype.offset = function (marker) {\r\n        var pos = 0;\r\n        var found = false;\r\n        this.walk(function (candidate) {\r\n            if (candidate === marker) {\r\n                found = true;\r\n                return false;\r\n            }\r\n            pos += candidate.len();\r\n            return true;\r\n        });\r\n        if (!found) {\r\n            return -1;\r\n        }\r\n        return pos;\r\n    };\r\n    TextmateSnippet.prototype.fullLen = function (marker) {\r\n        var ret = 0;\r\n        walk([marker], function (marker) {\r\n            ret += marker.len();\r\n            return true;\r\n        });\r\n        return ret;\r\n    };\r\n    TextmateSnippet.prototype.enclosingPlaceholders = function (placeholder) {\r\n        var ret = [];\r\n        var parent = placeholder.parent;\r\n        while (parent) {\r\n            if (parent instanceof Placeholder) {\r\n                ret.push(parent);\r\n            }\r\n            parent = parent.parent;\r\n        }\r\n        return ret;\r\n    };\r\n    TextmateSnippet.prototype.resolveVariables = function (resolver) {\r\n        var _this_1 = this;\r\n        this.walk(function (candidate) {\r\n            if (candidate instanceof Variable) {\r\n                if (candidate.resolve(resolver)) {\r\n                    _this_1._placeholders = undefined;\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n        return this;\r\n    };\r\n    TextmateSnippet.prototype.appendChild = function (child) {\r\n        this._placeholders = undefined;\r\n        return _super.prototype.appendChild.call(this, child);\r\n    };\r\n    TextmateSnippet.prototype.replace = function (child, others) {\r\n        this._placeholders = undefined;\r\n        return _super.prototype.replace.call(this, child, others);\r\n    };\r\n    TextmateSnippet.prototype.clone = function () {\r\n        var ret = new TextmateSnippet();\r\n        this._children = this.children.map(function (child) { return child.clone(); });\r\n        return ret;\r\n    };\r\n    TextmateSnippet.prototype.walk = function (visitor) {\r\n        walk(this.children, visitor);\r\n    };\r\n    return TextmateSnippet;\r\n}(Marker));\r\nexport { TextmateSnippet };\r\nvar SnippetParser = /** @class */ (function () {\r\n    function SnippetParser() {\r\n        this._scanner = new Scanner();\r\n        this._token = { type: 14 /* EOF */, pos: 0, len: 0 };\r\n    }\r\n    SnippetParser.escape = function (value) {\r\n        return value.replace(/\\$|}|\\\\/g, '\\\\$&');\r\n    };\r\n    SnippetParser.prototype.parse = function (value, insertFinalTabstop, enforceFinalTabstop) {\r\n        this._scanner.text(value);\r\n        this._token = this._scanner.next();\r\n        var snippet = new TextmateSnippet();\r\n        while (this._parse(snippet)) {\r\n            // nothing\r\n        }\r\n        // fill in values for placeholders. the first placeholder of an index\r\n        // that has a value defines the value for all placeholders with that index\r\n        var placeholderDefaultValues = new Map();\r\n        var incompletePlaceholders = [];\r\n        var placeholderCount = 0;\r\n        snippet.walk(function (marker) {\r\n            if (marker instanceof Placeholder) {\r\n                placeholderCount += 1;\r\n                if (marker.isFinalTabstop) {\r\n                    placeholderDefaultValues.set(0, undefined);\r\n                }\r\n                else if (!placeholderDefaultValues.has(marker.index) && marker.children.length > 0) {\r\n                    placeholderDefaultValues.set(marker.index, marker.children);\r\n                }\r\n                else {\r\n                    incompletePlaceholders.push(marker);\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n        for (var _i = 0, incompletePlaceholders_1 = incompletePlaceholders; _i < incompletePlaceholders_1.length; _i++) {\r\n            var placeholder = incompletePlaceholders_1[_i];\r\n            var defaultValues = placeholderDefaultValues.get(placeholder.index);\r\n            if (defaultValues) {\r\n                var clone = new Placeholder(placeholder.index);\r\n                clone.transform = placeholder.transform;\r\n                for (var _a = 0, defaultValues_1 = defaultValues; _a < defaultValues_1.length; _a++) {\r\n                    var child = defaultValues_1[_a];\r\n                    clone.appendChild(child.clone());\r\n                }\r\n                snippet.replace(placeholder, [clone]);\r\n            }\r\n        }\r\n        if (!enforceFinalTabstop) {\r\n            enforceFinalTabstop = placeholderCount > 0 && insertFinalTabstop;\r\n        }\r\n        if (!placeholderDefaultValues.has(0) && enforceFinalTabstop) {\r\n            // the snippet uses placeholders but has no\r\n            // final tabstop defined -> insert at the end\r\n            snippet.appendChild(new Placeholder(0));\r\n        }\r\n        return snippet;\r\n    };\r\n    SnippetParser.prototype._accept = function (type, value) {\r\n        if (type === undefined || this._token.type === type) {\r\n            var ret = !value ? true : this._scanner.tokenText(this._token);\r\n            this._token = this._scanner.next();\r\n            return ret;\r\n        }\r\n        return false;\r\n    };\r\n    SnippetParser.prototype._backTo = function (token) {\r\n        this._scanner.pos = token.pos + token.len;\r\n        this._token = token;\r\n        return false;\r\n    };\r\n    SnippetParser.prototype._until = function (type) {\r\n        var start = this._token;\r\n        while (this._token.type !== type) {\r\n            if (this._token.type === 14 /* EOF */) {\r\n                return false;\r\n            }\r\n            else if (this._token.type === 5 /* Backslash */) {\r\n                var nextToken = this._scanner.next();\r\n                if (nextToken.type !== 0 /* Dollar */\r\n                    && nextToken.type !== 4 /* CurlyClose */\r\n                    && nextToken.type !== 5 /* Backslash */) {\r\n                    return false;\r\n                }\r\n            }\r\n            this._token = this._scanner.next();\r\n        }\r\n        var value = this._scanner.value.substring(start.pos, this._token.pos).replace(/\\\\(\\$|}|\\\\)/g, '$1');\r\n        this._token = this._scanner.next();\r\n        return value;\r\n    };\r\n    SnippetParser.prototype._parse = function (marker) {\r\n        return this._parseEscaped(marker)\r\n            || this._parseTabstopOrVariableName(marker)\r\n            || this._parseComplexPlaceholder(marker)\r\n            || this._parseComplexVariable(marker)\r\n            || this._parseAnything(marker);\r\n    };\r\n    // \\$, \\\\, \\} -> just text\r\n    SnippetParser.prototype._parseEscaped = function (marker) {\r\n        var value;\r\n        if (value = this._accept(5 /* Backslash */, true)) {\r\n            // saw a backslash, append escaped token or that backslash\r\n            value = this._accept(0 /* Dollar */, true)\r\n                || this._accept(4 /* CurlyClose */, true)\r\n                || this._accept(5 /* Backslash */, true)\r\n                || value;\r\n            marker.appendChild(new Text(value));\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    // $foo -> variable, $1 -> tabstop\r\n    SnippetParser.prototype._parseTabstopOrVariableName = function (parent) {\r\n        var value;\r\n        var token = this._token;\r\n        var match = this._accept(0 /* Dollar */)\r\n            && (value = this._accept(9 /* VariableName */, true) || this._accept(8 /* Int */, true));\r\n        if (!match) {\r\n            return this._backTo(token);\r\n        }\r\n        parent.appendChild(/^\\d+$/.test(value)\r\n            ? new Placeholder(Number(value))\r\n            : new Variable(value));\r\n        return true;\r\n    };\r\n    // ${1:<children>}, ${1} -> placeholder\r\n    SnippetParser.prototype._parseComplexPlaceholder = function (parent) {\r\n        var index;\r\n        var token = this._token;\r\n        var match = this._accept(0 /* Dollar */)\r\n            && this._accept(3 /* CurlyOpen */)\r\n            && (index = this._accept(8 /* Int */, true));\r\n        if (!match) {\r\n            return this._backTo(token);\r\n        }\r\n        var placeholder = new Placeholder(Number(index));\r\n        if (this._accept(1 /* Colon */)) {\r\n            // ${1:<children>}\r\n            while (true) {\r\n                // ...} -> done\r\n                if (this._accept(4 /* CurlyClose */)) {\r\n                    parent.appendChild(placeholder);\r\n                    return true;\r\n                }\r\n                if (this._parse(placeholder)) {\r\n                    continue;\r\n                }\r\n                // fallback\r\n                parent.appendChild(new Text('${' + index + ':'));\r\n                placeholder.children.forEach(parent.appendChild, parent);\r\n                return true;\r\n            }\r\n        }\r\n        else if (placeholder.index > 0 && this._accept(7 /* Pipe */)) {\r\n            // ${1|one,two,three|}\r\n            var choice = new Choice();\r\n            while (true) {\r\n                if (this._parseChoiceElement(choice)) {\r\n                    if (this._accept(2 /* Comma */)) {\r\n                        // opt, -> more\r\n                        continue;\r\n                    }\r\n                    if (this._accept(7 /* Pipe */)) {\r\n                        placeholder.appendChild(choice);\r\n                        if (this._accept(4 /* CurlyClose */)) {\r\n                            // ..|} -> done\r\n                            parent.appendChild(placeholder);\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n                this._backTo(token);\r\n                return false;\r\n            }\r\n        }\r\n        else if (this._accept(6 /* Forwardslash */)) {\r\n            // ${1/<regex>/<format>/<options>}\r\n            if (this._parseTransform(placeholder)) {\r\n                parent.appendChild(placeholder);\r\n                return true;\r\n            }\r\n            this._backTo(token);\r\n            return false;\r\n        }\r\n        else if (this._accept(4 /* CurlyClose */)) {\r\n            // ${1}\r\n            parent.appendChild(placeholder);\r\n            return true;\r\n        }\r\n        else {\r\n            // ${1 <- missing curly or colon\r\n            return this._backTo(token);\r\n        }\r\n    };\r\n    SnippetParser.prototype._parseChoiceElement = function (parent) {\r\n        var token = this._token;\r\n        var values = [];\r\n        while (true) {\r\n            if (this._token.type === 2 /* Comma */ || this._token.type === 7 /* Pipe */) {\r\n                break;\r\n            }\r\n            var value = void 0;\r\n            if (value = this._accept(5 /* Backslash */, true)) {\r\n                // \\, \\|, or \\\\\r\n                value = this._accept(2 /* Comma */, true)\r\n                    || this._accept(7 /* Pipe */, true)\r\n                    || this._accept(5 /* Backslash */, true)\r\n                    || value;\r\n            }\r\n            else {\r\n                value = this._accept(undefined, true);\r\n            }\r\n            if (!value) {\r\n                // EOF\r\n                this._backTo(token);\r\n                return false;\r\n            }\r\n            values.push(value);\r\n        }\r\n        if (values.length === 0) {\r\n            this._backTo(token);\r\n            return false;\r\n        }\r\n        parent.appendChild(new Text(values.join('')));\r\n        return true;\r\n    };\r\n    // ${foo:<children>}, ${foo} -> variable\r\n    SnippetParser.prototype._parseComplexVariable = function (parent) {\r\n        var name;\r\n        var token = this._token;\r\n        var match = this._accept(0 /* Dollar */)\r\n            && this._accept(3 /* CurlyOpen */)\r\n            && (name = this._accept(9 /* VariableName */, true));\r\n        if (!match) {\r\n            return this._backTo(token);\r\n        }\r\n        var variable = new Variable(name);\r\n        if (this._accept(1 /* Colon */)) {\r\n            // ${foo:<children>}\r\n            while (true) {\r\n                // ...} -> done\r\n                if (this._accept(4 /* CurlyClose */)) {\r\n                    parent.appendChild(variable);\r\n                    return true;\r\n                }\r\n                if (this._parse(variable)) {\r\n                    continue;\r\n                }\r\n                // fallback\r\n                parent.appendChild(new Text('${' + name + ':'));\r\n                variable.children.forEach(parent.appendChild, parent);\r\n                return true;\r\n            }\r\n        }\r\n        else if (this._accept(6 /* Forwardslash */)) {\r\n            // ${foo/<regex>/<format>/<options>}\r\n            if (this._parseTransform(variable)) {\r\n                parent.appendChild(variable);\r\n                return true;\r\n            }\r\n            this._backTo(token);\r\n            return false;\r\n        }\r\n        else if (this._accept(4 /* CurlyClose */)) {\r\n            // ${foo}\r\n            parent.appendChild(variable);\r\n            return true;\r\n        }\r\n        else {\r\n            // ${foo <- missing curly or colon\r\n            return this._backTo(token);\r\n        }\r\n    };\r\n    SnippetParser.prototype._parseTransform = function (parent) {\r\n        // ...<regex>/<format>/<options>}\r\n        var transform = new Transform();\r\n        var regexValue = '';\r\n        var regexOptions = '';\r\n        // (1) /regex\r\n        while (true) {\r\n            if (this._accept(6 /* Forwardslash */)) {\r\n                break;\r\n            }\r\n            var escaped = void 0;\r\n            if (escaped = this._accept(5 /* Backslash */, true)) {\r\n                escaped = this._accept(6 /* Forwardslash */, true) || escaped;\r\n                regexValue += escaped;\r\n                continue;\r\n            }\r\n            if (this._token.type !== 14 /* EOF */) {\r\n                regexValue += this._accept(undefined, true);\r\n                continue;\r\n            }\r\n            return false;\r\n        }\r\n        // (2) /format\r\n        while (true) {\r\n            if (this._accept(6 /* Forwardslash */)) {\r\n                break;\r\n            }\r\n            var escaped = void 0;\r\n            if (escaped = this._accept(5 /* Backslash */, true)) {\r\n                escaped = this._accept(5 /* Backslash */, true) || this._accept(6 /* Forwardslash */, true) || escaped;\r\n                transform.appendChild(new Text(escaped));\r\n                continue;\r\n            }\r\n            if (this._parseFormatString(transform) || this._parseAnything(transform)) {\r\n                continue;\r\n            }\r\n            return false;\r\n        }\r\n        // (3) /option\r\n        while (true) {\r\n            if (this._accept(4 /* CurlyClose */)) {\r\n                break;\r\n            }\r\n            if (this._token.type !== 14 /* EOF */) {\r\n                regexOptions += this._accept(undefined, true);\r\n                continue;\r\n            }\r\n            return false;\r\n        }\r\n        try {\r\n            transform.regexp = new RegExp(regexValue, regexOptions);\r\n        }\r\n        catch (e) {\r\n            // invalid regexp\r\n            return false;\r\n        }\r\n        parent.transform = transform;\r\n        return true;\r\n    };\r\n    SnippetParser.prototype._parseFormatString = function (parent) {\r\n        var token = this._token;\r\n        if (!this._accept(0 /* Dollar */)) {\r\n            return false;\r\n        }\r\n        var complex = false;\r\n        if (this._accept(3 /* CurlyOpen */)) {\r\n            complex = true;\r\n        }\r\n        var index = this._accept(8 /* Int */, true);\r\n        if (!index) {\r\n            this._backTo(token);\r\n            return false;\r\n        }\r\n        else if (!complex) {\r\n            // $1\r\n            parent.appendChild(new FormatString(Number(index)));\r\n            return true;\r\n        }\r\n        else if (this._accept(4 /* CurlyClose */)) {\r\n            // ${1}\r\n            parent.appendChild(new FormatString(Number(index)));\r\n            return true;\r\n        }\r\n        else if (!this._accept(1 /* Colon */)) {\r\n            this._backTo(token);\r\n            return false;\r\n        }\r\n        if (this._accept(6 /* Forwardslash */)) {\r\n            // ${1:/upcase}\r\n            var shorthand = this._accept(9 /* VariableName */, true);\r\n            if (!shorthand || !this._accept(4 /* CurlyClose */)) {\r\n                this._backTo(token);\r\n                return false;\r\n            }\r\n            else {\r\n                parent.appendChild(new FormatString(Number(index), shorthand));\r\n                return true;\r\n            }\r\n        }\r\n        else if (this._accept(11 /* Plus */)) {\r\n            // ${1:+<if>}\r\n            var ifValue = this._until(4 /* CurlyClose */);\r\n            if (ifValue) {\r\n                parent.appendChild(new FormatString(Number(index), undefined, ifValue, undefined));\r\n                return true;\r\n            }\r\n        }\r\n        else if (this._accept(12 /* Dash */)) {\r\n            // ${2:-<else>}\r\n            var elseValue = this._until(4 /* CurlyClose */);\r\n            if (elseValue) {\r\n                parent.appendChild(new FormatString(Number(index), undefined, undefined, elseValue));\r\n                return true;\r\n            }\r\n        }\r\n        else if (this._accept(13 /* QuestionMark */)) {\r\n            // ${2:?<if>:<else>}\r\n            var ifValue = this._until(1 /* Colon */);\r\n            if (ifValue) {\r\n                var elseValue = this._until(4 /* CurlyClose */);\r\n                if (elseValue) {\r\n                    parent.appendChild(new FormatString(Number(index), undefined, ifValue, elseValue));\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            // ${1:<else>}\r\n            var elseValue = this._until(4 /* CurlyClose */);\r\n            if (elseValue) {\r\n                parent.appendChild(new FormatString(Number(index), undefined, undefined, elseValue));\r\n                return true;\r\n            }\r\n        }\r\n        this._backTo(token);\r\n        return false;\r\n    };\r\n    SnippetParser.prototype._parseAnything = function (marker) {\r\n        if (this._token.type !== 14 /* EOF */) {\r\n            marker.appendChild(new Text(this._scanner.tokenText(this._token)));\r\n            this._accept(undefined);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return SnippetParser;\r\n}());\r\nexport { SnippetParser };\r\n","import { URI } from '../../../base/common/uri.js';\r\nexport var WORKSPACE_EXTENSION = 'code-workspace';\r\nexport function isSingleFolderWorkspaceIdentifier(obj) {\r\n    return obj instanceof URI;\r\n}\r\nexport function toWorkspaceIdentifier(workspace) {\r\n    if (workspace.configuration) {\r\n        return {\r\n            configPath: workspace.configuration,\r\n            id: workspace.id\r\n        };\r\n    }\r\n    if (workspace.folders.length === 1) {\r\n        return workspace.folders[0].uri;\r\n    }\r\n    // Empty workspace\r\n    return undefined;\r\n}\r\n//#endregion\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as nls from '../../../nls.js';\r\nimport * as path from '../../../base/common/path.js';\r\nimport { dirname } from '../../../base/common/resources.js';\r\nimport { Text } from './snippetParser.js';\r\nimport { LanguageConfigurationRegistry } from '../../common/modes/languageConfigurationRegistry.js';\r\nimport { getLeadingWhitespace, commonPrefixLength, isFalsyOrWhitespace, pad, endsWith } from '../../../base/common/strings.js';\r\nimport { isSingleFolderWorkspaceIdentifier, toWorkspaceIdentifier, WORKSPACE_EXTENSION } from '../../../platform/workspaces/common/workspaces.js';\r\nimport { normalizeDriveLetter } from '../../../base/common/labels.js';\r\nvar CompositeSnippetVariableResolver = /** @class */ (function () {\r\n    function CompositeSnippetVariableResolver(_delegates) {\r\n        this._delegates = _delegates;\r\n        //\r\n    }\r\n    CompositeSnippetVariableResolver.prototype.resolve = function (variable) {\r\n        for (var _i = 0, _a = this._delegates; _i < _a.length; _i++) {\r\n            var delegate = _a[_i];\r\n            var value = delegate.resolve(variable);\r\n            if (value !== undefined) {\r\n                return value;\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    return CompositeSnippetVariableResolver;\r\n}());\r\nexport { CompositeSnippetVariableResolver };\r\nvar SelectionBasedVariableResolver = /** @class */ (function () {\r\n    function SelectionBasedVariableResolver(_model, _selection) {\r\n        this._model = _model;\r\n        this._selection = _selection;\r\n        //\r\n    }\r\n    SelectionBasedVariableResolver.prototype.resolve = function (variable) {\r\n        var name = variable.name;\r\n        if (name === 'SELECTION' || name === 'TM_SELECTED_TEXT') {\r\n            var value = this._model.getValueInRange(this._selection) || undefined;\r\n            if (value && this._selection.startLineNumber !== this._selection.endLineNumber && variable.snippet) {\r\n                // Selection is a multiline string which we indentation we now\r\n                // need to adjust. We compare the indentation of this variable\r\n                // with the indentation at the editor position and add potential\r\n                // extra indentation to the value\r\n                var line = this._model.getLineContent(this._selection.startLineNumber);\r\n                var lineLeadingWhitespace = getLeadingWhitespace(line, 0, this._selection.startColumn - 1);\r\n                var varLeadingWhitespace_1 = lineLeadingWhitespace;\r\n                variable.snippet.walk(function (marker) {\r\n                    if (marker === variable) {\r\n                        return false;\r\n                    }\r\n                    if (marker instanceof Text) {\r\n                        varLeadingWhitespace_1 = getLeadingWhitespace(marker.value.split(/\\r\\n|\\r|\\n/).pop());\r\n                    }\r\n                    return true;\r\n                });\r\n                var whitespaceCommonLength_1 = commonPrefixLength(varLeadingWhitespace_1, lineLeadingWhitespace);\r\n                value = value.replace(/(\\r\\n|\\r|\\n)(.*)/g, function (m, newline, rest) { return \"\" + newline + varLeadingWhitespace_1.substr(whitespaceCommonLength_1) + rest; });\r\n            }\r\n            return value;\r\n        }\r\n        else if (name === 'TM_CURRENT_LINE') {\r\n            return this._model.getLineContent(this._selection.positionLineNumber);\r\n        }\r\n        else if (name === 'TM_CURRENT_WORD') {\r\n            var info = this._model.getWordAtPosition({\r\n                lineNumber: this._selection.positionLineNumber,\r\n                column: this._selection.positionColumn\r\n            });\r\n            return info && info.word || undefined;\r\n        }\r\n        else if (name === 'TM_LINE_INDEX') {\r\n            return String(this._selection.positionLineNumber - 1);\r\n        }\r\n        else if (name === 'TM_LINE_NUMBER') {\r\n            return String(this._selection.positionLineNumber);\r\n        }\r\n        return undefined;\r\n    };\r\n    return SelectionBasedVariableResolver;\r\n}());\r\nexport { SelectionBasedVariableResolver };\r\nvar ModelBasedVariableResolver = /** @class */ (function () {\r\n    function ModelBasedVariableResolver(_labelService, _model) {\r\n        this._labelService = _labelService;\r\n        this._model = _model;\r\n        //\r\n    }\r\n    ModelBasedVariableResolver.prototype.resolve = function (variable) {\r\n        var name = variable.name;\r\n        if (name === 'TM_FILENAME') {\r\n            return path.basename(this._model.uri.fsPath);\r\n        }\r\n        else if (name === 'TM_FILENAME_BASE') {\r\n            var name_1 = path.basename(this._model.uri.fsPath);\r\n            var idx = name_1.lastIndexOf('.');\r\n            if (idx <= 0) {\r\n                return name_1;\r\n            }\r\n            else {\r\n                return name_1.slice(0, idx);\r\n            }\r\n        }\r\n        else if (name === 'TM_DIRECTORY' && this._labelService) {\r\n            if (path.dirname(this._model.uri.fsPath) === '.') {\r\n                return '';\r\n            }\r\n            return this._labelService.getUriLabel(dirname(this._model.uri));\r\n        }\r\n        else if (name === 'TM_FILEPATH' && this._labelService) {\r\n            return this._labelService.getUriLabel(this._model.uri);\r\n        }\r\n        return undefined;\r\n    };\r\n    return ModelBasedVariableResolver;\r\n}());\r\nexport { ModelBasedVariableResolver };\r\nvar ClipboardBasedVariableResolver = /** @class */ (function () {\r\n    function ClipboardBasedVariableResolver(_readClipboardText, _selectionIdx, _selectionCount, _spread) {\r\n        this._readClipboardText = _readClipboardText;\r\n        this._selectionIdx = _selectionIdx;\r\n        this._selectionCount = _selectionCount;\r\n        this._spread = _spread;\r\n        //\r\n    }\r\n    ClipboardBasedVariableResolver.prototype.resolve = function (variable) {\r\n        if (variable.name !== 'CLIPBOARD') {\r\n            return undefined;\r\n        }\r\n        var clipboardText = this._readClipboardText();\r\n        if (!clipboardText) {\r\n            return undefined;\r\n        }\r\n        // `spread` is assigning each cursor a line of the clipboard\r\n        // text whenever there the line count equals the cursor count\r\n        // and when enabled\r\n        if (this._spread) {\r\n            var lines = clipboardText.split(/\\r\\n|\\n|\\r/).filter(function (s) { return !isFalsyOrWhitespace(s); });\r\n            if (lines.length === this._selectionCount) {\r\n                return lines[this._selectionIdx];\r\n            }\r\n        }\r\n        return clipboardText;\r\n    };\r\n    return ClipboardBasedVariableResolver;\r\n}());\r\nexport { ClipboardBasedVariableResolver };\r\nvar CommentBasedVariableResolver = /** @class */ (function () {\r\n    function CommentBasedVariableResolver(_model) {\r\n        this._model = _model;\r\n        //\r\n    }\r\n    CommentBasedVariableResolver.prototype.resolve = function (variable) {\r\n        var name = variable.name;\r\n        var language = this._model.getLanguageIdentifier();\r\n        var config = LanguageConfigurationRegistry.getComments(language.id);\r\n        if (!config) {\r\n            return undefined;\r\n        }\r\n        if (name === 'LINE_COMMENT') {\r\n            return config.lineCommentToken || undefined;\r\n        }\r\n        else if (name === 'BLOCK_COMMENT_START') {\r\n            return config.blockCommentStartToken || undefined;\r\n        }\r\n        else if (name === 'BLOCK_COMMENT_END') {\r\n            return config.blockCommentEndToken || undefined;\r\n        }\r\n        return undefined;\r\n    };\r\n    return CommentBasedVariableResolver;\r\n}());\r\nexport { CommentBasedVariableResolver };\r\nvar TimeBasedVariableResolver = /** @class */ (function () {\r\n    function TimeBasedVariableResolver() {\r\n    }\r\n    TimeBasedVariableResolver.prototype.resolve = function (variable) {\r\n        var name = variable.name;\r\n        if (name === 'CURRENT_YEAR') {\r\n            return String(new Date().getFullYear());\r\n        }\r\n        else if (name === 'CURRENT_YEAR_SHORT') {\r\n            return String(new Date().getFullYear()).slice(-2);\r\n        }\r\n        else if (name === 'CURRENT_MONTH') {\r\n            return pad((new Date().getMonth().valueOf() + 1), 2);\r\n        }\r\n        else if (name === 'CURRENT_DATE') {\r\n            return pad(new Date().getDate().valueOf(), 2);\r\n        }\r\n        else if (name === 'CURRENT_HOUR') {\r\n            return pad(new Date().getHours().valueOf(), 2);\r\n        }\r\n        else if (name === 'CURRENT_MINUTE') {\r\n            return pad(new Date().getMinutes().valueOf(), 2);\r\n        }\r\n        else if (name === 'CURRENT_SECOND') {\r\n            return pad(new Date().getSeconds().valueOf(), 2);\r\n        }\r\n        else if (name === 'CURRENT_DAY_NAME') {\r\n            return TimeBasedVariableResolver.dayNames[new Date().getDay()];\r\n        }\r\n        else if (name === 'CURRENT_DAY_NAME_SHORT') {\r\n            return TimeBasedVariableResolver.dayNamesShort[new Date().getDay()];\r\n        }\r\n        else if (name === 'CURRENT_MONTH_NAME') {\r\n            return TimeBasedVariableResolver.monthNames[new Date().getMonth()];\r\n        }\r\n        else if (name === 'CURRENT_MONTH_NAME_SHORT') {\r\n            return TimeBasedVariableResolver.monthNamesShort[new Date().getMonth()];\r\n        }\r\n        else if (name === 'CURRENT_SECONDS_UNIX') {\r\n            return String(Math.floor(Date.now() / 1000));\r\n        }\r\n        return undefined;\r\n    };\r\n    TimeBasedVariableResolver.dayNames = [nls.localize('Sunday', \"Sunday\"), nls.localize('Monday', \"Monday\"), nls.localize('Tuesday', \"Tuesday\"), nls.localize('Wednesday', \"Wednesday\"), nls.localize('Thursday', \"Thursday\"), nls.localize('Friday', \"Friday\"), nls.localize('Saturday', \"Saturday\")];\r\n    TimeBasedVariableResolver.dayNamesShort = [nls.localize('SundayShort', \"Sun\"), nls.localize('MondayShort', \"Mon\"), nls.localize('TuesdayShort', \"Tue\"), nls.localize('WednesdayShort', \"Wed\"), nls.localize('ThursdayShort', \"Thu\"), nls.localize('FridayShort', \"Fri\"), nls.localize('SaturdayShort', \"Sat\")];\r\n    TimeBasedVariableResolver.monthNames = [nls.localize('January', \"January\"), nls.localize('February', \"February\"), nls.localize('March', \"March\"), nls.localize('April', \"April\"), nls.localize('May', \"May\"), nls.localize('June', \"June\"), nls.localize('July', \"July\"), nls.localize('August', \"August\"), nls.localize('September', \"September\"), nls.localize('October', \"October\"), nls.localize('November', \"November\"), nls.localize('December', \"December\")];\r\n    TimeBasedVariableResolver.monthNamesShort = [nls.localize('JanuaryShort', \"Jan\"), nls.localize('FebruaryShort', \"Feb\"), nls.localize('MarchShort', \"Mar\"), nls.localize('AprilShort', \"Apr\"), nls.localize('MayShort', \"May\"), nls.localize('JuneShort', \"Jun\"), nls.localize('JulyShort', \"Jul\"), nls.localize('AugustShort', \"Aug\"), nls.localize('SeptemberShort', \"Sep\"), nls.localize('OctoberShort', \"Oct\"), nls.localize('NovemberShort', \"Nov\"), nls.localize('DecemberShort', \"Dec\")];\r\n    return TimeBasedVariableResolver;\r\n}());\r\nexport { TimeBasedVariableResolver };\r\nvar WorkspaceBasedVariableResolver = /** @class */ (function () {\r\n    function WorkspaceBasedVariableResolver(_workspaceService) {\r\n        this._workspaceService = _workspaceService;\r\n        //\r\n    }\r\n    WorkspaceBasedVariableResolver.prototype.resolve = function (variable) {\r\n        if (!this._workspaceService) {\r\n            return undefined;\r\n        }\r\n        var workspaceIdentifier = toWorkspaceIdentifier(this._workspaceService.getWorkspace());\r\n        if (!workspaceIdentifier) {\r\n            return undefined;\r\n        }\r\n        if (variable.name === 'WORKSPACE_NAME') {\r\n            return this._resolveWorkspaceName(workspaceIdentifier);\r\n        }\r\n        else if (variable.name === 'WORKSPACE_FOLDER') {\r\n            return this._resoveWorkspacePath(workspaceIdentifier);\r\n        }\r\n        return undefined;\r\n    };\r\n    WorkspaceBasedVariableResolver.prototype._resolveWorkspaceName = function (workspaceIdentifier) {\r\n        if (isSingleFolderWorkspaceIdentifier(workspaceIdentifier)) {\r\n            return path.basename(workspaceIdentifier.path);\r\n        }\r\n        var filename = path.basename(workspaceIdentifier.configPath.path);\r\n        if (endsWith(filename, WORKSPACE_EXTENSION)) {\r\n            filename = filename.substr(0, filename.length - WORKSPACE_EXTENSION.length - 1);\r\n        }\r\n        return filename;\r\n    };\r\n    WorkspaceBasedVariableResolver.prototype._resoveWorkspacePath = function (workspaceIdentifier) {\r\n        if (isSingleFolderWorkspaceIdentifier(workspaceIdentifier)) {\r\n            return normalizeDriveLetter(workspaceIdentifier.fsPath);\r\n        }\r\n        var filename = path.basename(workspaceIdentifier.configPath.path);\r\n        var folderpath = workspaceIdentifier.configPath.fsPath;\r\n        if (endsWith(folderpath, filename)) {\r\n            folderpath = folderpath.substr(0, folderpath.length - filename.length - 1);\r\n        }\r\n        return (folderpath ? normalizeDriveLetter(folderpath) : '/');\r\n    };\r\n    return WorkspaceBasedVariableResolver;\r\n}());\r\nexport { WorkspaceBasedVariableResolver };\r\nvar RandomBasedVariableResolver = /** @class */ (function () {\r\n    function RandomBasedVariableResolver() {\r\n    }\r\n    RandomBasedVariableResolver.prototype.resolve = function (variable) {\r\n        var name = variable.name;\r\n        if (name === 'RANDOM') {\r\n            return Math.random().toString().slice(-6);\r\n        }\r\n        else if (name === 'RANDOM_HEX') {\r\n            return Math.random().toString(16).slice(-6);\r\n        }\r\n        return undefined;\r\n    };\r\n    return RandomBasedVariableResolver;\r\n}());\r\nexport { RandomBasedVariableResolver };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { groupBy } from '../../../base/common/arrays.js';\r\nimport { dispose } from '../../../base/common/lifecycle.js';\r\nimport { getLeadingWhitespace } from '../../../base/common/strings.js';\r\nimport './snippetSession.css';\r\nimport { EditOperation } from '../../common/core/editOperation.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { IClipboardService } from '../../../platform/clipboard/common/clipboardService.js';\r\nimport { IWorkspaceContextService } from '../../../platform/workspace/common/workspace.js';\r\nimport { optional } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { Choice, Placeholder, SnippetParser, Text } from './snippetParser.js';\r\nimport { ClipboardBasedVariableResolver, CompositeSnippetVariableResolver, ModelBasedVariableResolver, SelectionBasedVariableResolver, TimeBasedVariableResolver, CommentBasedVariableResolver, WorkspaceBasedVariableResolver, RandomBasedVariableResolver } from './snippetVariables.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport * as colors from '../../../platform/theme/common/colorRegistry.js';\r\nimport { ILabelService } from '../../../platform/label/common/label.js';\r\nregisterThemingParticipant(function (theme, collector) {\r\n    function getColorGraceful(name) {\r\n        var color = theme.getColor(name);\r\n        return color ? color.toString() : 'transparent';\r\n    }\r\n    collector.addRule(\".monaco-editor .snippet-placeholder { background-color: \" + getColorGraceful(colors.snippetTabstopHighlightBackground) + \"; outline-color: \" + getColorGraceful(colors.snippetTabstopHighlightBorder) + \"; }\");\r\n    collector.addRule(\".monaco-editor .finish-snippet-placeholder { background-color: \" + getColorGraceful(colors.snippetFinalTabstopHighlightBackground) + \"; outline-color: \" + getColorGraceful(colors.snippetFinalTabstopHighlightBorder) + \"; }\");\r\n});\r\nvar OneSnippet = /** @class */ (function () {\r\n    function OneSnippet(editor, snippet, offset) {\r\n        this._nestingLevel = 1;\r\n        this._editor = editor;\r\n        this._snippet = snippet;\r\n        this._offset = offset;\r\n        this._placeholderGroups = groupBy(snippet.placeholders, Placeholder.compareByIndex);\r\n        this._placeholderGroupsIdx = -1;\r\n    }\r\n    OneSnippet.prototype.dispose = function () {\r\n        if (this._placeholderDecorations) {\r\n            var toRemove_1 = [];\r\n            this._placeholderDecorations.forEach(function (handle) { return toRemove_1.push(handle); });\r\n            this._editor.deltaDecorations(toRemove_1, []);\r\n        }\r\n        this._placeholderGroups.length = 0;\r\n    };\r\n    OneSnippet.prototype._initDecorations = function () {\r\n        var _this = this;\r\n        if (this._placeholderDecorations) {\r\n            // already initialized\r\n            return;\r\n        }\r\n        this._placeholderDecorations = new Map();\r\n        var model = this._editor.getModel();\r\n        this._editor.changeDecorations(function (accessor) {\r\n            // create a decoration for each placeholder\r\n            for (var _i = 0, _a = _this._snippet.placeholders; _i < _a.length; _i++) {\r\n                var placeholder = _a[_i];\r\n                var placeholderOffset = _this._snippet.offset(placeholder);\r\n                var placeholderLen = _this._snippet.fullLen(placeholder);\r\n                var range = Range.fromPositions(model.getPositionAt(_this._offset + placeholderOffset), model.getPositionAt(_this._offset + placeholderOffset + placeholderLen));\r\n                var options = placeholder.isFinalTabstop ? OneSnippet._decor.inactiveFinal : OneSnippet._decor.inactive;\r\n                var handle = accessor.addDecoration(range, options);\r\n                _this._placeholderDecorations.set(placeholder, handle);\r\n            }\r\n        });\r\n    };\r\n    OneSnippet.prototype.move = function (fwd) {\r\n        var _this = this;\r\n        if (!this._editor.hasModel()) {\r\n            return [];\r\n        }\r\n        this._initDecorations();\r\n        // Transform placeholder text if necessary\r\n        if (this._placeholderGroupsIdx >= 0) {\r\n            var operations = [];\r\n            for (var _i = 0, _a = this._placeholderGroups[this._placeholderGroupsIdx]; _i < _a.length; _i++) {\r\n                var placeholder = _a[_i];\r\n                // Check if the placeholder has a transformation\r\n                if (placeholder.transform) {\r\n                    var id = this._placeholderDecorations.get(placeholder);\r\n                    var range = this._editor.getModel().getDecorationRange(id);\r\n                    var currentValue = this._editor.getModel().getValueInRange(range);\r\n                    operations.push(EditOperation.replaceMove(range, placeholder.transform.resolve(currentValue)));\r\n                }\r\n            }\r\n            if (operations.length > 0) {\r\n                this._editor.executeEdits('snippet.placeholderTransform', operations);\r\n            }\r\n        }\r\n        var couldSkipThisPlaceholder = false;\r\n        if (fwd === true && this._placeholderGroupsIdx < this._placeholderGroups.length - 1) {\r\n            this._placeholderGroupsIdx += 1;\r\n            couldSkipThisPlaceholder = true;\r\n        }\r\n        else if (fwd === false && this._placeholderGroupsIdx > 0) {\r\n            this._placeholderGroupsIdx -= 1;\r\n            couldSkipThisPlaceholder = true;\r\n        }\r\n        else {\r\n            // the selection of the current placeholder might\r\n            // not acurate any more -> simply restore it\r\n        }\r\n        var newSelections = this._editor.getModel().changeDecorations(function (accessor) {\r\n            var activePlaceholders = new Set();\r\n            // change stickiness to always grow when typing at its edges\r\n            // because these decorations represent the currently active\r\n            // tabstop.\r\n            // Special case #1: reaching the final tabstop\r\n            // Special case #2: placeholders enclosing active placeholders\r\n            var selections = [];\r\n            for (var _i = 0, _a = _this._placeholderGroups[_this._placeholderGroupsIdx]; _i < _a.length; _i++) {\r\n                var placeholder = _a[_i];\r\n                var id = _this._placeholderDecorations.get(placeholder);\r\n                var range = _this._editor.getModel().getDecorationRange(id);\r\n                selections.push(new Selection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn));\r\n                // consider to skip this placeholder index when the decoration\r\n                // range is empty but when the placeholder wasn't. that's a strong\r\n                // hint that the placeholder has been deleted. (all placeholder must match this)\r\n                couldSkipThisPlaceholder = couldSkipThisPlaceholder && _this._hasPlaceholderBeenCollapsed(placeholder);\r\n                accessor.changeDecorationOptions(id, placeholder.isFinalTabstop ? OneSnippet._decor.activeFinal : OneSnippet._decor.active);\r\n                activePlaceholders.add(placeholder);\r\n                for (var _b = 0, _c = _this._snippet.enclosingPlaceholders(placeholder); _b < _c.length; _b++) {\r\n                    var enclosingPlaceholder = _c[_b];\r\n                    var id_1 = _this._placeholderDecorations.get(enclosingPlaceholder);\r\n                    accessor.changeDecorationOptions(id_1, enclosingPlaceholder.isFinalTabstop ? OneSnippet._decor.activeFinal : OneSnippet._decor.active);\r\n                    activePlaceholders.add(enclosingPlaceholder);\r\n                }\r\n            }\r\n            // change stickness to never grow when typing at its edges\r\n            // so that in-active tabstops never grow\r\n            _this._placeholderDecorations.forEach(function (id, placeholder) {\r\n                if (!activePlaceholders.has(placeholder)) {\r\n                    accessor.changeDecorationOptions(id, placeholder.isFinalTabstop ? OneSnippet._decor.inactiveFinal : OneSnippet._decor.inactive);\r\n                }\r\n            });\r\n            return selections;\r\n        });\r\n        return !couldSkipThisPlaceholder ? newSelections : this.move(fwd);\r\n    };\r\n    OneSnippet.prototype._hasPlaceholderBeenCollapsed = function (placeholder) {\r\n        // A placeholder is empty when it wasn't empty when authored but\r\n        // when its tracking decoration is empty. This also applies to all\r\n        // potential parent placeholders\r\n        var marker = placeholder;\r\n        while (marker) {\r\n            if (marker instanceof Placeholder) {\r\n                var id = this._placeholderDecorations.get(marker);\r\n                var range = this._editor.getModel().getDecorationRange(id);\r\n                if (range.isEmpty() && marker.toString().length > 0) {\r\n                    return true;\r\n                }\r\n            }\r\n            marker = marker.parent;\r\n        }\r\n        return false;\r\n    };\r\n    Object.defineProperty(OneSnippet.prototype, \"isAtFirstPlaceholder\", {\r\n        get: function () {\r\n            return this._placeholderGroupsIdx <= 0 || this._placeholderGroups.length === 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OneSnippet.prototype, \"isAtLastPlaceholder\", {\r\n        get: function () {\r\n            return this._placeholderGroupsIdx === this._placeholderGroups.length - 1;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OneSnippet.prototype, \"hasPlaceholder\", {\r\n        get: function () {\r\n            return this._snippet.placeholders.length > 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    OneSnippet.prototype.computePossibleSelections = function () {\r\n        var result = new Map();\r\n        for (var _i = 0, _a = this._placeholderGroups; _i < _a.length; _i++) {\r\n            var placeholdersWithEqualIndex = _a[_i];\r\n            var ranges = void 0;\r\n            for (var _b = 0, placeholdersWithEqualIndex_1 = placeholdersWithEqualIndex; _b < placeholdersWithEqualIndex_1.length; _b++) {\r\n                var placeholder = placeholdersWithEqualIndex_1[_b];\r\n                if (placeholder.isFinalTabstop) {\r\n                    // ignore those\r\n                    break;\r\n                }\r\n                if (!ranges) {\r\n                    ranges = [];\r\n                    result.set(placeholder.index, ranges);\r\n                }\r\n                var id = this._placeholderDecorations.get(placeholder);\r\n                var range = this._editor.getModel().getDecorationRange(id);\r\n                if (!range) {\r\n                    // one of the placeholder lost its decoration and\r\n                    // therefore we bail out and pretend the placeholder\r\n                    // (with its mirrors) doesn't exist anymore.\r\n                    result.delete(placeholder.index);\r\n                    break;\r\n                }\r\n                ranges.push(range);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    Object.defineProperty(OneSnippet.prototype, \"choice\", {\r\n        get: function () {\r\n            return this._placeholderGroups[this._placeholderGroupsIdx][0].choice;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    OneSnippet.prototype.merge = function (others) {\r\n        var _this = this;\r\n        var model = this._editor.getModel();\r\n        this._nestingLevel *= 10;\r\n        this._editor.changeDecorations(function (accessor) {\r\n            // For each active placeholder take one snippet and merge it\r\n            // in that the placeholder (can be many for `$1foo$1foo`). Because\r\n            // everything is sorted by editor selection we can simply remove\r\n            // elements from the beginning of the array\r\n            for (var _i = 0, _a = _this._placeholderGroups[_this._placeholderGroupsIdx]; _i < _a.length; _i++) {\r\n                var placeholder = _a[_i];\r\n                var nested = others.shift();\r\n                console.assert(!nested._placeholderDecorations);\r\n                // Massage placeholder-indicies of the nested snippet to be\r\n                // sorted right after the insertion point. This ensures we move\r\n                // through the placeholders in the correct order\r\n                var indexLastPlaceholder = nested._snippet.placeholderInfo.last.index;\r\n                for (var _b = 0, _c = nested._snippet.placeholderInfo.all; _b < _c.length; _b++) {\r\n                    var nestedPlaceholder = _c[_b];\r\n                    if (nestedPlaceholder.isFinalTabstop) {\r\n                        nestedPlaceholder.index = placeholder.index + ((indexLastPlaceholder + 1) / _this._nestingLevel);\r\n                    }\r\n                    else {\r\n                        nestedPlaceholder.index = placeholder.index + (nestedPlaceholder.index / _this._nestingLevel);\r\n                    }\r\n                }\r\n                _this._snippet.replace(placeholder, nested._snippet.children);\r\n                // Remove the placeholder at which position are inserting\r\n                // the snippet and also remove its decoration.\r\n                var id = _this._placeholderDecorations.get(placeholder);\r\n                accessor.removeDecoration(id);\r\n                _this._placeholderDecorations.delete(placeholder);\r\n                // For each *new* placeholder we create decoration to monitor\r\n                // how and if it grows/shrinks.\r\n                for (var _d = 0, _e = nested._snippet.placeholders; _d < _e.length; _d++) {\r\n                    var placeholder_1 = _e[_d];\r\n                    var placeholderOffset = nested._snippet.offset(placeholder_1);\r\n                    var placeholderLen = nested._snippet.fullLen(placeholder_1);\r\n                    var range = Range.fromPositions(model.getPositionAt(nested._offset + placeholderOffset), model.getPositionAt(nested._offset + placeholderOffset + placeholderLen));\r\n                    var handle = accessor.addDecoration(range, OneSnippet._decor.inactive);\r\n                    _this._placeholderDecorations.set(placeholder_1, handle);\r\n                }\r\n            }\r\n            // Last, re-create the placeholder groups by sorting placeholders by their index.\r\n            _this._placeholderGroups = groupBy(_this._snippet.placeholders, Placeholder.compareByIndex);\r\n        });\r\n    };\r\n    OneSnippet._decor = {\r\n        active: ModelDecorationOptions.register({ stickiness: 0 /* AlwaysGrowsWhenTypingAtEdges */, className: 'snippet-placeholder' }),\r\n        inactive: ModelDecorationOptions.register({ stickiness: 1 /* NeverGrowsWhenTypingAtEdges */, className: 'snippet-placeholder' }),\r\n        activeFinal: ModelDecorationOptions.register({ stickiness: 1 /* NeverGrowsWhenTypingAtEdges */, className: 'finish-snippet-placeholder' }),\r\n        inactiveFinal: ModelDecorationOptions.register({ stickiness: 1 /* NeverGrowsWhenTypingAtEdges */, className: 'finish-snippet-placeholder' }),\r\n    };\r\n    return OneSnippet;\r\n}());\r\nexport { OneSnippet };\r\nvar _defaultOptions = {\r\n    overwriteBefore: 0,\r\n    overwriteAfter: 0,\r\n    adjustWhitespace: true,\r\n    clipboardText: undefined\r\n};\r\nvar SnippetSession = /** @class */ (function () {\r\n    function SnippetSession(editor, template, options) {\r\n        if (options === void 0) { options = _defaultOptions; }\r\n        this._templateMerges = [];\r\n        this._snippets = [];\r\n        this._editor = editor;\r\n        this._template = template;\r\n        this._options = options;\r\n    }\r\n    SnippetSession.adjustWhitespace = function (model, position, snippet, adjustIndentation, adjustNewlines) {\r\n        var line = model.getLineContent(position.lineNumber);\r\n        var lineLeadingWhitespace = getLeadingWhitespace(line, 0, position.column - 1);\r\n        snippet.walk(function (marker) {\r\n            if (marker instanceof Text && !(marker.parent instanceof Choice)) {\r\n                // adjust indentation of text markers, except for choise elements\r\n                // which get adjusted when being selected\r\n                var lines = marker.value.split(/\\r\\n|\\r|\\n/);\r\n                if (adjustIndentation) {\r\n                    for (var i = 1; i < lines.length; i++) {\r\n                        var templateLeadingWhitespace = getLeadingWhitespace(lines[i]);\r\n                        lines[i] = model.normalizeIndentation(lineLeadingWhitespace + templateLeadingWhitespace) + lines[i].substr(templateLeadingWhitespace.length);\r\n                    }\r\n                }\r\n                if (adjustNewlines) {\r\n                    var newValue = lines.join(model.getEOL());\r\n                    if (newValue !== marker.value) {\r\n                        marker.parent.replace(marker, [new Text(newValue)]);\r\n                    }\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n    };\r\n    SnippetSession.adjustSelection = function (model, selection, overwriteBefore, overwriteAfter) {\r\n        if (overwriteBefore !== 0 || overwriteAfter !== 0) {\r\n            // overwrite[Before|After] is compute using the position, not the whole\r\n            // selection. therefore we adjust the selection around that position\r\n            var positionLineNumber = selection.positionLineNumber, positionColumn = selection.positionColumn;\r\n            var positionColumnBefore = positionColumn - overwriteBefore;\r\n            var positionColumnAfter = positionColumn + overwriteAfter;\r\n            var range = model.validateRange({\r\n                startLineNumber: positionLineNumber,\r\n                startColumn: positionColumnBefore,\r\n                endLineNumber: positionLineNumber,\r\n                endColumn: positionColumnAfter\r\n            });\r\n            selection = Selection.createWithDirection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn, selection.getDirection());\r\n        }\r\n        return selection;\r\n    };\r\n    SnippetSession.createEditsAndSnippets = function (editor, template, overwriteBefore, overwriteAfter, enforceFinalTabstop, adjustWhitespace, clipboardText) {\r\n        var edits = [];\r\n        var snippets = [];\r\n        if (!editor.hasModel()) {\r\n            return { edits: edits, snippets: snippets };\r\n        }\r\n        var model = editor.getModel();\r\n        var workspaceService = editor.invokeWithinContext(function (accessor) { return accessor.get(IWorkspaceContextService, optional); });\r\n        var modelBasedVariableResolver = editor.invokeWithinContext(function (accessor) { return new ModelBasedVariableResolver(accessor.get(ILabelService, optional), model); });\r\n        var clipboardService = editor.invokeWithinContext(function (accessor) { return accessor.get(IClipboardService, optional); });\r\n        var readClipboardText = function () { return clipboardText || clipboardService && clipboardService.readTextSync(); };\r\n        var delta = 0;\r\n        // know what text the overwrite[Before|After] extensions\r\n        // of the primary curser have selected because only when\r\n        // secondary selections extend to the same text we can grow them\r\n        var firstBeforeText = model.getValueInRange(SnippetSession.adjustSelection(model, editor.getSelection(), overwriteBefore, 0));\r\n        var firstAfterText = model.getValueInRange(SnippetSession.adjustSelection(model, editor.getSelection(), 0, overwriteAfter));\r\n        // remember the first non-whitespace column to decide if\r\n        // `keepWhitespace` should be overruled for secondary selections\r\n        var firstLineFirstNonWhitespace = model.getLineFirstNonWhitespaceColumn(editor.getSelection().positionLineNumber);\r\n        // sort selections by their start position but remeber\r\n        // the original index. that allows you to create correct\r\n        // offset-based selection logic without changing the\r\n        // primary selection\r\n        var indexedSelections = editor.getSelections()\r\n            .map(function (selection, idx) { return ({ selection: selection, idx: idx }); })\r\n            .sort(function (a, b) { return Range.compareRangesUsingStarts(a.selection, b.selection); });\r\n        for (var _i = 0, indexedSelections_1 = indexedSelections; _i < indexedSelections_1.length; _i++) {\r\n            var _a = indexedSelections_1[_i], selection = _a.selection, idx = _a.idx;\r\n            // extend selection with the `overwriteBefore` and `overwriteAfter` and then\r\n            // compare if this matches the extensions of the primary selection\r\n            var extensionBefore = SnippetSession.adjustSelection(model, selection, overwriteBefore, 0);\r\n            var extensionAfter = SnippetSession.adjustSelection(model, selection, 0, overwriteAfter);\r\n            if (firstBeforeText !== model.getValueInRange(extensionBefore)) {\r\n                extensionBefore = selection;\r\n            }\r\n            if (firstAfterText !== model.getValueInRange(extensionAfter)) {\r\n                extensionAfter = selection;\r\n            }\r\n            // merge the before and after selection into one\r\n            var snippetSelection = selection\r\n                .setStartPosition(extensionBefore.startLineNumber, extensionBefore.startColumn)\r\n                .setEndPosition(extensionAfter.endLineNumber, extensionAfter.endColumn);\r\n            var snippet = new SnippetParser().parse(template, true, enforceFinalTabstop);\r\n            // adjust the template string to match the indentation and\r\n            // whitespace rules of this insert location (can be different for each cursor)\r\n            // happens when being asked for (default) or when this is a secondary\r\n            // cursor and the leading whitespace is different\r\n            var start = snippetSelection.getStartPosition();\r\n            SnippetSession.adjustWhitespace(model, start, snippet, adjustWhitespace || (idx > 0 && firstLineFirstNonWhitespace !== model.getLineFirstNonWhitespaceColumn(selection.positionLineNumber)), true);\r\n            snippet.resolveVariables(new CompositeSnippetVariableResolver([\r\n                modelBasedVariableResolver,\r\n                new ClipboardBasedVariableResolver(readClipboardText, idx, indexedSelections.length, editor.getOption(58 /* multiCursorPaste */) === 'spread'),\r\n                new SelectionBasedVariableResolver(model, selection),\r\n                new CommentBasedVariableResolver(model),\r\n                new TimeBasedVariableResolver,\r\n                new WorkspaceBasedVariableResolver(workspaceService),\r\n                new RandomBasedVariableResolver,\r\n            ]));\r\n            var offset = model.getOffsetAt(start) + delta;\r\n            delta += snippet.toString().length - model.getValueLengthInRange(snippetSelection);\r\n            // store snippets with the index of their originating selection.\r\n            // that ensures the primiary cursor stays primary despite not being\r\n            // the one with lowest start position\r\n            edits[idx] = EditOperation.replace(snippetSelection, snippet.toString());\r\n            snippets[idx] = new OneSnippet(editor, snippet, offset);\r\n        }\r\n        return { edits: edits, snippets: snippets };\r\n    };\r\n    SnippetSession.prototype.dispose = function () {\r\n        dispose(this._snippets);\r\n    };\r\n    SnippetSession.prototype._logInfo = function () {\r\n        return \"template=\\\"\" + this._template + \"\\\", merged_templates=\\\"\" + this._templateMerges.join(' -> ') + \"\\\"\";\r\n    };\r\n    SnippetSession.prototype.insert = function () {\r\n        var _this = this;\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        // make insert edit and start with first selections\r\n        var _a = SnippetSession.createEditsAndSnippets(this._editor, this._template, this._options.overwriteBefore, this._options.overwriteAfter, false, this._options.adjustWhitespace, this._options.clipboardText), edits = _a.edits, snippets = _a.snippets;\r\n        this._snippets = snippets;\r\n        this._editor.executeEdits('snippet', edits, function (undoEdits) {\r\n            if (_this._snippets[0].hasPlaceholder) {\r\n                return _this._move(true);\r\n            }\r\n            else {\r\n                return undoEdits.map(function (edit) { return Selection.fromPositions(edit.range.getEndPosition()); });\r\n            }\r\n        });\r\n        this._editor.revealRange(this._editor.getSelections()[0]);\r\n    };\r\n    SnippetSession.prototype.merge = function (template, options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = _defaultOptions; }\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        this._templateMerges.push([this._snippets[0]._nestingLevel, this._snippets[0]._placeholderGroupsIdx, template]);\r\n        var _a = SnippetSession.createEditsAndSnippets(this._editor, template, options.overwriteBefore, options.overwriteAfter, true, options.adjustWhitespace, options.clipboardText), edits = _a.edits, snippets = _a.snippets;\r\n        this._editor.executeEdits('snippet', edits, function (undoEdits) {\r\n            for (var _i = 0, _a = _this._snippets; _i < _a.length; _i++) {\r\n                var snippet = _a[_i];\r\n                snippet.merge(snippets);\r\n            }\r\n            console.assert(snippets.length === 0);\r\n            if (_this._snippets[0].hasPlaceholder) {\r\n                return _this._move(undefined);\r\n            }\r\n            else {\r\n                return undoEdits.map(function (edit) { return Selection.fromPositions(edit.range.getEndPosition()); });\r\n            }\r\n        });\r\n    };\r\n    SnippetSession.prototype.next = function () {\r\n        var newSelections = this._move(true);\r\n        this._editor.setSelections(newSelections);\r\n        this._editor.revealPositionInCenterIfOutsideViewport(newSelections[0].getPosition());\r\n    };\r\n    SnippetSession.prototype.prev = function () {\r\n        var newSelections = this._move(false);\r\n        this._editor.setSelections(newSelections);\r\n        this._editor.revealPositionInCenterIfOutsideViewport(newSelections[0].getPosition());\r\n    };\r\n    SnippetSession.prototype._move = function (fwd) {\r\n        var selections = [];\r\n        for (var _i = 0, _a = this._snippets; _i < _a.length; _i++) {\r\n            var snippet = _a[_i];\r\n            var oneSelection = snippet.move(fwd);\r\n            selections.push.apply(selections, oneSelection);\r\n        }\r\n        return selections;\r\n    };\r\n    Object.defineProperty(SnippetSession.prototype, \"isAtFirstPlaceholder\", {\r\n        get: function () {\r\n            return this._snippets[0].isAtFirstPlaceholder;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SnippetSession.prototype, \"isAtLastPlaceholder\", {\r\n        get: function () {\r\n            return this._snippets[0].isAtLastPlaceholder;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SnippetSession.prototype, \"hasPlaceholder\", {\r\n        get: function () {\r\n            return this._snippets[0].hasPlaceholder;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SnippetSession.prototype, \"choice\", {\r\n        get: function () {\r\n            return this._snippets[0].choice;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SnippetSession.prototype.isSelectionWithinPlaceholders = function () {\r\n        if (!this.hasPlaceholder) {\r\n            return false;\r\n        }\r\n        var selections = this._editor.getSelections();\r\n        if (selections.length < this._snippets.length) {\r\n            // this means we started snippet mode with N\r\n            // selections and have M (N > M) selections.\r\n            // So one snippet is without selection -> cancel\r\n            return false;\r\n        }\r\n        var allPossibleSelections = new Map();\r\n        var _loop_1 = function (snippet) {\r\n            var possibleSelections = snippet.computePossibleSelections();\r\n            // for the first snippet find the placeholder (and its ranges)\r\n            // that contain at least one selection. for all remaining snippets\r\n            // the same placeholder (and their ranges) must be used.\r\n            if (allPossibleSelections.size === 0) {\r\n                possibleSelections.forEach(function (ranges, index) {\r\n                    ranges.sort(Range.compareRangesUsingStarts);\r\n                    for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\r\n                        var selection = selections_1[_i];\r\n                        if (ranges[0].containsRange(selection)) {\r\n                            allPossibleSelections.set(index, []);\r\n                            break;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            if (allPossibleSelections.size === 0) {\r\n                return { value: false };\r\n            }\r\n            // add selections from 'this' snippet so that we know all\r\n            // selections for this placeholder\r\n            allPossibleSelections.forEach(function (array, index) {\r\n                array.push.apply(array, possibleSelections.get(index));\r\n            });\r\n        };\r\n        for (var _i = 0, _a = this._snippets; _i < _a.length; _i++) {\r\n            var snippet = _a[_i];\r\n            var state_1 = _loop_1(snippet);\r\n            if (typeof state_1 === \"object\")\r\n                return state_1.value;\r\n        }\r\n        // sort selections (and later placeholder-ranges). then walk both\r\n        // arrays and make sure the placeholder-ranges contain the corresponding\r\n        // selection\r\n        selections.sort(Range.compareRangesUsingStarts);\r\n        allPossibleSelections.forEach(function (ranges, index) {\r\n            if (ranges.length !== selections.length) {\r\n                allPossibleSelections.delete(index);\r\n                return;\r\n            }\r\n            ranges.sort(Range.compareRangesUsingStarts);\r\n            for (var i = 0; i < ranges.length; i++) {\r\n                if (!ranges[i].containsRange(selections[i])) {\r\n                    allPossibleSelections.delete(index);\r\n                    return;\r\n                }\r\n            }\r\n        });\r\n        // from all possible selections we have deleted those\r\n        // that don't match with the current selection. if we don't\r\n        // have any left, we don't have a selection anymore\r\n        return allPossibleSelections.size > 0;\r\n    };\r\n    return SnippetSession;\r\n}());\r\nexport { SnippetSession };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { dispose, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { repeat } from '../../../base/common/strings.js';\r\nimport { EditorCommand, registerEditorCommand, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { showSimpleSuggestions } from '../suggest/suggest.js';\r\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { ILogService } from '../../../platform/log/common/log.js';\r\nimport { SnippetSession } from './snippetSession.js';\r\nvar _defaultOptions = {\r\n    overwriteBefore: 0,\r\n    overwriteAfter: 0,\r\n    undoStopBefore: true,\r\n    undoStopAfter: true,\r\n    adjustWhitespace: true,\r\n    clipboardText: undefined\r\n};\r\nvar SnippetController2 = /** @class */ (function () {\r\n    function SnippetController2(_editor, _logService, contextKeyService) {\r\n        this._editor = _editor;\r\n        this._logService = _logService;\r\n        this._snippetListener = new DisposableStore();\r\n        this._modelVersionId = -1;\r\n        this._inSnippet = SnippetController2.InSnippetMode.bindTo(contextKeyService);\r\n        this._hasNextTabstop = SnippetController2.HasNextTabstop.bindTo(contextKeyService);\r\n        this._hasPrevTabstop = SnippetController2.HasPrevTabstop.bindTo(contextKeyService);\r\n    }\r\n    SnippetController2.get = function (editor) {\r\n        return editor.getContribution(SnippetController2.ID);\r\n    };\r\n    SnippetController2.prototype.dispose = function () {\r\n        this._inSnippet.reset();\r\n        this._hasPrevTabstop.reset();\r\n        this._hasNextTabstop.reset();\r\n        dispose(this._session);\r\n        this._snippetListener.dispose();\r\n    };\r\n    SnippetController2.prototype.insert = function (template, opts) {\r\n        // this is here to find out more about the yet-not-understood\r\n        // error that sometimes happens when we fail to inserted a nested\r\n        // snippet\r\n        try {\r\n            this._doInsert(template, typeof opts === 'undefined' ? _defaultOptions : __assign(__assign({}, _defaultOptions), opts));\r\n        }\r\n        catch (e) {\r\n            this.cancel();\r\n            this._logService.error(e);\r\n            this._logService.error('snippet_error');\r\n            this._logService.error('insert_template=', template);\r\n            this._logService.error('existing_template=', this._session ? this._session._logInfo() : '<no_session>');\r\n        }\r\n    };\r\n    SnippetController2.prototype._doInsert = function (template, opts) {\r\n        var _this = this;\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        // don't listen while inserting the snippet\r\n        // as that is the inflight state causing cancelation\r\n        this._snippetListener.clear();\r\n        if (opts.undoStopBefore) {\r\n            this._editor.getModel().pushStackElement();\r\n        }\r\n        if (!this._session) {\r\n            this._modelVersionId = this._editor.getModel().getAlternativeVersionId();\r\n            this._session = new SnippetSession(this._editor, template, opts);\r\n            this._session.insert();\r\n        }\r\n        else {\r\n            this._session.merge(template, opts);\r\n        }\r\n        if (opts.undoStopAfter) {\r\n            this._editor.getModel().pushStackElement();\r\n        }\r\n        this._updateState();\r\n        this._snippetListener.add(this._editor.onDidChangeModelContent(function (e) { return e.isFlush && _this.cancel(); }));\r\n        this._snippetListener.add(this._editor.onDidChangeModel(function () { return _this.cancel(); }));\r\n        this._snippetListener.add(this._editor.onDidChangeCursorSelection(function () { return _this._updateState(); }));\r\n    };\r\n    SnippetController2.prototype._updateState = function () {\r\n        if (!this._session || !this._editor.hasModel()) {\r\n            // canceled in the meanwhile\r\n            return;\r\n        }\r\n        if (this._modelVersionId === this._editor.getModel().getAlternativeVersionId()) {\r\n            // undo until the 'before' state happened\r\n            // and makes use cancel snippet mode\r\n            return this.cancel();\r\n        }\r\n        if (!this._session.hasPlaceholder) {\r\n            // don't listen for selection changes and don't\r\n            // update context keys when the snippet is plain text\r\n            return this.cancel();\r\n        }\r\n        if (this._session.isAtLastPlaceholder || !this._session.isSelectionWithinPlaceholders()) {\r\n            return this.cancel();\r\n        }\r\n        this._inSnippet.set(true);\r\n        this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder);\r\n        this._hasNextTabstop.set(!this._session.isAtLastPlaceholder);\r\n        this._handleChoice();\r\n    };\r\n    SnippetController2.prototype._handleChoice = function () {\r\n        var _this = this;\r\n        if (!this._session || !this._editor.hasModel()) {\r\n            this._currentChoice = undefined;\r\n            return;\r\n        }\r\n        var choice = this._session.choice;\r\n        if (!choice) {\r\n            this._currentChoice = undefined;\r\n            return;\r\n        }\r\n        if (this._currentChoice !== choice) {\r\n            this._currentChoice = choice;\r\n            this._editor.setSelections(this._editor.getSelections()\r\n                .map(function (s) { return Selection.fromPositions(s.getStartPosition()); }));\r\n            var first_1 = choice.options[0];\r\n            showSimpleSuggestions(this._editor, choice.options.map(function (option, i) {\r\n                // let before = choice.options.slice(0, i);\r\n                // let after = choice.options.slice(i);\r\n                return {\r\n                    kind: 13 /* Value */,\r\n                    label: option.value,\r\n                    insertText: option.value,\r\n                    // insertText: `\\${1|${after.concat(before).join(',')}|}$0`,\r\n                    // snippetType: 'textmate',\r\n                    sortText: repeat('a', i + 1),\r\n                    range: Range.fromPositions(_this._editor.getPosition(), _this._editor.getPosition().delta(0, first_1.value.length))\r\n                };\r\n            }));\r\n        }\r\n    };\r\n    SnippetController2.prototype.finish = function () {\r\n        while (this._inSnippet.get()) {\r\n            this.next();\r\n        }\r\n    };\r\n    SnippetController2.prototype.cancel = function (resetSelection) {\r\n        if (resetSelection === void 0) { resetSelection = false; }\r\n        this._inSnippet.reset();\r\n        this._hasPrevTabstop.reset();\r\n        this._hasNextTabstop.reset();\r\n        this._snippetListener.clear();\r\n        dispose(this._session);\r\n        this._session = undefined;\r\n        this._modelVersionId = -1;\r\n        if (resetSelection) {\r\n            // reset selection to the primary cursor when being asked\r\n            // for. this happens when explicitly cancelling snippet mode,\r\n            // e.g. when pressing ESC\r\n            this._editor.setSelections([this._editor.getSelection()]);\r\n        }\r\n    };\r\n    SnippetController2.prototype.prev = function () {\r\n        if (this._session) {\r\n            this._session.prev();\r\n        }\r\n        this._updateState();\r\n    };\r\n    SnippetController2.prototype.next = function () {\r\n        if (this._session) {\r\n            this._session.next();\r\n        }\r\n        this._updateState();\r\n    };\r\n    SnippetController2.prototype.isInSnippet = function () {\r\n        return Boolean(this._inSnippet.get());\r\n    };\r\n    SnippetController2.ID = 'snippetController2';\r\n    SnippetController2.InSnippetMode = new RawContextKey('inSnippetMode', false);\r\n    SnippetController2.HasNextTabstop = new RawContextKey('hasNextTabstop', false);\r\n    SnippetController2.HasPrevTabstop = new RawContextKey('hasPrevTabstop', false);\r\n    SnippetController2 = __decorate([\r\n        __param(1, ILogService),\r\n        __param(2, IContextKeyService)\r\n    ], SnippetController2);\r\n    return SnippetController2;\r\n}());\r\nexport { SnippetController2 };\r\nregisterEditorContribution(SnippetController2.ID, SnippetController2);\r\nvar CommandCtor = EditorCommand.bindToContribution(SnippetController2.get);\r\nregisterEditorCommand(new CommandCtor({\r\n    id: 'jumpToNextSnippetPlaceholder',\r\n    precondition: ContextKeyExpr.and(SnippetController2.InSnippetMode, SnippetController2.HasNextTabstop),\r\n    handler: function (ctrl) { return ctrl.next(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 30,\r\n        kbExpr: EditorContextKeys.editorTextFocus,\r\n        primary: 2 /* Tab */\r\n    }\r\n}));\r\nregisterEditorCommand(new CommandCtor({\r\n    id: 'jumpToPrevSnippetPlaceholder',\r\n    precondition: ContextKeyExpr.and(SnippetController2.InSnippetMode, SnippetController2.HasPrevTabstop),\r\n    handler: function (ctrl) { return ctrl.prev(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 30,\r\n        kbExpr: EditorContextKeys.editorTextFocus,\r\n        primary: 1024 /* Shift */ | 2 /* Tab */\r\n    }\r\n}));\r\nregisterEditorCommand(new CommandCtor({\r\n    id: 'leaveSnippet',\r\n    precondition: SnippetController2.InSnippetMode,\r\n    handler: function (ctrl) { return ctrl.cancel(true); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 30,\r\n        kbExpr: EditorContextKeys.editorTextFocus,\r\n        primary: 9 /* Escape */,\r\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\r\n    }\r\n}));\r\nregisterEditorCommand(new CommandCtor({\r\n    id: 'acceptSnippet',\r\n    precondition: SnippetController2.InSnippetMode,\r\n    handler: function (ctrl) { return ctrl.finish(); },\r\n}));\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { LRUCache, TernarySearchTree } from '../../../base/common/map.js';\r\nimport { IStorageService, WillSaveStateReason } from '../../../platform/storage/common/storage.js';\r\nimport { completionKindFromString } from '../../common/modes.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { RunOnceScheduler } from '../../../base/common/async.js';\r\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { IConfigurationService } from '../../../platform/configuration/common/configuration.js';\r\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\r\nvar Memory = /** @class */ (function () {\r\n    function Memory() {\r\n    }\r\n    Memory.prototype.select = function (model, pos, items) {\r\n        if (items.length === 0) {\r\n            return 0;\r\n        }\r\n        var topScore = items[0].score[0];\r\n        for (var i = 1; i < items.length; i++) {\r\n            var _a = items[i], score = _a.score, suggestion = _a.completion;\r\n            if (score[0] !== topScore) {\r\n                // stop when leaving the group of top matches\r\n                break;\r\n            }\r\n            if (suggestion.preselect) {\r\n                // stop when seeing an auto-select-item\r\n                return i;\r\n            }\r\n        }\r\n        return 0;\r\n    };\r\n    return Memory;\r\n}());\r\nexport { Memory };\r\nvar NoMemory = /** @class */ (function (_super) {\r\n    __extends(NoMemory, _super);\r\n    function NoMemory() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    NoMemory.prototype.memorize = function (model, pos, item) {\r\n        // no-op\r\n    };\r\n    NoMemory.prototype.toJSON = function () {\r\n        return undefined;\r\n    };\r\n    NoMemory.prototype.fromJSON = function () {\r\n        //\r\n    };\r\n    return NoMemory;\r\n}(Memory));\r\nexport { NoMemory };\r\nvar LRUMemory = /** @class */ (function (_super) {\r\n    __extends(LRUMemory, _super);\r\n    function LRUMemory() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this._cache = new LRUCache(300, 0.66);\r\n        _this._seq = 0;\r\n        return _this;\r\n    }\r\n    LRUMemory.prototype.memorize = function (model, pos, item) {\r\n        var label = item.completion.label;\r\n        var key = model.getLanguageIdentifier().language + \"/\" + label;\r\n        this._cache.set(key, {\r\n            touch: this._seq++,\r\n            type: item.completion.kind,\r\n            insertText: item.completion.insertText\r\n        });\r\n    };\r\n    LRUMemory.prototype.select = function (model, pos, items) {\r\n        if (items.length === 0) {\r\n            return 0;\r\n        }\r\n        var lineSuffix = model.getLineContent(pos.lineNumber).substr(pos.column - 10, pos.column - 1);\r\n        if (/\\s$/.test(lineSuffix)) {\r\n            return _super.prototype.select.call(this, model, pos, items);\r\n        }\r\n        var topScore = items[0].score[0];\r\n        var indexPreselect = -1;\r\n        var indexRecency = -1;\r\n        var seq = -1;\r\n        for (var i = 0; i < items.length; i++) {\r\n            if (items[i].score[0] !== topScore) {\r\n                // consider only top items\r\n                break;\r\n            }\r\n            var key = model.getLanguageIdentifier().language + \"/\" + items[i].completion.label;\r\n            var item = this._cache.peek(key);\r\n            if (item && item.touch > seq && item.type === items[i].completion.kind && item.insertText === items[i].completion.insertText) {\r\n                seq = item.touch;\r\n                indexRecency = i;\r\n            }\r\n            if (items[i].completion.preselect && indexPreselect === -1) {\r\n                // stop when seeing an auto-select-item\r\n                return indexPreselect = i;\r\n            }\r\n        }\r\n        if (indexRecency !== -1) {\r\n            return indexRecency;\r\n        }\r\n        else if (indexPreselect !== -1) {\r\n            return indexPreselect;\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    };\r\n    LRUMemory.prototype.toJSON = function () {\r\n        var data = [];\r\n        this._cache.forEach(function (value, key) {\r\n            data.push([key, value]);\r\n        });\r\n        return data;\r\n    };\r\n    LRUMemory.prototype.fromJSON = function (data) {\r\n        this._cache.clear();\r\n        var seq = 0;\r\n        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\r\n            var _a = data_1[_i], key = _a[0], value = _a[1];\r\n            value.touch = seq;\r\n            value.type = typeof value.type === 'number' ? value.type : completionKindFromString(value.type);\r\n            this._cache.set(key, value);\r\n        }\r\n        this._seq = this._cache.size;\r\n    };\r\n    return LRUMemory;\r\n}(Memory));\r\nexport { LRUMemory };\r\nvar PrefixMemory = /** @class */ (function (_super) {\r\n    __extends(PrefixMemory, _super);\r\n    function PrefixMemory() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this._trie = TernarySearchTree.forStrings();\r\n        _this._seq = 0;\r\n        return _this;\r\n    }\r\n    PrefixMemory.prototype.memorize = function (model, pos, item) {\r\n        var word = model.getWordUntilPosition(pos).word;\r\n        var key = model.getLanguageIdentifier().language + \"/\" + word;\r\n        this._trie.set(key, {\r\n            type: item.completion.kind,\r\n            insertText: item.completion.insertText,\r\n            touch: this._seq++\r\n        });\r\n    };\r\n    PrefixMemory.prototype.select = function (model, pos, items) {\r\n        var word = model.getWordUntilPosition(pos).word;\r\n        if (!word) {\r\n            return _super.prototype.select.call(this, model, pos, items);\r\n        }\r\n        var key = model.getLanguageIdentifier().language + \"/\" + word;\r\n        var item = this._trie.get(key);\r\n        if (!item) {\r\n            item = this._trie.findSubstr(key);\r\n        }\r\n        if (item) {\r\n            for (var i = 0; i < items.length; i++) {\r\n                var _a = items[i].completion, kind = _a.kind, insertText = _a.insertText;\r\n                if (kind === item.type && insertText === item.insertText) {\r\n                    return i;\r\n                }\r\n            }\r\n        }\r\n        return _super.prototype.select.call(this, model, pos, items);\r\n    };\r\n    PrefixMemory.prototype.toJSON = function () {\r\n        var entries = [];\r\n        this._trie.forEach(function (value, key) { return entries.push([key, value]); });\r\n        // sort by last recently used (touch), then\r\n        // take the top 200 item and normalize their\r\n        // touch\r\n        entries\r\n            .sort(function (a, b) { return -(a[1].touch - b[1].touch); })\r\n            .forEach(function (value, i) { return value[1].touch = i; });\r\n        return entries.slice(0, 200);\r\n    };\r\n    PrefixMemory.prototype.fromJSON = function (data) {\r\n        this._trie.clear();\r\n        if (data.length > 0) {\r\n            this._seq = data[0][1].touch + 1;\r\n            for (var _i = 0, data_2 = data; _i < data_2.length; _i++) {\r\n                var _a = data_2[_i], key = _a[0], value = _a[1];\r\n                value.type = typeof value.type === 'number' ? value.type : completionKindFromString(value.type);\r\n                this._trie.set(key, value);\r\n            }\r\n        }\r\n    };\r\n    return PrefixMemory;\r\n}(Memory));\r\nexport { PrefixMemory };\r\nvar SuggestMemoryService = /** @class */ (function (_super) {\r\n    __extends(SuggestMemoryService, _super);\r\n    function SuggestMemoryService(_storageService, _configService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._storageService = _storageService;\r\n        _this._configService = _configService;\r\n        _this._storagePrefix = 'suggest/memories';\r\n        var update = function () {\r\n            var mode = _this._configService.getValue('editor.suggestSelection');\r\n            var share = _this._configService.getValue('editor.suggest.shareSuggestSelections');\r\n            _this._update(mode, share, false);\r\n        };\r\n        _this._persistSoon = _this._register(new RunOnceScheduler(function () { return _this._saveState(); }, 500));\r\n        _this._register(_storageService.onWillSaveState(function (e) {\r\n            if (e.reason === WillSaveStateReason.SHUTDOWN) {\r\n                _this._saveState();\r\n            }\r\n        }));\r\n        _this._register(_this._configService.onDidChangeConfiguration(function (e) {\r\n            if (e.affectsConfiguration('editor.suggestSelection') || e.affectsConfiguration('editor.suggest.shareSuggestSelections')) {\r\n                update();\r\n            }\r\n        }));\r\n        _this._register(_this._storageService.onDidChangeStorage(function (e) {\r\n            if (e.scope === 0 /* GLOBAL */ && e.key.indexOf(_this._storagePrefix) === 0) {\r\n                if (!document.hasFocus()) {\r\n                    // windows that aren't focused have to drop their current\r\n                    // storage value and accept what's stored now\r\n                    _this._update(_this._mode, _this._shareMem, true);\r\n                }\r\n            }\r\n        }));\r\n        update();\r\n        return _this;\r\n    }\r\n    SuggestMemoryService.prototype._update = function (mode, shareMem, force) {\r\n        if (!force && this._mode === mode && this._shareMem === shareMem) {\r\n            return;\r\n        }\r\n        this._shareMem = shareMem;\r\n        this._mode = mode;\r\n        this._strategy = mode === 'recentlyUsedByPrefix' ? new PrefixMemory() : mode === 'recentlyUsed' ? new LRUMemory() : new NoMemory();\r\n        try {\r\n            var scope = shareMem ? 0 /* GLOBAL */ : 1 /* WORKSPACE */;\r\n            var raw = this._storageService.get(this._storagePrefix + \"/\" + this._mode, scope);\r\n            if (raw) {\r\n                this._strategy.fromJSON(JSON.parse(raw));\r\n            }\r\n        }\r\n        catch (e) {\r\n            // things can go wrong with JSON...\r\n        }\r\n    };\r\n    SuggestMemoryService.prototype.memorize = function (model, pos, item) {\r\n        this._strategy.memorize(model, pos, item);\r\n        this._persistSoon.schedule();\r\n    };\r\n    SuggestMemoryService.prototype.select = function (model, pos, items) {\r\n        return this._strategy.select(model, pos, items);\r\n    };\r\n    SuggestMemoryService.prototype._saveState = function () {\r\n        var raw = JSON.stringify(this._strategy);\r\n        var scope = this._shareMem ? 0 /* GLOBAL */ : 1 /* WORKSPACE */;\r\n        this._storageService.store(this._storagePrefix + \"/\" + this._mode, raw, scope);\r\n    };\r\n    SuggestMemoryService = __decorate([\r\n        __param(0, IStorageService),\r\n        __param(1, IConfigurationService)\r\n    ], SuggestMemoryService);\r\n    return SuggestMemoryService;\r\n}(Disposable));\r\nexport { SuggestMemoryService };\r\nexport var ISuggestMemoryService = createDecorator('ISuggestMemories');\r\nregisterSingleton(ISuggestMemoryService, SuggestMemoryService, true);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { dispose } from '../../../base/common/lifecycle.js';\r\nimport { IContextKeyService, RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nvar SuggestAlternatives = /** @class */ (function () {\r\n    function SuggestAlternatives(_editor, contextKeyService) {\r\n        this._editor = _editor;\r\n        this._index = 0;\r\n        this._ckOtherSuggestions = SuggestAlternatives.OtherSuggestions.bindTo(contextKeyService);\r\n    }\r\n    SuggestAlternatives.prototype.dispose = function () {\r\n        this.reset();\r\n    };\r\n    SuggestAlternatives.prototype.reset = function () {\r\n        this._ckOtherSuggestions.reset();\r\n        dispose(this._listener);\r\n        this._model = undefined;\r\n        this._acceptNext = undefined;\r\n        this._ignore = false;\r\n    };\r\n    SuggestAlternatives.prototype.set = function (_a, acceptNext) {\r\n        var _this = this;\r\n        var model = _a.model, index = _a.index;\r\n        // no suggestions -> nothing to do\r\n        if (model.items.length === 0) {\r\n            this.reset();\r\n            return;\r\n        }\r\n        // no alternative suggestions -> nothing to do\r\n        var nextIndex = SuggestAlternatives._moveIndex(true, model, index);\r\n        if (nextIndex === index) {\r\n            this.reset();\r\n            return;\r\n        }\r\n        this._acceptNext = acceptNext;\r\n        this._model = model;\r\n        this._index = index;\r\n        this._listener = this._editor.onDidChangeCursorPosition(function () {\r\n            if (!_this._ignore) {\r\n                _this.reset();\r\n            }\r\n        });\r\n        this._ckOtherSuggestions.set(true);\r\n    };\r\n    SuggestAlternatives._moveIndex = function (fwd, model, index) {\r\n        var newIndex = index;\r\n        while (true) {\r\n            newIndex = (newIndex + model.items.length + (fwd ? +1 : -1)) % model.items.length;\r\n            if (newIndex === index) {\r\n                break;\r\n            }\r\n            if (!model.items[newIndex].completion.additionalTextEdits) {\r\n                break;\r\n            }\r\n        }\r\n        return newIndex;\r\n    };\r\n    SuggestAlternatives.prototype.next = function () {\r\n        this._move(true);\r\n    };\r\n    SuggestAlternatives.prototype.prev = function () {\r\n        this._move(false);\r\n    };\r\n    SuggestAlternatives.prototype._move = function (fwd) {\r\n        if (!this._model) {\r\n            // nothing to reason about\r\n            return;\r\n        }\r\n        try {\r\n            this._ignore = true;\r\n            this._index = SuggestAlternatives._moveIndex(fwd, this._model, this._index);\r\n            this._acceptNext({ index: this._index, item: this._model.items[this._index], model: this._model });\r\n        }\r\n        finally {\r\n            this._ignore = false;\r\n        }\r\n    };\r\n    SuggestAlternatives.OtherSuggestions = new RawContextKey('hasOtherSuggestions', false);\r\n    SuggestAlternatives = __decorate([\r\n        __param(1, IContextKeyService)\r\n    ], SuggestAlternatives);\r\n    return SuggestAlternatives;\r\n}());\r\nexport { SuggestAlternatives };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { fuzzyScore, fuzzyScoreGracefulAggressive, FuzzyScore, anyScore } from '../../../base/common/filters.js';\r\nimport { compareIgnoreCase } from '../../../base/common/strings.js';\r\nvar LineContext = /** @class */ (function () {\r\n    function LineContext(leadingLineContent, characterCountDelta) {\r\n        this.leadingLineContent = leadingLineContent;\r\n        this.characterCountDelta = characterCountDelta;\r\n    }\r\n    return LineContext;\r\n}());\r\nexport { LineContext };\r\nvar CompletionModel = /** @class */ (function () {\r\n    function CompletionModel(items, column, lineContext, wordDistance, options, snippetSuggestions) {\r\n        this._snippetCompareFn = CompletionModel._compareCompletionItems;\r\n        this._items = items;\r\n        this._column = column;\r\n        this._wordDistance = wordDistance;\r\n        this._options = options;\r\n        this._refilterKind = 1 /* All */;\r\n        this._lineContext = lineContext;\r\n        if (snippetSuggestions === 'top') {\r\n            this._snippetCompareFn = CompletionModel._compareCompletionItemsSnippetsUp;\r\n        }\r\n        else if (snippetSuggestions === 'bottom') {\r\n            this._snippetCompareFn = CompletionModel._compareCompletionItemsSnippetsDown;\r\n        }\r\n    }\r\n    Object.defineProperty(CompletionModel.prototype, \"lineContext\", {\r\n        get: function () {\r\n            return this._lineContext;\r\n        },\r\n        set: function (value) {\r\n            if (this._lineContext.leadingLineContent !== value.leadingLineContent\r\n                || this._lineContext.characterCountDelta !== value.characterCountDelta) {\r\n                this._refilterKind = this._lineContext.characterCountDelta < value.characterCountDelta && this._filteredItems ? 2 /* Incr */ : 1 /* All */;\r\n                this._lineContext = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CompletionModel.prototype, \"items\", {\r\n        get: function () {\r\n            this._ensureCachedState();\r\n            return this._filteredItems;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CompletionModel.prototype, \"incomplete\", {\r\n        get: function () {\r\n            this._ensureCachedState();\r\n            return this._isIncomplete;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CompletionModel.prototype.adopt = function (except) {\r\n        var res = new Array();\r\n        for (var i = 0; i < this._items.length;) {\r\n            if (!except.has(this._items[i].provider)) {\r\n                res.push(this._items[i]);\r\n                // unordered removed\r\n                this._items[i] = this._items[this._items.length - 1];\r\n                this._items.pop();\r\n            }\r\n            else {\r\n                // continue with next item\r\n                i++;\r\n            }\r\n        }\r\n        this._refilterKind = 1 /* All */;\r\n        return res;\r\n    };\r\n    Object.defineProperty(CompletionModel.prototype, \"stats\", {\r\n        get: function () {\r\n            this._ensureCachedState();\r\n            return this._stats;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CompletionModel.prototype._ensureCachedState = function () {\r\n        if (this._refilterKind !== 0 /* Nothing */) {\r\n            this._createCachedState();\r\n        }\r\n    };\r\n    CompletionModel.prototype._createCachedState = function () {\r\n        this._isIncomplete = new Set();\r\n        this._stats = { suggestionCount: 0, snippetCount: 0, textCount: 0 };\r\n        var _a = this._lineContext, leadingLineContent = _a.leadingLineContent, characterCountDelta = _a.characterCountDelta;\r\n        var word = '';\r\n        var wordLow = '';\r\n        // incrementally filter less\r\n        var source = this._refilterKind === 1 /* All */ ? this._items : this._filteredItems;\r\n        var target = [];\r\n        // picks a score function based on the number of\r\n        // items that we have to score/filter and based on the\r\n        // user-configuration\r\n        var scoreFn = (!this._options.filterGraceful || source.length > 2000) ? fuzzyScore : fuzzyScoreGracefulAggressive;\r\n        for (var i = 0; i < source.length; i++) {\r\n            var item = source[i];\r\n            // collect those supports that signaled having\r\n            // an incomplete result\r\n            if (item.container.incomplete) {\r\n                this._isIncomplete.add(item.provider);\r\n            }\r\n            // 'word' is that remainder of the current line that we\r\n            // filter and score against. In theory each suggestion uses a\r\n            // different word, but in practice not - that's why we cache\r\n            var overwriteBefore = item.position.column - item.editStart.column;\r\n            var wordLen = overwriteBefore + characterCountDelta - (item.position.column - this._column);\r\n            if (word.length !== wordLen) {\r\n                word = wordLen === 0 ? '' : leadingLineContent.slice(-wordLen);\r\n                wordLow = word.toLowerCase();\r\n            }\r\n            // remember the word against which this item was\r\n            // scored\r\n            item.word = word;\r\n            if (wordLen === 0) {\r\n                // when there is nothing to score against, don't\r\n                // event try to do. Use a const rank and rely on\r\n                // the fallback-sort using the initial sort order.\r\n                // use a score of `-100` because that is out of the\r\n                // bound of values `fuzzyScore` will return\r\n                item.score = FuzzyScore.Default;\r\n            }\r\n            else {\r\n                // skip word characters that are whitespace until\r\n                // we have hit the replace range (overwriteBefore)\r\n                var wordPos = 0;\r\n                while (wordPos < overwriteBefore) {\r\n                    var ch = word.charCodeAt(wordPos);\r\n                    if (ch === 32 /* Space */ || ch === 9 /* Tab */) {\r\n                        wordPos += 1;\r\n                    }\r\n                    else {\r\n                        break;\r\n                    }\r\n                }\r\n                if (wordPos >= wordLen) {\r\n                    // the wordPos at which scoring starts is the whole word\r\n                    // and therefore the same rules as not having a word apply\r\n                    item.score = FuzzyScore.Default;\r\n                }\r\n                else if (typeof item.completion.filterText === 'string') {\r\n                    // when there is a `filterText` it must match the `word`.\r\n                    // if it matches we check with the label to compute highlights\r\n                    // and if that doesn't yield a result we have no highlights,\r\n                    // despite having the match\r\n                    var match = scoreFn(word, wordLow, wordPos, item.completion.filterText, item.filterTextLow, 0, false);\r\n                    if (!match) {\r\n                        continue; // NO match\r\n                    }\r\n                    if (compareIgnoreCase(item.completion.filterText, item.completion.label) === 0) {\r\n                        // filterText and label are actually the same -> use good highlights\r\n                        item.score = match;\r\n                    }\r\n                    else {\r\n                        // re-run the scorer on the label in the hope of a result BUT use the rank\r\n                        // of the filterText-match\r\n                        item.score = anyScore(word, wordLow, wordPos, item.completion.label, item.labelLow, 0);\r\n                        item.score[0] = match[0]; // use score from filterText\r\n                    }\r\n                }\r\n                else {\r\n                    // by default match `word` against the `label`\r\n                    var match = scoreFn(word, wordLow, wordPos, item.completion.label, item.labelLow, 0, false);\r\n                    if (!match) {\r\n                        continue; // NO match\r\n                    }\r\n                    item.score = match;\r\n                }\r\n            }\r\n            item.idx = i;\r\n            item.distance = this._wordDistance.distance(item.position, item.completion);\r\n            target.push(item);\r\n            // update stats\r\n            this._stats.suggestionCount++;\r\n            switch (item.completion.kind) {\r\n                case 25 /* Snippet */:\r\n                    this._stats.snippetCount++;\r\n                    break;\r\n                case 18 /* Text */:\r\n                    this._stats.textCount++;\r\n                    break;\r\n            }\r\n        }\r\n        this._filteredItems = target.sort(this._snippetCompareFn);\r\n        this._refilterKind = 0 /* Nothing */;\r\n    };\r\n    CompletionModel._compareCompletionItems = function (a, b) {\r\n        if (a.score[0] > b.score[0]) {\r\n            return -1;\r\n        }\r\n        else if (a.score[0] < b.score[0]) {\r\n            return 1;\r\n        }\r\n        else if (a.distance < b.distance) {\r\n            return -1;\r\n        }\r\n        else if (a.distance > b.distance) {\r\n            return 1;\r\n        }\r\n        else if (a.idx < b.idx) {\r\n            return -1;\r\n        }\r\n        else if (a.idx > b.idx) {\r\n            return 1;\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    };\r\n    CompletionModel._compareCompletionItemsSnippetsDown = function (a, b) {\r\n        if (a.completion.kind !== b.completion.kind) {\r\n            if (a.completion.kind === 25 /* Snippet */) {\r\n                return 1;\r\n            }\r\n            else if (b.completion.kind === 25 /* Snippet */) {\r\n                return -1;\r\n            }\r\n        }\r\n        return CompletionModel._compareCompletionItems(a, b);\r\n    };\r\n    CompletionModel._compareCompletionItemsSnippetsUp = function (a, b) {\r\n        if (a.completion.kind !== b.completion.kind) {\r\n            if (a.completion.kind === 25 /* Snippet */) {\r\n                return -1;\r\n            }\r\n            else if (b.completion.kind === 25 /* Snippet */) {\r\n                return 1;\r\n            }\r\n        }\r\n        return CompletionModel._compareCompletionItems(a, b);\r\n    };\r\n    return CompletionModel;\r\n}());\r\nexport { CompletionModel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { binarySearch, isFalsyOrEmpty } from '../../../base/common/arrays.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { BracketSelectionRangeProvider } from '../smartSelect/bracketSelections.js';\r\nvar WordDistance = /** @class */ (function () {\r\n    function WordDistance() {\r\n    }\r\n    WordDistance.create = function (service, editor) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var model, position, ranges, wordRanges;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!editor.getOption(85 /* suggest */).localityBonus) {\r\n                            return [2 /*return*/, WordDistance.None];\r\n                        }\r\n                        if (!editor.hasModel()) {\r\n                            return [2 /*return*/, WordDistance.None];\r\n                        }\r\n                        model = editor.getModel();\r\n                        position = editor.getPosition();\r\n                        if (!service.canComputeWordRanges(model.uri)) {\r\n                            return [2 /*return*/, WordDistance.None];\r\n                        }\r\n                        return [4 /*yield*/, new BracketSelectionRangeProvider().provideSelectionRanges(model, [position])];\r\n                    case 1:\r\n                        ranges = _a.sent();\r\n                        if (!ranges || ranges.length === 0 || ranges[0].length === 0) {\r\n                            return [2 /*return*/, WordDistance.None];\r\n                        }\r\n                        return [4 /*yield*/, service.computeWordRanges(model.uri, ranges[0][0].range)];\r\n                    case 2:\r\n                        wordRanges = _a.sent();\r\n                        return [2 /*return*/, new /** @class */ (function (_super) {\r\n                                __extends(class_1, _super);\r\n                                function class_1() {\r\n                                    return _super !== null && _super.apply(this, arguments) || this;\r\n                                }\r\n                                class_1.prototype.distance = function (anchor, suggestion) {\r\n                                    if (!wordRanges || !position.equals(editor.getPosition())) {\r\n                                        return 0;\r\n                                    }\r\n                                    if (suggestion.kind === 17 /* Keyword */) {\r\n                                        return 2 << 20;\r\n                                    }\r\n                                    var word = suggestion.label;\r\n                                    var wordLines = wordRanges[word];\r\n                                    if (isFalsyOrEmpty(wordLines)) {\r\n                                        return 2 << 20;\r\n                                    }\r\n                                    var idx = binarySearch(wordLines, Range.fromPositions(anchor), Range.compareRangesUsingStarts);\r\n                                    var bestWordRange = idx >= 0 ? wordLines[idx] : wordLines[Math.max(0, ~idx - 1)];\r\n                                    var blockDistance = ranges.length;\r\n                                    for (var _i = 0, _a = ranges[0]; _i < _a.length; _i++) {\r\n                                        var range = _a[_i];\r\n                                        if (!Range.containsRange(range.range, bestWordRange)) {\r\n                                            break;\r\n                                        }\r\n                                        blockDistance -= 1;\r\n                                    }\r\n                                    return blockDistance;\r\n                                };\r\n                                return class_1;\r\n                            }(WordDistance))];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WordDistance.None = new /** @class */ (function (_super) {\r\n        __extends(class_2, _super);\r\n        function class_2() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        class_2.prototype.distance = function () { return 0; };\r\n        return class_2;\r\n    }(WordDistance));\r\n    return WordDistance;\r\n}());\r\nexport { WordDistance };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { isNonEmptyArray } from '../../../base/common/arrays.js';\r\nimport { TimeoutTimer } from '../../../base/common/async.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { dispose, DisposableStore, isDisposable } from '../../../base/common/lifecycle.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { CompletionProviderRegistry } from '../../common/modes.js';\r\nimport { CompletionModel } from './completionModel.js';\r\nimport { getSuggestionComparator, provideSuggestionItems, getSnippetSuggestSupport, CompletionOptions } from './suggest.js';\r\nimport { SnippetController2 } from '../snippet/snippetController2.js';\r\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\r\nimport { WordDistance } from './wordDistance.js';\r\nvar LineContext = /** @class */ (function () {\r\n    function LineContext(model, position, auto, shy) {\r\n        this.leadingLineContent = model.getLineContent(position.lineNumber).substr(0, position.column - 1);\r\n        this.leadingWord = model.getWordUntilPosition(position);\r\n        this.lineNumber = position.lineNumber;\r\n        this.column = position.column;\r\n        this.auto = auto;\r\n        this.shy = shy;\r\n    }\r\n    LineContext.shouldAutoTrigger = function (editor) {\r\n        if (!editor.hasModel()) {\r\n            return false;\r\n        }\r\n        var model = editor.getModel();\r\n        var pos = editor.getPosition();\r\n        model.tokenizeIfCheap(pos.lineNumber);\r\n        var word = model.getWordAtPosition(pos);\r\n        if (!word) {\r\n            return false;\r\n        }\r\n        if (word.endColumn !== pos.column) {\r\n            return false;\r\n        }\r\n        if (!isNaN(Number(word.word))) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    return LineContext;\r\n}());\r\nexport { LineContext };\r\nvar SuggestModel = /** @class */ (function () {\r\n    function SuggestModel(_editor, _editorWorker) {\r\n        var _this = this;\r\n        this._editor = _editor;\r\n        this._editorWorker = _editorWorker;\r\n        this._toDispose = new DisposableStore();\r\n        this._quickSuggestDelay = 10;\r\n        this._triggerQuickSuggest = new TimeoutTimer();\r\n        this._state = 0 /* Idle */;\r\n        this._completionDisposables = new DisposableStore();\r\n        this._onDidCancel = new Emitter();\r\n        this._onDidTrigger = new Emitter();\r\n        this._onDidSuggest = new Emitter();\r\n        this.onDidCancel = this._onDidCancel.event;\r\n        this.onDidTrigger = this._onDidTrigger.event;\r\n        this.onDidSuggest = this._onDidSuggest.event;\r\n        this._currentSelection = this._editor.getSelection() || new Selection(1, 1, 1, 1);\r\n        // wire up various listeners\r\n        this._toDispose.add(this._editor.onDidChangeModel(function () {\r\n            _this._updateTriggerCharacters();\r\n            _this.cancel();\r\n        }));\r\n        this._toDispose.add(this._editor.onDidChangeModelLanguage(function () {\r\n            _this._updateTriggerCharacters();\r\n            _this.cancel();\r\n        }));\r\n        this._toDispose.add(this._editor.onDidChangeConfiguration(function () {\r\n            _this._updateTriggerCharacters();\r\n            _this._updateQuickSuggest();\r\n        }));\r\n        this._toDispose.add(CompletionProviderRegistry.onDidChange(function () {\r\n            _this._updateTriggerCharacters();\r\n            _this._updateActiveSuggestSession();\r\n        }));\r\n        this._toDispose.add(this._editor.onDidChangeCursorSelection(function (e) {\r\n            _this._onCursorChange(e);\r\n        }));\r\n        var editorIsComposing = false;\r\n        this._toDispose.add(this._editor.onCompositionStart(function () {\r\n            editorIsComposing = true;\r\n        }));\r\n        this._toDispose.add(this._editor.onCompositionEnd(function () {\r\n            // refilter when composition ends\r\n            editorIsComposing = false;\r\n            _this._refilterCompletionItems();\r\n        }));\r\n        this._toDispose.add(this._editor.onDidChangeModelContent(function () {\r\n            // only filter completions when the editor isn't\r\n            // composing a character, e.g. ¨ + u makes ü but just\r\n            // ¨ cannot be used for filtering\r\n            if (!editorIsComposing) {\r\n                _this._refilterCompletionItems();\r\n            }\r\n        }));\r\n        this._updateTriggerCharacters();\r\n        this._updateQuickSuggest();\r\n    }\r\n    SuggestModel.prototype.dispose = function () {\r\n        dispose(this._triggerCharacterListener);\r\n        dispose([this._onDidCancel, this._onDidSuggest, this._onDidTrigger, this._triggerQuickSuggest]);\r\n        this._toDispose.dispose();\r\n        this._completionDisposables.dispose();\r\n        this.cancel();\r\n    };\r\n    // --- handle configuration & precondition changes\r\n    SuggestModel.prototype._updateQuickSuggest = function () {\r\n        this._quickSuggestDelay = this._editor.getOption(64 /* quickSuggestionsDelay */);\r\n        if (isNaN(this._quickSuggestDelay) || (!this._quickSuggestDelay && this._quickSuggestDelay !== 0) || this._quickSuggestDelay < 0) {\r\n            this._quickSuggestDelay = 10;\r\n        }\r\n    };\r\n    SuggestModel.prototype._updateTriggerCharacters = function () {\r\n        var _this = this;\r\n        dispose(this._triggerCharacterListener);\r\n        if (this._editor.getOption(65 /* readOnly */)\r\n            || !this._editor.hasModel()\r\n            || !this._editor.getOption(88 /* suggestOnTriggerCharacters */)) {\r\n            return;\r\n        }\r\n        var supportsByTriggerCharacter = Object.create(null);\r\n        for (var _i = 0, _a = CompletionProviderRegistry.all(this._editor.getModel()); _i < _a.length; _i++) {\r\n            var support = _a[_i];\r\n            for (var _b = 0, _c = support.triggerCharacters || []; _b < _c.length; _b++) {\r\n                var ch = _c[_b];\r\n                var set = supportsByTriggerCharacter[ch];\r\n                if (!set) {\r\n                    set = supportsByTriggerCharacter[ch] = new Set();\r\n                    set.add(getSnippetSuggestSupport());\r\n                }\r\n                set.add(support);\r\n            }\r\n        }\r\n        this._triggerCharacterListener = this._editor.onDidType(function (text) {\r\n            var lastChar = text.charAt(text.length - 1);\r\n            var supports = supportsByTriggerCharacter[lastChar];\r\n            if (supports) {\r\n                // keep existing items that where not computed by the\r\n                // supports/providers that want to trigger now\r\n                var items = _this._completionModel ? _this._completionModel.adopt(supports) : undefined;\r\n                _this.trigger({ auto: true, shy: false, triggerCharacter: lastChar }, Boolean(_this._completionModel), supports, items);\r\n            }\r\n        });\r\n    };\r\n    Object.defineProperty(SuggestModel.prototype, \"state\", {\r\n        // --- trigger/retrigger/cancel suggest\r\n        get: function () {\r\n            return this._state;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SuggestModel.prototype.cancel = function (retrigger) {\r\n        if (retrigger === void 0) { retrigger = false; }\r\n        if (this._state !== 0 /* Idle */) {\r\n            this._triggerQuickSuggest.cancel();\r\n            if (this._requestToken) {\r\n                this._requestToken.cancel();\r\n                this._requestToken = undefined;\r\n            }\r\n            this._state = 0 /* Idle */;\r\n            this._completionModel = undefined;\r\n            this._context = undefined;\r\n            this._onDidCancel.fire({ retrigger: retrigger });\r\n        }\r\n    };\r\n    SuggestModel.prototype.clear = function () {\r\n        this._completionDisposables.clear();\r\n    };\r\n    SuggestModel.prototype._updateActiveSuggestSession = function () {\r\n        if (this._state !== 0 /* Idle */) {\r\n            if (!this._editor.hasModel() || !CompletionProviderRegistry.has(this._editor.getModel())) {\r\n                this.cancel();\r\n            }\r\n            else {\r\n                this.trigger({ auto: this._state === 2 /* Auto */, shy: false }, true);\r\n            }\r\n        }\r\n    };\r\n    SuggestModel.prototype._onCursorChange = function (e) {\r\n        var _this = this;\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var prevSelection = this._currentSelection;\r\n        this._currentSelection = this._editor.getSelection();\r\n        if (!e.selection.isEmpty()\r\n            || e.reason !== 0 /* NotSet */\r\n            || (e.source !== 'keyboard' && e.source !== 'deleteLeft')) {\r\n            // Early exit if nothing needs to be done!\r\n            // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\r\n            if (this._state !== 0 /* Idle */) {\r\n                this.cancel();\r\n            }\r\n            return;\r\n        }\r\n        if (!CompletionProviderRegistry.has(model)) {\r\n            return;\r\n        }\r\n        if (this._state === 0 /* Idle */) {\r\n            if (this._editor.getOption(63 /* quickSuggestions */) === false) {\r\n                // not enabled\r\n                return;\r\n            }\r\n            if (!prevSelection.containsRange(this._currentSelection) && !prevSelection.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())) {\r\n                // cursor didn't move RIGHT\r\n                return;\r\n            }\r\n            if (this._editor.getOption(85 /* suggest */).snippetsPreventQuickSuggestions && SnippetController2.get(this._editor).isInSnippet()) {\r\n                // no quick suggestion when in snippet mode\r\n                return;\r\n            }\r\n            this.cancel();\r\n            this._triggerQuickSuggest.cancelAndSet(function () {\r\n                if (_this._state !== 0 /* Idle */) {\r\n                    return;\r\n                }\r\n                if (!LineContext.shouldAutoTrigger(_this._editor)) {\r\n                    return;\r\n                }\r\n                if (!_this._editor.hasModel()) {\r\n                    return;\r\n                }\r\n                var model = _this._editor.getModel();\r\n                var pos = _this._editor.getPosition();\r\n                // validate enabled now\r\n                var quickSuggestions = _this._editor.getOption(63 /* quickSuggestions */);\r\n                if (quickSuggestions === false) {\r\n                    return;\r\n                }\r\n                else if (quickSuggestions === true) {\r\n                    // all good\r\n                }\r\n                else {\r\n                    // Check the type of the token that triggered this\r\n                    model.tokenizeIfCheap(pos.lineNumber);\r\n                    var lineTokens = model.getLineTokens(pos.lineNumber);\r\n                    var tokenType = lineTokens.getStandardTokenType(lineTokens.findTokenIndexAtOffset(Math.max(pos.column - 1 - 1, 0)));\r\n                    var inValidScope = quickSuggestions.other && tokenType === 0 /* Other */\r\n                        || quickSuggestions.comments && tokenType === 1 /* Comment */\r\n                        || quickSuggestions.strings && tokenType === 2 /* String */;\r\n                    if (!inValidScope) {\r\n                        return;\r\n                    }\r\n                }\r\n                // we made it till here -> trigger now\r\n                _this.trigger({ auto: true, shy: false });\r\n            }, this._quickSuggestDelay);\r\n        }\r\n    };\r\n    SuggestModel.prototype._refilterCompletionItems = function () {\r\n        var _this = this;\r\n        // Re-filter suggestions. This MUST run async because filtering/scoring\r\n        // uses the model content AND the cursor position. The latter is NOT\r\n        // updated when the document has changed (the event which drives this method)\r\n        // and therefore a little pause (next mirco task) is needed. See:\r\n        // https://stackoverflow.com/questions/25915634/difference-between-microtask-and-macrotask-within-an-event-loop-context#25933985\r\n        Promise.resolve().then(function () {\r\n            if (_this._state === 0 /* Idle */) {\r\n                return;\r\n            }\r\n            if (!_this._editor.hasModel()) {\r\n                return;\r\n            }\r\n            var model = _this._editor.getModel();\r\n            var position = _this._editor.getPosition();\r\n            var ctx = new LineContext(model, position, _this._state === 2 /* Auto */, false);\r\n            _this._onNewContext(ctx);\r\n        });\r\n    };\r\n    SuggestModel.prototype.trigger = function (context, retrigger, onlyFrom, existingItems) {\r\n        var _this = this;\r\n        if (retrigger === void 0) { retrigger = false; }\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var auto = context.auto;\r\n        var ctx = new LineContext(model, this._editor.getPosition(), auto, context.shy);\r\n        // Cancel previous requests, change state & update UI\r\n        this.cancel(retrigger);\r\n        this._state = auto ? 2 /* Auto */ : 1 /* Manual */;\r\n        this._onDidTrigger.fire({ auto: auto, shy: context.shy, position: this._editor.getPosition() });\r\n        // Capture context when request was sent\r\n        this._context = ctx;\r\n        // Build context for request\r\n        var suggestCtx;\r\n        if (context.triggerCharacter) {\r\n            suggestCtx = {\r\n                triggerKind: 1 /* TriggerCharacter */,\r\n                triggerCharacter: context.triggerCharacter\r\n            };\r\n        }\r\n        else if (onlyFrom && onlyFrom.size > 0) {\r\n            suggestCtx = { triggerKind: 2 /* TriggerForIncompleteCompletions */ };\r\n        }\r\n        else {\r\n            suggestCtx = { triggerKind: 0 /* Invoke */ };\r\n        }\r\n        this._requestToken = new CancellationTokenSource();\r\n        // kind filter and snippet sort rules\r\n        var snippetSuggestions = this._editor.getOption(82 /* snippetSuggestions */);\r\n        var snippetSortOrder = 1 /* Inline */;\r\n        switch (snippetSuggestions) {\r\n            case 'top':\r\n                snippetSortOrder = 0 /* Top */;\r\n                break;\r\n            // \t↓ that's the default anyways...\r\n            // case 'inline':\r\n            // \tsnippetSortOrder = SnippetSortOrder.Inline;\r\n            // \tbreak;\r\n            case 'bottom':\r\n                snippetSortOrder = 2 /* Bottom */;\r\n                break;\r\n        }\r\n        var itemKindFilter = SuggestModel._createItemKindFilter(this._editor);\r\n        var wordDistance = WordDistance.create(this._editorWorker, this._editor);\r\n        var items = provideSuggestionItems(model, this._editor.getPosition(), new CompletionOptions(snippetSortOrder, itemKindFilter, onlyFrom), suggestCtx, this._requestToken.token);\r\n        Promise.all([items, wordDistance]).then(function (_a) {\r\n            var items = _a[0], wordDistance = _a[1];\r\n            dispose(_this._requestToken);\r\n            if (_this._state === 0 /* Idle */) {\r\n                return;\r\n            }\r\n            if (!_this._editor.hasModel()) {\r\n                return;\r\n            }\r\n            var model = _this._editor.getModel();\r\n            if (isNonEmptyArray(existingItems)) {\r\n                var cmpFn = getSuggestionComparator(snippetSortOrder);\r\n                items = items.concat(existingItems).sort(cmpFn);\r\n            }\r\n            var ctx = new LineContext(model, _this._editor.getPosition(), auto, context.shy);\r\n            _this._completionModel = new CompletionModel(items, _this._context.column, {\r\n                leadingLineContent: ctx.leadingLineContent,\r\n                characterCountDelta: ctx.column - _this._context.column\r\n            }, wordDistance, _this._editor.getOption(85 /* suggest */), _this._editor.getOption(82 /* snippetSuggestions */));\r\n            // store containers so that they can be disposed later\r\n            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\r\n                var item = items_1[_i];\r\n                if (isDisposable(item.container)) {\r\n                    _this._completionDisposables.add(item.container);\r\n                }\r\n            }\r\n            _this._onNewContext(ctx);\r\n        }).catch(onUnexpectedError);\r\n    };\r\n    SuggestModel._createItemKindFilter = function (editor) {\r\n        // kind filter and snippet sort rules\r\n        var result = new Set();\r\n        // snippet setting\r\n        var snippetSuggestions = editor.getOption(82 /* snippetSuggestions */);\r\n        if (snippetSuggestions === 'none') {\r\n            result.add(25 /* Snippet */);\r\n        }\r\n        // type setting\r\n        var suggestOptions = editor.getOption(85 /* suggest */);\r\n        if (!suggestOptions.showMethods) {\r\n            result.add(0 /* Method */);\r\n        }\r\n        if (!suggestOptions.showFunctions) {\r\n            result.add(1 /* Function */);\r\n        }\r\n        if (!suggestOptions.showConstructors) {\r\n            result.add(2 /* Constructor */);\r\n        }\r\n        if (!suggestOptions.showFields) {\r\n            result.add(3 /* Field */);\r\n        }\r\n        if (!suggestOptions.showVariables) {\r\n            result.add(4 /* Variable */);\r\n        }\r\n        if (!suggestOptions.showClasses) {\r\n            result.add(5 /* Class */);\r\n        }\r\n        if (!suggestOptions.showStructs) {\r\n            result.add(6 /* Struct */);\r\n        }\r\n        if (!suggestOptions.showInterfaces) {\r\n            result.add(7 /* Interface */);\r\n        }\r\n        if (!suggestOptions.showModules) {\r\n            result.add(8 /* Module */);\r\n        }\r\n        if (!suggestOptions.showProperties) {\r\n            result.add(9 /* Property */);\r\n        }\r\n        if (!suggestOptions.showEvents) {\r\n            result.add(10 /* Event */);\r\n        }\r\n        if (!suggestOptions.showOperators) {\r\n            result.add(11 /* Operator */);\r\n        }\r\n        if (!suggestOptions.showUnits) {\r\n            result.add(12 /* Unit */);\r\n        }\r\n        if (!suggestOptions.showValues) {\r\n            result.add(13 /* Value */);\r\n        }\r\n        if (!suggestOptions.showConstants) {\r\n            result.add(14 /* Constant */);\r\n        }\r\n        if (!suggestOptions.showEnums) {\r\n            result.add(15 /* Enum */);\r\n        }\r\n        if (!suggestOptions.showEnumMembers) {\r\n            result.add(16 /* EnumMember */);\r\n        }\r\n        if (!suggestOptions.showKeywords) {\r\n            result.add(17 /* Keyword */);\r\n        }\r\n        if (!suggestOptions.showWords) {\r\n            result.add(18 /* Text */);\r\n        }\r\n        if (!suggestOptions.showColors) {\r\n            result.add(19 /* Color */);\r\n        }\r\n        if (!suggestOptions.showFiles) {\r\n            result.add(20 /* File */);\r\n        }\r\n        if (!suggestOptions.showReferences) {\r\n            result.add(21 /* Reference */);\r\n        }\r\n        if (!suggestOptions.showColors) {\r\n            result.add(22 /* Customcolor */);\r\n        }\r\n        if (!suggestOptions.showFolders) {\r\n            result.add(23 /* Folder */);\r\n        }\r\n        if (!suggestOptions.showTypeParameters) {\r\n            result.add(24 /* TypeParameter */);\r\n        }\r\n        if (!suggestOptions.showSnippets) {\r\n            result.add(25 /* Snippet */);\r\n        }\r\n        return result;\r\n    };\r\n    SuggestModel.prototype._onNewContext = function (ctx) {\r\n        if (!this._context) {\r\n            // happens when 24x7 IntelliSense is enabled and still in its delay\r\n            return;\r\n        }\r\n        if (ctx.lineNumber !== this._context.lineNumber) {\r\n            // e.g. happens when pressing Enter while IntelliSense is computed\r\n            this.cancel();\r\n            return;\r\n        }\r\n        if (ctx.leadingWord.startColumn < this._context.leadingWord.startColumn) {\r\n            // happens when the current word gets outdented\r\n            this.cancel();\r\n            return;\r\n        }\r\n        if (ctx.column < this._context.column) {\r\n            // typed -> moved cursor LEFT -> retrigger if still on a word\r\n            if (ctx.leadingWord.word) {\r\n                this.trigger({ auto: this._context.auto, shy: false }, true);\r\n            }\r\n            else {\r\n                this.cancel();\r\n            }\r\n            return;\r\n        }\r\n        if (!this._completionModel) {\r\n            // happens when IntelliSense is not yet computed\r\n            return;\r\n        }\r\n        if (ctx.column > this._context.column && this._completionModel.incomplete.size > 0 && ctx.leadingWord.word.length !== 0) {\r\n            // typed -> moved cursor RIGHT & incomple model & still on a word -> retrigger\r\n            var incomplete = this._completionModel.incomplete;\r\n            var adopted = this._completionModel.adopt(incomplete);\r\n            this.trigger({ auto: this._state === 2 /* Auto */, shy: false }, true, incomplete, adopted);\r\n        }\r\n        else {\r\n            // typed -> moved cursor RIGHT -> update UI\r\n            var oldLineContext = this._completionModel.lineContext;\r\n            var isFrozen = false;\r\n            this._completionModel.lineContext = {\r\n                leadingLineContent: ctx.leadingLineContent,\r\n                characterCountDelta: ctx.column - this._context.column\r\n            };\r\n            if (this._completionModel.items.length === 0) {\r\n                if (LineContext.shouldAutoTrigger(this._editor) && this._context.leadingWord.endColumn < ctx.leadingWord.startColumn) {\r\n                    // retrigger when heading into a new word\r\n                    this.trigger({ auto: this._context.auto, shy: false }, true);\r\n                    return;\r\n                }\r\n                if (!this._context.auto) {\r\n                    // freeze when IntelliSense was manually requested\r\n                    this._completionModel.lineContext = oldLineContext;\r\n                    isFrozen = this._completionModel.items.length > 0;\r\n                    if (isFrozen && ctx.leadingWord.word.length === 0) {\r\n                        // there were results before but now there aren't\r\n                        // and also we are not on a word anymore -> cancel\r\n                        this.cancel();\r\n                        return;\r\n                    }\r\n                }\r\n                else {\r\n                    // nothing left\r\n                    this.cancel();\r\n                    return;\r\n                }\r\n            }\r\n            this._onDidSuggest.fire({\r\n                completionModel: this._completionModel,\r\n                auto: this._context.auto,\r\n                shy: this._context.shy,\r\n                isFrozen: isFrozen,\r\n            });\r\n        }\r\n    };\r\n    return SuggestModel;\r\n}());\r\nexport { SuggestModel };\r\n","import './media/outlineTree.css';\r\nimport './media/symbol-icons.css';\r\nimport { localize } from '../../../nls.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { registerColor, foreground } from '../../../platform/theme/common/colorRegistry.js';\r\nexport var SYMBOL_ICON_ARRAY_FOREGROUND = registerColor('symbolIcon.arrayForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.arrayForeground', 'The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_BOOLEAN_FOREGROUND = registerColor('symbolIcon.booleanForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.booleanForeground', 'The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_CLASS_FOREGROUND = registerColor('symbolIcon.classForeground', {\r\n    dark: '#EE9D28',\r\n    light: '#D67E00',\r\n    hc: '#EE9D28'\r\n}, localize('symbolIcon.classForeground', 'The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_COLOR_FOREGROUND = registerColor('symbolIcon.colorForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.colorForeground', 'The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_CONSTANT_FOREGROUND = registerColor('symbolIcon.constantForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.constantForeground', 'The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_CONSTRUCTOR_FOREGROUND = registerColor('symbolIcon.constructorForeground', {\r\n    dark: '#B180D7',\r\n    light: '#652D90',\r\n    hc: '#B180D7'\r\n}, localize('symbolIcon.constructorForeground', 'The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_ENUMERATOR_FOREGROUND = registerColor('symbolIcon.enumeratorForeground', {\r\n    dark: '#EE9D28',\r\n    light: '#D67E00',\r\n    hc: '#EE9D28'\r\n}, localize('symbolIcon.enumeratorForeground', 'The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND = registerColor('symbolIcon.enumeratorMemberForeground', {\r\n    dark: '#75BEFF',\r\n    light: '#007ACC',\r\n    hc: '#75BEFF'\r\n}, localize('symbolIcon.enumeratorMemberForeground', 'The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_EVENT_FOREGROUND = registerColor('symbolIcon.eventForeground', {\r\n    dark: '#EE9D28',\r\n    light: '#D67E00',\r\n    hc: '#EE9D28'\r\n}, localize('symbolIcon.eventForeground', 'The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_FIELD_FOREGROUND = registerColor('symbolIcon.fieldForeground', {\r\n    dark: '#75BEFF',\r\n    light: '#007ACC',\r\n    hc: '#75BEFF'\r\n}, localize('symbolIcon.fieldForeground', 'The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_FILE_FOREGROUND = registerColor('symbolIcon.fileForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.fileForeground', 'The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_FOLDER_FOREGROUND = registerColor('symbolIcon.folderForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.folderForeground', 'The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_FUNCTION_FOREGROUND = registerColor('symbolIcon.functionForeground', {\r\n    dark: '#B180D7',\r\n    light: '#652D90',\r\n    hc: '#B180D7'\r\n}, localize('symbolIcon.functionForeground', 'The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_INTERFACE_FOREGROUND = registerColor('symbolIcon.interfaceForeground', {\r\n    dark: '#75BEFF',\r\n    light: '#007ACC',\r\n    hc: '#75BEFF'\r\n}, localize('symbolIcon.interfaceForeground', 'The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_KEY_FOREGROUND = registerColor('symbolIcon.keyForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.keyForeground', 'The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_KEYWORD_FOREGROUND = registerColor('symbolIcon.keywordForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.keywordForeground', 'The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_METHOD_FOREGROUND = registerColor('symbolIcon.methodForeground', {\r\n    dark: '#B180D7',\r\n    light: '#652D90',\r\n    hc: '#B180D7'\r\n}, localize('symbolIcon.methodForeground', 'The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_MODULE_FOREGROUND = registerColor('symbolIcon.moduleForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.moduleForeground', 'The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_NAMESPACE_FOREGROUND = registerColor('symbolIcon.namespaceForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.namespaceForeground', 'The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_NULL_FOREGROUND = registerColor('symbolIcon.nullForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.nullForeground', 'The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_NUMBER_FOREGROUND = registerColor('symbolIcon.numberForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.numberForeground', 'The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_OBJECT_FOREGROUND = registerColor('symbolIcon.objectForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.objectForeground', 'The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_OPERATOR_FOREGROUND = registerColor('symbolIcon.operatorForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.operatorForeground', 'The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_PACKAGE_FOREGROUND = registerColor('symbolIcon.packageForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.packageForeground', 'The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_PROPERTY_FOREGROUND = registerColor('symbolIcon.propertyForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.propertyForeground', 'The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_REFERENCE_FOREGROUND = registerColor('symbolIcon.referenceForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.referenceForeground', 'The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_SNIPPET_FOREGROUND = registerColor('symbolIcon.snippetForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.snippetForeground', 'The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_STRING_FOREGROUND = registerColor('symbolIcon.stringForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.stringForeground', 'The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_STRUCT_FOREGROUND = registerColor('symbolIcon.structForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.structForeground', 'The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_TEXT_FOREGROUND = registerColor('symbolIcon.textForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.textForeground', 'The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_TYPEPARAMETER_FOREGROUND = registerColor('symbolIcon.typeParameterForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.typeParameterForeground', 'The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_UNIT_FOREGROUND = registerColor('symbolIcon.unitForeground', {\r\n    dark: foreground,\r\n    light: foreground,\r\n    hc: foreground\r\n}, localize('symbolIcon.unitForeground', 'The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nexport var SYMBOL_ICON_VARIABLE_FOREGROUND = registerColor('symbolIcon.variableForeground', {\r\n    dark: '#75BEFF',\r\n    light: '#007ACC',\r\n    hc: '#75BEFF'\r\n}, localize('symbolIcon.variableForeground', 'The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var symbolIconArrayColor = theme.getColor(SYMBOL_ICON_ARRAY_FOREGROUND);\r\n    if (symbolIconArrayColor) {\r\n        collector.addRule(\".codicon-symbol-array { color: \" + symbolIconArrayColor + \" !important; }\");\r\n    }\r\n    var symbolIconBooleanColor = theme.getColor(SYMBOL_ICON_BOOLEAN_FOREGROUND);\r\n    if (symbolIconBooleanColor) {\r\n        collector.addRule(\".codicon-symbol-boolean { color: \" + symbolIconBooleanColor + \" !important; }\");\r\n    }\r\n    var symbolIconClassColor = theme.getColor(SYMBOL_ICON_CLASS_FOREGROUND);\r\n    if (symbolIconClassColor) {\r\n        collector.addRule(\".codicon-symbol-class { color: \" + symbolIconClassColor + \" !important; }\");\r\n    }\r\n    var symbolIconMethodColor = theme.getColor(SYMBOL_ICON_METHOD_FOREGROUND);\r\n    if (symbolIconMethodColor) {\r\n        collector.addRule(\".codicon-symbol-method { color: \" + symbolIconMethodColor + \" !important; }\");\r\n    }\r\n    var symbolIconColorColor = theme.getColor(SYMBOL_ICON_COLOR_FOREGROUND);\r\n    if (symbolIconColorColor) {\r\n        collector.addRule(\".codicon-symbol-color { color: \" + symbolIconColorColor + \" !important; }\");\r\n    }\r\n    var symbolIconConstantColor = theme.getColor(SYMBOL_ICON_CONSTANT_FOREGROUND);\r\n    if (symbolIconConstantColor) {\r\n        collector.addRule(\".codicon-symbol-constant { color: \" + symbolIconConstantColor + \" !important; }\");\r\n    }\r\n    var symbolIconConstructorColor = theme.getColor(SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);\r\n    if (symbolIconConstructorColor) {\r\n        collector.addRule(\".codicon-symbol-constructor { color: \" + symbolIconConstructorColor + \" !important; }\");\r\n    }\r\n    var symbolIconEnumeratorColor = theme.getColor(SYMBOL_ICON_ENUMERATOR_FOREGROUND);\r\n    if (symbolIconEnumeratorColor) {\r\n        collector.addRule(\"\\n\\t\\t\\t.codicon-symbol-value,.codicon-symbol-enum { color: \" + symbolIconEnumeratorColor + \" !important; }\");\r\n    }\r\n    var symbolIconEnumeratorMemberColor = theme.getColor(SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);\r\n    if (symbolIconEnumeratorMemberColor) {\r\n        collector.addRule(\".codicon-symbol-enum-member { color: \" + symbolIconEnumeratorMemberColor + \" !important; }\");\r\n    }\r\n    var symbolIconEventColor = theme.getColor(SYMBOL_ICON_EVENT_FOREGROUND);\r\n    if (symbolIconEventColor) {\r\n        collector.addRule(\".codicon-symbol-event { color: \" + symbolIconEventColor + \" !important; }\");\r\n    }\r\n    var symbolIconFieldColor = theme.getColor(SYMBOL_ICON_FIELD_FOREGROUND);\r\n    if (symbolIconFieldColor) {\r\n        collector.addRule(\".codicon-symbol-field { color: \" + symbolIconFieldColor + \" !important; }\");\r\n    }\r\n    var symbolIconFileColor = theme.getColor(SYMBOL_ICON_FILE_FOREGROUND);\r\n    if (symbolIconFileColor) {\r\n        collector.addRule(\".codicon-symbol-file { color: \" + symbolIconFileColor + \" !important; }\");\r\n    }\r\n    var symbolIconFolderColor = theme.getColor(SYMBOL_ICON_FOLDER_FOREGROUND);\r\n    if (symbolIconFolderColor) {\r\n        collector.addRule(\".codicon-symbol-folder { color: \" + symbolIconFolderColor + \" !important; }\");\r\n    }\r\n    var symbolIconFunctionColor = theme.getColor(SYMBOL_ICON_FUNCTION_FOREGROUND);\r\n    if (symbolIconFunctionColor) {\r\n        collector.addRule(\".codicon-symbol-function { color: \" + symbolIconFunctionColor + \" !important; }\");\r\n    }\r\n    var symbolIconInterfaceColor = theme.getColor(SYMBOL_ICON_INTERFACE_FOREGROUND);\r\n    if (symbolIconInterfaceColor) {\r\n        collector.addRule(\".codicon-symbol-interface { color: \" + symbolIconInterfaceColor + \" !important; }\");\r\n    }\r\n    var symbolIconKeyColor = theme.getColor(SYMBOL_ICON_KEY_FOREGROUND);\r\n    if (symbolIconKeyColor) {\r\n        collector.addRule(\".codicon-symbol-key { color: \" + symbolIconKeyColor + \" !important; }\");\r\n    }\r\n    var symbolIconKeywordColor = theme.getColor(SYMBOL_ICON_KEYWORD_FOREGROUND);\r\n    if (symbolIconKeywordColor) {\r\n        collector.addRule(\".codicon-symbol-keyword { color: \" + symbolIconKeywordColor + \" !important; }\");\r\n    }\r\n    var symbolIconModuleColor = theme.getColor(SYMBOL_ICON_MODULE_FOREGROUND);\r\n    if (symbolIconModuleColor) {\r\n        collector.addRule(\".codicon-symbol-module { color: \" + symbolIconModuleColor + \" !important; }\");\r\n    }\r\n    var outlineNamespaceColor = theme.getColor(SYMBOL_ICON_NAMESPACE_FOREGROUND);\r\n    if (outlineNamespaceColor) {\r\n        collector.addRule(\".codicon-symbol-namespace { color: \" + outlineNamespaceColor + \" !important; }\");\r\n    }\r\n    var symbolIconNullColor = theme.getColor(SYMBOL_ICON_NULL_FOREGROUND);\r\n    if (symbolIconNullColor) {\r\n        collector.addRule(\".codicon-symbol-null { color: \" + symbolIconNullColor + \" !important; }\");\r\n    }\r\n    var symbolIconNumberColor = theme.getColor(SYMBOL_ICON_NUMBER_FOREGROUND);\r\n    if (symbolIconNumberColor) {\r\n        collector.addRule(\".codicon-symbol-number { color: \" + symbolIconNumberColor + \" !important; }\");\r\n    }\r\n    var symbolIconObjectColor = theme.getColor(SYMBOL_ICON_OBJECT_FOREGROUND);\r\n    if (symbolIconObjectColor) {\r\n        collector.addRule(\".codicon-symbol-object { color: \" + symbolIconObjectColor + \" !important; }\");\r\n    }\r\n    var symbolIconOperatorColor = theme.getColor(SYMBOL_ICON_OPERATOR_FOREGROUND);\r\n    if (symbolIconOperatorColor) {\r\n        collector.addRule(\".codicon-symbol-operator { color: \" + symbolIconOperatorColor + \" !important; }\");\r\n    }\r\n    var symbolIconPackageColor = theme.getColor(SYMBOL_ICON_PACKAGE_FOREGROUND);\r\n    if (symbolIconPackageColor) {\r\n        collector.addRule(\".codicon-symbol-package { color: \" + symbolIconPackageColor + \" !important; }\");\r\n    }\r\n    var symbolIconPropertyColor = theme.getColor(SYMBOL_ICON_PROPERTY_FOREGROUND);\r\n    if (symbolIconPropertyColor) {\r\n        collector.addRule(\".codicon-symbol-property { color: \" + symbolIconPropertyColor + \" !important; }\");\r\n    }\r\n    var symbolIconReferenceColor = theme.getColor(SYMBOL_ICON_REFERENCE_FOREGROUND);\r\n    if (symbolIconReferenceColor) {\r\n        collector.addRule(\".codicon-symbol-reference { color: \" + symbolIconReferenceColor + \" !important; }\");\r\n    }\r\n    var symbolIconSnippetColor = theme.getColor(SYMBOL_ICON_SNIPPET_FOREGROUND);\r\n    if (symbolIconSnippetColor) {\r\n        collector.addRule(\".codicon-symbol-snippet { color: \" + symbolIconSnippetColor + \" !important; }\");\r\n    }\r\n    var symbolIconStringColor = theme.getColor(SYMBOL_ICON_STRING_FOREGROUND);\r\n    if (symbolIconStringColor) {\r\n        collector.addRule(\".codicon-symbol-string { color: \" + symbolIconStringColor + \" !important; }\");\r\n    }\r\n    var symbolIconStructColor = theme.getColor(SYMBOL_ICON_STRUCT_FOREGROUND);\r\n    if (symbolIconStructColor) {\r\n        collector.addRule(\".codicon-symbol-struct { color: \" + symbolIconStructColor + \" !important; }\");\r\n    }\r\n    var symbolIconTextColor = theme.getColor(SYMBOL_ICON_TEXT_FOREGROUND);\r\n    if (symbolIconTextColor) {\r\n        collector.addRule(\".codicon-symbol-text { color: \" + symbolIconTextColor + \" !important; }\");\r\n    }\r\n    var symbolIconTypeParameterColor = theme.getColor(SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);\r\n    if (symbolIconTypeParameterColor) {\r\n        collector.addRule(\".codicon-symbol-type-parameter { color: \" + symbolIconTypeParameterColor + \" !important; }\");\r\n    }\r\n    var symbolIconUnitColor = theme.getColor(SYMBOL_ICON_UNIT_FOREGROUND);\r\n    if (symbolIconUnitColor) {\r\n        collector.addRule(\".codicon-symbol-unit { color: \" + symbolIconUnitColor + \" !important; }\");\r\n    }\r\n    var symbolIconVariableColor = theme.getColor(SYMBOL_ICON_VARIABLE_FOREGROUND);\r\n    if (symbolIconVariableColor) {\r\n        collector.addRule(\".codicon-symbol-variable { color: \" + symbolIconVariableColor + \" !important; }\");\r\n    }\r\n});\r\n","export var FileKind;\r\n(function (FileKind) {\r\n    FileKind[FileKind[\"FILE\"] = 0] = \"FILE\";\r\n    FileKind[FileKind[\"FOLDER\"] = 1] = \"FOLDER\";\r\n    FileKind[FileKind[\"ROOT_FOLDER\"] = 2] = \"ROOT_FOLDER\";\r\n})(FileKind || (FileKind = {}));\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Schemas } from '../../../base/common/network.js';\r\nimport { DataUri, basenameOrAuthority } from '../../../base/common/resources.js';\r\nimport { PLAINTEXT_MODE_ID } from '../modes/modesRegistry.js';\r\nimport { FileKind } from '../../../platform/files/common/files.js';\r\nexport function getIconClasses(modelService, modeService, resource, fileKind) {\r\n    // we always set these base classes even if we do not have a path\r\n    var classes = fileKind === FileKind.ROOT_FOLDER ? ['rootfolder-icon'] : fileKind === FileKind.FOLDER ? ['folder-icon'] : ['file-icon'];\r\n    if (resource) {\r\n        // Get the path and name of the resource. For data-URIs, we need to parse specially\r\n        var name_1;\r\n        if (resource.scheme === Schemas.data) {\r\n            var metadata = DataUri.parseMetaData(resource);\r\n            name_1 = metadata.get(DataUri.META_DATA_LABEL);\r\n        }\r\n        else {\r\n            name_1 = cssEscape(basenameOrAuthority(resource).toLowerCase());\r\n        }\r\n        // Folders\r\n        if (fileKind === FileKind.FOLDER) {\r\n            classes.push(name_1 + \"-name-folder-icon\");\r\n        }\r\n        // Files\r\n        else {\r\n            // Name & Extension(s)\r\n            if (name_1) {\r\n                classes.push(name_1 + \"-name-file-icon\");\r\n                var dotSegments = name_1.split('.');\r\n                for (var i = 1; i < dotSegments.length; i++) {\r\n                    classes.push(dotSegments.slice(i).join('.') + \"-ext-file-icon\"); // add each combination of all found extensions if more than one\r\n                }\r\n                classes.push(\"ext-file-icon\"); // extra segment to increase file-ext score\r\n            }\r\n            // Detected Mode\r\n            var detectedModeId = detectModeId(modelService, modeService, resource);\r\n            if (detectedModeId) {\r\n                classes.push(cssEscape(detectedModeId) + \"-lang-file-icon\");\r\n            }\r\n        }\r\n    }\r\n    return classes;\r\n}\r\nexport function detectModeId(modelService, modeService, resource) {\r\n    if (!resource) {\r\n        return null; // we need a resource at least\r\n    }\r\n    var modeId = null;\r\n    // Data URI: check for encoded metadata\r\n    if (resource.scheme === Schemas.data) {\r\n        var metadata = DataUri.parseMetaData(resource);\r\n        var mime = metadata.get(DataUri.META_DATA_MIME);\r\n        if (mime) {\r\n            modeId = modeService.getModeId(mime);\r\n        }\r\n    }\r\n    // Any other URI: check for model if existing\r\n    else {\r\n        var model = modelService.getModel(resource);\r\n        if (model) {\r\n            modeId = model.getModeId();\r\n        }\r\n    }\r\n    // only take if the mode is specific (aka no just plain text)\r\n    if (modeId && modeId !== PLAINTEXT_MODE_ID) {\r\n        return modeId;\r\n    }\r\n    // otherwise fallback to path based detection\r\n    return modeService.getModeIdByFilepathOrFirstLine(resource);\r\n}\r\nexport function cssEscape(val) {\r\n    return val.replace(/\\s/g, '\\\\$&'); // make sure to not introduce CSS classes from files that contain whitespace\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport './media/suggest.css';\r\nimport '../../../base/browser/ui/codiconLabel/codiconLabel.js'; // The codicon symbol styles are defined here and must be loaded\r\nimport '../documentSymbols/outlineTree.js'; // The codicon symbol colors are defined here and must be loaded\r\nimport * as nls from '../../../nls.js';\r\nimport { createMatches } from '../../../base/common/filters.js';\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { Event, Emitter } from '../../../base/common/event.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { dispose, toDisposable, DisposableStore, Disposable } from '../../../base/common/lifecycle.js';\r\nimport { addClass, append, $, hide, removeClass, show, toggleClass, getDomNodePagePosition, hasClass, addDisposableListener, addStandardDisposableListener, addClasses } from '../../../base/browser/dom.js';\r\nimport { List } from '../../../base/browser/ui/list/listWidget.js';\r\nimport { DomScrollableElement } from '../../../base/browser/ui/scrollbar/scrollableElement.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { Context as SuggestContext } from './suggest.js';\r\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\r\nimport { ITelemetryService } from '../../../platform/telemetry/common/telemetry.js';\r\nimport { attachListStyler } from '../../../platform/theme/common/styler.js';\r\nimport { IThemeService, registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nimport { registerColor, editorWidgetBackground, listFocusBackground, activeContrastBorder, listHighlightForeground, editorForeground, editorWidgetBorder, focusBorder, textLinkForeground, textCodeBlockBackground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { IStorageService } from '../../../platform/storage/common/storage.js';\r\nimport { MarkdownRenderer } from '../markdown/markdownRenderer.js';\r\nimport { IModeService } from '../../common/services/modeService.js';\r\nimport { IOpenerService } from '../../../platform/opener/common/opener.js';\r\nimport { TimeoutTimer, createCancelablePromise, disposableTimeout } from '../../../base/common/async.js';\r\nimport { completionKindToCssClass } from '../../common/modes.js';\r\nimport { IconLabel } from '../../../base/browser/ui/iconLabel/iconLabel.js';\r\nimport { getIconClasses } from '../../common/services/getIconClasses.js';\r\nimport { IModelService } from '../../common/services/modelService.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { FileKind } from '../../../platform/files/common/files.js';\r\nimport { MarkdownString } from '../../../base/common/htmlContent.js';\r\nimport { flatten } from '../../../base/common/arrays.js';\r\nvar expandSuggestionDocsByDefault = false;\r\n/**\r\n * Suggest widget colors\r\n */\r\nexport var editorSuggestWidgetBackground = registerColor('editorSuggestWidget.background', { dark: editorWidgetBackground, light: editorWidgetBackground, hc: editorWidgetBackground }, nls.localize('editorSuggestWidgetBackground', 'Background color of the suggest widget.'));\r\nexport var editorSuggestWidgetBorder = registerColor('editorSuggestWidget.border', { dark: editorWidgetBorder, light: editorWidgetBorder, hc: editorWidgetBorder }, nls.localize('editorSuggestWidgetBorder', 'Border color of the suggest widget.'));\r\nexport var editorSuggestWidgetForeground = registerColor('editorSuggestWidget.foreground', { dark: editorForeground, light: editorForeground, hc: editorForeground }, nls.localize('editorSuggestWidgetForeground', 'Foreground color of the suggest widget.'));\r\nexport var editorSuggestWidgetSelectedBackground = registerColor('editorSuggestWidget.selectedBackground', { dark: listFocusBackground, light: listFocusBackground, hc: listFocusBackground }, nls.localize('editorSuggestWidgetSelectedBackground', 'Background color of the selected entry in the suggest widget.'));\r\nexport var editorSuggestWidgetHighlightForeground = registerColor('editorSuggestWidget.highlightForeground', { dark: listHighlightForeground, light: listHighlightForeground, hc: listHighlightForeground }, nls.localize('editorSuggestWidgetHighlightForeground', 'Color of the match highlights in the suggest widget.'));\r\nvar colorRegExp = /^(#([\\da-f]{3}){1,2}|(rgb|hsl)a\\(\\s*(\\d{1,3}%?\\s*,\\s*){3}(1|0?\\.\\d+)\\)|(rgb|hsl)\\(\\s*\\d{1,3}%?(\\s*,\\s*\\d{1,3}%?){2}\\s*\\))$/i;\r\nfunction extractColor(item, out) {\r\n    if (item.completion.label.match(colorRegExp)) {\r\n        out[0] = item.completion.label;\r\n        return true;\r\n    }\r\n    if (typeof item.completion.documentation === 'string' && item.completion.documentation.match(colorRegExp)) {\r\n        out[0] = item.completion.documentation;\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction canExpandCompletionItem(item) {\r\n    if (!item) {\r\n        return false;\r\n    }\r\n    var suggestion = item.completion;\r\n    if (suggestion.documentation) {\r\n        return true;\r\n    }\r\n    return (suggestion.detail && suggestion.detail !== suggestion.label);\r\n}\r\nvar Renderer = /** @class */ (function () {\r\n    function Renderer(widget, editor, triggerKeybindingLabel, _modelService, _modeService, _themeService) {\r\n        this.widget = widget;\r\n        this.editor = editor;\r\n        this.triggerKeybindingLabel = triggerKeybindingLabel;\r\n        this._modelService = _modelService;\r\n        this._modeService = _modeService;\r\n        this._themeService = _themeService;\r\n    }\r\n    Object.defineProperty(Renderer.prototype, \"templateId\", {\r\n        get: function () {\r\n            return 'suggestion';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Renderer.prototype.renderTemplate = function (container) {\r\n        var _this = this;\r\n        var data = Object.create(null);\r\n        data.disposables = new DisposableStore();\r\n        data.root = container;\r\n        addClass(data.root, 'show-file-icons');\r\n        data.icon = append(container, $('.icon'));\r\n        data.colorspan = append(data.icon, $('span.colorspan'));\r\n        var text = append(container, $('.contents'));\r\n        var main = append(text, $('.main'));\r\n        data.iconContainer = append(main, $('.icon-label.codicon'));\r\n        data.iconLabel = new IconLabel(main, { supportHighlights: true, supportCodicons: true });\r\n        data.disposables.add(data.iconLabel);\r\n        data.typeLabel = append(main, $('span.type-label'));\r\n        data.readMore = append(main, $('span.readMore.codicon.codicon-info'));\r\n        data.readMore.title = nls.localize('readMore', \"Read More...{0}\", this.triggerKeybindingLabel);\r\n        var configureFont = function () {\r\n            var options = _this.editor.getOptions();\r\n            var fontInfo = options.get(32 /* fontInfo */);\r\n            var fontFamily = fontInfo.fontFamily;\r\n            var fontSize = options.get(86 /* suggestFontSize */) || fontInfo.fontSize;\r\n            var lineHeight = options.get(87 /* suggestLineHeight */) || fontInfo.lineHeight;\r\n            var fontWeight = fontInfo.fontWeight;\r\n            var fontSizePx = fontSize + \"px\";\r\n            var lineHeightPx = lineHeight + \"px\";\r\n            data.root.style.fontSize = fontSizePx;\r\n            data.root.style.fontWeight = fontWeight;\r\n            main.style.fontFamily = fontFamily;\r\n            main.style.lineHeight = lineHeightPx;\r\n            data.icon.style.height = lineHeightPx;\r\n            data.icon.style.width = lineHeightPx;\r\n            data.readMore.style.height = lineHeightPx;\r\n            data.readMore.style.width = lineHeightPx;\r\n        };\r\n        configureFont();\r\n        data.disposables.add(Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor))\r\n            .filter(function (e) { return e.hasChanged(32 /* fontInfo */) || e.hasChanged(86 /* suggestFontSize */) || e.hasChanged(87 /* suggestLineHeight */); })\r\n            .on(configureFont, null));\r\n        return data;\r\n    };\r\n    Renderer.prototype.renderElement = function (element, _index, templateData) {\r\n        var _this = this;\r\n        var data = templateData;\r\n        var suggestion = element.completion;\r\n        data.icon.className = 'icon ' + completionKindToCssClass(suggestion.kind);\r\n        data.colorspan.style.backgroundColor = '';\r\n        var labelOptions = {\r\n            labelEscapeNewLines: true,\r\n            matches: createMatches(element.score)\r\n        };\r\n        var color = [];\r\n        if (suggestion.kind === 19 /* Color */ && extractColor(element, color)) {\r\n            // special logic for 'color' completion items\r\n            data.icon.className = 'icon customcolor';\r\n            data.iconContainer.className = 'icon hide';\r\n            data.colorspan.style.backgroundColor = color[0];\r\n        }\r\n        else if (suggestion.kind === 20 /* File */ && this._themeService.getIconTheme().hasFileIcons) {\r\n            // special logic for 'file' completion items\r\n            data.icon.className = 'icon hide';\r\n            data.iconContainer.className = 'icon hide';\r\n            var labelClasses = getIconClasses(this._modelService, this._modeService, URI.from({ scheme: 'fake', path: suggestion.label }), FileKind.FILE);\r\n            var detailClasses = getIconClasses(this._modelService, this._modeService, URI.from({ scheme: 'fake', path: suggestion.detail }), FileKind.FILE);\r\n            labelOptions.extraClasses = labelClasses.length > detailClasses.length ? labelClasses : detailClasses;\r\n        }\r\n        else if (suggestion.kind === 23 /* Folder */ && this._themeService.getIconTheme().hasFolderIcons) {\r\n            // special logic for 'folder' completion items\r\n            data.icon.className = 'icon hide';\r\n            data.iconContainer.className = 'icon hide';\r\n            labelOptions.extraClasses = flatten([\r\n                getIconClasses(this._modelService, this._modeService, URI.from({ scheme: 'fake', path: suggestion.label }), FileKind.FOLDER),\r\n                getIconClasses(this._modelService, this._modeService, URI.from({ scheme: 'fake', path: suggestion.detail }), FileKind.FOLDER)\r\n            ]);\r\n        }\r\n        else {\r\n            // normal icon\r\n            data.icon.className = 'icon hide';\r\n            data.iconContainer.className = '';\r\n            addClasses(data.iconContainer, \"suggest-icon codicon codicon-symbol-\" + completionKindToCssClass(suggestion.kind));\r\n        }\r\n        if (suggestion.tags && suggestion.tags.indexOf(1 /* Deprecated */) >= 0) {\r\n            labelOptions.extraClasses = (labelOptions.extraClasses || []).concat(['deprecated']);\r\n            labelOptions.matches = [];\r\n        }\r\n        data.iconLabel.setLabel(suggestion.label, undefined, labelOptions);\r\n        data.typeLabel.textContent = (suggestion.detail || '').replace(/\\n.*$/m, '');\r\n        if (canExpandCompletionItem(element)) {\r\n            show(data.readMore);\r\n            data.readMore.onmousedown = function (e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n            };\r\n            data.readMore.onclick = function (e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                _this.widget.toggleDetails();\r\n            };\r\n        }\r\n        else {\r\n            hide(data.readMore);\r\n            data.readMore.onmousedown = null;\r\n            data.readMore.onclick = null;\r\n        }\r\n    };\r\n    Renderer.prototype.disposeTemplate = function (templateData) {\r\n        templateData.disposables.dispose();\r\n    };\r\n    Renderer = __decorate([\r\n        __param(3, IModelService),\r\n        __param(4, IModeService),\r\n        __param(5, IThemeService)\r\n    ], Renderer);\r\n    return Renderer;\r\n}());\r\nvar SuggestionDetails = /** @class */ (function () {\r\n    function SuggestionDetails(container, widget, editor, markdownRenderer, triggerKeybindingLabel) {\r\n        var _this = this;\r\n        this.widget = widget;\r\n        this.editor = editor;\r\n        this.markdownRenderer = markdownRenderer;\r\n        this.triggerKeybindingLabel = triggerKeybindingLabel;\r\n        this.borderWidth = 1;\r\n        this.disposables = new DisposableStore();\r\n        this.el = append(container, $('.details'));\r\n        this.disposables.add(toDisposable(function () { return container.removeChild(_this.el); }));\r\n        this.body = $('.body');\r\n        this.scrollbar = new DomScrollableElement(this.body, {});\r\n        append(this.el, this.scrollbar.getDomNode());\r\n        this.disposables.add(this.scrollbar);\r\n        this.header = append(this.body, $('.header'));\r\n        this.close = append(this.header, $('span.codicon.codicon-close'));\r\n        this.close.title = nls.localize('readLess', \"Read less...{0}\", this.triggerKeybindingLabel);\r\n        this.type = append(this.header, $('p.type'));\r\n        this.docs = append(this.body, $('p.docs'));\r\n        this.ariaLabel = null;\r\n        this.configureFont();\r\n        Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor))\r\n            .filter(function (e) { return e.hasChanged(32 /* fontInfo */); })\r\n            .on(this.configureFont, this, this.disposables);\r\n        markdownRenderer.onDidRenderCodeBlock(function () { return _this.scrollbar.scanDomNode(); }, this, this.disposables);\r\n    }\r\n    Object.defineProperty(SuggestionDetails.prototype, \"element\", {\r\n        get: function () {\r\n            return this.el;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SuggestionDetails.prototype.renderLoading = function () {\r\n        this.type.textContent = nls.localize('loading', \"Loading...\");\r\n        this.docs.textContent = '';\r\n    };\r\n    SuggestionDetails.prototype.renderItem = function (item, explainMode) {\r\n        var _this = this;\r\n        this.renderDisposeable = dispose(this.renderDisposeable);\r\n        var _a = item.completion, documentation = _a.documentation, detail = _a.detail;\r\n        // --- documentation\r\n        if (explainMode) {\r\n            var md = '';\r\n            md += \"score: \" + item.score[0] + (item.word ? \", compared '\" + (item.completion.filterText && (item.completion.filterText + ' (filterText)') || item.completion.label) + \"' with '\" + item.word + \"'\" : ' (no prefix)') + \"\\n\";\r\n            md += \"distance: \" + item.distance + \", see localityBonus-setting\\n\";\r\n            md += \"index: \" + item.idx + \", based on \" + (item.completion.sortText && \"sortText: \\\"\" + item.completion.sortText + \"\\\"\" || 'label') + \"\\n\";\r\n            documentation = new MarkdownString().appendCodeblock('empty', md);\r\n            detail = \"Provider: \" + item.provider._debugDisplayName;\r\n        }\r\n        if (!explainMode && !canExpandCompletionItem(item)) {\r\n            this.type.textContent = '';\r\n            this.docs.textContent = '';\r\n            addClass(this.el, 'no-docs');\r\n            this.ariaLabel = null;\r\n            return;\r\n        }\r\n        removeClass(this.el, 'no-docs');\r\n        if (typeof documentation === 'string') {\r\n            removeClass(this.docs, 'markdown-docs');\r\n            this.docs.textContent = documentation;\r\n        }\r\n        else {\r\n            addClass(this.docs, 'markdown-docs');\r\n            this.docs.innerHTML = '';\r\n            var renderedContents = this.markdownRenderer.render(documentation);\r\n            this.renderDisposeable = renderedContents;\r\n            this.docs.appendChild(renderedContents.element);\r\n        }\r\n        // --- details\r\n        if (detail) {\r\n            this.type.innerText = detail;\r\n            show(this.type);\r\n        }\r\n        else {\r\n            this.type.innerText = '';\r\n            hide(this.type);\r\n        }\r\n        this.el.style.height = this.header.offsetHeight + this.docs.offsetHeight + (this.borderWidth * 2) + 'px';\r\n        this.el.style.userSelect = 'text';\r\n        this.el.tabIndex = -1;\r\n        this.close.onmousedown = function (e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        };\r\n        this.close.onclick = function (e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            _this.widget.toggleDetails();\r\n        };\r\n        this.body.scrollTop = 0;\r\n        this.scrollbar.scanDomNode();\r\n        this.ariaLabel = strings.format('{0}{1}', detail || '', documentation ? (typeof documentation === 'string' ? documentation : documentation.value) : '');\r\n    };\r\n    SuggestionDetails.prototype.getAriaLabel = function () {\r\n        return this.ariaLabel;\r\n    };\r\n    SuggestionDetails.prototype.scrollDown = function (much) {\r\n        if (much === void 0) { much = 8; }\r\n        this.body.scrollTop += much;\r\n    };\r\n    SuggestionDetails.prototype.scrollUp = function (much) {\r\n        if (much === void 0) { much = 8; }\r\n        this.body.scrollTop -= much;\r\n    };\r\n    SuggestionDetails.prototype.scrollTop = function () {\r\n        this.body.scrollTop = 0;\r\n    };\r\n    SuggestionDetails.prototype.scrollBottom = function () {\r\n        this.body.scrollTop = this.body.scrollHeight;\r\n    };\r\n    SuggestionDetails.prototype.pageDown = function () {\r\n        this.scrollDown(80);\r\n    };\r\n    SuggestionDetails.prototype.pageUp = function () {\r\n        this.scrollUp(80);\r\n    };\r\n    SuggestionDetails.prototype.setBorderWidth = function (width) {\r\n        this.borderWidth = width;\r\n    };\r\n    SuggestionDetails.prototype.configureFont = function () {\r\n        var options = this.editor.getOptions();\r\n        var fontInfo = options.get(32 /* fontInfo */);\r\n        var fontFamily = fontInfo.fontFamily;\r\n        var fontSize = options.get(86 /* suggestFontSize */) || fontInfo.fontSize;\r\n        var lineHeight = options.get(87 /* suggestLineHeight */) || fontInfo.lineHeight;\r\n        var fontWeight = fontInfo.fontWeight;\r\n        var fontSizePx = fontSize + \"px\";\r\n        var lineHeightPx = lineHeight + \"px\";\r\n        this.el.style.fontSize = fontSizePx;\r\n        this.el.style.fontWeight = fontWeight;\r\n        this.type.style.fontFamily = fontFamily;\r\n        this.close.style.height = lineHeightPx;\r\n        this.close.style.width = lineHeightPx;\r\n    };\r\n    SuggestionDetails.prototype.dispose = function () {\r\n        this.disposables.dispose();\r\n        this.renderDisposeable = dispose(this.renderDisposeable);\r\n    };\r\n    return SuggestionDetails;\r\n}());\r\nvar SuggestWidget = /** @class */ (function () {\r\n    function SuggestWidget(editor, telemetryService, contextKeyService, themeService, storageService, keybindingService, modeService, openerService, instantiationService) {\r\n        var _this = this;\r\n        this.editor = editor;\r\n        this.telemetryService = telemetryService;\r\n        // Editor.IContentWidget.allowEditorOverflow\r\n        this.allowEditorOverflow = true;\r\n        this.suppressMouseDown = false;\r\n        this.state = null;\r\n        this.isAuto = false;\r\n        this.loadingTimeout = Disposable.None;\r\n        this.currentSuggestionDetails = null;\r\n        this.ignoreFocusEvents = false;\r\n        this.completionModel = null;\r\n        this.showTimeout = new TimeoutTimer();\r\n        this.toDispose = new DisposableStore();\r\n        this.onDidSelectEmitter = new Emitter();\r\n        this.onDidFocusEmitter = new Emitter();\r\n        this.onDidHideEmitter = new Emitter();\r\n        this.onDidShowEmitter = new Emitter();\r\n        this.onDidSelect = this.onDidSelectEmitter.event;\r\n        this.onDidFocus = this.onDidFocusEmitter.event;\r\n        this.onDidHide = this.onDidHideEmitter.event;\r\n        this.onDidShow = this.onDidShowEmitter.event;\r\n        this.maxWidgetWidth = 660;\r\n        this.listWidth = 330;\r\n        this.firstFocusInCurrentList = false;\r\n        this.preferDocPositionTop = false;\r\n        this.docsPositionPreviousWidgetY = null;\r\n        this.explainMode = false;\r\n        this._onDetailsKeydown = new Emitter();\r\n        this.onDetailsKeyDown = this._onDetailsKeydown.event;\r\n        this._lastAriaAlertLabel = null;\r\n        var kb = keybindingService.lookupKeybinding('editor.action.triggerSuggest');\r\n        var triggerKeybindingLabel = !kb ? '' : \" (\" + kb.getLabel() + \")\";\r\n        var markdownRenderer = this.toDispose.add(new MarkdownRenderer(editor, modeService, openerService));\r\n        this.isAuto = false;\r\n        this.focusedItem = null;\r\n        this.storageService = storageService;\r\n        this.element = $('.editor-widget.suggest-widget');\r\n        this.toDispose.add(addDisposableListener(this.element, 'click', function (e) {\r\n            if (e.target === _this.element) {\r\n                _this.hideWidget();\r\n            }\r\n        }));\r\n        this.messageElement = append(this.element, $('.message'));\r\n        this.listElement = append(this.element, $('.tree'));\r\n        this.details = instantiationService.createInstance(SuggestionDetails, this.element, this, this.editor, markdownRenderer, triggerKeybindingLabel);\r\n        var applyIconStyle = function () { return toggleClass(_this.element, 'no-icons', !_this.editor.getOption(85 /* suggest */).showIcons); };\r\n        applyIconStyle();\r\n        var renderer = instantiationService.createInstance(Renderer, this, this.editor, triggerKeybindingLabel);\r\n        this.list = new List('SuggestWidget', this.listElement, this, [renderer], {\r\n            useShadows: false,\r\n            openController: { shouldOpen: function () { return false; } },\r\n            mouseSupport: false\r\n        });\r\n        this.toDispose.add(attachListStyler(this.list, themeService, {\r\n            listInactiveFocusBackground: editorSuggestWidgetSelectedBackground,\r\n            listInactiveFocusOutline: activeContrastBorder\r\n        }));\r\n        this.toDispose.add(themeService.onThemeChange(function (t) { return _this.onThemeChange(t); }));\r\n        this.toDispose.add(editor.onDidLayoutChange(function () { return _this.onEditorLayoutChange(); }));\r\n        this.toDispose.add(this.list.onMouseDown(function (e) { return _this.onListMouseDownOrTap(e); }));\r\n        this.toDispose.add(this.list.onTap(function (e) { return _this.onListMouseDownOrTap(e); }));\r\n        this.toDispose.add(this.list.onSelectionChange(function (e) { return _this.onListSelection(e); }));\r\n        this.toDispose.add(this.list.onFocusChange(function (e) { return _this.onListFocus(e); }));\r\n        this.toDispose.add(this.editor.onDidChangeCursorSelection(function () { return _this.onCursorSelectionChanged(); }));\r\n        this.toDispose.add(this.editor.onDidChangeConfiguration(function (e) { return e.hasChanged(85 /* suggest */) && applyIconStyle(); }));\r\n        this.suggestWidgetVisible = SuggestContext.Visible.bindTo(contextKeyService);\r\n        this.suggestWidgetMultipleSuggestions = SuggestContext.MultipleSuggestions.bindTo(contextKeyService);\r\n        this.editor.addContentWidget(this);\r\n        this.setState(0 /* Hidden */);\r\n        this.onThemeChange(themeService.getTheme());\r\n        this.toDispose.add(addStandardDisposableListener(this.details.element, 'keydown', function (e) {\r\n            _this._onDetailsKeydown.fire(e);\r\n        }));\r\n        this.toDispose.add(this.editor.onMouseDown(function (e) { return _this.onEditorMouseDown(e); }));\r\n    }\r\n    SuggestWidget.prototype.onEditorMouseDown = function (mouseEvent) {\r\n        // Clicking inside details\r\n        if (this.details.element.contains(mouseEvent.target.element)) {\r\n            this.details.element.focus();\r\n        }\r\n        // Clicking outside details and inside suggest\r\n        else {\r\n            if (this.element.contains(mouseEvent.target.element)) {\r\n                this.editor.focus();\r\n            }\r\n        }\r\n    };\r\n    SuggestWidget.prototype.onCursorSelectionChanged = function () {\r\n        if (this.state === 0 /* Hidden */) {\r\n            return;\r\n        }\r\n        this.editor.layoutContentWidget(this);\r\n    };\r\n    SuggestWidget.prototype.onEditorLayoutChange = function () {\r\n        if ((this.state === 3 /* Open */ || this.state === 5 /* Details */) && this.expandDocsSettingFromStorage()) {\r\n            this.expandSideOrBelow();\r\n        }\r\n    };\r\n    SuggestWidget.prototype.onListMouseDownOrTap = function (e) {\r\n        if (typeof e.element === 'undefined' || typeof e.index === 'undefined') {\r\n            return;\r\n        }\r\n        // prevent stealing browser focus from the editor\r\n        e.browserEvent.preventDefault();\r\n        e.browserEvent.stopPropagation();\r\n        this.select(e.element, e.index);\r\n    };\r\n    SuggestWidget.prototype.onListSelection = function (e) {\r\n        if (!e.elements.length) {\r\n            return;\r\n        }\r\n        this.select(e.elements[0], e.indexes[0]);\r\n    };\r\n    SuggestWidget.prototype.select = function (item, index) {\r\n        var completionModel = this.completionModel;\r\n        if (!completionModel) {\r\n            return;\r\n        }\r\n        this.onDidSelectEmitter.fire({ item: item, index: index, model: completionModel });\r\n        this.editor.focus();\r\n    };\r\n    SuggestWidget.prototype._getSuggestionAriaAlertLabel = function (item) {\r\n        if (this.expandDocsSettingFromStorage()) {\r\n            return nls.localize('ariaCurrenttSuggestionReadDetails', \"Item {0}, docs: {1}\", item.completion.label, this.details.getAriaLabel());\r\n        }\r\n        else {\r\n            return item.completion.label;\r\n        }\r\n    };\r\n    SuggestWidget.prototype._ariaAlert = function (newAriaAlertLabel) {\r\n        if (this._lastAriaAlertLabel === newAriaAlertLabel) {\r\n            return;\r\n        }\r\n        this._lastAriaAlertLabel = newAriaAlertLabel;\r\n        if (this._lastAriaAlertLabel) {\r\n            alert(this._lastAriaAlertLabel, true);\r\n        }\r\n    };\r\n    SuggestWidget.prototype.onThemeChange = function (theme) {\r\n        var backgroundColor = theme.getColor(editorSuggestWidgetBackground);\r\n        if (backgroundColor) {\r\n            this.listElement.style.backgroundColor = backgroundColor.toString();\r\n            this.details.element.style.backgroundColor = backgroundColor.toString();\r\n            this.messageElement.style.backgroundColor = backgroundColor.toString();\r\n        }\r\n        var borderColor = theme.getColor(editorSuggestWidgetBorder);\r\n        if (borderColor) {\r\n            this.listElement.style.borderColor = borderColor.toString();\r\n            this.details.element.style.borderColor = borderColor.toString();\r\n            this.messageElement.style.borderColor = borderColor.toString();\r\n            this.detailsBorderColor = borderColor.toString();\r\n        }\r\n        var focusBorderColor = theme.getColor(focusBorder);\r\n        if (focusBorderColor) {\r\n            this.detailsFocusBorderColor = focusBorderColor.toString();\r\n        }\r\n        this.details.setBorderWidth(theme.type === 'hc' ? 2 : 1);\r\n    };\r\n    SuggestWidget.prototype.onListFocus = function (e) {\r\n        var _this = this;\r\n        if (this.ignoreFocusEvents) {\r\n            return;\r\n        }\r\n        if (!e.elements.length) {\r\n            if (this.currentSuggestionDetails) {\r\n                this.currentSuggestionDetails.cancel();\r\n                this.currentSuggestionDetails = null;\r\n                this.focusedItem = null;\r\n            }\r\n            this._ariaAlert(null);\r\n            return;\r\n        }\r\n        if (!this.completionModel) {\r\n            return;\r\n        }\r\n        var item = e.elements[0];\r\n        var index = e.indexes[0];\r\n        this.firstFocusInCurrentList = !this.focusedItem;\r\n        if (item !== this.focusedItem) {\r\n            if (this.currentSuggestionDetails) {\r\n                this.currentSuggestionDetails.cancel();\r\n                this.currentSuggestionDetails = null;\r\n            }\r\n            this.focusedItem = item;\r\n            this.list.reveal(index);\r\n            this.currentSuggestionDetails = createCancelablePromise(function (token) { return __awaiter(_this, void 0, void 0, function () {\r\n                var loading, result;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            loading = disposableTimeout(function () { return _this.showDetails(true); }, 250);\r\n                            token.onCancellationRequested(function () { return loading.dispose(); });\r\n                            return [4 /*yield*/, item.resolve(token)];\r\n                        case 1:\r\n                            result = _a.sent();\r\n                            loading.dispose();\r\n                            return [2 /*return*/, result];\r\n                    }\r\n                });\r\n            }); });\r\n            this.currentSuggestionDetails.then(function () {\r\n                if (index >= _this.list.length || item !== _this.list.element(index)) {\r\n                    return;\r\n                }\r\n                // item can have extra information, so re-render\r\n                _this.ignoreFocusEvents = true;\r\n                _this.list.splice(index, 1, [item]);\r\n                _this.list.setFocus([index]);\r\n                _this.ignoreFocusEvents = false;\r\n                if (_this.expandDocsSettingFromStorage()) {\r\n                    _this.showDetails(false);\r\n                }\r\n                else {\r\n                    removeClass(_this.element, 'docs-side');\r\n                }\r\n                _this._ariaAlert(_this._getSuggestionAriaAlertLabel(item));\r\n            }).catch(onUnexpectedError);\r\n        }\r\n        // emit an event\r\n        this.onDidFocusEmitter.fire({ item: item, index: index, model: this.completionModel });\r\n    };\r\n    SuggestWidget.prototype.setState = function (state) {\r\n        if (!this.element) {\r\n            return;\r\n        }\r\n        var stateChanged = this.state !== state;\r\n        this.state = state;\r\n        toggleClass(this.element, 'frozen', state === 4 /* Frozen */);\r\n        switch (state) {\r\n            case 0 /* Hidden */:\r\n                hide(this.messageElement, this.details.element, this.listElement);\r\n                this.hide();\r\n                this.listHeight = 0;\r\n                if (stateChanged) {\r\n                    this.list.splice(0, this.list.length);\r\n                }\r\n                this.focusedItem = null;\r\n                break;\r\n            case 1 /* Loading */:\r\n                this.messageElement.textContent = SuggestWidget.LOADING_MESSAGE;\r\n                hide(this.listElement, this.details.element);\r\n                show(this.messageElement);\r\n                removeClass(this.element, 'docs-side');\r\n                this.show();\r\n                this.focusedItem = null;\r\n                break;\r\n            case 2 /* Empty */:\r\n                this.messageElement.textContent = SuggestWidget.NO_SUGGESTIONS_MESSAGE;\r\n                hide(this.listElement, this.details.element);\r\n                show(this.messageElement);\r\n                removeClass(this.element, 'docs-side');\r\n                this.show();\r\n                this.focusedItem = null;\r\n                break;\r\n            case 3 /* Open */:\r\n                hide(this.messageElement);\r\n                show(this.listElement);\r\n                this.show();\r\n                break;\r\n            case 4 /* Frozen */:\r\n                hide(this.messageElement);\r\n                show(this.listElement);\r\n                this.show();\r\n                break;\r\n            case 5 /* Details */:\r\n                hide(this.messageElement);\r\n                show(this.details.element, this.listElement);\r\n                this.show();\r\n                this._ariaAlert(this.details.getAriaLabel());\r\n                break;\r\n        }\r\n    };\r\n    SuggestWidget.prototype.showTriggered = function (auto, delay) {\r\n        var _this = this;\r\n        if (this.state !== 0 /* Hidden */) {\r\n            return;\r\n        }\r\n        this.isAuto = !!auto;\r\n        if (!this.isAuto) {\r\n            this.loadingTimeout = disposableTimeout(function () { return _this.setState(1 /* Loading */); }, delay);\r\n        }\r\n    };\r\n    SuggestWidget.prototype.showSuggestions = function (completionModel, selectionIndex, isFrozen, isAuto) {\r\n        this.preferDocPositionTop = false;\r\n        this.docsPositionPreviousWidgetY = null;\r\n        this.loadingTimeout.dispose();\r\n        if (this.currentSuggestionDetails) {\r\n            this.currentSuggestionDetails.cancel();\r\n            this.currentSuggestionDetails = null;\r\n        }\r\n        if (this.completionModel !== completionModel) {\r\n            this.completionModel = completionModel;\r\n        }\r\n        if (isFrozen && this.state !== 2 /* Empty */ && this.state !== 0 /* Hidden */) {\r\n            this.setState(4 /* Frozen */);\r\n            return;\r\n        }\r\n        var visibleCount = this.completionModel.items.length;\r\n        var isEmpty = visibleCount === 0;\r\n        this.suggestWidgetMultipleSuggestions.set(visibleCount > 1);\r\n        if (isEmpty) {\r\n            if (isAuto) {\r\n                this.setState(0 /* Hidden */);\r\n            }\r\n            else {\r\n                this.setState(2 /* Empty */);\r\n            }\r\n            this.completionModel = null;\r\n        }\r\n        else {\r\n            if (this.state !== 3 /* Open */) {\r\n                var stats = this.completionModel.stats;\r\n                stats['wasAutomaticallyTriggered'] = !!isAuto;\r\n                /* __GDPR__\r\n                    \"suggestWidget\" : {\r\n                        \"wasAutomaticallyTriggered\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\r\n                        \"${include}\": [\r\n                            \"${ICompletionStats}\"\r\n                        ]\r\n                    }\r\n                */\r\n                this.telemetryService.publicLog('suggestWidget', __assign({}, stats));\r\n            }\r\n            this.focusedItem = null;\r\n            this.list.splice(0, this.list.length, this.completionModel.items);\r\n            if (isFrozen) {\r\n                this.setState(4 /* Frozen */);\r\n            }\r\n            else {\r\n                this.setState(3 /* Open */);\r\n            }\r\n            this.list.reveal(selectionIndex, 0);\r\n            this.list.setFocus([selectionIndex]);\r\n            // Reset focus border\r\n            if (this.detailsBorderColor) {\r\n                this.details.element.style.borderColor = this.detailsBorderColor;\r\n            }\r\n        }\r\n    };\r\n    SuggestWidget.prototype.selectNextPage = function () {\r\n        switch (this.state) {\r\n            case 0 /* Hidden */:\r\n                return false;\r\n            case 5 /* Details */:\r\n                this.details.pageDown();\r\n                return true;\r\n            case 1 /* Loading */:\r\n                return !this.isAuto;\r\n            default:\r\n                this.list.focusNextPage();\r\n                return true;\r\n        }\r\n    };\r\n    SuggestWidget.prototype.selectNext = function () {\r\n        switch (this.state) {\r\n            case 0 /* Hidden */:\r\n                return false;\r\n            case 1 /* Loading */:\r\n                return !this.isAuto;\r\n            default:\r\n                this.list.focusNext(1, true);\r\n                return true;\r\n        }\r\n    };\r\n    SuggestWidget.prototype.selectLast = function () {\r\n        switch (this.state) {\r\n            case 0 /* Hidden */:\r\n                return false;\r\n            case 5 /* Details */:\r\n                this.details.scrollBottom();\r\n                return true;\r\n            case 1 /* Loading */:\r\n                return !this.isAuto;\r\n            default:\r\n                this.list.focusLast();\r\n                return true;\r\n        }\r\n    };\r\n    SuggestWidget.prototype.selectPreviousPage = function () {\r\n        switch (this.state) {\r\n            case 0 /* Hidden */:\r\n                return false;\r\n            case 5 /* Details */:\r\n                this.details.pageUp();\r\n                return true;\r\n            case 1 /* Loading */:\r\n                return !this.isAuto;\r\n            default:\r\n                this.list.focusPreviousPage();\r\n                return true;\r\n        }\r\n    };\r\n    SuggestWidget.prototype.selectPrevious = function () {\r\n        switch (this.state) {\r\n            case 0 /* Hidden */:\r\n                return false;\r\n            case 1 /* Loading */:\r\n                return !this.isAuto;\r\n            default:\r\n                this.list.focusPrevious(1, true);\r\n                return false;\r\n        }\r\n    };\r\n    SuggestWidget.prototype.selectFirst = function () {\r\n        switch (this.state) {\r\n            case 0 /* Hidden */:\r\n                return false;\r\n            case 5 /* Details */:\r\n                this.details.scrollTop();\r\n                return true;\r\n            case 1 /* Loading */:\r\n                return !this.isAuto;\r\n            default:\r\n                this.list.focusFirst();\r\n                return true;\r\n        }\r\n    };\r\n    SuggestWidget.prototype.getFocusedItem = function () {\r\n        if (this.state !== 0 /* Hidden */\r\n            && this.state !== 2 /* Empty */\r\n            && this.state !== 1 /* Loading */\r\n            && this.completionModel) {\r\n            return {\r\n                item: this.list.getFocusedElements()[0],\r\n                index: this.list.getFocus()[0],\r\n                model: this.completionModel\r\n            };\r\n        }\r\n        return undefined;\r\n    };\r\n    SuggestWidget.prototype.toggleDetailsFocus = function () {\r\n        if (this.state === 5 /* Details */) {\r\n            this.setState(3 /* Open */);\r\n            if (this.detailsBorderColor) {\r\n                this.details.element.style.borderColor = this.detailsBorderColor;\r\n            }\r\n        }\r\n        else if (this.state === 3 /* Open */ && this.expandDocsSettingFromStorage()) {\r\n            this.setState(5 /* Details */);\r\n            if (this.detailsFocusBorderColor) {\r\n                this.details.element.style.borderColor = this.detailsFocusBorderColor;\r\n            }\r\n        }\r\n        this.telemetryService.publicLog2('suggestWidget:toggleDetailsFocus');\r\n    };\r\n    SuggestWidget.prototype.toggleDetails = function () {\r\n        if (!canExpandCompletionItem(this.list.getFocusedElements()[0])) {\r\n            return;\r\n        }\r\n        if (this.expandDocsSettingFromStorage()) {\r\n            this.updateExpandDocsSetting(false);\r\n            hide(this.details.element);\r\n            removeClass(this.element, 'docs-side');\r\n            removeClass(this.element, 'docs-below');\r\n            this.editor.layoutContentWidget(this);\r\n            this.telemetryService.publicLog2('suggestWidget:collapseDetails');\r\n        }\r\n        else {\r\n            if (this.state !== 3 /* Open */ && this.state !== 5 /* Details */ && this.state !== 4 /* Frozen */) {\r\n                return;\r\n            }\r\n            this.updateExpandDocsSetting(true);\r\n            this.showDetails(false);\r\n            this._ariaAlert(this.details.getAriaLabel());\r\n            this.telemetryService.publicLog2('suggestWidget:expandDetails');\r\n        }\r\n    };\r\n    SuggestWidget.prototype.showDetails = function (loading) {\r\n        this.expandSideOrBelow();\r\n        show(this.details.element);\r\n        this.details.element.style.maxHeight = this.maxWidgetHeight + 'px';\r\n        if (loading) {\r\n            this.details.renderLoading();\r\n        }\r\n        else {\r\n            this.details.renderItem(this.list.getFocusedElements()[0], this.explainMode);\r\n        }\r\n        // Reset margin-top that was set as Fix for #26416\r\n        this.listElement.style.marginTop = '0px';\r\n        // with docs showing up widget width/height may change, so reposition the widget\r\n        this.editor.layoutContentWidget(this);\r\n        this.adjustDocsPosition();\r\n        this.editor.focus();\r\n    };\r\n    SuggestWidget.prototype.toggleExplainMode = function () {\r\n        if (this.list.getFocusedElements()[0] && this.expandDocsSettingFromStorage()) {\r\n            this.explainMode = !this.explainMode;\r\n            this.showDetails(false);\r\n        }\r\n    };\r\n    SuggestWidget.prototype.show = function () {\r\n        var _this = this;\r\n        var newHeight = this.updateListHeight();\r\n        if (newHeight !== this.listHeight) {\r\n            this.editor.layoutContentWidget(this);\r\n            this.listHeight = newHeight;\r\n        }\r\n        this.suggestWidgetVisible.set(true);\r\n        this.showTimeout.cancelAndSet(function () {\r\n            addClass(_this.element, 'visible');\r\n            _this.onDidShowEmitter.fire(_this);\r\n        }, 100);\r\n    };\r\n    SuggestWidget.prototype.hide = function () {\r\n        this.suggestWidgetVisible.reset();\r\n        this.suggestWidgetMultipleSuggestions.reset();\r\n        removeClass(this.element, 'visible');\r\n    };\r\n    SuggestWidget.prototype.hideWidget = function () {\r\n        this.loadingTimeout.dispose();\r\n        this.setState(0 /* Hidden */);\r\n        this.onDidHideEmitter.fire(this);\r\n    };\r\n    SuggestWidget.prototype.getPosition = function () {\r\n        if (this.state === 0 /* Hidden */) {\r\n            return null;\r\n        }\r\n        var preference = [2 /* BELOW */, 1 /* ABOVE */];\r\n        if (this.preferDocPositionTop) {\r\n            preference = [1 /* ABOVE */];\r\n        }\r\n        return {\r\n            position: this.editor.getPosition(),\r\n            preference: preference\r\n        };\r\n    };\r\n    SuggestWidget.prototype.getDomNode = function () {\r\n        return this.element;\r\n    };\r\n    SuggestWidget.prototype.getId = function () {\r\n        return SuggestWidget.ID;\r\n    };\r\n    SuggestWidget.prototype.isFrozen = function () {\r\n        return this.state === 4 /* Frozen */;\r\n    };\r\n    SuggestWidget.prototype.updateListHeight = function () {\r\n        var height = 0;\r\n        if (this.state === 2 /* Empty */ || this.state === 1 /* Loading */) {\r\n            height = this.unfocusedHeight;\r\n        }\r\n        else {\r\n            var suggestionCount = this.list.contentHeight / this.unfocusedHeight;\r\n            var maxVisibleSuggestions = this.editor.getOption(85 /* suggest */).maxVisibleSuggestions;\r\n            height = Math.min(suggestionCount, maxVisibleSuggestions) * this.unfocusedHeight;\r\n        }\r\n        this.element.style.lineHeight = this.unfocusedHeight + \"px\";\r\n        this.listElement.style.height = height + \"px\";\r\n        this.list.layout(height);\r\n        return height;\r\n    };\r\n    /**\r\n     * Adds the propert classes, margins when positioning the docs to the side\r\n     */\r\n    SuggestWidget.prototype.adjustDocsPosition = function () {\r\n        if (!this.editor.hasModel()) {\r\n            return;\r\n        }\r\n        var lineHeight = this.editor.getOption(47 /* lineHeight */);\r\n        var cursorCoords = this.editor.getScrolledVisiblePosition(this.editor.getPosition());\r\n        var editorCoords = getDomNodePagePosition(this.editor.getDomNode());\r\n        var cursorX = editorCoords.left + cursorCoords.left;\r\n        var cursorY = editorCoords.top + cursorCoords.top + cursorCoords.height;\r\n        var widgetCoords = getDomNodePagePosition(this.element);\r\n        var widgetX = widgetCoords.left;\r\n        var widgetY = widgetCoords.top;\r\n        // Fixes #27649\r\n        // Check if the Y changed to the top of the cursor and keep the widget flagged to prefer top\r\n        if (this.docsPositionPreviousWidgetY &&\r\n            this.docsPositionPreviousWidgetY < widgetY &&\r\n            !this.preferDocPositionTop) {\r\n            this.preferDocPositionTop = true;\r\n            this.adjustDocsPosition();\r\n            return;\r\n        }\r\n        this.docsPositionPreviousWidgetY = widgetY;\r\n        if (widgetX < cursorX - this.listWidth) {\r\n            // Widget is too far to the left of cursor, swap list and docs\r\n            addClass(this.element, 'list-right');\r\n        }\r\n        else {\r\n            removeClass(this.element, 'list-right');\r\n        }\r\n        // Compare top of the cursor (cursorY - lineheight) with widgetTop to determine if\r\n        // margin-top needs to be applied on list to make it appear right above the cursor\r\n        // Cannot compare cursorY directly as it may be a few decimals off due to zoooming\r\n        if (hasClass(this.element, 'docs-side')\r\n            && cursorY - lineHeight > widgetY\r\n            && this.details.element.offsetHeight > this.listElement.offsetHeight) {\r\n            // Fix for #26416\r\n            // Docs is bigger than list and widget is above cursor, apply margin-top so that list appears right above cursor\r\n            this.listElement.style.marginTop = this.details.element.offsetHeight - this.listElement.offsetHeight + \"px\";\r\n        }\r\n    };\r\n    /**\r\n     * Adds the proper classes for positioning the docs to the side or below\r\n     */\r\n    SuggestWidget.prototype.expandSideOrBelow = function () {\r\n        if (!canExpandCompletionItem(this.focusedItem) && this.firstFocusInCurrentList) {\r\n            removeClass(this.element, 'docs-side');\r\n            removeClass(this.element, 'docs-below');\r\n            return;\r\n        }\r\n        var matches = this.element.style.maxWidth.match(/(\\d+)px/);\r\n        if (!matches || Number(matches[1]) < this.maxWidgetWidth) {\r\n            addClass(this.element, 'docs-below');\r\n            removeClass(this.element, 'docs-side');\r\n        }\r\n        else if (canExpandCompletionItem(this.focusedItem)) {\r\n            addClass(this.element, 'docs-side');\r\n            removeClass(this.element, 'docs-below');\r\n        }\r\n    };\r\n    Object.defineProperty(SuggestWidget.prototype, \"maxWidgetHeight\", {\r\n        // Heights\r\n        get: function () {\r\n            return this.unfocusedHeight * this.editor.getOption(85 /* suggest */).maxVisibleSuggestions;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SuggestWidget.prototype, \"unfocusedHeight\", {\r\n        get: function () {\r\n            var options = this.editor.getOptions();\r\n            return options.get(87 /* suggestLineHeight */) || options.get(32 /* fontInfo */).lineHeight;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    // IDelegate\r\n    SuggestWidget.prototype.getHeight = function (element) {\r\n        return this.unfocusedHeight;\r\n    };\r\n    SuggestWidget.prototype.getTemplateId = function (element) {\r\n        return 'suggestion';\r\n    };\r\n    SuggestWidget.prototype.expandDocsSettingFromStorage = function () {\r\n        return this.storageService.getBoolean('expandSuggestionDocs', 0 /* GLOBAL */, expandSuggestionDocsByDefault);\r\n    };\r\n    SuggestWidget.prototype.updateExpandDocsSetting = function (value) {\r\n        this.storageService.store('expandSuggestionDocs', value, 0 /* GLOBAL */);\r\n    };\r\n    SuggestWidget.prototype.dispose = function () {\r\n        this.details.dispose();\r\n        this.list.dispose();\r\n        this.toDispose.dispose();\r\n        this.loadingTimeout.dispose();\r\n        this.showTimeout.dispose();\r\n    };\r\n    SuggestWidget.ID = 'editor.widget.suggestWidget';\r\n    SuggestWidget.LOADING_MESSAGE = nls.localize('suggestWidget.loading', \"Loading...\");\r\n    SuggestWidget.NO_SUGGESTIONS_MESSAGE = nls.localize('suggestWidget.noSuggestions', \"No suggestions.\");\r\n    SuggestWidget = __decorate([\r\n        __param(1, ITelemetryService),\r\n        __param(2, IContextKeyService),\r\n        __param(3, IThemeService),\r\n        __param(4, IStorageService),\r\n        __param(5, IKeybindingService),\r\n        __param(6, IModeService),\r\n        __param(7, IOpenerService),\r\n        __param(8, IInstantiationService)\r\n    ], SuggestWidget);\r\n    return SuggestWidget;\r\n}());\r\nexport { SuggestWidget };\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var matchHighlight = theme.getColor(editorSuggestWidgetHighlightForeground);\r\n    if (matchHighlight) {\r\n        collector.addRule(\".monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: \" + matchHighlight + \"; }\");\r\n    }\r\n    var foreground = theme.getColor(editorSuggestWidgetForeground);\r\n    if (foreground) {\r\n        collector.addRule(\".monaco-editor .suggest-widget { color: \" + foreground + \"; }\");\r\n    }\r\n    var link = theme.getColor(textLinkForeground);\r\n    if (link) {\r\n        collector.addRule(\".monaco-editor .suggest-widget a { color: \" + link + \"; }\");\r\n    }\r\n    var codeBackground = theme.getColor(textCodeBlockBackground);\r\n    if (codeBackground) {\r\n        collector.addRule(\".monaco-editor .suggest-widget code { background-color: \" + codeBackground + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { RawContextKey, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { dispose, Disposable } from '../../../base/common/lifecycle.js';\r\nvar WordContextKey = /** @class */ (function (_super) {\r\n    __extends(WordContextKey, _super);\r\n    function WordContextKey(_editor, contextKeyService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = _editor;\r\n        _this._enabled = false;\r\n        _this._ckAtEnd = WordContextKey.AtEnd.bindTo(contextKeyService);\r\n        _this._register(_this._editor.onDidChangeConfiguration(function (e) { return e.hasChanged(90 /* tabCompletion */) && _this._update(); }));\r\n        _this._update();\r\n        return _this;\r\n    }\r\n    WordContextKey.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        dispose(this._selectionListener);\r\n        this._ckAtEnd.reset();\r\n    };\r\n    WordContextKey.prototype._update = function () {\r\n        var _this = this;\r\n        // only update this when tab completions are enabled\r\n        var enabled = this._editor.getOption(90 /* tabCompletion */) === 'on';\r\n        if (this._enabled === enabled) {\r\n            return;\r\n        }\r\n        this._enabled = enabled;\r\n        if (this._enabled) {\r\n            var checkForWordEnd = function () {\r\n                if (!_this._editor.hasModel()) {\r\n                    _this._ckAtEnd.set(false);\r\n                    return;\r\n                }\r\n                var model = _this._editor.getModel();\r\n                var selection = _this._editor.getSelection();\r\n                var word = model.getWordAtPosition(selection.getStartPosition());\r\n                if (!word) {\r\n                    _this._ckAtEnd.set(false);\r\n                    return;\r\n                }\r\n                _this._ckAtEnd.set(word.endColumn === selection.getStartPosition().column);\r\n            };\r\n            this._selectionListener = this._editor.onDidChangeCursorSelection(checkForWordEnd);\r\n            checkForWordEnd();\r\n        }\r\n        else if (this._selectionListener) {\r\n            this._ckAtEnd.reset();\r\n            this._selectionListener.dispose();\r\n            this._selectionListener = undefined;\r\n        }\r\n    };\r\n    WordContextKey.AtEnd = new RawContextKey('atEndOfWord', false);\r\n    WordContextKey = __decorate([\r\n        __param(1, IContextKeyService)\r\n    ], WordContextKey);\r\n    return WordContextKey;\r\n}(Disposable));\r\nexport { WordContextKey };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { isNonEmptyArray } from '../../../base/common/arrays.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { CharacterSet } from '../../common/core/characterClassifier.js';\r\nvar CommitCharacterController = /** @class */ (function () {\r\n    function CommitCharacterController(editor, widget, accept) {\r\n        var _this = this;\r\n        this._disposables = new DisposableStore();\r\n        this._disposables.add(widget.onDidShow(function () { return _this._onItem(widget.getFocusedItem()); }));\r\n        this._disposables.add(widget.onDidFocus(this._onItem, this));\r\n        this._disposables.add(widget.onDidHide(this.reset, this));\r\n        this._disposables.add(editor.onWillType(function (text) {\r\n            if (_this._active && !widget.isFrozen()) {\r\n                var ch = text.charCodeAt(text.length - 1);\r\n                if (_this._active.acceptCharacters.has(ch) && editor.getOption(0 /* acceptSuggestionOnCommitCharacter */)) {\r\n                    accept(_this._active.item);\r\n                }\r\n            }\r\n        }));\r\n    }\r\n    CommitCharacterController.prototype._onItem = function (selected) {\r\n        if (!selected || !isNonEmptyArray(selected.item.completion.commitCharacters)) {\r\n            // no item or no commit characters\r\n            this.reset();\r\n            return;\r\n        }\r\n        if (this._active && this._active.item.item === selected.item) {\r\n            // still the same item\r\n            return;\r\n        }\r\n        // keep item and its commit characters\r\n        var acceptCharacters = new CharacterSet();\r\n        for (var _i = 0, _a = selected.item.completion.commitCharacters; _i < _a.length; _i++) {\r\n            var ch = _a[_i];\r\n            if (ch.length > 0) {\r\n                acceptCharacters.add(ch.charCodeAt(0));\r\n            }\r\n        }\r\n        this._active = { acceptCharacters: acceptCharacters, item: selected };\r\n    };\r\n    CommitCharacterController.prototype.reset = function () {\r\n        this._active = undefined;\r\n    };\r\n    CommitCharacterController.prototype.dispose = function () {\r\n        this._disposables.dispose();\r\n    };\r\n    return CommitCharacterController;\r\n}());\r\nexport { CommitCharacterController };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DisposableStore, dispose } from '../../../base/common/lifecycle.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { domEvent } from '../../../base/browser/event.js';\r\nvar SuggestRangeHighlighter = /** @class */ (function () {\r\n    function SuggestRangeHighlighter(_controller) {\r\n        var _this = this;\r\n        this._controller = _controller;\r\n        this._disposables = new DisposableStore();\r\n        this._decorations = [];\r\n        this._disposables.add(_controller.model.onDidSuggest(function (e) {\r\n            if (!e.shy) {\r\n                var widget = _this._controller.widget.getValue();\r\n                var focused = widget.getFocusedItem();\r\n                if (focused) {\r\n                    _this._highlight(focused.item);\r\n                }\r\n                if (!_this._widgetListener) {\r\n                    _this._widgetListener = widget.onDidFocus(function (e) { return _this._highlight(e.item); });\r\n                }\r\n            }\r\n        }));\r\n        this._disposables.add(_controller.model.onDidCancel(function () {\r\n            _this._reset();\r\n        }));\r\n    }\r\n    SuggestRangeHighlighter.prototype.dispose = function () {\r\n        this._reset();\r\n        this._disposables.dispose();\r\n        dispose(this._widgetListener);\r\n        dispose(this._shiftKeyListener);\r\n    };\r\n    SuggestRangeHighlighter.prototype._reset = function () {\r\n        this._decorations = this._controller.editor.deltaDecorations(this._decorations, []);\r\n        if (this._shiftKeyListener) {\r\n            this._shiftKeyListener.dispose();\r\n            this._shiftKeyListener = undefined;\r\n        }\r\n    };\r\n    SuggestRangeHighlighter.prototype._highlight = function (item) {\r\n        var _this = this;\r\n        var _a;\r\n        this._currentItem = item;\r\n        var opts = this._controller.editor.getOption(85 /* suggest */);\r\n        var newDeco = [];\r\n        if (opts.insertHighlight) {\r\n            if (!this._shiftKeyListener) {\r\n                this._shiftKeyListener = shiftKey.event(function () { return _this._highlight(_this._currentItem); });\r\n            }\r\n            var info = this._controller.getOverwriteInfo(item, shiftKey.isPressed);\r\n            var position = this._controller.editor.getPosition();\r\n            if (opts.insertMode === 'insert' && info.overwriteAfter > 0) {\r\n                // wants inserts but got replace-mode -> highlight AFTER range\r\n                newDeco = [{\r\n                        range: new Range(position.lineNumber, position.column, position.lineNumber, position.column + info.overwriteAfter),\r\n                        options: { inlineClassName: 'suggest-insert-unexpected' }\r\n                    }];\r\n            }\r\n            else if (opts.insertMode === 'replace' && info.overwriteAfter === 0) {\r\n                // want replace but likely got insert -> highlight AFTER range\r\n                var wordInfo = (_a = this._controller.editor.getModel()) === null || _a === void 0 ? void 0 : _a.getWordAtPosition(position);\r\n                if (wordInfo && wordInfo.endColumn > position.column) {\r\n                    newDeco = [{\r\n                            range: new Range(position.lineNumber, position.column, position.lineNumber, wordInfo.endColumn),\r\n                            options: { inlineClassName: 'suggest-insert-unexpected' }\r\n                        }];\r\n                }\r\n            }\r\n        }\r\n        // update editor decorations\r\n        this._decorations = this._controller.editor.deltaDecorations(this._decorations, newDeco);\r\n    };\r\n    return SuggestRangeHighlighter;\r\n}());\r\nexport { SuggestRangeHighlighter };\r\nvar shiftKey = new /** @class */ (function (_super) {\r\n    __extends(ShiftKey, _super);\r\n    function ShiftKey() {\r\n        var _this = _super.call(this) || this;\r\n        _this._subscriptions = new DisposableStore();\r\n        _this._isPressed = false;\r\n        _this._subscriptions.add(domEvent(document.body, 'keydown')(function (e) { return _this.isPressed = e.shiftKey; }));\r\n        _this._subscriptions.add(domEvent(document.body, 'keyup')(function () { return _this.isPressed = false; }));\r\n        _this._subscriptions.add(domEvent(document.body, 'mouseleave')(function () { return _this.isPressed = false; }));\r\n        _this._subscriptions.add(domEvent(document.body, 'blur')(function () { return _this.isPressed = false; }));\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ShiftKey.prototype, \"isPressed\", {\r\n        get: function () {\r\n            return this._isPressed;\r\n        },\r\n        set: function (value) {\r\n            if (this._isPressed !== value) {\r\n                this._isPressed = value;\r\n                this.fire(value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ShiftKey.prototype.dispose = function () {\r\n        this._subscriptions.dispose();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    return ShiftKey;\r\n}(Emitter));\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\r\nimport { isNonEmptyArray } from '../../../base/common/arrays.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { SimpleKeybinding } from '../../../base/common/keyCodes.js';\r\nimport { dispose, DisposableStore, toDisposable, MutableDisposable } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { EditOperation } from '../../common/core/editOperation.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { SnippetController2 } from '../snippet/snippetController2.js';\r\nimport { SnippetParser } from '../snippet/snippetParser.js';\r\nimport { ISuggestMemoryService } from './suggestMemory.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { ICommandService, CommandsRegistry } from '../../../platform/commands/common/commands.js';\r\nimport { ContextKeyExpr, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { KeybindingsRegistry } from '../../../platform/keybinding/common/keybindingsRegistry.js';\r\nimport { Context as SuggestContext } from './suggest.js';\r\nimport { SuggestAlternatives } from './suggestAlternatives.js';\r\nimport { SuggestModel } from './suggestModel.js';\r\nimport { SuggestWidget } from './suggestWidget.js';\r\nimport { WordContextKey } from './wordContextKey.js';\r\nimport { Event } from '../../../base/common/event.js';\r\nimport { IEditorWorkerService } from '../../common/services/editorWorkerService.js';\r\nimport { IdleValue } from '../../../base/common/async.js';\r\nimport { isObject, assertType } from '../../../base/common/types.js';\r\nimport { CommitCharacterController } from './suggestCommitCharacters.js';\r\nimport * as platform from '../../../base/common/platform.js';\r\nimport { SuggestRangeHighlighter } from './suggestRangeHighlighter.js';\r\n/**\r\n * Stop suggest widget from disappearing when clicking into other areas\r\n * For development purpose only\r\n */\r\nvar _sticky = false;\r\nvar LineSuffix = /** @class */ (function () {\r\n    function LineSuffix(_model, _position) {\r\n        this._model = _model;\r\n        this._position = _position;\r\n        // spy on what's happening right of the cursor. two cases:\r\n        // 1. end of line -> check that it's still end of line\r\n        // 2. mid of line -> add a marker and compute the delta\r\n        var maxColumn = _model.getLineMaxColumn(_position.lineNumber);\r\n        if (maxColumn !== _position.column) {\r\n            var offset = _model.getOffsetAt(_position);\r\n            var end = _model.getPositionAt(offset + 1);\r\n            this._marker = _model.deltaDecorations([], [{\r\n                    range: Range.fromPositions(_position, end),\r\n                    options: { stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ }\r\n                }]);\r\n        }\r\n    }\r\n    LineSuffix.prototype.dispose = function () {\r\n        if (this._marker && !this._model.isDisposed()) {\r\n            this._model.deltaDecorations(this._marker, []);\r\n        }\r\n    };\r\n    LineSuffix.prototype.delta = function (position) {\r\n        if (this._model.isDisposed() || this._position.lineNumber !== position.lineNumber) {\r\n            // bail out early if things seems fishy\r\n            return 0;\r\n        }\r\n        // read the marker (in case suggest was triggered at line end) or compare\r\n        // the cursor to the line end.\r\n        if (this._marker) {\r\n            var range = this._model.getDecorationRange(this._marker[0]);\r\n            var end = this._model.getOffsetAt(range.getStartPosition());\r\n            return end - this._model.getOffsetAt(position);\r\n        }\r\n        else {\r\n            return this._model.getLineMaxColumn(position.lineNumber) - position.column;\r\n        }\r\n    };\r\n    return LineSuffix;\r\n}());\r\nvar SuggestController = /** @class */ (function () {\r\n    function SuggestController(editor, editorWorker, _memoryService, _commandService, _contextKeyService, _instantiationService) {\r\n        var _this = this;\r\n        this._memoryService = _memoryService;\r\n        this._commandService = _commandService;\r\n        this._contextKeyService = _contextKeyService;\r\n        this._instantiationService = _instantiationService;\r\n        this._lineSuffix = new MutableDisposable();\r\n        this._toDispose = new DisposableStore();\r\n        this.editor = editor;\r\n        this.model = new SuggestModel(this.editor, editorWorker);\r\n        this.widget = new IdleValue(function () {\r\n            var widget = _this._instantiationService.createInstance(SuggestWidget, _this.editor);\r\n            _this._toDispose.add(widget);\r\n            _this._toDispose.add(widget.onDidSelect(function (item) { return _this._insertSuggestion(item, 0); }, _this));\r\n            // Wire up logic to accept a suggestion on certain characters\r\n            var commitCharacterController = new CommitCharacterController(_this.editor, widget, function (item) { return _this._insertSuggestion(item, 2 /* NoAfterUndoStop */); });\r\n            _this._toDispose.add(commitCharacterController);\r\n            _this._toDispose.add(_this.model.onDidSuggest(function (e) {\r\n                if (e.completionModel.items.length === 0) {\r\n                    commitCharacterController.reset();\r\n                }\r\n            }));\r\n            // Wire up makes text edit context key\r\n            var makesTextEdit = SuggestContext.MakesTextEdit.bindTo(_this._contextKeyService);\r\n            _this._toDispose.add(widget.onDidFocus(function (_a) {\r\n                var item = _a.item;\r\n                var position = _this.editor.getPosition();\r\n                var startColumn = item.editStart.column;\r\n                var endColumn = position.column;\r\n                var value = true;\r\n                if (_this.editor.getOption(1 /* acceptSuggestionOnEnter */) === 'smart'\r\n                    && _this.model.state === 2 /* Auto */\r\n                    && !item.completion.command\r\n                    && !item.completion.additionalTextEdits\r\n                    && !(item.completion.insertTextRules & 4 /* InsertAsSnippet */)\r\n                    && endColumn - startColumn === item.completion.insertText.length) {\r\n                    var oldText = _this.editor.getModel().getValueInRange({\r\n                        startLineNumber: position.lineNumber,\r\n                        startColumn: startColumn,\r\n                        endLineNumber: position.lineNumber,\r\n                        endColumn: endColumn\r\n                    });\r\n                    value = oldText !== item.completion.insertText;\r\n                }\r\n                makesTextEdit.set(value);\r\n            }));\r\n            _this._toDispose.add(toDisposable(function () { return makesTextEdit.reset(); }));\r\n            return widget;\r\n        });\r\n        this._alternatives = new IdleValue(function () {\r\n            return _this._toDispose.add(new SuggestAlternatives(_this.editor, _this._contextKeyService));\r\n        });\r\n        this._toDispose.add(_instantiationService.createInstance(WordContextKey, editor));\r\n        this._toDispose.add(this.model.onDidTrigger(function (e) {\r\n            _this.widget.getValue().showTriggered(e.auto, e.shy ? 250 : 50);\r\n            _this._lineSuffix.value = new LineSuffix(_this.editor.getModel(), e.position);\r\n        }));\r\n        this._toDispose.add(this.model.onDidSuggest(function (e) {\r\n            if (!e.shy) {\r\n                var index = _this._memoryService.select(_this.editor.getModel(), _this.editor.getPosition(), e.completionModel.items);\r\n                _this.widget.getValue().showSuggestions(e.completionModel, index, e.isFrozen, e.auto);\r\n            }\r\n        }));\r\n        this._toDispose.add(this.model.onDidCancel(function (e) {\r\n            if (!e.retrigger) {\r\n                _this.widget.getValue().hideWidget();\r\n            }\r\n        }));\r\n        this._toDispose.add(this.editor.onDidBlurEditorWidget(function () {\r\n            if (!_sticky) {\r\n                _this.model.cancel();\r\n                _this.model.clear();\r\n            }\r\n        }));\r\n        this._toDispose.add(this.widget.getValue().onDetailsKeyDown(function (e) {\r\n            // cmd + c on macOS, ctrl + c on Win / Linux\r\n            if (e.toKeybinding().equals(new SimpleKeybinding(true, false, false, false, 33 /* KEY_C */)) ||\r\n                (platform.isMacintosh && e.toKeybinding().equals(new SimpleKeybinding(false, false, false, true, 33 /* KEY_C */)))) {\r\n                e.stopPropagation();\r\n                return;\r\n            }\r\n            if (!e.toKeybinding().isModifierKey()) {\r\n                _this.editor.focus();\r\n            }\r\n        }));\r\n        // Manage the acceptSuggestionsOnEnter context key\r\n        var acceptSuggestionsOnEnter = SuggestContext.AcceptSuggestionsOnEnter.bindTo(_contextKeyService);\r\n        var updateFromConfig = function () {\r\n            var acceptSuggestionOnEnter = _this.editor.getOption(1 /* acceptSuggestionOnEnter */);\r\n            acceptSuggestionsOnEnter.set(acceptSuggestionOnEnter === 'on' || acceptSuggestionOnEnter === 'smart');\r\n        };\r\n        this._toDispose.add(this.editor.onDidChangeConfiguration(function () { return updateFromConfig(); }));\r\n        updateFromConfig();\r\n        // create range highlighter\r\n        this._toDispose.add(new SuggestRangeHighlighter(this));\r\n    }\r\n    SuggestController.get = function (editor) {\r\n        return editor.getContribution(SuggestController.ID);\r\n    };\r\n    SuggestController.prototype.dispose = function () {\r\n        this._alternatives.dispose();\r\n        this._toDispose.dispose();\r\n        this.widget.dispose();\r\n        this.model.dispose();\r\n        this._lineSuffix.dispose();\r\n    };\r\n    SuggestController.prototype._insertSuggestion = function (event, flags) {\r\n        var _a;\r\n        var _this = this;\r\n        if (!event || !event.item) {\r\n            this._alternatives.getValue().reset();\r\n            this.model.cancel();\r\n            this.model.clear();\r\n            return;\r\n        }\r\n        if (!this.editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = this.editor.getModel();\r\n        var modelVersionNow = model.getAlternativeVersionId();\r\n        var item = event.item;\r\n        var suggestion = item.completion;\r\n        // pushing undo stops *before* additional text edits and\r\n        // *after* the main edit\r\n        if (!(flags & 1 /* NoBeforeUndoStop */)) {\r\n            this.editor.pushUndoStop();\r\n        }\r\n        // compute overwrite[Before|After] deltas BEFORE applying extra edits\r\n        var info = this.getOverwriteInfo(item, Boolean(flags & 8 /* AlternativeOverwriteConfig */));\r\n        // keep item in memory\r\n        this._memoryService.memorize(model, this.editor.getPosition(), item);\r\n        if (Array.isArray(suggestion.additionalTextEdits)) {\r\n            this.editor.executeEdits('suggestController.additionalTextEdits', suggestion.additionalTextEdits.map(function (edit) { return EditOperation.replace(Range.lift(edit.range), edit.text); }));\r\n        }\r\n        var insertText = suggestion.insertText;\r\n        if (!(suggestion.insertTextRules & 4 /* InsertAsSnippet */)) {\r\n            insertText = SnippetParser.escape(insertText);\r\n        }\r\n        SnippetController2.get(this.editor).insert(insertText, {\r\n            overwriteBefore: info.overwriteBefore,\r\n            overwriteAfter: info.overwriteAfter,\r\n            undoStopBefore: false,\r\n            undoStopAfter: false,\r\n            adjustWhitespace: !(suggestion.insertTextRules & 1 /* KeepWhitespace */)\r\n        });\r\n        if (!(flags & 2 /* NoAfterUndoStop */)) {\r\n            this.editor.pushUndoStop();\r\n        }\r\n        if (!suggestion.command) {\r\n            // done\r\n            this.model.cancel();\r\n            this.model.clear();\r\n        }\r\n        else if (suggestion.command.id === TriggerSuggestAction.id) {\r\n            // retigger\r\n            this.model.trigger({ auto: true, shy: false }, true);\r\n        }\r\n        else {\r\n            // exec command, done\r\n            (_a = this._commandService).executeCommand.apply(_a, __spreadArrays([suggestion.command.id], (suggestion.command.arguments ? __spreadArrays(suggestion.command.arguments) : []))).catch(onUnexpectedError)\r\n                .finally(function () { return _this.model.clear(); }); // <- clear only now, keep commands alive\r\n            this.model.cancel();\r\n        }\r\n        if (flags & 4 /* KeepAlternativeSuggestions */) {\r\n            this._alternatives.getValue().set(event, function (next) {\r\n                // this is not so pretty. when inserting the 'next'\r\n                // suggestion we undo until we are at the state at\r\n                // which we were before inserting the previous suggestion...\r\n                while (model.canUndo()) {\r\n                    if (modelVersionNow !== model.getAlternativeVersionId()) {\r\n                        model.undo();\r\n                    }\r\n                    _this._insertSuggestion(next, 1 /* NoBeforeUndoStop */ | 2 /* NoAfterUndoStop */ | (flags & 8 /* AlternativeOverwriteConfig */ ? 8 /* AlternativeOverwriteConfig */ : 0));\r\n                    break;\r\n                }\r\n            });\r\n        }\r\n        this._alertCompletionItem(event.item);\r\n    };\r\n    SuggestController.prototype.getOverwriteInfo = function (item, toggleMode) {\r\n        assertType(this.editor.hasModel());\r\n        var replace = this.editor.getOption(85 /* suggest */).insertMode === 'replace';\r\n        if (toggleMode) {\r\n            replace = !replace;\r\n        }\r\n        var overwriteBefore = item.position.column - item.editStart.column;\r\n        var overwriteAfter = (replace ? item.editReplaceEnd.column : item.editInsertEnd.column) - item.position.column;\r\n        var columnDelta = this.editor.getPosition().column - item.position.column;\r\n        var suffixDelta = this._lineSuffix.value ? this._lineSuffix.value.delta(this.editor.getPosition()) : 0;\r\n        return {\r\n            overwriteBefore: overwriteBefore + columnDelta,\r\n            overwriteAfter: overwriteAfter + suffixDelta\r\n        };\r\n    };\r\n    SuggestController.prototype._alertCompletionItem = function (_a) {\r\n        var suggestion = _a.completion;\r\n        if (isNonEmptyArray(suggestion.additionalTextEdits)) {\r\n            var msg = nls.localize('arai.alert.snippet', \"Accepting '{0}' made {1} additional edits\", suggestion.label, suggestion.additionalTextEdits.length);\r\n            alert(msg);\r\n        }\r\n    };\r\n    SuggestController.prototype.triggerSuggest = function (onlyFrom) {\r\n        if (this.editor.hasModel()) {\r\n            this.model.trigger({ auto: false, shy: false }, false, onlyFrom);\r\n            this.editor.revealLine(this.editor.getPosition().lineNumber, 0 /* Smooth */);\r\n            this.editor.focus();\r\n        }\r\n    };\r\n    SuggestController.prototype.triggerSuggestAndAcceptBest = function (arg) {\r\n        var _this = this;\r\n        if (!this.editor.hasModel()) {\r\n            return;\r\n        }\r\n        var positionNow = this.editor.getPosition();\r\n        var fallback = function () {\r\n            if (positionNow.equals(_this.editor.getPosition())) {\r\n                _this._commandService.executeCommand(arg.fallback);\r\n            }\r\n        };\r\n        var makesTextEdit = function (item) {\r\n            if (item.completion.insertTextRules & 4 /* InsertAsSnippet */ || item.completion.additionalTextEdits) {\r\n                // snippet, other editor -> makes edit\r\n                return true;\r\n            }\r\n            var position = _this.editor.getPosition();\r\n            var startColumn = item.editStart.column;\r\n            var endColumn = position.column;\r\n            if (endColumn - startColumn !== item.completion.insertText.length) {\r\n                // unequal lengths -> makes edit\r\n                return true;\r\n            }\r\n            var textNow = _this.editor.getModel().getValueInRange({\r\n                startLineNumber: position.lineNumber,\r\n                startColumn: startColumn,\r\n                endLineNumber: position.lineNumber,\r\n                endColumn: endColumn\r\n            });\r\n            // unequal text -> makes edit\r\n            return textNow !== item.completion.insertText;\r\n        };\r\n        Event.once(this.model.onDidTrigger)(function (_) {\r\n            // wait for trigger because only then the cancel-event is trustworthy\r\n            var listener = [];\r\n            Event.any(_this.model.onDidTrigger, _this.model.onDidCancel)(function () {\r\n                // retrigger or cancel -> try to type default text\r\n                dispose(listener);\r\n                fallback();\r\n            }, undefined, listener);\r\n            _this.model.onDidSuggest(function (_a) {\r\n                var completionModel = _a.completionModel;\r\n                dispose(listener);\r\n                if (completionModel.items.length === 0) {\r\n                    fallback();\r\n                    return;\r\n                }\r\n                var index = _this._memoryService.select(_this.editor.getModel(), _this.editor.getPosition(), completionModel.items);\r\n                var item = completionModel.items[index];\r\n                if (!makesTextEdit(item)) {\r\n                    fallback();\r\n                    return;\r\n                }\r\n                _this.editor.pushUndoStop();\r\n                _this._insertSuggestion({ index: index, item: item, model: completionModel }, 4 /* KeepAlternativeSuggestions */ | 1 /* NoBeforeUndoStop */ | 2 /* NoAfterUndoStop */);\r\n            }, undefined, listener);\r\n        });\r\n        this.model.trigger({ auto: false, shy: true });\r\n        this.editor.revealLine(positionNow.lineNumber, 0 /* Smooth */);\r\n        this.editor.focus();\r\n    };\r\n    SuggestController.prototype.acceptSelectedSuggestion = function (keepAlternativeSuggestions, alternativeOverwriteConfig) {\r\n        var item = this.widget.getValue().getFocusedItem();\r\n        var flags = 0;\r\n        if (keepAlternativeSuggestions) {\r\n            flags |= 4 /* KeepAlternativeSuggestions */;\r\n        }\r\n        if (alternativeOverwriteConfig) {\r\n            flags |= 8 /* AlternativeOverwriteConfig */;\r\n        }\r\n        this._insertSuggestion(item, flags);\r\n    };\r\n    SuggestController.prototype.acceptNextSuggestion = function () {\r\n        this._alternatives.getValue().next();\r\n    };\r\n    SuggestController.prototype.acceptPrevSuggestion = function () {\r\n        this._alternatives.getValue().prev();\r\n    };\r\n    SuggestController.prototype.cancelSuggestWidget = function () {\r\n        this.model.cancel();\r\n        this.model.clear();\r\n        this.widget.getValue().hideWidget();\r\n    };\r\n    SuggestController.prototype.selectNextSuggestion = function () {\r\n        this.widget.getValue().selectNext();\r\n    };\r\n    SuggestController.prototype.selectNextPageSuggestion = function () {\r\n        this.widget.getValue().selectNextPage();\r\n    };\r\n    SuggestController.prototype.selectLastSuggestion = function () {\r\n        this.widget.getValue().selectLast();\r\n    };\r\n    SuggestController.prototype.selectPrevSuggestion = function () {\r\n        this.widget.getValue().selectPrevious();\r\n    };\r\n    SuggestController.prototype.selectPrevPageSuggestion = function () {\r\n        this.widget.getValue().selectPreviousPage();\r\n    };\r\n    SuggestController.prototype.selectFirstSuggestion = function () {\r\n        this.widget.getValue().selectFirst();\r\n    };\r\n    SuggestController.prototype.toggleSuggestionDetails = function () {\r\n        this.widget.getValue().toggleDetails();\r\n    };\r\n    SuggestController.prototype.toggleExplainMode = function () {\r\n        this.widget.getValue().toggleExplainMode();\r\n    };\r\n    SuggestController.prototype.toggleSuggestionFocus = function () {\r\n        this.widget.getValue().toggleDetailsFocus();\r\n    };\r\n    SuggestController.ID = 'editor.contrib.suggestController';\r\n    SuggestController = __decorate([\r\n        __param(1, IEditorWorkerService),\r\n        __param(2, ISuggestMemoryService),\r\n        __param(3, ICommandService),\r\n        __param(4, IContextKeyService),\r\n        __param(5, IInstantiationService)\r\n    ], SuggestController);\r\n    return SuggestController;\r\n}());\r\nexport { SuggestController };\r\nvar TriggerSuggestAction = /** @class */ (function (_super) {\r\n    __extends(TriggerSuggestAction, _super);\r\n    function TriggerSuggestAction() {\r\n        return _super.call(this, {\r\n            id: TriggerSuggestAction.id,\r\n            label: nls.localize('suggest.trigger.label', \"Trigger Suggest\"),\r\n            alias: 'Trigger Suggest',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCompletionItemProvider),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 10 /* Space */,\r\n                mac: { primary: 256 /* WinCtrl */ | 10 /* Space */, secondary: [512 /* Alt */ | 9 /* Escape */] },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    TriggerSuggestAction.prototype.run = function (accessor, editor) {\r\n        var controller = SuggestController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        controller.triggerSuggest();\r\n    };\r\n    TriggerSuggestAction.id = 'editor.action.triggerSuggest';\r\n    return TriggerSuggestAction;\r\n}(EditorAction));\r\nexport { TriggerSuggestAction };\r\nregisterEditorContribution(SuggestController.ID, SuggestController);\r\nregisterEditorAction(TriggerSuggestAction);\r\nvar weight = 100 /* EditorContrib */ + 90;\r\nvar SuggestCommand = EditorCommand.bindToContribution(SuggestController.get);\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'acceptSelectedSuggestion',\r\n    precondition: SuggestContext.Visible,\r\n    handler: function (x, args) {\r\n        var alternative = typeof args === 'object' && typeof args.alternative === 'boolean'\r\n            ? args.alternative\r\n            : false;\r\n        x.acceptSelectedSuggestion(true, alternative);\r\n    }\r\n}));\r\n// normal tab\r\nKeybindingsRegistry.registerKeybindingRule({\r\n    id: 'acceptSelectedSuggestion',\r\n    when: ContextKeyExpr.and(SuggestContext.Visible, EditorContextKeys.textInputFocus),\r\n    primary: 2 /* Tab */,\r\n    weight: weight\r\n});\r\n// accept on enter has special rules\r\nKeybindingsRegistry.registerKeybindingRule({\r\n    id: 'acceptSelectedSuggestion',\r\n    when: ContextKeyExpr.and(SuggestContext.Visible, EditorContextKeys.textInputFocus, SuggestContext.AcceptSuggestionsOnEnter, SuggestContext.MakesTextEdit),\r\n    primary: 3 /* Enter */,\r\n    weight: weight\r\n});\r\n// shift+enter and shift+tab use the alternative-flag so that the suggest controller\r\n// is doing the opposite of the editor.suggest.overwriteOnAccept-configuration\r\nKeybindingsRegistry.registerKeybindingRule({\r\n    id: 'acceptSelectedSuggestion',\r\n    when: ContextKeyExpr.and(SuggestContext.Visible, EditorContextKeys.textInputFocus),\r\n    primary: 1024 /* Shift */ | 2 /* Tab */,\r\n    secondary: [1024 /* Shift */ | 3 /* Enter */],\r\n    args: { alternative: true },\r\n    weight: weight\r\n});\r\n// continue to support the old command\r\nCommandsRegistry.registerCommandAlias('acceptSelectedSuggestionOnEnter', 'acceptSelectedSuggestion');\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'hideSuggestWidget',\r\n    precondition: SuggestContext.Visible,\r\n    handler: function (x) { return x.cancelSuggestWidget(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 9 /* Escape */,\r\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\r\n    }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'selectNextSuggestion',\r\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.MultipleSuggestions),\r\n    handler: function (c) { return c.selectNextSuggestion(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 18 /* DownArrow */,\r\n        secondary: [2048 /* CtrlCmd */ | 18 /* DownArrow */],\r\n        mac: { primary: 18 /* DownArrow */, secondary: [2048 /* CtrlCmd */ | 18 /* DownArrow */, 256 /* WinCtrl */ | 44 /* KEY_N */] }\r\n    }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'selectNextPageSuggestion',\r\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.MultipleSuggestions),\r\n    handler: function (c) { return c.selectNextPageSuggestion(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 12 /* PageDown */,\r\n        secondary: [2048 /* CtrlCmd */ | 12 /* PageDown */]\r\n    }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'selectLastSuggestion',\r\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.MultipleSuggestions),\r\n    handler: function (c) { return c.selectLastSuggestion(); }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'selectPrevSuggestion',\r\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.MultipleSuggestions),\r\n    handler: function (c) { return c.selectPrevSuggestion(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 16 /* UpArrow */,\r\n        secondary: [2048 /* CtrlCmd */ | 16 /* UpArrow */],\r\n        mac: { primary: 16 /* UpArrow */, secondary: [2048 /* CtrlCmd */ | 16 /* UpArrow */, 256 /* WinCtrl */ | 46 /* KEY_P */] }\r\n    }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'selectPrevPageSuggestion',\r\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.MultipleSuggestions),\r\n    handler: function (c) { return c.selectPrevPageSuggestion(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 11 /* PageUp */,\r\n        secondary: [2048 /* CtrlCmd */ | 11 /* PageUp */]\r\n    }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'selectFirstSuggestion',\r\n    precondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.MultipleSuggestions),\r\n    handler: function (c) { return c.selectFirstSuggestion(); }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'toggleSuggestionDetails',\r\n    precondition: SuggestContext.Visible,\r\n    handler: function (x) { return x.toggleSuggestionDetails(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 2048 /* CtrlCmd */ | 10 /* Space */,\r\n        mac: { primary: 256 /* WinCtrl */ | 10 /* Space */ }\r\n    }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'toggleExplainMode',\r\n    precondition: SuggestContext.Visible,\r\n    handler: function (x) { return x.toggleExplainMode(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */,\r\n        primary: 2048 /* CtrlCmd */ | 85 /* US_SLASH */,\r\n    }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'toggleSuggestionFocus',\r\n    precondition: SuggestContext.Visible,\r\n    handler: function (x) { return x.toggleSuggestionFocus(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 10 /* Space */,\r\n        mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 10 /* Space */ }\r\n    }\r\n}));\r\n//#region tab completions\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'insertBestCompletion',\r\n    precondition: ContextKeyExpr.and(ContextKeyExpr.equals('config.editor.tabCompletion', 'on'), WordContextKey.AtEnd, SuggestContext.Visible.toNegated(), SuggestAlternatives.OtherSuggestions.toNegated(), SnippetController2.InSnippetMode.toNegated()),\r\n    handler: function (x, arg) {\r\n        x.triggerSuggestAndAcceptBest(isObject(arg) ? __assign({ fallback: 'tab' }, arg) : { fallback: 'tab' });\r\n    },\r\n    kbOpts: {\r\n        weight: weight,\r\n        primary: 2 /* Tab */\r\n    }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'insertNextSuggestion',\r\n    precondition: ContextKeyExpr.and(ContextKeyExpr.equals('config.editor.tabCompletion', 'on'), SuggestAlternatives.OtherSuggestions, SuggestContext.Visible.toNegated(), SnippetController2.InSnippetMode.toNegated()),\r\n    handler: function (x) { return x.acceptNextSuggestion(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 2 /* Tab */\r\n    }\r\n}));\r\nregisterEditorCommand(new SuggestCommand({\r\n    id: 'insertPrevSuggestion',\r\n    precondition: ContextKeyExpr.and(ContextKeyExpr.equals('config.editor.tabCompletion', 'on'), SuggestAlternatives.OtherSuggestions, SuggestContext.Visible.toNegated(), SnippetController2.InSnippetMode.toNegated()),\r\n    handler: function (x) { return x.acceptPrevSuggestion(); },\r\n    kbOpts: {\r\n        weight: weight,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 1024 /* Shift */ | 2 /* Tab */\r\n    }\r\n}));\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { StopWatch } from '../../../base/common/stopwatch.js';\r\nvar ForceRetokenizeAction = /** @class */ (function (_super) {\r\n    __extends(ForceRetokenizeAction, _super);\r\n    function ForceRetokenizeAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.forceRetokenize',\r\n            label: nls.localize('forceRetokenize', \"Developer: Force Retokenize\"),\r\n            alias: 'Developer: Force Retokenize',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    ForceRetokenizeAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = editor.getModel();\r\n        model.resetTokenization();\r\n        var sw = new StopWatch(true);\r\n        model.forceTokenization(model.getLineCount());\r\n        sw.stop();\r\n        console.log(\"tokenization took \" + sw.elapsed());\r\n    };\r\n    return ForceRetokenizeAction;\r\n}(EditorAction));\r\nregisterEditorAction(ForceRetokenizeAction);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { TabFocus } from '../../common/config/commonEditorConfig.js';\r\nvar ToggleTabFocusModeAction = /** @class */ (function (_super) {\r\n    __extends(ToggleTabFocusModeAction, _super);\r\n    function ToggleTabFocusModeAction() {\r\n        return _super.call(this, {\r\n            id: ToggleTabFocusModeAction.ID,\r\n            label: nls.localize({ key: 'toggle.tabMovesFocus', comment: ['Turn on/off use of tab key for moving focus around VS Code'] }, \"Toggle Tab Key Moves Focus\"),\r\n            alias: 'Toggle Tab Key Moves Focus',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: null,\r\n                primary: 2048 /* CtrlCmd */ | 43 /* KEY_M */,\r\n                mac: { primary: 256 /* WinCtrl */ | 1024 /* Shift */ | 43 /* KEY_M */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    ToggleTabFocusModeAction.prototype.run = function (accessor, editor) {\r\n        var oldValue = TabFocus.getTabFocusMode();\r\n        var newValue = !oldValue;\r\n        TabFocus.setTabFocusMode(newValue);\r\n        if (newValue) {\r\n            alert(nls.localize('toggle.tabMovesFocus.on', \"Pressing Tab will now move focus to the next focusable element\"));\r\n        }\r\n        else {\r\n            alert(nls.localize('toggle.tabMovesFocus.off', \"Pressing Tab will now insert the tab character\"));\r\n        }\r\n    };\r\n    ToggleTabFocusModeAction.ID = 'editor.action.toggleTabFocusMode';\r\n    return ToggleTabFocusModeAction;\r\n}(EditorAction));\r\nexport { ToggleTabFocusModeAction };\r\nregisterEditorAction(ToggleTabFocusModeAction);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport * as arrays from '../../../base/common/arrays.js';\r\nimport { createCancelablePromise, first, timeout } from '../../../base/common/async.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { onUnexpectedError, onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, registerDefaultLanguageCommand, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { OverviewRulerLane } from '../../common/model.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { DocumentHighlightKind, DocumentHighlightProviderRegistry } from '../../common/modes.js';\r\nimport { IContextKeyService, RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { activeContrastBorder, editorSelectionHighlight, editorSelectionHighlightBorder, overviewRulerSelectionHighlightForeground, registerColor } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant, themeColorFromId } from '../../../platform/theme/common/themeService.js';\r\nvar editorWordHighlight = registerColor('editor.wordHighlightBackground', { dark: '#575757B8', light: '#57575740', hc: null }, nls.localize('wordHighlight', 'Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations.'), true);\r\nvar editorWordHighlightStrong = registerColor('editor.wordHighlightStrongBackground', { dark: '#004972B8', light: '#0e639c40', hc: null }, nls.localize('wordHighlightStrong', 'Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations.'), true);\r\nvar editorWordHighlightBorder = registerColor('editor.wordHighlightBorder', { light: null, dark: null, hc: activeContrastBorder }, nls.localize('wordHighlightBorder', 'Border color of a symbol during read-access, like reading a variable.'));\r\nvar editorWordHighlightStrongBorder = registerColor('editor.wordHighlightStrongBorder', { light: null, dark: null, hc: activeContrastBorder }, nls.localize('wordHighlightStrongBorder', 'Border color of a symbol during write-access, like writing to a variable.'));\r\nvar overviewRulerWordHighlightForeground = registerColor('editorOverviewRuler.wordHighlightForeground', { dark: '#A0A0A0CC', light: '#A0A0A0CC', hc: '#A0A0A0CC' }, nls.localize('overviewRulerWordHighlightForeground', 'Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\r\nvar overviewRulerWordHighlightStrongForeground = registerColor('editorOverviewRuler.wordHighlightStrongForeground', { dark: '#C0A0C0CC', light: '#C0A0C0CC', hc: '#C0A0C0CC' }, nls.localize('overviewRulerWordHighlightStrongForeground', 'Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\r\nvar ctxHasWordHighlights = new RawContextKey('hasWordHighlights', false);\r\nexport function getOccurrencesAtPosition(model, position, token) {\r\n    var orderedByScore = DocumentHighlightProviderRegistry.ordered(model);\r\n    // in order of score ask the occurrences provider\r\n    // until someone response with a good result\r\n    // (good = none empty array)\r\n    return first(orderedByScore.map(function (provider) { return function () {\r\n        return Promise.resolve(provider.provideDocumentHighlights(model, position, token))\r\n            .then(undefined, onUnexpectedExternalError);\r\n    }; }), arrays.isNonEmptyArray);\r\n}\r\nvar OccurenceAtPositionRequest = /** @class */ (function () {\r\n    function OccurenceAtPositionRequest(model, selection, wordSeparators) {\r\n        var _this = this;\r\n        this._wordRange = this._getCurrentWordRange(model, selection);\r\n        this.result = createCancelablePromise(function (token) { return _this._compute(model, selection, wordSeparators, token); });\r\n    }\r\n    OccurenceAtPositionRequest.prototype._getCurrentWordRange = function (model, selection) {\r\n        var word = model.getWordAtPosition(selection.getPosition());\r\n        if (word) {\r\n            return new Range(selection.startLineNumber, word.startColumn, selection.startLineNumber, word.endColumn);\r\n        }\r\n        return null;\r\n    };\r\n    OccurenceAtPositionRequest.prototype.isValid = function (model, selection, decorationIds) {\r\n        var lineNumber = selection.startLineNumber;\r\n        var startColumn = selection.startColumn;\r\n        var endColumn = selection.endColumn;\r\n        var currentWordRange = this._getCurrentWordRange(model, selection);\r\n        var requestIsValid = Boolean(this._wordRange && this._wordRange.equalsRange(currentWordRange));\r\n        // Even if we are on a different word, if that word is in the decorations ranges, the request is still valid\r\n        // (Same symbol)\r\n        for (var i = 0, len = decorationIds.length; !requestIsValid && i < len; i++) {\r\n            var range = model.getDecorationRange(decorationIds[i]);\r\n            if (range && range.startLineNumber === lineNumber) {\r\n                if (range.startColumn <= startColumn && range.endColumn >= endColumn) {\r\n                    requestIsValid = true;\r\n                }\r\n            }\r\n        }\r\n        return requestIsValid;\r\n    };\r\n    OccurenceAtPositionRequest.prototype.cancel = function () {\r\n        this.result.cancel();\r\n    };\r\n    return OccurenceAtPositionRequest;\r\n}());\r\nvar SemanticOccurenceAtPositionRequest = /** @class */ (function (_super) {\r\n    __extends(SemanticOccurenceAtPositionRequest, _super);\r\n    function SemanticOccurenceAtPositionRequest() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SemanticOccurenceAtPositionRequest.prototype._compute = function (model, selection, wordSeparators, token) {\r\n        return getOccurrencesAtPosition(model, selection.getPosition(), token).then(function (value) { return value || []; });\r\n    };\r\n    return SemanticOccurenceAtPositionRequest;\r\n}(OccurenceAtPositionRequest));\r\nvar TextualOccurenceAtPositionRequest = /** @class */ (function (_super) {\r\n    __extends(TextualOccurenceAtPositionRequest, _super);\r\n    function TextualOccurenceAtPositionRequest(model, selection, wordSeparators) {\r\n        var _this = _super.call(this, model, selection, wordSeparators) || this;\r\n        _this._selectionIsEmpty = selection.isEmpty();\r\n        return _this;\r\n    }\r\n    TextualOccurenceAtPositionRequest.prototype._compute = function (model, selection, wordSeparators, token) {\r\n        return timeout(250, token).then(function () {\r\n            if (!selection.isEmpty()) {\r\n                return [];\r\n            }\r\n            var word = model.getWordAtPosition(selection.getPosition());\r\n            if (!word) {\r\n                return [];\r\n            }\r\n            var matches = model.findMatches(word.word, true, false, true, wordSeparators, false);\r\n            return matches.map(function (m) {\r\n                return {\r\n                    range: m.range,\r\n                    kind: DocumentHighlightKind.Text\r\n                };\r\n            });\r\n        });\r\n    };\r\n    TextualOccurenceAtPositionRequest.prototype.isValid = function (model, selection, decorationIds) {\r\n        var currentSelectionIsEmpty = selection.isEmpty();\r\n        if (this._selectionIsEmpty !== currentSelectionIsEmpty) {\r\n            return false;\r\n        }\r\n        return _super.prototype.isValid.call(this, model, selection, decorationIds);\r\n    };\r\n    return TextualOccurenceAtPositionRequest;\r\n}(OccurenceAtPositionRequest));\r\nfunction computeOccurencesAtPosition(model, selection, wordSeparators) {\r\n    if (DocumentHighlightProviderRegistry.has(model)) {\r\n        return new SemanticOccurenceAtPositionRequest(model, selection, wordSeparators);\r\n    }\r\n    return new TextualOccurenceAtPositionRequest(model, selection, wordSeparators);\r\n}\r\nregisterDefaultLanguageCommand('_executeDocumentHighlights', function (model, position) { return getOccurrencesAtPosition(model, position, CancellationToken.None); });\r\nvar WordHighlighter = /** @class */ (function () {\r\n    function WordHighlighter(editor, contextKeyService) {\r\n        var _this = this;\r\n        this.toUnhook = new DisposableStore();\r\n        this.workerRequestTokenId = 0;\r\n        this.workerRequestCompleted = false;\r\n        this.workerRequestValue = [];\r\n        this.lastCursorPositionChangeTime = 0;\r\n        this.renderDecorationsTimer = -1;\r\n        this.editor = editor;\r\n        this._hasWordHighlights = ctxHasWordHighlights.bindTo(contextKeyService);\r\n        this._ignorePositionChangeEvent = false;\r\n        this.occurrencesHighlight = this.editor.getOption(59 /* occurrencesHighlight */);\r\n        this.model = this.editor.getModel();\r\n        this.toUnhook.add(editor.onDidChangeCursorPosition(function (e) {\r\n            if (_this._ignorePositionChangeEvent) {\r\n                // We are changing the position => ignore this event\r\n                return;\r\n            }\r\n            if (!_this.occurrencesHighlight) {\r\n                // Early exit if nothing needs to be done!\r\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\r\n                return;\r\n            }\r\n            _this._onPositionChanged(e);\r\n        }));\r\n        this.toUnhook.add(editor.onDidChangeModelContent(function (e) {\r\n            _this._stopAll();\r\n        }));\r\n        this.toUnhook.add(editor.onDidChangeConfiguration(function (e) {\r\n            var newValue = _this.editor.getOption(59 /* occurrencesHighlight */);\r\n            if (_this.occurrencesHighlight !== newValue) {\r\n                _this.occurrencesHighlight = newValue;\r\n                _this._stopAll();\r\n            }\r\n        }));\r\n        this._decorationIds = [];\r\n        this.workerRequestTokenId = 0;\r\n        this.workerRequest = null;\r\n        this.workerRequestCompleted = false;\r\n        this.lastCursorPositionChangeTime = 0;\r\n        this.renderDecorationsTimer = -1;\r\n    }\r\n    WordHighlighter.prototype.hasDecorations = function () {\r\n        return (this._decorationIds.length > 0);\r\n    };\r\n    WordHighlighter.prototype.restore = function () {\r\n        if (!this.occurrencesHighlight) {\r\n            return;\r\n        }\r\n        this._run();\r\n    };\r\n    WordHighlighter.prototype._getSortedHighlights = function () {\r\n        var _this = this;\r\n        return arrays.coalesce(this._decorationIds\r\n            .map(function (id) { return _this.model.getDecorationRange(id); })\r\n            .sort(Range.compareRangesUsingStarts));\r\n    };\r\n    WordHighlighter.prototype.moveNext = function () {\r\n        var _this = this;\r\n        var highlights = this._getSortedHighlights();\r\n        var index = arrays.firstIndex(highlights, function (range) { return range.containsPosition(_this.editor.getPosition()); });\r\n        var newIndex = ((index + 1) % highlights.length);\r\n        var dest = highlights[newIndex];\r\n        try {\r\n            this._ignorePositionChangeEvent = true;\r\n            this.editor.setPosition(dest.getStartPosition());\r\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\r\n        }\r\n        finally {\r\n            this._ignorePositionChangeEvent = false;\r\n        }\r\n    };\r\n    WordHighlighter.prototype.moveBack = function () {\r\n        var _this = this;\r\n        var highlights = this._getSortedHighlights();\r\n        var index = arrays.firstIndex(highlights, function (range) { return range.containsPosition(_this.editor.getPosition()); });\r\n        var newIndex = ((index - 1 + highlights.length) % highlights.length);\r\n        var dest = highlights[newIndex];\r\n        try {\r\n            this._ignorePositionChangeEvent = true;\r\n            this.editor.setPosition(dest.getStartPosition());\r\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\r\n        }\r\n        finally {\r\n            this._ignorePositionChangeEvent = false;\r\n        }\r\n    };\r\n    WordHighlighter.prototype._removeDecorations = function () {\r\n        if (this._decorationIds.length > 0) {\r\n            // remove decorations\r\n            this._decorationIds = this.editor.deltaDecorations(this._decorationIds, []);\r\n            this._hasWordHighlights.set(false);\r\n        }\r\n    };\r\n    WordHighlighter.prototype._stopAll = function () {\r\n        // Remove any existing decorations\r\n        this._removeDecorations();\r\n        // Cancel any renderDecorationsTimer\r\n        if (this.renderDecorationsTimer !== -1) {\r\n            clearTimeout(this.renderDecorationsTimer);\r\n            this.renderDecorationsTimer = -1;\r\n        }\r\n        // Cancel any worker request\r\n        if (this.workerRequest !== null) {\r\n            this.workerRequest.cancel();\r\n            this.workerRequest = null;\r\n        }\r\n        // Invalidate any worker request callback\r\n        if (!this.workerRequestCompleted) {\r\n            this.workerRequestTokenId++;\r\n            this.workerRequestCompleted = true;\r\n        }\r\n    };\r\n    WordHighlighter.prototype._onPositionChanged = function (e) {\r\n        // disabled\r\n        if (!this.occurrencesHighlight) {\r\n            this._stopAll();\r\n            return;\r\n        }\r\n        // ignore typing & other\r\n        if (e.reason !== 3 /* Explicit */) {\r\n            this._stopAll();\r\n            return;\r\n        }\r\n        this._run();\r\n    };\r\n    WordHighlighter.prototype._run = function () {\r\n        var _this = this;\r\n        var editorSelection = this.editor.getSelection();\r\n        // ignore multiline selection\r\n        if (editorSelection.startLineNumber !== editorSelection.endLineNumber) {\r\n            this._stopAll();\r\n            return;\r\n        }\r\n        var lineNumber = editorSelection.startLineNumber;\r\n        var startColumn = editorSelection.startColumn;\r\n        var endColumn = editorSelection.endColumn;\r\n        var word = this.model.getWordAtPosition({\r\n            lineNumber: lineNumber,\r\n            column: startColumn\r\n        });\r\n        // The selection must be inside a word or surround one word at most\r\n        if (!word || word.startColumn > startColumn || word.endColumn < endColumn) {\r\n            this._stopAll();\r\n            return;\r\n        }\r\n        // All the effort below is trying to achieve this:\r\n        // - when cursor is moved to a word, trigger immediately a findOccurrences request\r\n        // - 250ms later after the last cursor move event, render the occurrences\r\n        // - no flickering!\r\n        var workerRequestIsValid = (this.workerRequest && this.workerRequest.isValid(this.model, editorSelection, this._decorationIds));\r\n        // There are 4 cases:\r\n        // a) old workerRequest is valid & completed, renderDecorationsTimer fired\r\n        // b) old workerRequest is valid & completed, renderDecorationsTimer not fired\r\n        // c) old workerRequest is valid, but not completed\r\n        // d) old workerRequest is not valid\r\n        // For a) no action is needed\r\n        // For c), member 'lastCursorPositionChangeTime' will be used when installing the timer so no action is needed\r\n        this.lastCursorPositionChangeTime = (new Date()).getTime();\r\n        if (workerRequestIsValid) {\r\n            if (this.workerRequestCompleted && this.renderDecorationsTimer !== -1) {\r\n                // case b)\r\n                // Delay the firing of renderDecorationsTimer by an extra 250 ms\r\n                clearTimeout(this.renderDecorationsTimer);\r\n                this.renderDecorationsTimer = -1;\r\n                this._beginRenderDecorations();\r\n            }\r\n        }\r\n        else {\r\n            // case d)\r\n            // Stop all previous actions and start fresh\r\n            this._stopAll();\r\n            var myRequestId_1 = ++this.workerRequestTokenId;\r\n            this.workerRequestCompleted = false;\r\n            this.workerRequest = computeOccurencesAtPosition(this.model, this.editor.getSelection(), this.editor.getOption(92 /* wordSeparators */));\r\n            this.workerRequest.result.then(function (data) {\r\n                if (myRequestId_1 === _this.workerRequestTokenId) {\r\n                    _this.workerRequestCompleted = true;\r\n                    _this.workerRequestValue = data || [];\r\n                    _this._beginRenderDecorations();\r\n                }\r\n            }, onUnexpectedError);\r\n        }\r\n    };\r\n    WordHighlighter.prototype._beginRenderDecorations = function () {\r\n        var _this = this;\r\n        var currentTime = (new Date()).getTime();\r\n        var minimumRenderTime = this.lastCursorPositionChangeTime + 250;\r\n        if (currentTime >= minimumRenderTime) {\r\n            // Synchronous\r\n            this.renderDecorationsTimer = -1;\r\n            this.renderDecorations();\r\n        }\r\n        else {\r\n            // Asynchronous\r\n            this.renderDecorationsTimer = setTimeout(function () {\r\n                _this.renderDecorations();\r\n            }, (minimumRenderTime - currentTime));\r\n        }\r\n    };\r\n    WordHighlighter.prototype.renderDecorations = function () {\r\n        this.renderDecorationsTimer = -1;\r\n        var decorations = [];\r\n        for (var i = 0, len = this.workerRequestValue.length; i < len; i++) {\r\n            var info = this.workerRequestValue[i];\r\n            decorations.push({\r\n                range: info.range,\r\n                options: WordHighlighter._getDecorationOptions(info.kind)\r\n            });\r\n        }\r\n        this._decorationIds = this.editor.deltaDecorations(this._decorationIds, decorations);\r\n        this._hasWordHighlights.set(this.hasDecorations());\r\n    };\r\n    WordHighlighter._getDecorationOptions = function (kind) {\r\n        if (kind === DocumentHighlightKind.Write) {\r\n            return this._WRITE_OPTIONS;\r\n        }\r\n        else if (kind === DocumentHighlightKind.Text) {\r\n            return this._TEXT_OPTIONS;\r\n        }\r\n        else {\r\n            return this._REGULAR_OPTIONS;\r\n        }\r\n    };\r\n    WordHighlighter.prototype.dispose = function () {\r\n        this._stopAll();\r\n        this.toUnhook.dispose();\r\n    };\r\n    WordHighlighter._WRITE_OPTIONS = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'wordHighlightStrong',\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerWordHighlightStrongForeground),\r\n            position: OverviewRulerLane.Center\r\n        }\r\n    });\r\n    WordHighlighter._TEXT_OPTIONS = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'selectionHighlight',\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerSelectionHighlightForeground),\r\n            position: OverviewRulerLane.Center\r\n        }\r\n    });\r\n    WordHighlighter._REGULAR_OPTIONS = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'wordHighlight',\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerWordHighlightForeground),\r\n            position: OverviewRulerLane.Center\r\n        }\r\n    });\r\n    return WordHighlighter;\r\n}());\r\nvar WordHighlighterContribution = /** @class */ (function (_super) {\r\n    __extends(WordHighlighterContribution, _super);\r\n    function WordHighlighterContribution(editor, contextKeyService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.wordHighligher = null;\r\n        var createWordHighlighterIfPossible = function () {\r\n            if (editor.hasModel()) {\r\n                _this.wordHighligher = new WordHighlighter(editor, contextKeyService);\r\n            }\r\n        };\r\n        _this._register(editor.onDidChangeModel(function (e) {\r\n            if (_this.wordHighligher) {\r\n                _this.wordHighligher.dispose();\r\n                _this.wordHighligher = null;\r\n            }\r\n            createWordHighlighterIfPossible();\r\n        }));\r\n        createWordHighlighterIfPossible();\r\n        return _this;\r\n    }\r\n    WordHighlighterContribution.get = function (editor) {\r\n        return editor.getContribution(WordHighlighterContribution.ID);\r\n    };\r\n    WordHighlighterContribution.prototype.saveViewState = function () {\r\n        if (this.wordHighligher && this.wordHighligher.hasDecorations()) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    WordHighlighterContribution.prototype.moveNext = function () {\r\n        if (this.wordHighligher) {\r\n            this.wordHighligher.moveNext();\r\n        }\r\n    };\r\n    WordHighlighterContribution.prototype.moveBack = function () {\r\n        if (this.wordHighligher) {\r\n            this.wordHighligher.moveBack();\r\n        }\r\n    };\r\n    WordHighlighterContribution.prototype.restoreViewState = function (state) {\r\n        if (this.wordHighligher && state) {\r\n            this.wordHighligher.restore();\r\n        }\r\n    };\r\n    WordHighlighterContribution.prototype.dispose = function () {\r\n        if (this.wordHighligher) {\r\n            this.wordHighligher.dispose();\r\n            this.wordHighligher = null;\r\n        }\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    WordHighlighterContribution.ID = 'editor.contrib.wordHighlighter';\r\n    WordHighlighterContribution = __decorate([\r\n        __param(1, IContextKeyService)\r\n    ], WordHighlighterContribution);\r\n    return WordHighlighterContribution;\r\n}(Disposable));\r\nvar WordHighlightNavigationAction = /** @class */ (function (_super) {\r\n    __extends(WordHighlightNavigationAction, _super);\r\n    function WordHighlightNavigationAction(next, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._isNext = next;\r\n        return _this;\r\n    }\r\n    WordHighlightNavigationAction.prototype.run = function (accessor, editor) {\r\n        var controller = WordHighlighterContribution.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        if (this._isNext) {\r\n            controller.moveNext();\r\n        }\r\n        else {\r\n            controller.moveBack();\r\n        }\r\n    };\r\n    return WordHighlightNavigationAction;\r\n}(EditorAction));\r\nvar NextWordHighlightAction = /** @class */ (function (_super) {\r\n    __extends(NextWordHighlightAction, _super);\r\n    function NextWordHighlightAction() {\r\n        return _super.call(this, true, {\r\n            id: 'editor.action.wordHighlight.next',\r\n            label: nls.localize('wordHighlight.next.label', \"Go to Next Symbol Highlight\"),\r\n            alias: 'Go to Next Symbol Highlight',\r\n            precondition: ctxHasWordHighlights,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 65 /* F7 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return NextWordHighlightAction;\r\n}(WordHighlightNavigationAction));\r\nvar PrevWordHighlightAction = /** @class */ (function (_super) {\r\n    __extends(PrevWordHighlightAction, _super);\r\n    function PrevWordHighlightAction() {\r\n        return _super.call(this, false, {\r\n            id: 'editor.action.wordHighlight.prev',\r\n            label: nls.localize('wordHighlight.previous.label', \"Go to Previous Symbol Highlight\"),\r\n            alias: 'Go to Previous Symbol Highlight',\r\n            precondition: ctxHasWordHighlights,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 1024 /* Shift */ | 65 /* F7 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return PrevWordHighlightAction;\r\n}(WordHighlightNavigationAction));\r\nvar TriggerWordHighlightAction = /** @class */ (function (_super) {\r\n    __extends(TriggerWordHighlightAction, _super);\r\n    function TriggerWordHighlightAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.wordHighlight.trigger',\r\n            label: nls.localize('wordHighlight.trigger.label', \"Trigger Symbol Highlight\"),\r\n            alias: 'Trigger Symbol Highlight',\r\n            precondition: ctxHasWordHighlights.toNegated(),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 0,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    TriggerWordHighlightAction.prototype.run = function (accessor, editor, args) {\r\n        var controller = WordHighlighterContribution.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        controller.restoreViewState(true);\r\n    };\r\n    return TriggerWordHighlightAction;\r\n}(EditorAction));\r\nregisterEditorContribution(WordHighlighterContribution.ID, WordHighlighterContribution);\r\nregisterEditorAction(NextWordHighlightAction);\r\nregisterEditorAction(PrevWordHighlightAction);\r\nregisterEditorAction(TriggerWordHighlightAction);\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var selectionHighlight = theme.getColor(editorSelectionHighlight);\r\n    if (selectionHighlight) {\r\n        collector.addRule(\".monaco-editor .focused .selectionHighlight { background-color: \" + selectionHighlight + \"; }\");\r\n        collector.addRule(\".monaco-editor .selectionHighlight { background-color: \" + selectionHighlight.transparent(0.5) + \"; }\");\r\n    }\r\n    var wordHighlight = theme.getColor(editorWordHighlight);\r\n    if (wordHighlight) {\r\n        collector.addRule(\".monaco-editor .wordHighlight { background-color: \" + wordHighlight + \"; }\");\r\n    }\r\n    var wordHighlightStrong = theme.getColor(editorWordHighlightStrong);\r\n    if (wordHighlightStrong) {\r\n        collector.addRule(\".monaco-editor .wordHighlightStrong { background-color: \" + wordHighlightStrong + \"; }\");\r\n    }\r\n    var selectionHighlightBorder = theme.getColor(editorSelectionHighlightBorder);\r\n    if (selectionHighlightBorder) {\r\n        collector.addRule(\".monaco-editor .selectionHighlight { border: 1px \" + (theme.type === 'hc' ? 'dotted' : 'solid') + \" \" + selectionHighlightBorder + \"; box-sizing: border-box; }\");\r\n    }\r\n    var wordHighlightBorder = theme.getColor(editorWordHighlightBorder);\r\n    if (wordHighlightBorder) {\r\n        collector.addRule(\".monaco-editor .wordHighlight { border: 1px \" + (theme.type === 'hc' ? 'dashed' : 'solid') + \" \" + wordHighlightBorder + \"; box-sizing: border-box; }\");\r\n    }\r\n    var wordHighlightStrongBorder = theme.getColor(editorWordHighlightStrongBorder);\r\n    if (wordHighlightStrongBorder) {\r\n        collector.addRule(\".monaco-editor .wordHighlightStrong { border: 1px \" + (theme.type === 'hc' ? 'dashed' : 'solid') + \" \" + wordHighlightStrongBorder + \"; box-sizing: border-box; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EditorCommand, registerEditorCommand } from '../../browser/editorExtensions.js';\r\nimport { ReplaceCommand } from '../../common/commands/replaceCommand.js';\r\nimport { CursorState } from '../../common/controller/cursorCommon.js';\r\nimport { WordOperations } from '../../common/controller/cursorWordOperations.js';\r\nimport { getMapForWordSeparators } from '../../common/controller/wordCharacterClassifier.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { CONTEXT_ACCESSIBILITY_MODE_ENABLED } from '../../../platform/accessibility/common/accessibility.js';\r\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { EditorOptions } from '../../common/config/editorOptions.js';\r\nvar MoveWordCommand = /** @class */ (function (_super) {\r\n    __extends(MoveWordCommand, _super);\r\n    function MoveWordCommand(opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._inSelectionMode = opts.inSelectionMode;\r\n        _this._wordNavigationType = opts.wordNavigationType;\r\n        return _this;\r\n    }\r\n    MoveWordCommand.prototype.runEditorCommand = function (accessor, editor, args) {\r\n        var _this = this;\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var wordSeparators = getMapForWordSeparators(editor.getOption(92 /* wordSeparators */));\r\n        var model = editor.getModel();\r\n        var selections = editor.getSelections();\r\n        var result = selections.map(function (sel) {\r\n            var inPosition = new Position(sel.positionLineNumber, sel.positionColumn);\r\n            var outPosition = _this._move(wordSeparators, model, inPosition, _this._wordNavigationType);\r\n            return _this._moveTo(sel, outPosition, _this._inSelectionMode);\r\n        });\r\n        editor._getCursors().setStates('moveWordCommand', 0 /* NotSet */, result.map(function (r) { return CursorState.fromModelSelection(r); }));\r\n        if (result.length === 1) {\r\n            var pos = new Position(result[0].positionLineNumber, result[0].positionColumn);\r\n            editor.revealPosition(pos, 0 /* Smooth */);\r\n        }\r\n    };\r\n    MoveWordCommand.prototype._moveTo = function (from, to, inSelectionMode) {\r\n        if (inSelectionMode) {\r\n            // move just position\r\n            return new Selection(from.selectionStartLineNumber, from.selectionStartColumn, to.lineNumber, to.column);\r\n        }\r\n        else {\r\n            // move everything\r\n            return new Selection(to.lineNumber, to.column, to.lineNumber, to.column);\r\n        }\r\n    };\r\n    return MoveWordCommand;\r\n}(EditorCommand));\r\nexport { MoveWordCommand };\r\nvar WordLeftCommand = /** @class */ (function (_super) {\r\n    __extends(WordLeftCommand, _super);\r\n    function WordLeftCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    WordLeftCommand.prototype._move = function (wordSeparators, model, position, wordNavigationType) {\r\n        return WordOperations.moveWordLeft(wordSeparators, model, position, wordNavigationType);\r\n    };\r\n    return WordLeftCommand;\r\n}(MoveWordCommand));\r\nexport { WordLeftCommand };\r\nvar WordRightCommand = /** @class */ (function (_super) {\r\n    __extends(WordRightCommand, _super);\r\n    function WordRightCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    WordRightCommand.prototype._move = function (wordSeparators, model, position, wordNavigationType) {\r\n        return WordOperations.moveWordRight(wordSeparators, model, position, wordNavigationType);\r\n    };\r\n    return WordRightCommand;\r\n}(MoveWordCommand));\r\nexport { WordRightCommand };\r\nvar CursorWordStartLeft = /** @class */ (function (_super) {\r\n    __extends(CursorWordStartLeft, _super);\r\n    function CursorWordStartLeft() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'cursorWordStartLeft',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 15 /* LeftArrow */,\r\n                mac: { primary: 512 /* Alt */ | 15 /* LeftArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordStartLeft;\r\n}(WordLeftCommand));\r\nexport { CursorWordStartLeft };\r\nvar CursorWordEndLeft = /** @class */ (function (_super) {\r\n    __extends(CursorWordEndLeft, _super);\r\n    function CursorWordEndLeft() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordEndLeft',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordEndLeft;\r\n}(WordLeftCommand));\r\nexport { CursorWordEndLeft };\r\nvar CursorWordLeft = /** @class */ (function (_super) {\r\n    __extends(CursorWordLeft, _super);\r\n    function CursorWordLeft() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 1 /* WordStartFast */,\r\n            id: 'cursorWordLeft',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordLeft;\r\n}(WordLeftCommand));\r\nexport { CursorWordLeft };\r\nvar CursorWordStartLeftSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordStartLeftSelect, _super);\r\n    function CursorWordStartLeftSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'cursorWordStartLeftSelect',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 15 /* LeftArrow */,\r\n                mac: { primary: 512 /* Alt */ | 1024 /* Shift */ | 15 /* LeftArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordStartLeftSelect;\r\n}(WordLeftCommand));\r\nexport { CursorWordStartLeftSelect };\r\nvar CursorWordEndLeftSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordEndLeftSelect, _super);\r\n    function CursorWordEndLeftSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordEndLeftSelect',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordEndLeftSelect;\r\n}(WordLeftCommand));\r\nexport { CursorWordEndLeftSelect };\r\nvar CursorWordLeftSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordLeftSelect, _super);\r\n    function CursorWordLeftSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 1 /* WordStartFast */,\r\n            id: 'cursorWordLeftSelect',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordLeftSelect;\r\n}(WordLeftCommand));\r\nexport { CursorWordLeftSelect };\r\nvar CursorWordAccessibilityLeft = /** @class */ (function (_super) {\r\n    __extends(CursorWordAccessibilityLeft, _super);\r\n    function CursorWordAccessibilityLeft() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 3 /* WordAccessibility */,\r\n            id: 'cursorWordAccessibilityLeft',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, CONTEXT_ACCESSIBILITY_MODE_ENABLED),\r\n                primary: 2048 /* CtrlCmd */ | 15 /* LeftArrow */,\r\n                mac: { primary: 512 /* Alt */ | 15 /* LeftArrow */ },\r\n                weight: 100 /* EditorContrib */ + 1\r\n            }\r\n        }) || this;\r\n    }\r\n    CursorWordAccessibilityLeft.prototype._move = function (_, model, position, wordNavigationType) {\r\n        return _super.prototype._move.call(this, getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\r\n    };\r\n    return CursorWordAccessibilityLeft;\r\n}(WordLeftCommand));\r\nexport { CursorWordAccessibilityLeft };\r\nvar CursorWordAccessibilityLeftSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordAccessibilityLeftSelect, _super);\r\n    function CursorWordAccessibilityLeftSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 3 /* WordAccessibility */,\r\n            id: 'cursorWordAccessibilityLeftSelect',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, CONTEXT_ACCESSIBILITY_MODE_ENABLED),\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 15 /* LeftArrow */,\r\n                mac: { primary: 512 /* Alt */ | 1024 /* Shift */ | 15 /* LeftArrow */ },\r\n                weight: 100 /* EditorContrib */ + 1\r\n            }\r\n        }) || this;\r\n    }\r\n    CursorWordAccessibilityLeftSelect.prototype._move = function (_, model, position, wordNavigationType) {\r\n        return _super.prototype._move.call(this, getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\r\n    };\r\n    return CursorWordAccessibilityLeftSelect;\r\n}(WordLeftCommand));\r\nexport { CursorWordAccessibilityLeftSelect };\r\nvar CursorWordStartRight = /** @class */ (function (_super) {\r\n    __extends(CursorWordStartRight, _super);\r\n    function CursorWordStartRight() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'cursorWordStartRight',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordStartRight;\r\n}(WordRightCommand));\r\nexport { CursorWordStartRight };\r\nvar CursorWordEndRight = /** @class */ (function (_super) {\r\n    __extends(CursorWordEndRight, _super);\r\n    function CursorWordEndRight() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordEndRight',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 17 /* RightArrow */,\r\n                mac: { primary: 512 /* Alt */ | 17 /* RightArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordEndRight;\r\n}(WordRightCommand));\r\nexport { CursorWordEndRight };\r\nvar CursorWordRight = /** @class */ (function (_super) {\r\n    __extends(CursorWordRight, _super);\r\n    function CursorWordRight() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordRight',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordRight;\r\n}(WordRightCommand));\r\nexport { CursorWordRight };\r\nvar CursorWordStartRightSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordStartRightSelect, _super);\r\n    function CursorWordStartRightSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'cursorWordStartRightSelect',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordStartRightSelect;\r\n}(WordRightCommand));\r\nexport { CursorWordStartRightSelect };\r\nvar CursorWordEndRightSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordEndRightSelect, _super);\r\n    function CursorWordEndRightSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordEndRightSelect',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 17 /* RightArrow */,\r\n                mac: { primary: 512 /* Alt */ | 1024 /* Shift */ | 17 /* RightArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordEndRightSelect;\r\n}(WordRightCommand));\r\nexport { CursorWordEndRightSelect };\r\nvar CursorWordRightSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordRightSelect, _super);\r\n    function CursorWordRightSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordRightSelect',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordRightSelect;\r\n}(WordRightCommand));\r\nexport { CursorWordRightSelect };\r\nvar CursorWordAccessibilityRight = /** @class */ (function (_super) {\r\n    __extends(CursorWordAccessibilityRight, _super);\r\n    function CursorWordAccessibilityRight() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 3 /* WordAccessibility */,\r\n            id: 'cursorWordAccessibilityRight',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, CONTEXT_ACCESSIBILITY_MODE_ENABLED),\r\n                primary: 2048 /* CtrlCmd */ | 17 /* RightArrow */,\r\n                mac: { primary: 512 /* Alt */ | 17 /* RightArrow */ },\r\n                weight: 100 /* EditorContrib */ + 1\r\n            }\r\n        }) || this;\r\n    }\r\n    CursorWordAccessibilityRight.prototype._move = function (_, model, position, wordNavigationType) {\r\n        return _super.prototype._move.call(this, getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\r\n    };\r\n    return CursorWordAccessibilityRight;\r\n}(WordRightCommand));\r\nexport { CursorWordAccessibilityRight };\r\nvar CursorWordAccessibilityRightSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordAccessibilityRightSelect, _super);\r\n    function CursorWordAccessibilityRightSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 3 /* WordAccessibility */,\r\n            id: 'cursorWordAccessibilityRightSelect',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, CONTEXT_ACCESSIBILITY_MODE_ENABLED),\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 17 /* RightArrow */,\r\n                mac: { primary: 512 /* Alt */ | 1024 /* Shift */ | 17 /* RightArrow */ },\r\n                weight: 100 /* EditorContrib */ + 1\r\n            }\r\n        }) || this;\r\n    }\r\n    CursorWordAccessibilityRightSelect.prototype._move = function (_, model, position, wordNavigationType) {\r\n        return _super.prototype._move.call(this, getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\r\n    };\r\n    return CursorWordAccessibilityRightSelect;\r\n}(WordRightCommand));\r\nexport { CursorWordAccessibilityRightSelect };\r\nvar DeleteWordCommand = /** @class */ (function (_super) {\r\n    __extends(DeleteWordCommand, _super);\r\n    function DeleteWordCommand(opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._whitespaceHeuristics = opts.whitespaceHeuristics;\r\n        _this._wordNavigationType = opts.wordNavigationType;\r\n        return _this;\r\n    }\r\n    DeleteWordCommand.prototype.runEditorCommand = function (accessor, editor, args) {\r\n        var _this = this;\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var wordSeparators = getMapForWordSeparators(editor.getOption(92 /* wordSeparators */));\r\n        var model = editor.getModel();\r\n        var selections = editor.getSelections();\r\n        var commands = selections.map(function (sel) {\r\n            var deleteRange = _this._delete(wordSeparators, model, sel, _this._whitespaceHeuristics, _this._wordNavigationType);\r\n            return new ReplaceCommand(deleteRange, '');\r\n        });\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return DeleteWordCommand;\r\n}(EditorCommand));\r\nexport { DeleteWordCommand };\r\nvar DeleteWordLeftCommand = /** @class */ (function (_super) {\r\n    __extends(DeleteWordLeftCommand, _super);\r\n    function DeleteWordLeftCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DeleteWordLeftCommand.prototype._delete = function (wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType) {\r\n        var r = WordOperations.deleteWordLeft(wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType);\r\n        if (r) {\r\n            return r;\r\n        }\r\n        return new Range(1, 1, 1, 1);\r\n    };\r\n    return DeleteWordLeftCommand;\r\n}(DeleteWordCommand));\r\nexport { DeleteWordLeftCommand };\r\nvar DeleteWordRightCommand = /** @class */ (function (_super) {\r\n    __extends(DeleteWordRightCommand, _super);\r\n    function DeleteWordRightCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DeleteWordRightCommand.prototype._delete = function (wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType) {\r\n        var r = WordOperations.deleteWordRight(wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType);\r\n        if (r) {\r\n            return r;\r\n        }\r\n        var lineCount = model.getLineCount();\r\n        var maxColumn = model.getLineMaxColumn(lineCount);\r\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\r\n    };\r\n    return DeleteWordRightCommand;\r\n}(DeleteWordCommand));\r\nexport { DeleteWordRightCommand };\r\nvar DeleteWordStartLeft = /** @class */ (function (_super) {\r\n    __extends(DeleteWordStartLeft, _super);\r\n    function DeleteWordStartLeft() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: false,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'deleteWordStartLeft',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return DeleteWordStartLeft;\r\n}(DeleteWordLeftCommand));\r\nexport { DeleteWordStartLeft };\r\nvar DeleteWordEndLeft = /** @class */ (function (_super) {\r\n    __extends(DeleteWordEndLeft, _super);\r\n    function DeleteWordEndLeft() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: false,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'deleteWordEndLeft',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return DeleteWordEndLeft;\r\n}(DeleteWordLeftCommand));\r\nexport { DeleteWordEndLeft };\r\nvar DeleteWordLeft = /** @class */ (function (_super) {\r\n    __extends(DeleteWordLeft, _super);\r\n    function DeleteWordLeft() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: true,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'deleteWordLeft',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1 /* Backspace */,\r\n                mac: { primary: 512 /* Alt */ | 1 /* Backspace */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return DeleteWordLeft;\r\n}(DeleteWordLeftCommand));\r\nexport { DeleteWordLeft };\r\nvar DeleteWordStartRight = /** @class */ (function (_super) {\r\n    __extends(DeleteWordStartRight, _super);\r\n    function DeleteWordStartRight() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: false,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'deleteWordStartRight',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return DeleteWordStartRight;\r\n}(DeleteWordRightCommand));\r\nexport { DeleteWordStartRight };\r\nvar DeleteWordEndRight = /** @class */ (function (_super) {\r\n    __extends(DeleteWordEndRight, _super);\r\n    function DeleteWordEndRight() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: false,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'deleteWordEndRight',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return DeleteWordEndRight;\r\n}(DeleteWordRightCommand));\r\nexport { DeleteWordEndRight };\r\nvar DeleteWordRight = /** @class */ (function (_super) {\r\n    __extends(DeleteWordRight, _super);\r\n    function DeleteWordRight() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: true,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'deleteWordRight',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 20 /* Delete */,\r\n                mac: { primary: 512 /* Alt */ | 20 /* Delete */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return DeleteWordRight;\r\n}(DeleteWordRightCommand));\r\nexport { DeleteWordRight };\r\nregisterEditorCommand(new CursorWordStartLeft());\r\nregisterEditorCommand(new CursorWordEndLeft());\r\nregisterEditorCommand(new CursorWordLeft());\r\nregisterEditorCommand(new CursorWordStartLeftSelect());\r\nregisterEditorCommand(new CursorWordEndLeftSelect());\r\nregisterEditorCommand(new CursorWordLeftSelect());\r\nregisterEditorCommand(new CursorWordStartRight());\r\nregisterEditorCommand(new CursorWordEndRight());\r\nregisterEditorCommand(new CursorWordRight());\r\nregisterEditorCommand(new CursorWordStartRightSelect());\r\nregisterEditorCommand(new CursorWordEndRightSelect());\r\nregisterEditorCommand(new CursorWordRightSelect());\r\nregisterEditorCommand(new CursorWordAccessibilityLeft());\r\nregisterEditorCommand(new CursorWordAccessibilityLeftSelect());\r\nregisterEditorCommand(new CursorWordAccessibilityRight());\r\nregisterEditorCommand(new CursorWordAccessibilityRightSelect());\r\nregisterEditorCommand(new DeleteWordStartLeft());\r\nregisterEditorCommand(new DeleteWordEndLeft());\r\nregisterEditorCommand(new DeleteWordLeft());\r\nregisterEditorCommand(new DeleteWordStartRight());\r\nregisterEditorCommand(new DeleteWordEndRight());\r\nregisterEditorCommand(new DeleteWordRight());\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { registerEditorCommand } from '../../browser/editorExtensions.js';\r\nimport { WordPartOperations } from '../../common/controller/cursorWordOperations.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { DeleteWordCommand, MoveWordCommand } from '../wordOperations/wordOperations.js';\r\nimport { CommandsRegistry } from '../../../platform/commands/common/commands.js';\r\nvar DeleteWordPartLeft = /** @class */ (function (_super) {\r\n    __extends(DeleteWordPartLeft, _super);\r\n    function DeleteWordPartLeft() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: true,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'deleteWordPartLeft',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 1 /* Backspace */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    DeleteWordPartLeft.prototype._delete = function (wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType) {\r\n        var r = WordPartOperations.deleteWordPartLeft(wordSeparators, model, selection, whitespaceHeuristics);\r\n        if (r) {\r\n            return r;\r\n        }\r\n        return new Range(1, 1, 1, 1);\r\n    };\r\n    return DeleteWordPartLeft;\r\n}(DeleteWordCommand));\r\nexport { DeleteWordPartLeft };\r\nvar DeleteWordPartRight = /** @class */ (function (_super) {\r\n    __extends(DeleteWordPartRight, _super);\r\n    function DeleteWordPartRight() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: true,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'deleteWordPartRight',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 20 /* Delete */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    DeleteWordPartRight.prototype._delete = function (wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType) {\r\n        var r = WordPartOperations.deleteWordPartRight(wordSeparators, model, selection, whitespaceHeuristics);\r\n        if (r) {\r\n            return r;\r\n        }\r\n        var lineCount = model.getLineCount();\r\n        var maxColumn = model.getLineMaxColumn(lineCount);\r\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\r\n    };\r\n    return DeleteWordPartRight;\r\n}(DeleteWordCommand));\r\nexport { DeleteWordPartRight };\r\nvar WordPartLeftCommand = /** @class */ (function (_super) {\r\n    __extends(WordPartLeftCommand, _super);\r\n    function WordPartLeftCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    WordPartLeftCommand.prototype._move = function (wordSeparators, model, position, wordNavigationType) {\r\n        return WordPartOperations.moveWordPartLeft(wordSeparators, model, position);\r\n    };\r\n    return WordPartLeftCommand;\r\n}(MoveWordCommand));\r\nexport { WordPartLeftCommand };\r\nvar CursorWordPartLeft = /** @class */ (function (_super) {\r\n    __extends(CursorWordPartLeft, _super);\r\n    function CursorWordPartLeft() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'cursorWordPartLeft',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 15 /* LeftArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordPartLeft;\r\n}(WordPartLeftCommand));\r\nexport { CursorWordPartLeft };\r\n// Register previous id for compatibility purposes\r\nCommandsRegistry.registerCommandAlias('cursorWordPartStartLeft', 'cursorWordPartLeft');\r\nvar CursorWordPartLeftSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordPartLeftSelect, _super);\r\n    function CursorWordPartLeftSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'cursorWordPartLeftSelect',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 1024 /* Shift */ | 15 /* LeftArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordPartLeftSelect;\r\n}(WordPartLeftCommand));\r\nexport { CursorWordPartLeftSelect };\r\n// Register previous id for compatibility purposes\r\nCommandsRegistry.registerCommandAlias('cursorWordPartStartLeftSelect', 'cursorWordPartLeftSelect');\r\nvar WordPartRightCommand = /** @class */ (function (_super) {\r\n    __extends(WordPartRightCommand, _super);\r\n    function WordPartRightCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    WordPartRightCommand.prototype._move = function (wordSeparators, model, position, wordNavigationType) {\r\n        return WordPartOperations.moveWordPartRight(wordSeparators, model, position);\r\n    };\r\n    return WordPartRightCommand;\r\n}(MoveWordCommand));\r\nexport { WordPartRightCommand };\r\nvar CursorWordPartRight = /** @class */ (function (_super) {\r\n    __extends(CursorWordPartRight, _super);\r\n    function CursorWordPartRight() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordPartRight',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 17 /* RightArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordPartRight;\r\n}(WordPartRightCommand));\r\nexport { CursorWordPartRight };\r\nvar CursorWordPartRightSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordPartRightSelect, _super);\r\n    function CursorWordPartRightSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordPartRightSelect',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 1024 /* Shift */ | 17 /* RightArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordPartRightSelect;\r\n}(WordPartRightCommand));\r\nexport { CursorWordPartRightSelect };\r\nregisterEditorCommand(new DeleteWordPartLeft());\r\nregisterEditorCommand(new DeleteWordPartRight());\r\nregisterEditorCommand(new CursorWordPartLeft());\r\nregisterEditorCommand(new CursorWordPartLeftSelect());\r\nregisterEditorCommand(new CursorWordPartRight());\r\nregisterEditorCommand(new CursorWordPartRightSelect());\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './browser/controller/coreCommands.js';\r\nimport './browser/widget/codeEditorWidget.js';\r\nimport './browser/widget/diffEditorWidget.js';\r\nimport './browser/widget/diffNavigator.js';\r\nimport './contrib/bracketMatching/bracketMatching.js';\r\nimport './contrib/caretOperations/caretOperations.js';\r\nimport './contrib/caretOperations/transpose.js';\r\nimport './contrib/clipboard/clipboard.js';\r\nimport './contrib/codeAction/codeActionContributions.js';\r\nimport './contrib/codelens/codelensController.js';\r\nimport './contrib/colorPicker/colorDetector.js';\r\nimport './contrib/comment/comment.js';\r\nimport './contrib/contextmenu/contextmenu.js';\r\nimport './contrib/cursorUndo/cursorUndo.js';\r\nimport './contrib/dnd/dnd.js';\r\nimport './contrib/find/findController.js';\r\nimport './contrib/folding/folding.js';\r\nimport './contrib/fontZoom/fontZoom.js';\r\nimport './contrib/format/formatActions.js';\r\nimport './contrib/gotoSymbol/goToCommands.js';\r\nimport './contrib/gotoSymbol/link/goToDefinitionAtPosition.js';\r\nimport './contrib/gotoError/gotoError.js';\r\nimport './contrib/hover/hover.js';\r\nimport './contrib/inPlaceReplace/inPlaceReplace.js';\r\nimport './contrib/linesOperations/linesOperations.js';\r\nimport './contrib/links/links.js';\r\nimport './contrib/multicursor/multicursor.js';\r\nimport './contrib/parameterHints/parameterHints.js';\r\nimport './contrib/rename/rename.js';\r\nimport './contrib/smartSelect/smartSelect.js';\r\nimport './contrib/snippet/snippetController2.js';\r\nimport './contrib/suggest/suggestController.js';\r\nimport './contrib/tokenization/tokenization.js';\r\nimport './contrib/toggleTabFocusMode/toggleTabFocusMode.js';\r\nimport './contrib/wordHighlighter/wordHighlighter.js';\r\nimport './contrib/wordOperations/wordOperations.js';\r\nimport './contrib/wordPartOperations/wordPartOperations.js';\r\n// Load up these strings even in VSCode, even if they are not used\r\n// in order to get them translated\r\nimport './common/standaloneStrings.js';\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport './accessibilityHelp.css';\r\nimport * as browser from '../../../../base/browser/browser.js';\r\nimport * as dom from '../../../../base/browser/dom.js';\r\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\r\nimport { renderFormattedText } from '../../../../base/browser/formattedTextRenderer.js';\r\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\r\nimport { Widget } from '../../../../base/browser/ui/widget.js';\r\nimport { Disposable } from '../../../../base/common/lifecycle.js';\r\nimport * as platform from '../../../../base/common/platform.js';\r\nimport * as strings from '../../../../base/common/strings.js';\r\nimport { URI } from '../../../../base/common/uri.js';\r\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand, registerEditorContribution } from '../../../browser/editorExtensions.js';\r\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\r\nimport { ToggleTabFocusModeAction } from '../../../contrib/toggleTabFocusMode/toggleTabFocusMode.js';\r\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\r\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\r\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\r\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\r\nimport { contrastBorder, editorWidgetBackground, widgetShadow, editorWidgetForeground } from '../../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\r\nimport { AccessibilityHelpNLS } from '../../../common/standaloneStrings.js';\r\nvar CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE = new RawContextKey('accessibilityHelpWidgetVisible', false);\r\nvar AccessibilityHelpController = /** @class */ (function (_super) {\r\n    __extends(AccessibilityHelpController, _super);\r\n    function AccessibilityHelpController(editor, instantiationService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = editor;\r\n        _this._widget = _this._register(instantiationService.createInstance(AccessibilityHelpWidget, _this._editor));\r\n        return _this;\r\n    }\r\n    AccessibilityHelpController.get = function (editor) {\r\n        return editor.getContribution(AccessibilityHelpController.ID);\r\n    };\r\n    AccessibilityHelpController.prototype.show = function () {\r\n        this._widget.show();\r\n    };\r\n    AccessibilityHelpController.prototype.hide = function () {\r\n        this._widget.hide();\r\n    };\r\n    AccessibilityHelpController.ID = 'editor.contrib.accessibilityHelpController';\r\n    AccessibilityHelpController = __decorate([\r\n        __param(1, IInstantiationService)\r\n    ], AccessibilityHelpController);\r\n    return AccessibilityHelpController;\r\n}(Disposable));\r\nfunction getSelectionLabel(selections, charactersSelected) {\r\n    if (!selections || selections.length === 0) {\r\n        return AccessibilityHelpNLS.noSelection;\r\n    }\r\n    if (selections.length === 1) {\r\n        if (charactersSelected) {\r\n            return strings.format(AccessibilityHelpNLS.singleSelectionRange, selections[0].positionLineNumber, selections[0].positionColumn, charactersSelected);\r\n        }\r\n        return strings.format(AccessibilityHelpNLS.singleSelection, selections[0].positionLineNumber, selections[0].positionColumn);\r\n    }\r\n    if (charactersSelected) {\r\n        return strings.format(AccessibilityHelpNLS.multiSelectionRange, selections.length, charactersSelected);\r\n    }\r\n    if (selections.length > 0) {\r\n        return strings.format(AccessibilityHelpNLS.multiSelection, selections.length);\r\n    }\r\n    return '';\r\n}\r\nvar AccessibilityHelpWidget = /** @class */ (function (_super) {\r\n    __extends(AccessibilityHelpWidget, _super);\r\n    function AccessibilityHelpWidget(editor, _contextKeyService, _keybindingService, _openerService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._contextKeyService = _contextKeyService;\r\n        _this._keybindingService = _keybindingService;\r\n        _this._openerService = _openerService;\r\n        _this._editor = editor;\r\n        _this._isVisibleKey = CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE.bindTo(_this._contextKeyService);\r\n        _this._domNode = createFastDomNode(document.createElement('div'));\r\n        _this._domNode.setClassName('accessibilityHelpWidget');\r\n        _this._domNode.setDisplay('none');\r\n        _this._domNode.setAttribute('role', 'dialog');\r\n        _this._domNode.setAttribute('aria-hidden', 'true');\r\n        _this._contentDomNode = createFastDomNode(document.createElement('div'));\r\n        _this._contentDomNode.setAttribute('role', 'document');\r\n        _this._domNode.appendChild(_this._contentDomNode);\r\n        _this._isVisible = false;\r\n        _this._register(_this._editor.onDidLayoutChange(function () {\r\n            if (_this._isVisible) {\r\n                _this._layout();\r\n            }\r\n        }));\r\n        // Intentionally not configurable!\r\n        _this._register(dom.addStandardDisposableListener(_this._contentDomNode.domNode, 'keydown', function (e) {\r\n            if (!_this._isVisible) {\r\n                return;\r\n            }\r\n            if (e.equals(2048 /* CtrlCmd */ | 35 /* KEY_E */)) {\r\n                alert(AccessibilityHelpNLS.emergencyConfOn);\r\n                _this._editor.updateOptions({\r\n                    accessibilitySupport: 'on'\r\n                });\r\n                dom.clearNode(_this._contentDomNode.domNode);\r\n                _this._buildContent();\r\n                _this._contentDomNode.domNode.focus();\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }\r\n            if (e.equals(2048 /* CtrlCmd */ | 38 /* KEY_H */)) {\r\n                alert(AccessibilityHelpNLS.openingDocs);\r\n                var url = _this._editor.getRawOptions().accessibilityHelpUrl;\r\n                if (typeof url === 'undefined') {\r\n                    url = 'https://go.microsoft.com/fwlink/?linkid=852450';\r\n                }\r\n                _this._openerService.open(URI.parse(url));\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }\r\n        }));\r\n        _this.onblur(_this._contentDomNode.domNode, function () {\r\n            _this.hide();\r\n        });\r\n        _this._editor.addOverlayWidget(_this);\r\n        return _this;\r\n    }\r\n    AccessibilityHelpWidget.prototype.dispose = function () {\r\n        this._editor.removeOverlayWidget(this);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    AccessibilityHelpWidget.prototype.getId = function () {\r\n        return AccessibilityHelpWidget.ID;\r\n    };\r\n    AccessibilityHelpWidget.prototype.getDomNode = function () {\r\n        return this._domNode.domNode;\r\n    };\r\n    AccessibilityHelpWidget.prototype.getPosition = function () {\r\n        return {\r\n            preference: null\r\n        };\r\n    };\r\n    AccessibilityHelpWidget.prototype.show = function () {\r\n        if (this._isVisible) {\r\n            return;\r\n        }\r\n        this._isVisible = true;\r\n        this._isVisibleKey.set(true);\r\n        this._layout();\r\n        this._domNode.setDisplay('block');\r\n        this._domNode.setAttribute('aria-hidden', 'false');\r\n        this._contentDomNode.domNode.tabIndex = 0;\r\n        this._buildContent();\r\n        this._contentDomNode.domNode.focus();\r\n    };\r\n    AccessibilityHelpWidget.prototype._descriptionForCommand = function (commandId, msg, noKbMsg) {\r\n        var kb = this._keybindingService.lookupKeybinding(commandId);\r\n        if (kb) {\r\n            return strings.format(msg, kb.getAriaLabel());\r\n        }\r\n        return strings.format(noKbMsg, commandId);\r\n    };\r\n    AccessibilityHelpWidget.prototype._buildContent = function () {\r\n        var options = this._editor.getOptions();\r\n        var selections = this._editor.getSelections();\r\n        var charactersSelected = 0;\r\n        if (selections) {\r\n            var model_1 = this._editor.getModel();\r\n            if (model_1) {\r\n                selections.forEach(function (selection) {\r\n                    charactersSelected += model_1.getValueLengthInRange(selection);\r\n                });\r\n            }\r\n        }\r\n        var text = getSelectionLabel(selections, charactersSelected);\r\n        if (options.get(43 /* inDiffEditor */)) {\r\n            if (options.get(65 /* readOnly */)) {\r\n                text += AccessibilityHelpNLS.readonlyDiffEditor;\r\n            }\r\n            else {\r\n                text += AccessibilityHelpNLS.editableDiffEditor;\r\n            }\r\n        }\r\n        else {\r\n            if (options.get(65 /* readOnly */)) {\r\n                text += AccessibilityHelpNLS.readonlyEditor;\r\n            }\r\n            else {\r\n                text += AccessibilityHelpNLS.editableEditor;\r\n            }\r\n        }\r\n        var turnOnMessage = (platform.isMacintosh\r\n            ? AccessibilityHelpNLS.changeConfigToOnMac\r\n            : AccessibilityHelpNLS.changeConfigToOnWinLinux);\r\n        switch (options.get(2 /* accessibilitySupport */)) {\r\n            case 0 /* Unknown */:\r\n                text += '\\n\\n - ' + turnOnMessage;\r\n                break;\r\n            case 2 /* Enabled */:\r\n                text += '\\n\\n - ' + AccessibilityHelpNLS.auto_on;\r\n                break;\r\n            case 1 /* Disabled */:\r\n                text += '\\n\\n - ' + AccessibilityHelpNLS.auto_off;\r\n                text += ' ' + turnOnMessage;\r\n                break;\r\n        }\r\n        if (options.get(102 /* tabFocusMode */)) {\r\n            text += '\\n\\n - ' + this._descriptionForCommand(ToggleTabFocusModeAction.ID, AccessibilityHelpNLS.tabFocusModeOnMsg, AccessibilityHelpNLS.tabFocusModeOnMsgNoKb);\r\n        }\r\n        else {\r\n            text += '\\n\\n - ' + this._descriptionForCommand(ToggleTabFocusModeAction.ID, AccessibilityHelpNLS.tabFocusModeOffMsg, AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);\r\n        }\r\n        var openDocMessage = (platform.isMacintosh\r\n            ? AccessibilityHelpNLS.openDocMac\r\n            : AccessibilityHelpNLS.openDocWinLinux);\r\n        text += '\\n\\n - ' + openDocMessage;\r\n        text += '\\n\\n' + AccessibilityHelpNLS.outroMsg;\r\n        this._contentDomNode.domNode.appendChild(renderFormattedText(text));\r\n        // Per https://www.w3.org/TR/wai-aria/roles#document, Authors SHOULD provide a title or label for documents\r\n        this._contentDomNode.domNode.setAttribute('aria-label', text);\r\n    };\r\n    AccessibilityHelpWidget.prototype.hide = function () {\r\n        if (!this._isVisible) {\r\n            return;\r\n        }\r\n        this._isVisible = false;\r\n        this._isVisibleKey.reset();\r\n        this._domNode.setDisplay('none');\r\n        this._domNode.setAttribute('aria-hidden', 'true');\r\n        this._contentDomNode.domNode.tabIndex = -1;\r\n        dom.clearNode(this._contentDomNode.domNode);\r\n        this._editor.focus();\r\n    };\r\n    AccessibilityHelpWidget.prototype._layout = function () {\r\n        var editorLayout = this._editor.getLayoutInfo();\r\n        var w = Math.max(5, Math.min(AccessibilityHelpWidget.WIDTH, editorLayout.width - 40));\r\n        var h = Math.max(5, Math.min(AccessibilityHelpWidget.HEIGHT, editorLayout.height - 40));\r\n        this._domNode.setWidth(w);\r\n        this._domNode.setHeight(h);\r\n        var top = Math.round((editorLayout.height - h) / 2);\r\n        this._domNode.setTop(top);\r\n        var left = Math.round((editorLayout.width - w) / 2);\r\n        this._domNode.setLeft(left);\r\n    };\r\n    AccessibilityHelpWidget.ID = 'editor.contrib.accessibilityHelpWidget';\r\n    AccessibilityHelpWidget.WIDTH = 500;\r\n    AccessibilityHelpWidget.HEIGHT = 300;\r\n    AccessibilityHelpWidget = __decorate([\r\n        __param(1, IContextKeyService),\r\n        __param(2, IKeybindingService),\r\n        __param(3, IOpenerService)\r\n    ], AccessibilityHelpWidget);\r\n    return AccessibilityHelpWidget;\r\n}(Widget));\r\nvar ShowAccessibilityHelpAction = /** @class */ (function (_super) {\r\n    __extends(ShowAccessibilityHelpAction, _super);\r\n    function ShowAccessibilityHelpAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.showAccessibilityHelp',\r\n            label: AccessibilityHelpNLS.showAccessibilityHelpAction,\r\n            alias: 'Show Accessibility Help',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: (browser.isIE ? 2048 /* CtrlCmd */ | 59 /* F1 */ : 512 /* Alt */ | 59 /* F1 */),\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    ShowAccessibilityHelpAction.prototype.run = function (accessor, editor) {\r\n        var controller = AccessibilityHelpController.get(editor);\r\n        if (controller) {\r\n            controller.show();\r\n        }\r\n    };\r\n    return ShowAccessibilityHelpAction;\r\n}(EditorAction));\r\nregisterEditorContribution(AccessibilityHelpController.ID, AccessibilityHelpController);\r\nregisterEditorAction(ShowAccessibilityHelpAction);\r\nvar AccessibilityHelpCommand = EditorCommand.bindToContribution(AccessibilityHelpController.get);\r\nregisterEditorCommand(new AccessibilityHelpCommand({\r\n    id: 'closeAccessibilityHelp',\r\n    precondition: CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.hide(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 100,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 9 /* Escape */,\r\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\r\n    }\r\n}));\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var widgetBackground = theme.getColor(editorWidgetBackground);\r\n    if (widgetBackground) {\r\n        collector.addRule(\".monaco-editor .accessibilityHelpWidget { background-color: \" + widgetBackground + \"; }\");\r\n    }\r\n    var widgetForeground = theme.getColor(editorWidgetForeground);\r\n    if (widgetForeground) {\r\n        collector.addRule(\".monaco-editor .accessibilityHelpWidget { color: \" + widgetForeground + \"; }\");\r\n    }\r\n    var widgetShadowColor = theme.getColor(widgetShadow);\r\n    if (widgetShadowColor) {\r\n        collector.addRule(\".monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px \" + widgetShadowColor + \"; }\");\r\n    }\r\n    var hcBorder = theme.getColor(contrastBorder);\r\n    if (hcBorder) {\r\n        collector.addRule(\".monaco-editor .accessibilityHelpWidget { border: 2px solid \" + hcBorder + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './iPadShowKeyboard.css';\r\nimport * as browser from '../../../../base/browser/browser.js';\r\nimport * as dom from '../../../../base/browser/dom.js';\r\nimport { Disposable } from '../../../../base/common/lifecycle.js';\r\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\r\nvar IPadShowKeyboard = /** @class */ (function (_super) {\r\n    __extends(IPadShowKeyboard, _super);\r\n    function IPadShowKeyboard(editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this.editor = editor;\r\n        _this.widget = null;\r\n        if (browser.isIPad) {\r\n            _this._register(editor.onDidChangeConfiguration(function () { return _this.update(); }));\r\n            _this.update();\r\n        }\r\n        return _this;\r\n    }\r\n    IPadShowKeyboard.prototype.update = function () {\r\n        var shouldHaveWidget = (!this.editor.getOption(65 /* readOnly */));\r\n        if (!this.widget && shouldHaveWidget) {\r\n            this.widget = new ShowKeyboardWidget(this.editor);\r\n        }\r\n        else if (this.widget && !shouldHaveWidget) {\r\n            this.widget.dispose();\r\n            this.widget = null;\r\n        }\r\n    };\r\n    IPadShowKeyboard.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        if (this.widget) {\r\n            this.widget.dispose();\r\n            this.widget = null;\r\n        }\r\n    };\r\n    IPadShowKeyboard.ID = 'editor.contrib.iPadShowKeyboard';\r\n    return IPadShowKeyboard;\r\n}(Disposable));\r\nexport { IPadShowKeyboard };\r\nvar ShowKeyboardWidget = /** @class */ (function (_super) {\r\n    __extends(ShowKeyboardWidget, _super);\r\n    function ShowKeyboardWidget(editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this.editor = editor;\r\n        _this._domNode = document.createElement('textarea');\r\n        _this._domNode.className = 'iPadShowKeyboard';\r\n        _this._register(dom.addDisposableListener(_this._domNode, 'touchstart', function (e) {\r\n            _this.editor.focus();\r\n        }));\r\n        _this._register(dom.addDisposableListener(_this._domNode, 'focus', function (e) {\r\n            _this.editor.focus();\r\n        }));\r\n        _this.editor.addOverlayWidget(_this);\r\n        return _this;\r\n    }\r\n    ShowKeyboardWidget.prototype.dispose = function () {\r\n        this.editor.removeOverlayWidget(this);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    // ----- IOverlayWidget API\r\n    ShowKeyboardWidget.prototype.getId = function () {\r\n        return ShowKeyboardWidget.ID;\r\n    };\r\n    ShowKeyboardWidget.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    ShowKeyboardWidget.prototype.getPosition = function () {\r\n        return {\r\n            preference: 1 /* BOTTOM_RIGHT_CORNER */\r\n        };\r\n    };\r\n    ShowKeyboardWidget.ID = 'editor.contrib.ShowKeyboardWidget';\r\n    return ShowKeyboardWidget;\r\n}(Disposable));\r\nregisterEditorContribution(IPadShowKeyboard.ID, IPadShowKeyboard);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport './inspectTokens.css';\r\nimport { Color } from '../../../../base/common/color.js';\r\nimport { Disposable } from '../../../../base/common/lifecycle.js';\r\nimport { escape } from '../../../../base/common/strings.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\r\nimport { TokenMetadata, TokenizationRegistry } from '../../../common/modes.js';\r\nimport { NULL_STATE, nullTokenize, nullTokenize2 } from '../../../common/modes/nullMode.js';\r\nimport { IModeService } from '../../../common/services/modeService.js';\r\nimport { IStandaloneThemeService } from '../../common/standaloneThemeService.js';\r\nimport { editorHoverBackground, editorHoverBorder, editorHoverForeground } from '../../../../platform/theme/common/colorRegistry.js';\r\nimport { HIGH_CONTRAST, registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\r\nimport { InspectTokensNLS } from '../../../common/standaloneStrings.js';\r\nvar InspectTokensController = /** @class */ (function (_super) {\r\n    __extends(InspectTokensController, _super);\r\n    function InspectTokensController(editor, standaloneColorService, modeService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = editor;\r\n        _this._modeService = modeService;\r\n        _this._widget = null;\r\n        _this._register(_this._editor.onDidChangeModel(function (e) { return _this.stop(); }));\r\n        _this._register(_this._editor.onDidChangeModelLanguage(function (e) { return _this.stop(); }));\r\n        _this._register(TokenizationRegistry.onDidChange(function (e) { return _this.stop(); }));\r\n        return _this;\r\n    }\r\n    InspectTokensController.get = function (editor) {\r\n        return editor.getContribution(InspectTokensController.ID);\r\n    };\r\n    InspectTokensController.prototype.dispose = function () {\r\n        this.stop();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    InspectTokensController.prototype.launch = function () {\r\n        if (this._widget) {\r\n            return;\r\n        }\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        this._widget = new InspectTokensWidget(this._editor, this._modeService);\r\n    };\r\n    InspectTokensController.prototype.stop = function () {\r\n        if (this._widget) {\r\n            this._widget.dispose();\r\n            this._widget = null;\r\n        }\r\n    };\r\n    InspectTokensController.ID = 'editor.contrib.inspectTokens';\r\n    InspectTokensController = __decorate([\r\n        __param(1, IStandaloneThemeService),\r\n        __param(2, IModeService)\r\n    ], InspectTokensController);\r\n    return InspectTokensController;\r\n}(Disposable));\r\nvar InspectTokens = /** @class */ (function (_super) {\r\n    __extends(InspectTokens, _super);\r\n    function InspectTokens() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.inspectTokens',\r\n            label: InspectTokensNLS.inspectTokensAction,\r\n            alias: 'Developer: Inspect Tokens',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    InspectTokens.prototype.run = function (accessor, editor) {\r\n        var controller = InspectTokensController.get(editor);\r\n        if (controller) {\r\n            controller.launch();\r\n        }\r\n    };\r\n    return InspectTokens;\r\n}(EditorAction));\r\nfunction renderTokenText(tokenText) {\r\n    var result = '';\r\n    for (var charIndex = 0, len = tokenText.length; charIndex < len; charIndex++) {\r\n        var charCode = tokenText.charCodeAt(charIndex);\r\n        switch (charCode) {\r\n            case 9 /* Tab */:\r\n                result += '&rarr;';\r\n                break;\r\n            case 32 /* Space */:\r\n                result += '&middot;';\r\n                break;\r\n            case 60 /* LessThan */:\r\n                result += '&lt;';\r\n                break;\r\n            case 62 /* GreaterThan */:\r\n                result += '&gt;';\r\n                break;\r\n            case 38 /* Ampersand */:\r\n                result += '&amp;';\r\n                break;\r\n            default:\r\n                result += String.fromCharCode(charCode);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction getSafeTokenizationSupport(languageIdentifier) {\r\n    var tokenizationSupport = TokenizationRegistry.get(languageIdentifier.language);\r\n    if (tokenizationSupport) {\r\n        return tokenizationSupport;\r\n    }\r\n    return {\r\n        getInitialState: function () { return NULL_STATE; },\r\n        tokenize: function (line, state, deltaOffset) { return nullTokenize(languageIdentifier.language, line, state, deltaOffset); },\r\n        tokenize2: function (line, state, deltaOffset) { return nullTokenize2(languageIdentifier.id, line, state, deltaOffset); }\r\n    };\r\n}\r\nvar InspectTokensWidget = /** @class */ (function (_super) {\r\n    __extends(InspectTokensWidget, _super);\r\n    function InspectTokensWidget(editor, modeService) {\r\n        var _this = _super.call(this) || this;\r\n        // Editor.IContentWidget.allowEditorOverflow\r\n        _this.allowEditorOverflow = true;\r\n        _this._editor = editor;\r\n        _this._modeService = modeService;\r\n        _this._model = _this._editor.getModel();\r\n        _this._domNode = document.createElement('div');\r\n        _this._domNode.className = 'tokens-inspect-widget';\r\n        _this._tokenizationSupport = getSafeTokenizationSupport(_this._model.getLanguageIdentifier());\r\n        _this._compute(_this._editor.getPosition());\r\n        _this._register(_this._editor.onDidChangeCursorPosition(function (e) { return _this._compute(_this._editor.getPosition()); }));\r\n        _this._editor.addContentWidget(_this);\r\n        return _this;\r\n    }\r\n    InspectTokensWidget.prototype.dispose = function () {\r\n        this._editor.removeContentWidget(this);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    InspectTokensWidget.prototype.getId = function () {\r\n        return InspectTokensWidget._ID;\r\n    };\r\n    InspectTokensWidget.prototype._compute = function (position) {\r\n        var data = this._getTokensAtLine(position.lineNumber);\r\n        var token1Index = 0;\r\n        for (var i = data.tokens1.length - 1; i >= 0; i--) {\r\n            var t = data.tokens1[i];\r\n            if (position.column - 1 >= t.offset) {\r\n                token1Index = i;\r\n                break;\r\n            }\r\n        }\r\n        var token2Index = 0;\r\n        for (var i = (data.tokens2.length >>> 1); i >= 0; i--) {\r\n            if (position.column - 1 >= data.tokens2[(i << 1)]) {\r\n                token2Index = i;\r\n                break;\r\n            }\r\n        }\r\n        var result = '';\r\n        var lineContent = this._model.getLineContent(position.lineNumber);\r\n        var tokenText = '';\r\n        if (token1Index < data.tokens1.length) {\r\n            var tokenStartIndex = data.tokens1[token1Index].offset;\r\n            var tokenEndIndex = token1Index + 1 < data.tokens1.length ? data.tokens1[token1Index + 1].offset : lineContent.length;\r\n            tokenText = lineContent.substring(tokenStartIndex, tokenEndIndex);\r\n        }\r\n        result += \"<h2 class=\\\"tm-token\\\">\" + renderTokenText(tokenText) + \"<span class=\\\"tm-token-length\\\">(\" + tokenText.length + \" \" + (tokenText.length === 1 ? 'char' : 'chars') + \")</span></h2>\";\r\n        result += \"<hr class=\\\"tokens-inspect-separator\\\" style=\\\"clear:both\\\"/>\";\r\n        var metadata = this._decodeMetadata(data.tokens2[(token2Index << 1) + 1]);\r\n        result += \"<table class=\\\"tm-metadata-table\\\"><tbody>\";\r\n        result += \"<tr><td class=\\\"tm-metadata-key\\\">language</td><td class=\\\"tm-metadata-value\\\">\" + escape(metadata.languageIdentifier.language) + \"</td>\";\r\n        result += \"<tr><td class=\\\"tm-metadata-key\\\">token type</td><td class=\\\"tm-metadata-value\\\">\" + this._tokenTypeToString(metadata.tokenType) + \"</td>\";\r\n        result += \"<tr><td class=\\\"tm-metadata-key\\\">font style</td><td class=\\\"tm-metadata-value\\\">\" + this._fontStyleToString(metadata.fontStyle) + \"</td>\";\r\n        result += \"<tr><td class=\\\"tm-metadata-key\\\">foreground</td><td class=\\\"tm-metadata-value\\\">\" + Color.Format.CSS.formatHex(metadata.foreground) + \"</td>\";\r\n        result += \"<tr><td class=\\\"tm-metadata-key\\\">background</td><td class=\\\"tm-metadata-value\\\">\" + Color.Format.CSS.formatHex(metadata.background) + \"</td>\";\r\n        result += \"</tbody></table>\";\r\n        result += \"<hr class=\\\"tokens-inspect-separator\\\"/>\";\r\n        if (token1Index < data.tokens1.length) {\r\n            result += \"<span class=\\\"tm-token-type\\\">\" + escape(data.tokens1[token1Index].type) + \"</span>\";\r\n        }\r\n        this._domNode.innerHTML = result;\r\n        this._editor.layoutContentWidget(this);\r\n    };\r\n    InspectTokensWidget.prototype._decodeMetadata = function (metadata) {\r\n        var colorMap = TokenizationRegistry.getColorMap();\r\n        var languageId = TokenMetadata.getLanguageId(metadata);\r\n        var tokenType = TokenMetadata.getTokenType(metadata);\r\n        var fontStyle = TokenMetadata.getFontStyle(metadata);\r\n        var foreground = TokenMetadata.getForeground(metadata);\r\n        var background = TokenMetadata.getBackground(metadata);\r\n        return {\r\n            languageIdentifier: this._modeService.getLanguageIdentifier(languageId),\r\n            tokenType: tokenType,\r\n            fontStyle: fontStyle,\r\n            foreground: colorMap[foreground],\r\n            background: colorMap[background]\r\n        };\r\n    };\r\n    InspectTokensWidget.prototype._tokenTypeToString = function (tokenType) {\r\n        switch (tokenType) {\r\n            case 0 /* Other */: return 'Other';\r\n            case 1 /* Comment */: return 'Comment';\r\n            case 2 /* String */: return 'String';\r\n            case 4 /* RegEx */: return 'RegEx';\r\n        }\r\n        return '??';\r\n    };\r\n    InspectTokensWidget.prototype._fontStyleToString = function (fontStyle) {\r\n        var r = '';\r\n        if (fontStyle & 1 /* Italic */) {\r\n            r += 'italic ';\r\n        }\r\n        if (fontStyle & 2 /* Bold */) {\r\n            r += 'bold ';\r\n        }\r\n        if (fontStyle & 4 /* Underline */) {\r\n            r += 'underline ';\r\n        }\r\n        if (r.length === 0) {\r\n            r = '---';\r\n        }\r\n        return r;\r\n    };\r\n    InspectTokensWidget.prototype._getTokensAtLine = function (lineNumber) {\r\n        var stateBeforeLine = this._getStateBeforeLine(lineNumber);\r\n        var tokenizationResult1 = this._tokenizationSupport.tokenize(this._model.getLineContent(lineNumber), stateBeforeLine, 0);\r\n        var tokenizationResult2 = this._tokenizationSupport.tokenize2(this._model.getLineContent(lineNumber), stateBeforeLine, 0);\r\n        return {\r\n            startState: stateBeforeLine,\r\n            tokens1: tokenizationResult1.tokens,\r\n            tokens2: tokenizationResult2.tokens,\r\n            endState: tokenizationResult1.endState\r\n        };\r\n    };\r\n    InspectTokensWidget.prototype._getStateBeforeLine = function (lineNumber) {\r\n        var state = this._tokenizationSupport.getInitialState();\r\n        for (var i = 1; i < lineNumber; i++) {\r\n            var tokenizationResult = this._tokenizationSupport.tokenize(this._model.getLineContent(i), state, 0);\r\n            state = tokenizationResult.endState;\r\n        }\r\n        return state;\r\n    };\r\n    InspectTokensWidget.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    InspectTokensWidget.prototype.getPosition = function () {\r\n        return {\r\n            position: this._editor.getPosition(),\r\n            preference: [2 /* BELOW */, 1 /* ABOVE */]\r\n        };\r\n    };\r\n    InspectTokensWidget._ID = 'editor.contrib.inspectTokensWidget';\r\n    return InspectTokensWidget;\r\n}(Disposable));\r\nregisterEditorContribution(InspectTokensController.ID, InspectTokensController);\r\nregisterEditorAction(InspectTokens);\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var border = theme.getColor(editorHoverBorder);\r\n    if (border) {\r\n        var borderWidth = theme.type === HIGH_CONTRAST ? 2 : 1;\r\n        collector.addRule(\".monaco-editor .tokens-inspect-widget { border: \" + borderWidth + \"px solid \" + border + \"; }\");\r\n        collector.addRule(\".monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: \" + border + \"; }\");\r\n    }\r\n    var background = theme.getColor(editorHoverBackground);\r\n    if (background) {\r\n        collector.addRule(\".monaco-editor .tokens-inspect-widget { background-color: \" + background + \"; }\");\r\n    }\r\n    var foreground = theme.getColor(editorHoverForeground);\r\n    if (foreground) {\r\n        collector.addRule(\".monaco-editor .tokens-inspect-widget { color: \" + foreground + \"; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './keybindingLabel.css';\r\nimport { equals } from '../../../common/objects.js';\r\nimport { UILabelProvider } from '../../../common/keybindingLabels.js';\r\nimport * as dom from '../../dom.js';\r\nimport { localize } from '../../../../nls.js';\r\nvar $ = dom.$;\r\nvar KeybindingLabel = /** @class */ (function () {\r\n    function KeybindingLabel(container, os, options) {\r\n        this.os = os;\r\n        this.options = options;\r\n        this.domNode = dom.append(container, $('.monaco-keybinding'));\r\n        this.didEverRender = false;\r\n        container.appendChild(this.domNode);\r\n    }\r\n    KeybindingLabel.prototype.set = function (keybinding, matches) {\r\n        if (this.didEverRender && this.keybinding === keybinding && KeybindingLabel.areSame(this.matches, matches)) {\r\n            return;\r\n        }\r\n        this.keybinding = keybinding;\r\n        this.matches = matches;\r\n        this.render();\r\n    };\r\n    KeybindingLabel.prototype.render = function () {\r\n        dom.clearNode(this.domNode);\r\n        if (this.keybinding) {\r\n            var _a = this.keybinding.getParts(), firstPart = _a[0], chordPart = _a[1];\r\n            if (firstPart) {\r\n                this.renderPart(this.domNode, firstPart, this.matches ? this.matches.firstPart : null);\r\n            }\r\n            if (chordPart) {\r\n                dom.append(this.domNode, $('span.monaco-keybinding-key-chord-separator', undefined, ' '));\r\n                this.renderPart(this.domNode, chordPart, this.matches ? this.matches.chordPart : null);\r\n            }\r\n            this.domNode.title = this.keybinding.getAriaLabel() || '';\r\n        }\r\n        else if (this.options && this.options.renderUnboundKeybindings) {\r\n            this.renderUnbound(this.domNode);\r\n        }\r\n        this.didEverRender = true;\r\n    };\r\n    KeybindingLabel.prototype.renderPart = function (parent, part, match) {\r\n        var _a, _b, _c, _d, _e;\r\n        var modifierLabels = UILabelProvider.modifierLabels[this.os];\r\n        if (part.ctrlKey) {\r\n            this.renderKey(parent, modifierLabels.ctrlKey, Boolean((_a = match) === null || _a === void 0 ? void 0 : _a.ctrlKey), modifierLabels.separator);\r\n        }\r\n        if (part.shiftKey) {\r\n            this.renderKey(parent, modifierLabels.shiftKey, Boolean((_b = match) === null || _b === void 0 ? void 0 : _b.shiftKey), modifierLabels.separator);\r\n        }\r\n        if (part.altKey) {\r\n            this.renderKey(parent, modifierLabels.altKey, Boolean((_c = match) === null || _c === void 0 ? void 0 : _c.altKey), modifierLabels.separator);\r\n        }\r\n        if (part.metaKey) {\r\n            this.renderKey(parent, modifierLabels.metaKey, Boolean((_d = match) === null || _d === void 0 ? void 0 : _d.metaKey), modifierLabels.separator);\r\n        }\r\n        var keyLabel = part.keyLabel;\r\n        if (keyLabel) {\r\n            this.renderKey(parent, keyLabel, Boolean((_e = match) === null || _e === void 0 ? void 0 : _e.keyCode), '');\r\n        }\r\n    };\r\n    KeybindingLabel.prototype.renderKey = function (parent, label, highlight, separator) {\r\n        dom.append(parent, $('span.monaco-keybinding-key' + (highlight ? '.highlight' : ''), undefined, label));\r\n        if (separator) {\r\n            dom.append(parent, $('span.monaco-keybinding-key-separator', undefined, separator));\r\n        }\r\n    };\r\n    KeybindingLabel.prototype.renderUnbound = function (parent) {\r\n        dom.append(parent, $('span.monaco-keybinding-key', undefined, localize('unbound', \"Unbound\")));\r\n    };\r\n    KeybindingLabel.areSame = function (a, b) {\r\n        if (a === b || (!a && !b)) {\r\n            return true;\r\n        }\r\n        return !!a && !!b && equals(a.firstPart, b.firstPart) && equals(a.chordPart, b.chordPart);\r\n    };\r\n    return KeybindingLabel;\r\n}());\r\nexport { KeybindingLabel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../../nls.js';\r\nimport * as types from '../../../common/types.js';\r\nimport { IconLabel } from '../../../browser/ui/iconLabel/iconLabel.js';\r\nimport { ActionBar } from '../../../browser/ui/actionbar/actionbar.js';\r\nimport { HighlightedLabel } from '../../../browser/ui/highlightedlabel/highlightedLabel.js';\r\nimport * as DOM from '../../../browser/dom.js';\r\nimport { KeybindingLabel } from '../../../browser/ui/keybindingLabel/keybindingLabel.js';\r\nimport { OS } from '../../../common/platform.js';\r\nimport { coalesce } from '../../../common/arrays.js';\r\nvar IDS = 0;\r\nvar QuickOpenEntry = /** @class */ (function () {\r\n    function QuickOpenEntry(highlights) {\r\n        if (highlights === void 0) { highlights = []; }\r\n        this.id = (IDS++).toString();\r\n        this.labelHighlights = highlights;\r\n        this.descriptionHighlights = [];\r\n    }\r\n    /**\r\n     * A unique identifier for the entry\r\n     */\r\n    QuickOpenEntry.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    /**\r\n     * The label of the entry to identify it from others in the list\r\n     */\r\n    QuickOpenEntry.prototype.getLabel = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * The options for the label to use for this entry\r\n     */\r\n    QuickOpenEntry.prototype.getLabelOptions = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * The label of the entry to use when a screen reader wants to read about the entry\r\n     */\r\n    QuickOpenEntry.prototype.getAriaLabel = function () {\r\n        return coalesce([this.getLabel(), this.getDescription(), this.getDetail()])\r\n            .join(', ');\r\n    };\r\n    /**\r\n     * Detail information about the entry that is optional and can be shown below the label\r\n     */\r\n    QuickOpenEntry.prototype.getDetail = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * The icon of the entry to identify it from others in the list\r\n     */\r\n    QuickOpenEntry.prototype.getIcon = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * A secondary description that is optional and can be shown right to the label\r\n     */\r\n    QuickOpenEntry.prototype.getDescription = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * A tooltip to show when hovering over the entry.\r\n     */\r\n    QuickOpenEntry.prototype.getTooltip = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * A tooltip to show when hovering over the description portion of the entry.\r\n     */\r\n    QuickOpenEntry.prototype.getDescriptionTooltip = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * An optional keybinding to show for an entry.\r\n     */\r\n    QuickOpenEntry.prototype.getKeybinding = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Allows to reuse the same model while filtering. Hidden entries will not show up in the viewer.\r\n     */\r\n    QuickOpenEntry.prototype.isHidden = function () {\r\n        return !!this.hidden;\r\n    };\r\n    /**\r\n     * Allows to set highlight ranges that should show up for the entry label and optionally description if set.\r\n     */\r\n    QuickOpenEntry.prototype.setHighlights = function (labelHighlights, descriptionHighlights, detailHighlights) {\r\n        this.labelHighlights = labelHighlights;\r\n        this.descriptionHighlights = descriptionHighlights;\r\n        this.detailHighlights = detailHighlights;\r\n    };\r\n    /**\r\n     * Allows to return highlight ranges that should show up for the entry label and description.\r\n     */\r\n    QuickOpenEntry.prototype.getHighlights = function () {\r\n        return [this.labelHighlights, this.descriptionHighlights, this.detailHighlights];\r\n    };\r\n    /**\r\n     * Called when the entry is selected for opening. Returns a boolean value indicating if an action was performed or not.\r\n     * The mode parameter gives an indication if the element is previewed (using arrow keys) or opened.\r\n     *\r\n     * The context parameter provides additional context information how the run was triggered.\r\n     */\r\n    QuickOpenEntry.prototype.run = function (mode, context) {\r\n        return false;\r\n    };\r\n    return QuickOpenEntry;\r\n}());\r\nexport { QuickOpenEntry };\r\nvar QuickOpenEntryGroup = /** @class */ (function (_super) {\r\n    __extends(QuickOpenEntryGroup, _super);\r\n    function QuickOpenEntryGroup(entry, groupLabel, withBorder) {\r\n        var _this = _super.call(this) || this;\r\n        _this.entry = entry;\r\n        _this.groupLabel = groupLabel;\r\n        _this.withBorder = withBorder;\r\n        return _this;\r\n    }\r\n    /**\r\n     * The label of the group or null if none.\r\n     */\r\n    QuickOpenEntryGroup.prototype.getGroupLabel = function () {\r\n        return this.groupLabel;\r\n    };\r\n    QuickOpenEntryGroup.prototype.setGroupLabel = function (groupLabel) {\r\n        this.groupLabel = groupLabel;\r\n    };\r\n    /**\r\n     * Whether to show a border on top of the group entry or not.\r\n     */\r\n    QuickOpenEntryGroup.prototype.showBorder = function () {\r\n        return !!this.withBorder;\r\n    };\r\n    QuickOpenEntryGroup.prototype.setShowBorder = function (showBorder) {\r\n        this.withBorder = showBorder;\r\n    };\r\n    QuickOpenEntryGroup.prototype.getLabel = function () {\r\n        return this.entry ? this.entry.getLabel() : _super.prototype.getLabel.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getLabelOptions = function () {\r\n        return this.entry ? this.entry.getLabelOptions() : _super.prototype.getLabelOptions.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getAriaLabel = function () {\r\n        return this.entry ? this.entry.getAriaLabel() : _super.prototype.getAriaLabel.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getDetail = function () {\r\n        return this.entry ? this.entry.getDetail() : _super.prototype.getDetail.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getIcon = function () {\r\n        return this.entry ? this.entry.getIcon() : _super.prototype.getIcon.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getDescription = function () {\r\n        return this.entry ? this.entry.getDescription() : _super.prototype.getDescription.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getHighlights = function () {\r\n        return this.entry ? this.entry.getHighlights() : _super.prototype.getHighlights.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.isHidden = function () {\r\n        return this.entry ? this.entry.isHidden() : _super.prototype.isHidden.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.setHighlights = function (labelHighlights, descriptionHighlights, detailHighlights) {\r\n        this.entry ? this.entry.setHighlights(labelHighlights, descriptionHighlights, detailHighlights) : _super.prototype.setHighlights.call(this, labelHighlights, descriptionHighlights, detailHighlights);\r\n    };\r\n    QuickOpenEntryGroup.prototype.run = function (mode, context) {\r\n        return this.entry ? this.entry.run(mode, context) : _super.prototype.run.call(this, mode, context);\r\n    };\r\n    return QuickOpenEntryGroup;\r\n}(QuickOpenEntry));\r\nexport { QuickOpenEntryGroup };\r\nvar NoActionProvider = /** @class */ (function () {\r\n    function NoActionProvider() {\r\n    }\r\n    NoActionProvider.prototype.hasActions = function (tree, element) {\r\n        return false;\r\n    };\r\n    NoActionProvider.prototype.getActions = function (tree, element) {\r\n        return null;\r\n    };\r\n    return NoActionProvider;\r\n}());\r\nvar templateEntry = 'quickOpenEntry';\r\nvar templateEntryGroup = 'quickOpenEntryGroup';\r\nvar Renderer = /** @class */ (function () {\r\n    function Renderer(actionProvider, actionRunner) {\r\n        if (actionProvider === void 0) { actionProvider = new NoActionProvider(); }\r\n        this.actionProvider = actionProvider;\r\n        this.actionRunner = actionRunner;\r\n    }\r\n    Renderer.prototype.getHeight = function (entry) {\r\n        if (entry.getDetail()) {\r\n            return 44;\r\n        }\r\n        return 22;\r\n    };\r\n    Renderer.prototype.getTemplateId = function (entry) {\r\n        if (entry instanceof QuickOpenEntryGroup) {\r\n            return templateEntryGroup;\r\n        }\r\n        return templateEntry;\r\n    };\r\n    Renderer.prototype.renderTemplate = function (templateId, container, styles) {\r\n        var entryContainer = document.createElement('div');\r\n        DOM.addClass(entryContainer, 'sub-content');\r\n        container.appendChild(entryContainer);\r\n        // Entry\r\n        var row1 = DOM.$('.quick-open-row');\r\n        var row2 = DOM.$('.quick-open-row');\r\n        var entry = DOM.$('.quick-open-entry', undefined, row1, row2);\r\n        entryContainer.appendChild(entry);\r\n        // Icon\r\n        var icon = document.createElement('span');\r\n        row1.appendChild(icon);\r\n        // Label\r\n        var label = new IconLabel(row1, { supportHighlights: true, supportDescriptionHighlights: true, supportCodicons: true });\r\n        // Keybinding\r\n        var keybindingContainer = document.createElement('span');\r\n        row1.appendChild(keybindingContainer);\r\n        DOM.addClass(keybindingContainer, 'quick-open-entry-keybinding');\r\n        var keybinding = new KeybindingLabel(keybindingContainer, OS);\r\n        // Detail\r\n        var detailContainer = document.createElement('div');\r\n        row2.appendChild(detailContainer);\r\n        DOM.addClass(detailContainer, 'quick-open-entry-meta');\r\n        var detail = new HighlightedLabel(detailContainer, true);\r\n        // Entry Group\r\n        var group;\r\n        if (templateId === templateEntryGroup) {\r\n            group = document.createElement('div');\r\n            DOM.addClass(group, 'results-group');\r\n            container.appendChild(group);\r\n        }\r\n        // Actions\r\n        DOM.addClass(container, 'actions');\r\n        var actionBarContainer = document.createElement('div');\r\n        DOM.addClass(actionBarContainer, 'primary-action-bar');\r\n        container.appendChild(actionBarContainer);\r\n        var actionBar = new ActionBar(actionBarContainer, {\r\n            actionRunner: this.actionRunner\r\n        });\r\n        return {\r\n            container: container,\r\n            entry: entry,\r\n            icon: icon,\r\n            label: label,\r\n            detail: detail,\r\n            keybinding: keybinding,\r\n            group: group,\r\n            actionBar: actionBar\r\n        };\r\n    };\r\n    Renderer.prototype.renderElement = function (entry, templateId, data, styles) {\r\n        // Action Bar\r\n        if (this.actionProvider.hasActions(null, entry)) {\r\n            DOM.addClass(data.container, 'has-actions');\r\n        }\r\n        else {\r\n            DOM.removeClass(data.container, 'has-actions');\r\n        }\r\n        data.actionBar.context = entry; // make sure the context is the current element\r\n        var actions = this.actionProvider.getActions(null, entry);\r\n        if (data.actionBar.isEmpty() && actions && actions.length > 0) {\r\n            data.actionBar.push(actions, { icon: true, label: false });\r\n        }\r\n        else if (!data.actionBar.isEmpty() && (!actions || actions.length === 0)) {\r\n            data.actionBar.clear();\r\n        }\r\n        // Entry group class\r\n        if (entry instanceof QuickOpenEntryGroup && entry.getGroupLabel()) {\r\n            DOM.addClass(data.container, 'has-group-label');\r\n        }\r\n        else {\r\n            DOM.removeClass(data.container, 'has-group-label');\r\n        }\r\n        // Entry group\r\n        if (entry instanceof QuickOpenEntryGroup) {\r\n            var group = entry;\r\n            var groupData = data;\r\n            // Border\r\n            if (group.showBorder()) {\r\n                DOM.addClass(groupData.container, 'results-group-separator');\r\n                if (styles.pickerGroupBorder) {\r\n                    groupData.container.style.borderTopColor = styles.pickerGroupBorder.toString();\r\n                }\r\n            }\r\n            else {\r\n                DOM.removeClass(groupData.container, 'results-group-separator');\r\n                groupData.container.style.borderTopColor = '';\r\n            }\r\n            // Group Label\r\n            var groupLabel = group.getGroupLabel() || '';\r\n            if (groupData.group) {\r\n                groupData.group.textContent = groupLabel;\r\n                if (styles.pickerGroupForeground) {\r\n                    groupData.group.style.color = styles.pickerGroupForeground.toString();\r\n                }\r\n            }\r\n        }\r\n        // Normal Entry\r\n        if (entry instanceof QuickOpenEntry) {\r\n            var _a = entry.getHighlights(), labelHighlights = _a[0], descriptionHighlights = _a[1], detailHighlights = _a[2];\r\n            // Icon\r\n            var iconClass = entry.getIcon() ? ('quick-open-entry-icon ' + entry.getIcon()) : '';\r\n            data.icon.className = iconClass;\r\n            // Label\r\n            var options = entry.getLabelOptions() || Object.create(null);\r\n            options.matches = labelHighlights || [];\r\n            options.title = entry.getTooltip();\r\n            options.descriptionTitle = entry.getDescriptionTooltip() || entry.getDescription(); // tooltip over description because it could overflow\r\n            options.descriptionMatches = descriptionHighlights || [];\r\n            data.label.setLabel(entry.getLabel() || '', entry.getDescription(), options);\r\n            // Meta\r\n            data.detail.set(entry.getDetail(), detailHighlights);\r\n            // Keybinding\r\n            data.keybinding.set(entry.getKeybinding());\r\n        }\r\n    };\r\n    Renderer.prototype.disposeTemplate = function (templateId, templateData) {\r\n        templateData.actionBar.dispose();\r\n        templateData.actionBar = null;\r\n        templateData.container = null;\r\n        templateData.entry = null;\r\n        templateData.keybinding = null;\r\n        templateData.detail = null;\r\n        templateData.group = null;\r\n        templateData.icon = null;\r\n        templateData.label.dispose();\r\n        templateData.label = null;\r\n    };\r\n    return Renderer;\r\n}());\r\nvar QuickOpenModel = /** @class */ (function () {\r\n    function QuickOpenModel(entries, actionProvider) {\r\n        if (entries === void 0) { entries = []; }\r\n        if (actionProvider === void 0) { actionProvider = new NoActionProvider(); }\r\n        this._entries = entries;\r\n        this._dataSource = this;\r\n        this._renderer = new Renderer(actionProvider);\r\n        this._filter = this;\r\n        this._runner = this;\r\n        this._accessibilityProvider = this;\r\n    }\r\n    Object.defineProperty(QuickOpenModel.prototype, \"entries\", {\r\n        get: function () { return this._entries; },\r\n        set: function (entries) {\r\n            this._entries = entries;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"dataSource\", {\r\n        get: function () { return this._dataSource; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"renderer\", {\r\n        get: function () { return this._renderer; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"filter\", {\r\n        get: function () { return this._filter; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"runner\", {\r\n        get: function () { return this._runner; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"accessibilityProvider\", {\r\n        get: function () { return this._accessibilityProvider; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    QuickOpenModel.prototype.getId = function (entry) {\r\n        return entry.getId();\r\n    };\r\n    QuickOpenModel.prototype.getLabel = function (entry) {\r\n        return types.withUndefinedAsNull(entry.getLabel());\r\n    };\r\n    QuickOpenModel.prototype.getAriaLabel = function (entry) {\r\n        var ariaLabel = entry.getAriaLabel();\r\n        if (ariaLabel) {\r\n            return nls.localize('quickOpenAriaLabelEntry', \"{0}, picker\", entry.getAriaLabel());\r\n        }\r\n        return nls.localize('quickOpenAriaLabel', \"picker\");\r\n    };\r\n    QuickOpenModel.prototype.isVisible = function (entry) {\r\n        return !entry.isHidden();\r\n    };\r\n    QuickOpenModel.prototype.run = function (entry, mode, context) {\r\n        return entry.run(mode, context);\r\n    };\r\n    return QuickOpenModel;\r\n}());\r\nexport { QuickOpenModel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { isFunction } from '../../../common/types.js';\r\nvar DataSource = /** @class */ (function () {\r\n    function DataSource(arg) {\r\n        this.modelProvider = isFunction(arg.getModel) ? arg : { getModel: function () { return arg; } };\r\n    }\r\n    DataSource.prototype.getId = function (tree, element) {\r\n        if (!element) {\r\n            return null;\r\n        }\r\n        var model = this.modelProvider.getModel();\r\n        return model === element ? '__root__' : model.dataSource.getId(element);\r\n    };\r\n    DataSource.prototype.hasChildren = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        return !!(model && model === element && model.entries.length > 0);\r\n    };\r\n    DataSource.prototype.getChildren = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        return Promise.resolve(model === element ? model.entries : []);\r\n    };\r\n    DataSource.prototype.getParent = function (tree, element) {\r\n        return Promise.resolve(null);\r\n    };\r\n    return DataSource;\r\n}());\r\nexport { DataSource };\r\nvar AccessibilityProvider = /** @class */ (function () {\r\n    function AccessibilityProvider(modelProvider) {\r\n        this.modelProvider = modelProvider;\r\n    }\r\n    AccessibilityProvider.prototype.getAriaLabel = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        return model.accessibilityProvider ? model.accessibilityProvider.getAriaLabel(element) : null;\r\n    };\r\n    AccessibilityProvider.prototype.getPosInSet = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        var i = 0;\r\n        if (model.filter) {\r\n            for (var _i = 0, _a = model.entries; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                if (model.filter.isVisible(entry)) {\r\n                    i++;\r\n                }\r\n                if (entry === element) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            i = model.entries.indexOf(element) + 1;\r\n        }\r\n        return String(i);\r\n    };\r\n    AccessibilityProvider.prototype.getSetSize = function () {\r\n        var model = this.modelProvider.getModel();\r\n        var n = 0;\r\n        if (model.filter) {\r\n            for (var _i = 0, _a = model.entries; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                if (model.filter.isVisible(entry)) {\r\n                    n++;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            n = model.entries.length;\r\n        }\r\n        return String(n);\r\n    };\r\n    return AccessibilityProvider;\r\n}());\r\nexport { AccessibilityProvider };\r\nvar Filter = /** @class */ (function () {\r\n    function Filter(modelProvider) {\r\n        this.modelProvider = modelProvider;\r\n    }\r\n    Filter.prototype.isVisible = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        if (!model.filter) {\r\n            return true;\r\n        }\r\n        return model.filter.isVisible(element);\r\n    };\r\n    return Filter;\r\n}());\r\nexport { Filter };\r\nvar Renderer = /** @class */ (function () {\r\n    function Renderer(modelProvider, styles) {\r\n        this.modelProvider = modelProvider;\r\n        this.styles = styles;\r\n    }\r\n    Renderer.prototype.updateStyles = function (styles) {\r\n        this.styles = styles;\r\n    };\r\n    Renderer.prototype.getHeight = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        return model.renderer.getHeight(element);\r\n    };\r\n    Renderer.prototype.getTemplateId = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        return model.renderer.getTemplateId(element);\r\n    };\r\n    Renderer.prototype.renderTemplate = function (tree, templateId, container) {\r\n        var model = this.modelProvider.getModel();\r\n        return model.renderer.renderTemplate(templateId, container, this.styles);\r\n    };\r\n    Renderer.prototype.renderElement = function (tree, element, templateId, templateData) {\r\n        var model = this.modelProvider.getModel();\r\n        model.renderer.renderElement(element, templateId, templateData, this.styles);\r\n    };\r\n    Renderer.prototype.disposeTemplate = function (tree, templateId, templateData) {\r\n        var model = this.modelProvider.getModel();\r\n        model.renderer.disposeTemplate(templateId, templateData);\r\n    };\r\n    return Renderer;\r\n}());\r\nexport { Renderer };\r\n","import * as platform from '../../../common/platform.js';\r\nimport * as errors from '../../../common/errors.js';\r\nimport * as dom from '../../../browser/dom.js';\r\nimport { createKeybinding } from '../../../common/keyCodes.js';\r\nvar KeybindingDispatcher = /** @class */ (function () {\r\n    function KeybindingDispatcher() {\r\n        this._arr = [];\r\n    }\r\n    KeybindingDispatcher.prototype.set = function (keybinding, callback) {\r\n        this._arr.push({\r\n            keybinding: createKeybinding(keybinding, platform.OS),\r\n            callback: callback\r\n        });\r\n    };\r\n    KeybindingDispatcher.prototype.dispatch = function (keybinding) {\r\n        // Loop from the last to the first to handle overwrites\r\n        for (var i = this._arr.length - 1; i >= 0; i--) {\r\n            var item = this._arr[i];\r\n            if (keybinding.toChord().equals(item.keybinding)) {\r\n                return item.callback;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return KeybindingDispatcher;\r\n}());\r\nexport { KeybindingDispatcher };\r\nvar DefaultController = /** @class */ (function () {\r\n    function DefaultController(options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = { clickBehavior: 0 /* ON_MOUSE_DOWN */, keyboardSupport: true, openMode: 0 /* SINGLE_CLICK */ }; }\r\n        this.options = options;\r\n        this.downKeyBindingDispatcher = new KeybindingDispatcher();\r\n        this.upKeyBindingDispatcher = new KeybindingDispatcher();\r\n        if (typeof options.keyboardSupport !== 'boolean' || options.keyboardSupport) {\r\n            this.downKeyBindingDispatcher.set(16 /* UpArrow */, function (t, e) { return _this.onUp(t, e); });\r\n            this.downKeyBindingDispatcher.set(18 /* DownArrow */, function (t, e) { return _this.onDown(t, e); });\r\n            this.downKeyBindingDispatcher.set(15 /* LeftArrow */, function (t, e) { return _this.onLeft(t, e); });\r\n            this.downKeyBindingDispatcher.set(17 /* RightArrow */, function (t, e) { return _this.onRight(t, e); });\r\n            if (platform.isMacintosh) {\r\n                this.downKeyBindingDispatcher.set(2048 /* CtrlCmd */ | 16 /* UpArrow */, function (t, e) { return _this.onLeft(t, e); });\r\n                this.downKeyBindingDispatcher.set(256 /* WinCtrl */ | 44 /* KEY_N */, function (t, e) { return _this.onDown(t, e); });\r\n                this.downKeyBindingDispatcher.set(256 /* WinCtrl */ | 46 /* KEY_P */, function (t, e) { return _this.onUp(t, e); });\r\n            }\r\n            this.downKeyBindingDispatcher.set(11 /* PageUp */, function (t, e) { return _this.onPageUp(t, e); });\r\n            this.downKeyBindingDispatcher.set(12 /* PageDown */, function (t, e) { return _this.onPageDown(t, e); });\r\n            this.downKeyBindingDispatcher.set(14 /* Home */, function (t, e) { return _this.onHome(t, e); });\r\n            this.downKeyBindingDispatcher.set(13 /* End */, function (t, e) { return _this.onEnd(t, e); });\r\n            this.downKeyBindingDispatcher.set(10 /* Space */, function (t, e) { return _this.onSpace(t, e); });\r\n            this.downKeyBindingDispatcher.set(9 /* Escape */, function (t, e) { return _this.onEscape(t, e); });\r\n            this.upKeyBindingDispatcher.set(3 /* Enter */, this.onEnter.bind(this));\r\n            this.upKeyBindingDispatcher.set(2048 /* CtrlCmd */ | 3 /* Enter */, this.onEnter.bind(this));\r\n        }\r\n    }\r\n    DefaultController.prototype.onMouseDown = function (tree, element, event, origin) {\r\n        if (origin === void 0) { origin = 'mouse'; }\r\n        if (this.options.clickBehavior === 0 /* ON_MOUSE_DOWN */ && (event.leftButton || event.middleButton)) {\r\n            if (event.target) {\r\n                if (event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\r\n                    return false; // Ignore event if target is a form input field (avoids browser specific issues)\r\n                }\r\n                if (dom.findParentWithClass(event.target, 'scrollbar', 'monaco-tree')) {\r\n                    return false;\r\n                }\r\n                if (dom.findParentWithClass(event.target, 'monaco-action-bar', 'row')) { // TODO@Joao not very nice way of checking for the action bar (implicit knowledge)\r\n                    return false; // Ignore event if target is over an action bar of the row\r\n                }\r\n            }\r\n            // Propagate to onLeftClick now\r\n            return this.onLeftClick(tree, element, event, origin);\r\n        }\r\n        return false;\r\n    };\r\n    DefaultController.prototype.onClick = function (tree, element, event) {\r\n        var isMac = platform.isMacintosh;\r\n        // A Ctrl click on the Mac is a context menu event\r\n        if (isMac && event.ctrlKey) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            return false;\r\n        }\r\n        if (event.target && event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\r\n            return false; // Ignore event if target is a form input field (avoids browser specific issues)\r\n        }\r\n        if (this.options.clickBehavior === 0 /* ON_MOUSE_DOWN */ && (event.leftButton || event.middleButton)) {\r\n            return false; // Already handled by onMouseDown\r\n        }\r\n        return this.onLeftClick(tree, element, event);\r\n    };\r\n    DefaultController.prototype.onLeftClick = function (tree, element, eventish, origin) {\r\n        if (origin === void 0) { origin = 'mouse'; }\r\n        var event = eventish;\r\n        var payload = { origin: origin, originalEvent: eventish, didClickOnTwistie: this.isClickOnTwistie(event) };\r\n        if (tree.getInput() === element) {\r\n            tree.clearFocus(payload);\r\n            tree.clearSelection(payload);\r\n        }\r\n        else {\r\n            var isSingleMouseDown = eventish && event.browserEvent && event.browserEvent.type === 'mousedown' && event.browserEvent.detail === 1;\r\n            if (!isSingleMouseDown) {\r\n                eventish.preventDefault(); // we cannot preventDefault onMouseDown with single click because this would break DND otherwise\r\n            }\r\n            eventish.stopPropagation();\r\n            tree.domFocus();\r\n            tree.setSelection([element], payload);\r\n            tree.setFocus(element, payload);\r\n            if (this.shouldToggleExpansion(element, event, origin)) {\r\n                if (tree.isExpanded(element)) {\r\n                    tree.collapse(element).then(undefined, errors.onUnexpectedError);\r\n                }\r\n                else {\r\n                    tree.expand(element).then(undefined, errors.onUnexpectedError);\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.shouldToggleExpansion = function (element, event, origin) {\r\n        var isDoubleClick = (origin === 'mouse' && event.detail === 2);\r\n        return this.openOnSingleClick || isDoubleClick || this.isClickOnTwistie(event);\r\n    };\r\n    Object.defineProperty(DefaultController.prototype, \"openOnSingleClick\", {\r\n        get: function () {\r\n            return this.options.openMode === 0 /* SINGLE_CLICK */;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    DefaultController.prototype.isClickOnTwistie = function (event) {\r\n        var element = event.target;\r\n        if (!dom.hasClass(element, 'content')) {\r\n            return false;\r\n        }\r\n        var twistieStyle = window.getComputedStyle(element, ':before');\r\n        if (twistieStyle.backgroundImage === 'none' || twistieStyle.display === 'none') {\r\n            return false;\r\n        }\r\n        var twistieWidth = parseInt(twistieStyle.width) + parseInt(twistieStyle.paddingRight);\r\n        return event.browserEvent.offsetX <= twistieWidth;\r\n    };\r\n    DefaultController.prototype.onContextMenu = function (tree, element, event) {\r\n        if (event.target && event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\r\n            return false; // allow context menu on input fields\r\n        }\r\n        // Prevent native context menu from showing up\r\n        if (event) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n        }\r\n        return false;\r\n    };\r\n    DefaultController.prototype.onTap = function (tree, element, event) {\r\n        var target = event.initialTarget;\r\n        if (target && target.tagName && target.tagName.toLowerCase() === 'input') {\r\n            return false; // Ignore event if target is a form input field (avoids browser specific issues)\r\n        }\r\n        return this.onLeftClick(tree, element, event, 'touch');\r\n    };\r\n    DefaultController.prototype.onKeyDown = function (tree, event) {\r\n        return this.onKey(this.downKeyBindingDispatcher, tree, event);\r\n    };\r\n    DefaultController.prototype.onKeyUp = function (tree, event) {\r\n        return this.onKey(this.upKeyBindingDispatcher, tree, event);\r\n    };\r\n    DefaultController.prototype.onKey = function (bindings, tree, event) {\r\n        var handler = bindings.dispatch(event.toKeybinding());\r\n        if (handler) {\r\n            // TODO: TS 3.1 upgrade. Why are we checking against void?\r\n            if (handler(tree, event)) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    DefaultController.prototype.onUp = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            tree.focusPrevious(1, payload);\r\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onPageUp = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            tree.focusPreviousPage(payload);\r\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onDown = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            tree.focusNext(1, payload);\r\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onPageDown = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            tree.focusNextPage(payload);\r\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onHome = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            tree.focusFirst(payload);\r\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onEnd = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            tree.focusLast(payload);\r\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onLeft = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            var focus_1 = tree.getFocus();\r\n            tree.collapse(focus_1).then(function (didCollapse) {\r\n                if (focus_1 && !didCollapse) {\r\n                    tree.focusParent(payload);\r\n                    return tree.reveal(tree.getFocus());\r\n                }\r\n                return undefined;\r\n            }).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onRight = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            var focus_2 = tree.getFocus();\r\n            tree.expand(focus_2).then(function (didExpand) {\r\n                if (focus_2 && !didExpand) {\r\n                    tree.focusFirstChild(payload);\r\n                    return tree.reveal(tree.getFocus());\r\n                }\r\n                return undefined;\r\n            }).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onEnter = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            return false;\r\n        }\r\n        var focus = tree.getFocus();\r\n        if (focus) {\r\n            tree.setSelection([focus], payload);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onSpace = function (tree, event) {\r\n        if (tree.getHighlight()) {\r\n            return false;\r\n        }\r\n        var focus = tree.getFocus();\r\n        if (focus) {\r\n            tree.toggleExpansion(focus);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onEscape = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n            return true;\r\n        }\r\n        if (tree.getSelection().length) {\r\n            tree.clearSelection(payload);\r\n            return true;\r\n        }\r\n        if (tree.getFocus()) {\r\n            tree.clearFocus(payload);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return DefaultController;\r\n}());\r\nexport { DefaultController };\r\nvar DefaultDragAndDrop = /** @class */ (function () {\r\n    function DefaultDragAndDrop() {\r\n    }\r\n    DefaultDragAndDrop.prototype.getDragURI = function (tree, element) {\r\n        return null;\r\n    };\r\n    DefaultDragAndDrop.prototype.onDragStart = function (tree, data, originalEvent) {\r\n        return;\r\n    };\r\n    DefaultDragAndDrop.prototype.onDragOver = function (tree, data, targetElement, originalEvent) {\r\n        return null;\r\n    };\r\n    DefaultDragAndDrop.prototype.drop = function (tree, data, targetElement, originalEvent) {\r\n        return;\r\n    };\r\n    return DefaultDragAndDrop;\r\n}());\r\nexport { DefaultDragAndDrop };\r\nvar DefaultFilter = /** @class */ (function () {\r\n    function DefaultFilter() {\r\n    }\r\n    DefaultFilter.prototype.isVisible = function (tree, element) {\r\n        return true;\r\n    };\r\n    return DefaultFilter;\r\n}());\r\nexport { DefaultFilter };\r\nvar DefaultAccessibilityProvider = /** @class */ (function () {\r\n    function DefaultAccessibilityProvider() {\r\n    }\r\n    DefaultAccessibilityProvider.prototype.getAriaLabel = function (tree, element) {\r\n        return null;\r\n    };\r\n    return DefaultAccessibilityProvider;\r\n}());\r\nexport { DefaultAccessibilityProvider };\r\nvar DefaultTreestyler = /** @class */ (function () {\r\n    function DefaultTreestyler(styleElement, selectorSuffix) {\r\n        this.styleElement = styleElement;\r\n        this.selectorSuffix = selectorSuffix;\r\n    }\r\n    DefaultTreestyler.prototype.style = function (styles) {\r\n        var suffix = this.selectorSuffix ? \".\" + this.selectorSuffix : '';\r\n        var content = [];\r\n        if (styles.listFocusBackground) {\r\n            content.push(\".monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { background-color: \" + styles.listFocusBackground + \"; }\");\r\n        }\r\n        if (styles.listFocusForeground) {\r\n            content.push(\".monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { color: \" + styles.listFocusForeground + \"; }\");\r\n        }\r\n        if (styles.listActiveSelectionBackground) {\r\n            content.push(\".monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: \" + styles.listActiveSelectionBackground + \"; }\");\r\n        }\r\n        if (styles.listActiveSelectionForeground) {\r\n            content.push(\".monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: \" + styles.listActiveSelectionForeground + \"; }\");\r\n        }\r\n        if (styles.listFocusAndSelectionBackground) {\r\n            content.push(\"\\n\\t\\t\\t\\t.monaco-tree-drag-image,\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { background-color: \" + styles.listFocusAndSelectionBackground + \"; }\\n\\t\\t\\t\");\r\n        }\r\n        if (styles.listFocusAndSelectionForeground) {\r\n            content.push(\"\\n\\t\\t\\t\\t.monaco-tree-drag-image,\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { color: \" + styles.listFocusAndSelectionForeground + \"; }\\n\\t\\t\\t\");\r\n        }\r\n        if (styles.listInactiveSelectionBackground) {\r\n            content.push(\".monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: \" + styles.listInactiveSelectionBackground + \"; }\");\r\n        }\r\n        if (styles.listInactiveSelectionForeground) {\r\n            content.push(\".monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: \" + styles.listInactiveSelectionForeground + \"; }\");\r\n        }\r\n        if (styles.listHoverBackground) {\r\n            content.push(\".monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { background-color: \" + styles.listHoverBackground + \"; }\");\r\n        }\r\n        if (styles.listHoverForeground) {\r\n            content.push(\".monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { color: \" + styles.listHoverForeground + \"; }\");\r\n        }\r\n        if (styles.listDropBackground) {\r\n            content.push(\"\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-wrapper.drop-target,\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.drop-target { background-color: \" + styles.listDropBackground + \" !important; color: inherit !important; }\\n\\t\\t\\t\");\r\n        }\r\n        if (styles.listFocusOutline) {\r\n            content.push(\"\\n\\t\\t\\t\\t.monaco-tree-drag-image\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{ border: 1px solid \" + styles.listFocusOutline + \"; background: #000; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{ border: 1px solid transparent; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) \\t\\t\\t\\t\\t\\t{ border: 1px dotted \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) \\t\\t\\t\\t\\t\\t{ border: 1px solid \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted)  \\t\\t\\t\\t\\t\\t\\t{ border: 1px solid \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused)  \\t{ border: 1px dashed \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-wrapper.drop-target,\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.drop-target\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{ border: 1px dashed \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\");\r\n        }\r\n        var newStyles = content.join('\\n');\r\n        if (newStyles !== this.styleElement.innerHTML) {\r\n            this.styleElement.innerHTML = newStyles;\r\n        }\r\n    };\r\n    return DefaultTreestyler;\r\n}());\r\nexport { DefaultTreestyler };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as Assert from '../../../common/assert.js';\r\nimport { onUnexpectedError } from '../../../common/errors.js';\r\nimport { combinedDisposable, Disposable } from '../../../common/lifecycle.js';\r\nimport { Event, Emitter, EventMultiplexer, Relay } from '../../../common/event.js';\r\nvar LockData = /** @class */ (function () {\r\n    function LockData(item) {\r\n        this._onDispose = new Emitter();\r\n        this.onDispose = this._onDispose.event;\r\n        this._item = item;\r\n    }\r\n    Object.defineProperty(LockData.prototype, \"item\", {\r\n        get: function () {\r\n            return this._item;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    LockData.prototype.dispose = function () {\r\n        if (this._onDispose) {\r\n            this._onDispose.fire();\r\n            this._onDispose.dispose();\r\n            this._onDispose = undefined;\r\n        }\r\n    };\r\n    return LockData;\r\n}());\r\nexport { LockData };\r\nvar Lock = /** @class */ (function () {\r\n    function Lock() {\r\n        this.locks = Object.create({});\r\n    }\r\n    Lock.prototype.isLocked = function (item) {\r\n        return !!this.locks[item.id];\r\n    };\r\n    Lock.prototype.run = function (item, fn) {\r\n        var _this = this;\r\n        var lock = this.getLock(item);\r\n        if (lock) {\r\n            return new Promise(function (c, e) {\r\n                Event.once(lock.onDispose)(function () {\r\n                    return _this.run(item, fn).then(c, e);\r\n                });\r\n            });\r\n        }\r\n        var result;\r\n        return new Promise(function (c, e) {\r\n            if (item.isDisposed()) {\r\n                return e(new Error('Item is disposed.'));\r\n            }\r\n            var lock = _this.locks[item.id] = new LockData(item);\r\n            result = fn().then(function (r) {\r\n                delete _this.locks[item.id];\r\n                lock.dispose();\r\n                return r;\r\n            }).then(c, e);\r\n            return result;\r\n        });\r\n    };\r\n    Lock.prototype.getLock = function (item) {\r\n        var key;\r\n        for (key in this.locks) {\r\n            var lock = this.locks[key];\r\n            if (item.intersects(lock.item)) {\r\n                return lock;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return Lock;\r\n}());\r\nexport { Lock };\r\nvar ItemRegistry = /** @class */ (function () {\r\n    function ItemRegistry() {\r\n        this._isDisposed = false;\r\n        this._onDidRevealItem = new EventMultiplexer();\r\n        this.onDidRevealItem = this._onDidRevealItem.event;\r\n        this._onExpandItem = new EventMultiplexer();\r\n        this.onExpandItem = this._onExpandItem.event;\r\n        this._onDidExpandItem = new EventMultiplexer();\r\n        this.onDidExpandItem = this._onDidExpandItem.event;\r\n        this._onCollapseItem = new EventMultiplexer();\r\n        this.onCollapseItem = this._onCollapseItem.event;\r\n        this._onDidCollapseItem = new EventMultiplexer();\r\n        this.onDidCollapseItem = this._onDidCollapseItem.event;\r\n        this._onDidAddTraitItem = new EventMultiplexer();\r\n        this.onDidAddTraitItem = this._onDidAddTraitItem.event;\r\n        this._onDidRemoveTraitItem = new EventMultiplexer();\r\n        this.onDidRemoveTraitItem = this._onDidRemoveTraitItem.event;\r\n        this._onDidRefreshItem = new EventMultiplexer();\r\n        this.onDidRefreshItem = this._onDidRefreshItem.event;\r\n        this._onRefreshItemChildren = new EventMultiplexer();\r\n        this.onRefreshItemChildren = this._onRefreshItemChildren.event;\r\n        this._onDidRefreshItemChildren = new EventMultiplexer();\r\n        this.onDidRefreshItemChildren = this._onDidRefreshItemChildren.event;\r\n        this._onDidDisposeItem = new EventMultiplexer();\r\n        this.onDidDisposeItem = this._onDidDisposeItem.event;\r\n        this.items = {};\r\n    }\r\n    ItemRegistry.prototype.register = function (item) {\r\n        Assert.ok(!this.isRegistered(item.id), 'item already registered: ' + item.id);\r\n        var disposable = combinedDisposable(this._onDidRevealItem.add(item.onDidReveal), this._onExpandItem.add(item.onExpand), this._onDidExpandItem.add(item.onDidExpand), this._onCollapseItem.add(item.onCollapse), this._onDidCollapseItem.add(item.onDidCollapse), this._onDidAddTraitItem.add(item.onDidAddTrait), this._onDidRemoveTraitItem.add(item.onDidRemoveTrait), this._onDidRefreshItem.add(item.onDidRefresh), this._onRefreshItemChildren.add(item.onRefreshChildren), this._onDidRefreshItemChildren.add(item.onDidRefreshChildren), this._onDidDisposeItem.add(item.onDidDispose));\r\n        this.items[item.id] = { item: item, disposable: disposable };\r\n    };\r\n    ItemRegistry.prototype.deregister = function (item) {\r\n        Assert.ok(this.isRegistered(item.id), 'item not registered: ' + item.id);\r\n        this.items[item.id].disposable.dispose();\r\n        delete this.items[item.id];\r\n    };\r\n    ItemRegistry.prototype.isRegistered = function (id) {\r\n        return this.items.hasOwnProperty(id);\r\n    };\r\n    ItemRegistry.prototype.getItem = function (id) {\r\n        var result = this.items[id];\r\n        return result ? result.item : null;\r\n    };\r\n    ItemRegistry.prototype.dispose = function () {\r\n        this.items = {};\r\n        this._onDidRevealItem.dispose();\r\n        this._onExpandItem.dispose();\r\n        this._onDidExpandItem.dispose();\r\n        this._onCollapseItem.dispose();\r\n        this._onDidCollapseItem.dispose();\r\n        this._onDidAddTraitItem.dispose();\r\n        this._onDidRemoveTraitItem.dispose();\r\n        this._onDidRefreshItem.dispose();\r\n        this._onRefreshItemChildren.dispose();\r\n        this._onDidRefreshItemChildren.dispose();\r\n        this._isDisposed = true;\r\n    };\r\n    ItemRegistry.prototype.isDisposed = function () {\r\n        return this._isDisposed;\r\n    };\r\n    return ItemRegistry;\r\n}());\r\nexport { ItemRegistry };\r\nvar Item = /** @class */ (function () {\r\n    function Item(id, registry, context, lock, element) {\r\n        this._onDidCreate = new Emitter();\r\n        this._onDidReveal = new Emitter();\r\n        this.onDidReveal = this._onDidReveal.event;\r\n        this._onExpand = new Emitter();\r\n        this.onExpand = this._onExpand.event;\r\n        this._onDidExpand = new Emitter();\r\n        this.onDidExpand = this._onDidExpand.event;\r\n        this._onCollapse = new Emitter();\r\n        this.onCollapse = this._onCollapse.event;\r\n        this._onDidCollapse = new Emitter();\r\n        this.onDidCollapse = this._onDidCollapse.event;\r\n        this._onDidAddTrait = new Emitter();\r\n        this.onDidAddTrait = this._onDidAddTrait.event;\r\n        this._onDidRemoveTrait = new Emitter();\r\n        this.onDidRemoveTrait = this._onDidRemoveTrait.event;\r\n        this._onDidRefresh = new Emitter();\r\n        this.onDidRefresh = this._onDidRefresh.event;\r\n        this._onRefreshChildren = new Emitter();\r\n        this.onRefreshChildren = this._onRefreshChildren.event;\r\n        this._onDidRefreshChildren = new Emitter();\r\n        this.onDidRefreshChildren = this._onDidRefreshChildren.event;\r\n        this._onDidDispose = new Emitter();\r\n        this.onDidDispose = this._onDidDispose.event;\r\n        this.registry = registry;\r\n        this.context = context;\r\n        this.lock = lock;\r\n        this.element = element;\r\n        this.id = id;\r\n        this.registry.register(this);\r\n        this.doesHaveChildren = this.context.dataSource.hasChildren(this.context.tree, this.element);\r\n        this.needsChildrenRefresh = true;\r\n        this.parent = null;\r\n        this.previous = null;\r\n        this.next = null;\r\n        this.firstChild = null;\r\n        this.lastChild = null;\r\n        this.traits = {};\r\n        this.depth = 0;\r\n        this.expanded = !!(this.context.dataSource.shouldAutoexpand && this.context.dataSource.shouldAutoexpand(this.context.tree, element));\r\n        this._onDidCreate.fire(this);\r\n        this.visible = this._isVisible();\r\n        this.height = this._getHeight();\r\n        this._isDisposed = false;\r\n    }\r\n    Item.prototype.getElement = function () {\r\n        return this.element;\r\n    };\r\n    Item.prototype.hasChildren = function () {\r\n        return this.doesHaveChildren;\r\n    };\r\n    Item.prototype.getDepth = function () {\r\n        return this.depth;\r\n    };\r\n    Item.prototype.isVisible = function () {\r\n        return this.visible;\r\n    };\r\n    Item.prototype.setVisible = function (value) {\r\n        this.visible = value;\r\n    };\r\n    Item.prototype.isExpanded = function () {\r\n        return this.expanded;\r\n    };\r\n    /* protected */ Item.prototype._setExpanded = function (value) {\r\n        this.expanded = value;\r\n    };\r\n    Item.prototype.reveal = function (relativeTop) {\r\n        if (relativeTop === void 0) { relativeTop = null; }\r\n        var eventData = { item: this, relativeTop: relativeTop };\r\n        this._onDidReveal.fire(eventData);\r\n    };\r\n    Item.prototype.expand = function () {\r\n        var _this = this;\r\n        if (this.isExpanded() || !this.doesHaveChildren || this.lock.isLocked(this)) {\r\n            return Promise.resolve(false);\r\n        }\r\n        var result = this.lock.run(this, function () {\r\n            if (_this.isExpanded() || !_this.doesHaveChildren) {\r\n                return Promise.resolve(false);\r\n            }\r\n            var eventData = { item: _this };\r\n            var result;\r\n            _this._onExpand.fire(eventData);\r\n            if (_this.needsChildrenRefresh) {\r\n                result = _this.refreshChildren(false, true, true);\r\n            }\r\n            else {\r\n                result = Promise.resolve(null);\r\n            }\r\n            return result.then(function () {\r\n                _this._setExpanded(true);\r\n                _this._onDidExpand.fire(eventData);\r\n                return true;\r\n            });\r\n        });\r\n        return result.then(function (r) {\r\n            if (_this.isDisposed()) {\r\n                return false;\r\n            }\r\n            // Auto expand single child folders\r\n            if (_this.context.options.autoExpandSingleChildren && r && _this.firstChild !== null && _this.firstChild === _this.lastChild && _this.firstChild.isVisible()) {\r\n                return _this.firstChild.expand().then(function () { return true; });\r\n            }\r\n            return r;\r\n        });\r\n    };\r\n    Item.prototype.collapse = function (recursive) {\r\n        var _this = this;\r\n        if (recursive === void 0) { recursive = false; }\r\n        if (recursive) {\r\n            var collapseChildrenPromise_1 = Promise.resolve(null);\r\n            this.forEachChild(function (child) {\r\n                collapseChildrenPromise_1 = collapseChildrenPromise_1.then(function () { return child.collapse(true); });\r\n            });\r\n            return collapseChildrenPromise_1.then(function () {\r\n                return _this.collapse(false);\r\n            });\r\n        }\r\n        else {\r\n            if (!this.isExpanded() || this.lock.isLocked(this)) {\r\n                return Promise.resolve(false);\r\n            }\r\n            return this.lock.run(this, function () {\r\n                var eventData = { item: _this };\r\n                _this._onCollapse.fire(eventData);\r\n                _this._setExpanded(false);\r\n                _this._onDidCollapse.fire(eventData);\r\n                return Promise.resolve(true);\r\n            });\r\n        }\r\n    };\r\n    Item.prototype.addTrait = function (trait) {\r\n        var eventData = { item: this, trait: trait };\r\n        this.traits[trait] = true;\r\n        this._onDidAddTrait.fire(eventData);\r\n    };\r\n    Item.prototype.removeTrait = function (trait) {\r\n        var eventData = { item: this, trait: trait };\r\n        delete this.traits[trait];\r\n        this._onDidRemoveTrait.fire(eventData);\r\n    };\r\n    Item.prototype.hasTrait = function (trait) {\r\n        return this.traits[trait] || false;\r\n    };\r\n    Item.prototype.getAllTraits = function () {\r\n        var result = [];\r\n        var trait;\r\n        for (trait in this.traits) {\r\n            if (this.traits.hasOwnProperty(trait) && this.traits[trait]) {\r\n                result.push(trait);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    Item.prototype.getHeight = function () {\r\n        return this.height;\r\n    };\r\n    Item.prototype.refreshChildren = function (recursive, safe, force) {\r\n        var _this = this;\r\n        if (safe === void 0) { safe = false; }\r\n        if (force === void 0) { force = false; }\r\n        if (!force && !this.isExpanded()) {\r\n            var setNeedsChildrenRefresh_1 = function (item) {\r\n                item.needsChildrenRefresh = true;\r\n                item.forEachChild(setNeedsChildrenRefresh_1);\r\n            };\r\n            setNeedsChildrenRefresh_1(this);\r\n            return Promise.resolve(this);\r\n        }\r\n        this.needsChildrenRefresh = false;\r\n        var doRefresh = function () {\r\n            var eventData = { item: _this, isNested: safe };\r\n            _this._onRefreshChildren.fire(eventData);\r\n            var childrenPromise;\r\n            if (_this.doesHaveChildren) {\r\n                childrenPromise = _this.context.dataSource.getChildren(_this.context.tree, _this.element);\r\n            }\r\n            else {\r\n                childrenPromise = Promise.resolve([]);\r\n            }\r\n            var result = childrenPromise.then(function (elements) {\r\n                if (_this.isDisposed() || _this.registry.isDisposed()) {\r\n                    return Promise.resolve(null);\r\n                }\r\n                if (!Array.isArray(elements)) {\r\n                    return Promise.reject(new Error('Please return an array of children.'));\r\n                }\r\n                elements = !elements ? [] : elements.slice(0);\r\n                elements = _this.sort(elements);\r\n                var staleItems = {};\r\n                while (_this.firstChild !== null) {\r\n                    staleItems[_this.firstChild.id] = _this.firstChild;\r\n                    _this.removeChild(_this.firstChild);\r\n                }\r\n                for (var i = 0, len = elements.length; i < len; i++) {\r\n                    var element = elements[i];\r\n                    var id = _this.context.dataSource.getId(_this.context.tree, element);\r\n                    var item = staleItems[id] || new Item(id, _this.registry, _this.context, _this.lock, element);\r\n                    item.element = element;\r\n                    if (recursive) {\r\n                        item.needsChildrenRefresh = recursive;\r\n                    }\r\n                    delete staleItems[id];\r\n                    _this.addChild(item);\r\n                }\r\n                for (var staleItemId in staleItems) {\r\n                    if (staleItems.hasOwnProperty(staleItemId)) {\r\n                        staleItems[staleItemId].dispose();\r\n                    }\r\n                }\r\n                if (recursive) {\r\n                    return Promise.all(_this.mapEachChild(function (child) {\r\n                        return child.doRefresh(recursive, true);\r\n                    }));\r\n                }\r\n                else {\r\n                    return Promise.all(_this.mapEachChild(function (child) {\r\n                        if (child.isExpanded() && child.needsChildrenRefresh) {\r\n                            return child.doRefresh(recursive, true);\r\n                        }\r\n                        else {\r\n                            child.updateVisibility();\r\n                            return Promise.resolve(null);\r\n                        }\r\n                    }));\r\n                }\r\n            });\r\n            return result\r\n                .then(undefined, onUnexpectedError)\r\n                .then(function () { return _this._onDidRefreshChildren.fire(eventData); });\r\n        };\r\n        return safe ? doRefresh() : this.lock.run(this, doRefresh);\r\n    };\r\n    Item.prototype.doRefresh = function (recursive, safe) {\r\n        if (safe === void 0) { safe = false; }\r\n        this.doesHaveChildren = this.context.dataSource.hasChildren(this.context.tree, this.element);\r\n        this.height = this._getHeight();\r\n        this.updateVisibility();\r\n        this._onDidRefresh.fire(this);\r\n        return this.refreshChildren(recursive, safe);\r\n    };\r\n    Item.prototype.updateVisibility = function () {\r\n        this.setVisible(this._isVisible());\r\n    };\r\n    Item.prototype.refresh = function (recursive) {\r\n        return this.doRefresh(recursive);\r\n    };\r\n    Item.prototype.getNavigator = function () {\r\n        return new TreeNavigator(this);\r\n    };\r\n    Item.prototype.intersects = function (other) {\r\n        return this.isAncestorOf(other) || other.isAncestorOf(this);\r\n    };\r\n    Item.prototype.isAncestorOf = function (startItem) {\r\n        var item = startItem;\r\n        while (item) {\r\n            if (item.id === this.id) {\r\n                return true;\r\n            }\r\n            item = item.parent;\r\n        }\r\n        return false;\r\n    };\r\n    Item.prototype.addChild = function (item, afterItem) {\r\n        if (afterItem === void 0) { afterItem = this.lastChild; }\r\n        var isEmpty = this.firstChild === null;\r\n        var atHead = afterItem === null;\r\n        var atTail = afterItem === this.lastChild;\r\n        if (isEmpty) {\r\n            this.firstChild = this.lastChild = item;\r\n            item.next = item.previous = null;\r\n        }\r\n        else if (atHead) {\r\n            if (!this.firstChild) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            this.firstChild.previous = item;\r\n            item.next = this.firstChild;\r\n            item.previous = null;\r\n            this.firstChild = item;\r\n        }\r\n        else if (atTail) {\r\n            if (!this.lastChild) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            this.lastChild.next = item;\r\n            item.next = null;\r\n            item.previous = this.lastChild;\r\n            this.lastChild = item;\r\n        }\r\n        else {\r\n            item.previous = afterItem;\r\n            if (!afterItem) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            item.next = afterItem.next;\r\n            if (!afterItem.next) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            afterItem.next.previous = item;\r\n            afterItem.next = item;\r\n        }\r\n        item.parent = this;\r\n        item.depth = this.depth + 1;\r\n    };\r\n    Item.prototype.removeChild = function (item) {\r\n        var isFirstChild = this.firstChild === item;\r\n        var isLastChild = this.lastChild === item;\r\n        if (isFirstChild && isLastChild) {\r\n            this.firstChild = this.lastChild = null;\r\n        }\r\n        else if (isFirstChild) {\r\n            if (!item.next) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            item.next.previous = null;\r\n            this.firstChild = item.next;\r\n        }\r\n        else if (isLastChild) {\r\n            if (!item.previous) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            item.previous.next = null;\r\n            this.lastChild = item.previous;\r\n        }\r\n        else {\r\n            if (!item.next) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            item.next.previous = item.previous;\r\n            if (!item.previous) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            item.previous.next = item.next;\r\n        }\r\n        item.parent = null;\r\n        item.depth = NaN;\r\n    };\r\n    Item.prototype.forEachChild = function (fn) {\r\n        var child = this.firstChild;\r\n        var next;\r\n        while (child) {\r\n            next = child.next;\r\n            fn(child);\r\n            child = next;\r\n        }\r\n    };\r\n    Item.prototype.mapEachChild = function (fn) {\r\n        var result = [];\r\n        this.forEachChild(function (child) {\r\n            result.push(fn(child));\r\n        });\r\n        return result;\r\n    };\r\n    Item.prototype.sort = function (elements) {\r\n        var _this = this;\r\n        var sorter = this.context.sorter;\r\n        if (sorter) {\r\n            return elements.sort(function (element, otherElement) {\r\n                return sorter.compare(_this.context.tree, element, otherElement);\r\n            });\r\n        }\r\n        return elements;\r\n    };\r\n    /* protected */ Item.prototype._getHeight = function () {\r\n        if (!this.context.renderer) {\r\n            return 0;\r\n        }\r\n        return this.context.renderer.getHeight(this.context.tree, this.element);\r\n    };\r\n    /* protected */ Item.prototype._isVisible = function () {\r\n        if (!this.context.filter) {\r\n            return false;\r\n        }\r\n        return this.context.filter.isVisible(this.context.tree, this.element);\r\n    };\r\n    Item.prototype.isDisposed = function () {\r\n        return this._isDisposed;\r\n    };\r\n    Item.prototype.dispose = function () {\r\n        this.forEachChild(function (child) { return child.dispose(); });\r\n        this.parent = null;\r\n        this.previous = null;\r\n        this.next = null;\r\n        this.firstChild = null;\r\n        this.lastChild = null;\r\n        this._onDidDispose.fire(this);\r\n        this.registry.deregister(this);\r\n        this._onDidCreate.dispose();\r\n        this._onDidReveal.dispose();\r\n        this._onExpand.dispose();\r\n        this._onDidExpand.dispose();\r\n        this._onCollapse.dispose();\r\n        this._onDidCollapse.dispose();\r\n        this._onDidAddTrait.dispose();\r\n        this._onDidRemoveTrait.dispose();\r\n        this._onDidRefresh.dispose();\r\n        this._onRefreshChildren.dispose();\r\n        this._onDidRefreshChildren.dispose();\r\n        this._onDidDispose.dispose();\r\n        this._isDisposed = true;\r\n    };\r\n    return Item;\r\n}());\r\nexport { Item };\r\nvar RootItem = /** @class */ (function (_super) {\r\n    __extends(RootItem, _super);\r\n    function RootItem(id, registry, context, lock, element) {\r\n        return _super.call(this, id, registry, context, lock, element) || this;\r\n    }\r\n    RootItem.prototype.isVisible = function () {\r\n        return false;\r\n    };\r\n    RootItem.prototype.setVisible = function (value) {\r\n        // no-op\r\n    };\r\n    RootItem.prototype.isExpanded = function () {\r\n        return true;\r\n    };\r\n    /* protected */ RootItem.prototype._setExpanded = function (value) {\r\n        // no-op\r\n    };\r\n    /* protected */ RootItem.prototype._getHeight = function () {\r\n        return 0;\r\n    };\r\n    /* protected */ RootItem.prototype._isVisible = function () {\r\n        return false;\r\n    };\r\n    return RootItem;\r\n}(Item));\r\nvar TreeNavigator = /** @class */ (function () {\r\n    function TreeNavigator(item, subTreeOnly) {\r\n        if (subTreeOnly === void 0) { subTreeOnly = true; }\r\n        this.item = item;\r\n        this.start = subTreeOnly ? item : null;\r\n    }\r\n    TreeNavigator.lastDescendantOf = function (item) {\r\n        if (!item) {\r\n            return null;\r\n        }\r\n        if (item instanceof RootItem) {\r\n            return TreeNavigator.lastDescendantOf(item.lastChild);\r\n        }\r\n        if (!item.isVisible()) {\r\n            return TreeNavigator.lastDescendantOf(item.previous);\r\n        }\r\n        if (!item.isExpanded() || item.lastChild === null) {\r\n            return item;\r\n        }\r\n        return TreeNavigator.lastDescendantOf(item.lastChild);\r\n    };\r\n    TreeNavigator.prototype.current = function () {\r\n        return this.item || null;\r\n    };\r\n    TreeNavigator.prototype.next = function () {\r\n        if (this.item) {\r\n            do {\r\n                if ((this.item instanceof RootItem || (this.item.isVisible() && this.item.isExpanded())) && this.item.firstChild) {\r\n                    this.item = this.item.firstChild;\r\n                }\r\n                else if (this.item === this.start) {\r\n                    this.item = null;\r\n                }\r\n                else {\r\n                    // select next brother, next uncle, next great-uncle, etc...\r\n                    while (this.item && this.item !== this.start && !this.item.next) {\r\n                        this.item = this.item.parent;\r\n                    }\r\n                    if (this.item === this.start) {\r\n                        this.item = null;\r\n                    }\r\n                    this.item = !this.item ? null : this.item.next;\r\n                }\r\n            } while (this.item && !this.item.isVisible());\r\n        }\r\n        return this.item || null;\r\n    };\r\n    TreeNavigator.prototype.previous = function () {\r\n        if (this.item) {\r\n            do {\r\n                var previous = TreeNavigator.lastDescendantOf(this.item.previous);\r\n                if (previous) {\r\n                    this.item = previous;\r\n                }\r\n                else if (this.item.parent && this.item.parent !== this.start && this.item.parent.isVisible()) {\r\n                    this.item = this.item.parent;\r\n                }\r\n                else {\r\n                    this.item = null;\r\n                }\r\n            } while (this.item && !this.item.isVisible());\r\n        }\r\n        return this.item || null;\r\n    };\r\n    TreeNavigator.prototype.parent = function () {\r\n        if (this.item) {\r\n            var parent_1 = this.item.parent;\r\n            if (parent_1 && parent_1 !== this.start && parent_1.isVisible()) {\r\n                this.item = parent_1;\r\n            }\r\n            else {\r\n                this.item = null;\r\n            }\r\n        }\r\n        return this.item || null;\r\n    };\r\n    TreeNavigator.prototype.first = function () {\r\n        this.item = this.start;\r\n        this.next();\r\n        return this.item || null;\r\n    };\r\n    TreeNavigator.prototype.last = function () {\r\n        return TreeNavigator.lastDescendantOf(this.start);\r\n    };\r\n    return TreeNavigator;\r\n}());\r\nexport { TreeNavigator };\r\nvar TreeModel = /** @class */ (function () {\r\n    function TreeModel(context) {\r\n        this.registry = new ItemRegistry();\r\n        this.registryDisposable = Disposable.None;\r\n        this._onSetInput = new Emitter();\r\n        this.onSetInput = this._onSetInput.event;\r\n        this._onDidSetInput = new Emitter();\r\n        this.onDidSetInput = this._onDidSetInput.event;\r\n        this._onRefresh = new Emitter();\r\n        this.onRefresh = this._onRefresh.event;\r\n        this._onDidRefresh = new Emitter();\r\n        this.onDidRefresh = this._onDidRefresh.event;\r\n        this._onDidHighlight = new Emitter();\r\n        this.onDidHighlight = this._onDidHighlight.event;\r\n        this._onDidSelect = new Emitter();\r\n        this.onDidSelect = this._onDidSelect.event;\r\n        this._onDidFocus = new Emitter();\r\n        this.onDidFocus = this._onDidFocus.event;\r\n        this._onDidRevealItem = new Relay();\r\n        this.onDidRevealItem = this._onDidRevealItem.event;\r\n        this._onExpandItem = new Relay();\r\n        this.onExpandItem = this._onExpandItem.event;\r\n        this._onDidExpandItem = new Relay();\r\n        this.onDidExpandItem = this._onDidExpandItem.event;\r\n        this._onCollapseItem = new Relay();\r\n        this.onCollapseItem = this._onCollapseItem.event;\r\n        this._onDidCollapseItem = new Relay();\r\n        this.onDidCollapseItem = this._onDidCollapseItem.event;\r\n        this._onDidAddTraitItem = new Relay();\r\n        this.onDidAddTraitItem = this._onDidAddTraitItem.event;\r\n        this._onDidRemoveTraitItem = new Relay();\r\n        this.onDidRemoveTraitItem = this._onDidRemoveTraitItem.event;\r\n        this._onDidRefreshItem = new Relay();\r\n        this.onDidRefreshItem = this._onDidRefreshItem.event;\r\n        this._onRefreshItemChildren = new Relay();\r\n        this.onRefreshItemChildren = this._onRefreshItemChildren.event;\r\n        this._onDidRefreshItemChildren = new Relay();\r\n        this.onDidRefreshItemChildren = this._onDidRefreshItemChildren.event;\r\n        this._onDidDisposeItem = new Relay();\r\n        this.context = context;\r\n        this.input = null;\r\n        this.traitsToItems = {};\r\n    }\r\n    TreeModel.prototype.setInput = function (element) {\r\n        var _this = this;\r\n        var eventData = { item: this.input };\r\n        this._onSetInput.fire(eventData);\r\n        this.setSelection([]);\r\n        this.setFocus();\r\n        this.setHighlight();\r\n        this.lock = new Lock();\r\n        if (this.input) {\r\n            this.input.dispose();\r\n        }\r\n        if (this.registry) {\r\n            this.registry.dispose();\r\n            this.registryDisposable.dispose();\r\n        }\r\n        this.registry = new ItemRegistry();\r\n        this._onDidRevealItem.input = this.registry.onDidRevealItem;\r\n        this._onExpandItem.input = this.registry.onExpandItem;\r\n        this._onDidExpandItem.input = this.registry.onDidExpandItem;\r\n        this._onCollapseItem.input = this.registry.onCollapseItem;\r\n        this._onDidCollapseItem.input = this.registry.onDidCollapseItem;\r\n        this._onDidAddTraitItem.input = this.registry.onDidAddTraitItem;\r\n        this._onDidRemoveTraitItem.input = this.registry.onDidRemoveTraitItem;\r\n        this._onDidRefreshItem.input = this.registry.onDidRefreshItem;\r\n        this._onRefreshItemChildren.input = this.registry.onRefreshItemChildren;\r\n        this._onDidRefreshItemChildren.input = this.registry.onDidRefreshItemChildren;\r\n        this._onDidDisposeItem.input = this.registry.onDidDisposeItem;\r\n        this.registryDisposable = this.registry\r\n            .onDidDisposeItem(function (item) { return item.getAllTraits().forEach(function (trait) { return delete _this.traitsToItems[trait][item.id]; }); });\r\n        var id = this.context.dataSource.getId(this.context.tree, element);\r\n        this.input = new RootItem(id, this.registry, this.context, this.lock, element);\r\n        eventData = { item: this.input };\r\n        this._onDidSetInput.fire(eventData);\r\n        return this.refresh(this.input);\r\n    };\r\n    TreeModel.prototype.getInput = function () {\r\n        return this.input ? this.input.getElement() : null;\r\n    };\r\n    TreeModel.prototype.refresh = function (element, recursive) {\r\n        var _this = this;\r\n        if (element === void 0) { element = null; }\r\n        if (recursive === void 0) { recursive = true; }\r\n        var item = this.getItem(element);\r\n        if (!item) {\r\n            return Promise.resolve(null);\r\n        }\r\n        var eventData = { item: item, recursive: recursive };\r\n        this._onRefresh.fire(eventData);\r\n        return item.refresh(recursive).then(function () {\r\n            _this._onDidRefresh.fire(eventData);\r\n        });\r\n    };\r\n    TreeModel.prototype.expand = function (element) {\r\n        var item = this.getItem(element);\r\n        if (!item) {\r\n            return Promise.resolve(false);\r\n        }\r\n        return item.expand();\r\n    };\r\n    TreeModel.prototype.collapse = function (element, recursive) {\r\n        if (recursive === void 0) { recursive = false; }\r\n        var item = this.getItem(element);\r\n        if (!item) {\r\n            return Promise.resolve(false);\r\n        }\r\n        return item.collapse(recursive);\r\n    };\r\n    TreeModel.prototype.toggleExpansion = function (element, recursive) {\r\n        if (recursive === void 0) { recursive = false; }\r\n        return this.isExpanded(element) ? this.collapse(element, recursive) : this.expand(element);\r\n    };\r\n    TreeModel.prototype.isExpanded = function (element) {\r\n        var item = this.getItem(element);\r\n        if (!item) {\r\n            return false;\r\n        }\r\n        return item.isExpanded();\r\n    };\r\n    TreeModel.prototype.reveal = function (element, relativeTop) {\r\n        var _this = this;\r\n        if (relativeTop === void 0) { relativeTop = null; }\r\n        return this.resolveUnknownParentChain(element).then(function (chain) {\r\n            var result = Promise.resolve(null);\r\n            chain.forEach(function (e) {\r\n                result = result.then(function () { return _this.expand(e); });\r\n            });\r\n            return result;\r\n        }).then(function () {\r\n            var item = _this.getItem(element);\r\n            if (item) {\r\n                return item.reveal(relativeTop);\r\n            }\r\n        });\r\n    };\r\n    TreeModel.prototype.resolveUnknownParentChain = function (element) {\r\n        var _this = this;\r\n        return this.context.dataSource.getParent(this.context.tree, element).then(function (parent) {\r\n            if (!parent) {\r\n                return Promise.resolve([]);\r\n            }\r\n            return _this.resolveUnknownParentChain(parent).then(function (result) {\r\n                result.push(parent);\r\n                return result;\r\n            });\r\n        });\r\n    };\r\n    TreeModel.prototype.setHighlight = function (element, eventPayload) {\r\n        this.setTraits('highlighted', element ? [element] : []);\r\n        var eventData = { highlight: this.getHighlight(), payload: eventPayload };\r\n        this._onDidHighlight.fire(eventData);\r\n    };\r\n    TreeModel.prototype.getHighlight = function (includeHidden) {\r\n        if (includeHidden === void 0) { includeHidden = false; }\r\n        var result = this.getElementsWithTrait('highlighted', includeHidden);\r\n        return result.length === 0 ? null : result[0];\r\n    };\r\n    TreeModel.prototype.setSelection = function (elements, eventPayload) {\r\n        this.setTraits('selected', elements);\r\n        var eventData = { selection: this.getSelection(), payload: eventPayload };\r\n        this._onDidSelect.fire(eventData);\r\n    };\r\n    TreeModel.prototype.getSelection = function (includeHidden) {\r\n        if (includeHidden === void 0) { includeHidden = false; }\r\n        return this.getElementsWithTrait('selected', includeHidden);\r\n    };\r\n    TreeModel.prototype.setFocus = function (element, eventPayload) {\r\n        this.setTraits('focused', element ? [element] : []);\r\n        var eventData = { focus: this.getFocus(), payload: eventPayload };\r\n        this._onDidFocus.fire(eventData);\r\n    };\r\n    TreeModel.prototype.getFocus = function (includeHidden) {\r\n        if (includeHidden === void 0) { includeHidden = false; }\r\n        var result = this.getElementsWithTrait('focused', includeHidden);\r\n        return result.length === 0 ? null : result[0];\r\n    };\r\n    TreeModel.prototype.focusNext = function (count, eventPayload) {\r\n        if (count === void 0) { count = 1; }\r\n        var item = this.getFocus() || this.input;\r\n        var nextItem;\r\n        var nav = this.getNavigator(item, false);\r\n        for (var i = 0; i < count; i++) {\r\n            nextItem = nav.next();\r\n            if (!nextItem) {\r\n                break;\r\n            }\r\n            item = nextItem;\r\n        }\r\n        this.setFocus(item, eventPayload);\r\n    };\r\n    TreeModel.prototype.focusPrevious = function (count, eventPayload) {\r\n        if (count === void 0) { count = 1; }\r\n        var item = this.getFocus() || this.input;\r\n        var previousItem;\r\n        var nav = this.getNavigator(item, false);\r\n        for (var i = 0; i < count; i++) {\r\n            previousItem = nav.previous();\r\n            if (!previousItem) {\r\n                break;\r\n            }\r\n            item = previousItem;\r\n        }\r\n        this.setFocus(item, eventPayload);\r\n    };\r\n    TreeModel.prototype.focusParent = function (eventPayload) {\r\n        var item = this.getFocus() || this.input;\r\n        var nav = this.getNavigator(item, false);\r\n        var parent = nav.parent();\r\n        if (parent) {\r\n            this.setFocus(parent, eventPayload);\r\n        }\r\n    };\r\n    TreeModel.prototype.focusFirstChild = function (eventPayload) {\r\n        var item = this.getItem(this.getFocus() || this.input);\r\n        var nav = this.getNavigator(item, false);\r\n        var next = nav.next();\r\n        var parent = nav.parent();\r\n        if (parent === item) {\r\n            this.setFocus(next, eventPayload);\r\n        }\r\n    };\r\n    TreeModel.prototype.focusFirst = function (eventPayload, from) {\r\n        this.focusNth(0, eventPayload, from);\r\n    };\r\n    TreeModel.prototype.focusNth = function (index, eventPayload, from) {\r\n        var navItem = this.getParent(from);\r\n        var nav = this.getNavigator(navItem);\r\n        var item = nav.first();\r\n        for (var i = 0; i < index; i++) {\r\n            item = nav.next();\r\n        }\r\n        if (item) {\r\n            this.setFocus(item, eventPayload);\r\n        }\r\n    };\r\n    TreeModel.prototype.focusLast = function (eventPayload, from) {\r\n        var navItem = this.getParent(from);\r\n        var item;\r\n        if (from && navItem) {\r\n            item = navItem.lastChild;\r\n        }\r\n        else {\r\n            var nav = this.getNavigator(navItem);\r\n            item = nav.last();\r\n        }\r\n        if (item) {\r\n            this.setFocus(item, eventPayload);\r\n        }\r\n    };\r\n    TreeModel.prototype.getParent = function (from) {\r\n        if (from) {\r\n            var fromItem = this.getItem(from);\r\n            if (fromItem && fromItem.parent) {\r\n                return fromItem.parent;\r\n            }\r\n        }\r\n        return this.getItem(this.input);\r\n    };\r\n    TreeModel.prototype.getNavigator = function (element, subTreeOnly) {\r\n        if (element === void 0) { element = null; }\r\n        if (subTreeOnly === void 0) { subTreeOnly = true; }\r\n        return new TreeNavigator(this.getItem(element), subTreeOnly);\r\n    };\r\n    TreeModel.prototype.getItem = function (element) {\r\n        if (element === void 0) { element = null; }\r\n        if (element === null) {\r\n            return this.input;\r\n        }\r\n        else if (element instanceof Item) {\r\n            return element;\r\n        }\r\n        else if (typeof element === 'string') {\r\n            return this.registry.getItem(element);\r\n        }\r\n        else {\r\n            return this.registry.getItem(this.context.dataSource.getId(this.context.tree, element));\r\n        }\r\n    };\r\n    TreeModel.prototype.removeTraits = function (trait, elements) {\r\n        var items = this.traitsToItems[trait] || {};\r\n        var item;\r\n        var id;\r\n        if (elements.length === 0) {\r\n            for (id in items) {\r\n                if (items.hasOwnProperty(id)) {\r\n                    item = items[id];\r\n                    item.removeTrait(trait);\r\n                }\r\n            }\r\n            delete this.traitsToItems[trait];\r\n        }\r\n        else {\r\n            for (var i = 0, len = elements.length; i < len; i++) {\r\n                item = this.getItem(elements[i]);\r\n                if (item) {\r\n                    item.removeTrait(trait);\r\n                    delete items[item.id];\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TreeModel.prototype.setTraits = function (trait, elements) {\r\n        if (elements.length === 0) {\r\n            this.removeTraits(trait, elements);\r\n        }\r\n        else {\r\n            var items = {};\r\n            var item = void 0;\r\n            for (var i = 0, len = elements.length; i < len; i++) {\r\n                item = this.getItem(elements[i]);\r\n                if (item) {\r\n                    items[item.id] = item;\r\n                }\r\n            }\r\n            var traitItems = this.traitsToItems[trait] || {};\r\n            var itemsToRemoveTrait = [];\r\n            var id = void 0;\r\n            for (id in traitItems) {\r\n                if (traitItems.hasOwnProperty(id)) {\r\n                    if (items.hasOwnProperty(id)) {\r\n                        delete items[id];\r\n                    }\r\n                    else {\r\n                        itemsToRemoveTrait.push(traitItems[id]);\r\n                    }\r\n                }\r\n            }\r\n            for (var i = 0, len = itemsToRemoveTrait.length; i < len; i++) {\r\n                item = itemsToRemoveTrait[i];\r\n                item.removeTrait(trait);\r\n                delete traitItems[item.id];\r\n            }\r\n            for (id in items) {\r\n                if (items.hasOwnProperty(id)) {\r\n                    item = items[id];\r\n                    item.addTrait(trait);\r\n                    traitItems[id] = item;\r\n                }\r\n            }\r\n            this.traitsToItems[trait] = traitItems;\r\n        }\r\n    };\r\n    TreeModel.prototype.getElementsWithTrait = function (trait, includeHidden) {\r\n        var elements = [];\r\n        var items = this.traitsToItems[trait] || {};\r\n        var id;\r\n        for (id in items) {\r\n            if (items.hasOwnProperty(id) && (items[id].isVisible() || includeHidden)) {\r\n                elements.push(items[id].getElement());\r\n            }\r\n        }\r\n        return elements;\r\n    };\r\n    TreeModel.prototype.dispose = function () {\r\n        this.registry.dispose();\r\n        this._onSetInput.dispose();\r\n        this._onDidSetInput.dispose();\r\n        this._onRefresh.dispose();\r\n        this._onDidRefresh.dispose();\r\n        this._onDidHighlight.dispose();\r\n        this._onDidSelect.dispose();\r\n        this._onDidFocus.dispose();\r\n        this._onDidRevealItem.dispose();\r\n        this._onExpandItem.dispose();\r\n        this._onDidExpandItem.dispose();\r\n        this._onCollapseItem.dispose();\r\n        this._onDidCollapseItem.dispose();\r\n        this._onDidAddTraitItem.dispose();\r\n        this._onDidRemoveTraitItem.dispose();\r\n        this._onDidRefreshItem.dispose();\r\n        this._onRefreshItemChildren.dispose();\r\n        this._onDidRefreshItemChildren.dispose();\r\n        this._onDidDisposeItem.dispose();\r\n    };\r\n    return TreeModel;\r\n}());\r\nexport { TreeModel };\r\n","var ElementsDragAndDropData = /** @class */ (function () {\r\n    function ElementsDragAndDropData(elements) {\r\n        this.elements = elements;\r\n    }\r\n    ElementsDragAndDropData.prototype.update = function (dataTransfer) {\r\n        // no-op\r\n    };\r\n    ElementsDragAndDropData.prototype.getData = function () {\r\n        return this.elements;\r\n    };\r\n    return ElementsDragAndDropData;\r\n}());\r\nexport { ElementsDragAndDropData };\r\nvar ExternalElementsDragAndDropData = /** @class */ (function () {\r\n    function ExternalElementsDragAndDropData(elements) {\r\n        this.elements = elements;\r\n    }\r\n    ExternalElementsDragAndDropData.prototype.update = function (dataTransfer) {\r\n        // no-op\r\n    };\r\n    ExternalElementsDragAndDropData.prototype.getData = function () {\r\n        return this.elements;\r\n    };\r\n    return ExternalElementsDragAndDropData;\r\n}());\r\nexport { ExternalElementsDragAndDropData };\r\nvar DesktopDragAndDropData = /** @class */ (function () {\r\n    function DesktopDragAndDropData() {\r\n        this.types = [];\r\n        this.files = [];\r\n    }\r\n    DesktopDragAndDropData.prototype.update = function (dataTransfer) {\r\n        if (dataTransfer.types) {\r\n            this.types = [];\r\n            Array.prototype.push.apply(this.types, dataTransfer.types);\r\n        }\r\n        if (dataTransfer.files) {\r\n            this.files = [];\r\n            Array.prototype.push.apply(this.files, dataTransfer.files);\r\n            this.files = this.files.filter(function (f) { return f.size || f.type; });\r\n        }\r\n    };\r\n    DesktopDragAndDropData.prototype.getData = function () {\r\n        return {\r\n            types: this.types,\r\n            files: this.files\r\n        };\r\n    };\r\n    return DesktopDragAndDropData;\r\n}());\r\nexport { DesktopDragAndDropData };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { ArrayIterator } from '../../../common/iterator.js';\r\nvar HeightMap = /** @class */ (function () {\r\n    function HeightMap() {\r\n        this.heightMap = [];\r\n        this.indexes = {};\r\n    }\r\n    HeightMap.prototype.getContentHeight = function () {\r\n        var last = this.heightMap[this.heightMap.length - 1];\r\n        return !last ? 0 : last.top + last.height;\r\n    };\r\n    HeightMap.prototype.onInsertItems = function (iterator, afterItemId) {\r\n        if (afterItemId === void 0) { afterItemId = null; }\r\n        var item = null;\r\n        var viewItem;\r\n        var i, j;\r\n        var totalSize;\r\n        var sizeDiff = 0;\r\n        if (afterItemId === null) {\r\n            i = 0;\r\n            totalSize = 0;\r\n        }\r\n        else {\r\n            i = this.indexes[afterItemId] + 1;\r\n            viewItem = this.heightMap[i - 1];\r\n            if (!viewItem) {\r\n                console.error('view item doesnt exist');\r\n                return undefined;\r\n            }\r\n            totalSize = viewItem.top + viewItem.height;\r\n        }\r\n        var boundSplice = this.heightMap.splice.bind(this.heightMap, i, 0);\r\n        var itemsToInsert = [];\r\n        while (item = iterator.next()) {\r\n            viewItem = this.createViewItem(item);\r\n            viewItem.top = totalSize + sizeDiff;\r\n            this.indexes[item.id] = i++;\r\n            itemsToInsert.push(viewItem);\r\n            sizeDiff += viewItem.height;\r\n        }\r\n        boundSplice.apply(this.heightMap, itemsToInsert);\r\n        for (j = i; j < this.heightMap.length; j++) {\r\n            viewItem = this.heightMap[j];\r\n            viewItem.top += sizeDiff;\r\n            this.indexes[viewItem.model.id] = j;\r\n        }\r\n        for (j = itemsToInsert.length - 1; j >= 0; j--) {\r\n            this.onInsertItem(itemsToInsert[j]);\r\n        }\r\n        for (j = this.heightMap.length - 1; j >= i; j--) {\r\n            this.onRefreshItem(this.heightMap[j]);\r\n        }\r\n        return sizeDiff;\r\n    };\r\n    HeightMap.prototype.onInsertItem = function (item) {\r\n        // noop\r\n    };\r\n    // Contiguous items\r\n    HeightMap.prototype.onRemoveItems = function (iterator) {\r\n        var itemId = null;\r\n        var viewItem;\r\n        var startIndex = null;\r\n        var i = 0;\r\n        var sizeDiff = 0;\r\n        while (itemId = iterator.next()) {\r\n            i = this.indexes[itemId];\r\n            viewItem = this.heightMap[i];\r\n            if (!viewItem) {\r\n                console.error('view item doesnt exist');\r\n                return;\r\n            }\r\n            sizeDiff -= viewItem.height;\r\n            delete this.indexes[itemId];\r\n            this.onRemoveItem(viewItem);\r\n            if (startIndex === null) {\r\n                startIndex = i;\r\n            }\r\n        }\r\n        if (sizeDiff === 0 || startIndex === null) {\r\n            return;\r\n        }\r\n        this.heightMap.splice(startIndex, i - startIndex + 1);\r\n        for (i = startIndex; i < this.heightMap.length; i++) {\r\n            viewItem = this.heightMap[i];\r\n            viewItem.top += sizeDiff;\r\n            this.indexes[viewItem.model.id] = i;\r\n            this.onRefreshItem(viewItem);\r\n        }\r\n    };\r\n    HeightMap.prototype.onRemoveItem = function (item) {\r\n        // noop\r\n    };\r\n    HeightMap.prototype.onRefreshItemSet = function (items) {\r\n        var _this = this;\r\n        var sortedItems = items.sort(function (a, b) { return _this.indexes[a.id] - _this.indexes[b.id]; });\r\n        this.onRefreshItems(new ArrayIterator(sortedItems));\r\n    };\r\n    // Ordered, but not necessarily contiguous items\r\n    HeightMap.prototype.onRefreshItems = function (iterator) {\r\n        var item = null;\r\n        var viewItem;\r\n        var newHeight;\r\n        var i, j = null;\r\n        var cummDiff = 0;\r\n        while (item = iterator.next()) {\r\n            i = this.indexes[item.id];\r\n            for (; cummDiff !== 0 && j !== null && j < i; j++) {\r\n                viewItem = this.heightMap[j];\r\n                viewItem.top += cummDiff;\r\n                this.onRefreshItem(viewItem);\r\n            }\r\n            viewItem = this.heightMap[i];\r\n            newHeight = item.getHeight();\r\n            viewItem.top += cummDiff;\r\n            cummDiff += newHeight - viewItem.height;\r\n            viewItem.height = newHeight;\r\n            this.onRefreshItem(viewItem, true);\r\n            j = i + 1;\r\n        }\r\n        if (cummDiff !== 0 && j !== null) {\r\n            for (; j < this.heightMap.length; j++) {\r\n                viewItem = this.heightMap[j];\r\n                viewItem.top += cummDiff;\r\n                this.onRefreshItem(viewItem);\r\n            }\r\n        }\r\n    };\r\n    HeightMap.prototype.onRefreshItem = function (item, needsRender) {\r\n        if (needsRender === void 0) { needsRender = false; }\r\n        // noop\r\n    };\r\n    HeightMap.prototype.indexAt = function (position) {\r\n        var left = 0;\r\n        var right = this.heightMap.length;\r\n        var center;\r\n        var item;\r\n        // Binary search\r\n        while (left < right) {\r\n            center = Math.floor((left + right) / 2);\r\n            item = this.heightMap[center];\r\n            if (position < item.top) {\r\n                right = center;\r\n            }\r\n            else if (position >= item.top + item.height) {\r\n                if (left === center) {\r\n                    break;\r\n                }\r\n                left = center;\r\n            }\r\n            else {\r\n                return center;\r\n            }\r\n        }\r\n        return this.heightMap.length;\r\n    };\r\n    HeightMap.prototype.indexAfter = function (position) {\r\n        return Math.min(this.indexAt(position) + 1, this.heightMap.length);\r\n    };\r\n    HeightMap.prototype.itemAtIndex = function (index) {\r\n        return this.heightMap[index];\r\n    };\r\n    HeightMap.prototype.itemAfter = function (item) {\r\n        return this.heightMap[this.indexes[item.model.id] + 1] || null;\r\n    };\r\n    HeightMap.prototype.createViewItem = function (item) {\r\n        throw new Error('not implemented');\r\n    };\r\n    HeightMap.prototype.dispose = function () {\r\n        this.heightMap = [];\r\n        this.indexes = {};\r\n    };\r\n    return HeightMap;\r\n}());\r\nexport { HeightMap };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar ContextMenuEvent = /** @class */ (function () {\r\n    function ContextMenuEvent(posx, posy, target) {\r\n        this._posx = posx;\r\n        this._posy = posy;\r\n        this._target = target;\r\n    }\r\n    ContextMenuEvent.prototype.preventDefault = function () {\r\n        // no-op\r\n    };\r\n    ContextMenuEvent.prototype.stopPropagation = function () {\r\n        // no-op\r\n    };\r\n    Object.defineProperty(ContextMenuEvent.prototype, \"target\", {\r\n        get: function () {\r\n            return this._target;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ContextMenuEvent;\r\n}());\r\nexport { ContextMenuEvent };\r\nvar MouseContextMenuEvent = /** @class */ (function (_super) {\r\n    __extends(MouseContextMenuEvent, _super);\r\n    function MouseContextMenuEvent(originalEvent) {\r\n        var _this = _super.call(this, originalEvent.posx, originalEvent.posy, originalEvent.target) || this;\r\n        _this.originalEvent = originalEvent;\r\n        return _this;\r\n    }\r\n    MouseContextMenuEvent.prototype.preventDefault = function () {\r\n        this.originalEvent.preventDefault();\r\n    };\r\n    MouseContextMenuEvent.prototype.stopPropagation = function () {\r\n        this.originalEvent.stopPropagation();\r\n    };\r\n    return MouseContextMenuEvent;\r\n}(ContextMenuEvent));\r\nexport { MouseContextMenuEvent };\r\nvar KeyboardContextMenuEvent = /** @class */ (function (_super) {\r\n    __extends(KeyboardContextMenuEvent, _super);\r\n    function KeyboardContextMenuEvent(posx, posy, originalEvent) {\r\n        var _this = _super.call(this, posx, posy, originalEvent.target) || this;\r\n        _this.originalEvent = originalEvent;\r\n        return _this;\r\n    }\r\n    KeyboardContextMenuEvent.prototype.preventDefault = function () {\r\n        this.originalEvent.preventDefault();\r\n    };\r\n    KeyboardContextMenuEvent.prototype.stopPropagation = function () {\r\n        this.originalEvent.stopPropagation();\r\n    };\r\n    return KeyboardContextMenuEvent;\r\n}(ContextMenuEvent));\r\nexport { KeyboardContextMenuEvent };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as Platform from '../../../common/platform.js';\r\nimport * as Browser from '../../../browser/browser.js';\r\nimport * as Lifecycle from '../../../common/lifecycle.js';\r\nimport * as DOM from '../../../browser/dom.js';\r\nimport * as Diff from '../../../common/diff/diff.js';\r\nimport * as Touch from '../../../browser/touch.js';\r\nimport * as strings from '../../../common/strings.js';\r\nimport * as Mouse from '../../../browser/mouseEvent.js';\r\nimport * as Keyboard from '../../../browser/keyboardEvent.js';\r\nimport * as dnd from './treeDnd.js';\r\nimport { ArrayIterator, MappedIterator } from '../../../common/iterator.js';\r\nimport { ScrollableElement } from '../../../browser/ui/scrollbar/scrollableElement.js';\r\nimport { HeightMap } from './treeViewModel.js';\r\nimport * as _ from './tree.js';\r\nimport { Emitter } from '../../../common/event.js';\r\nimport { DataTransfers, StaticDND } from '../../../browser/dnd.js';\r\nimport { DefaultTreestyler } from './treeDefaults.js';\r\nimport { Delayer, timeout } from '../../../common/async.js';\r\nfunction removeFromParent(element) {\r\n    try {\r\n        element.parentElement.removeChild(element);\r\n    }\r\n    catch (e) {\r\n        // this will throw if this happens due to a blur event, nasty business\r\n    }\r\n}\r\nvar RowCache = /** @class */ (function () {\r\n    function RowCache(context) {\r\n        this.context = context;\r\n        this._cache = { '': [] };\r\n    }\r\n    RowCache.prototype.alloc = function (templateId) {\r\n        var result = this.cache(templateId).pop();\r\n        if (!result) {\r\n            var content = document.createElement('div');\r\n            content.className = 'content';\r\n            var row = document.createElement('div');\r\n            row.appendChild(content);\r\n            var templateData = null;\r\n            try {\r\n                templateData = this.context.renderer.renderTemplate(this.context.tree, templateId, content);\r\n            }\r\n            catch (err) {\r\n                console.error('Tree usage error: exception while rendering template');\r\n                console.error(err);\r\n            }\r\n            result = {\r\n                element: row,\r\n                templateId: templateId,\r\n                templateData: templateData\r\n            };\r\n        }\r\n        return result;\r\n    };\r\n    RowCache.prototype.release = function (templateId, row) {\r\n        removeFromParent(row.element);\r\n        this.cache(templateId).push(row);\r\n    };\r\n    RowCache.prototype.cache = function (templateId) {\r\n        return this._cache[templateId] || (this._cache[templateId] = []);\r\n    };\r\n    RowCache.prototype.garbageCollect = function () {\r\n        var _this = this;\r\n        if (this._cache) {\r\n            Object.keys(this._cache).forEach(function (templateId) {\r\n                _this._cache[templateId].forEach(function (cachedRow) {\r\n                    _this.context.renderer.disposeTemplate(_this.context.tree, templateId, cachedRow.templateData);\r\n                    cachedRow.element = null;\r\n                    cachedRow.templateData = null;\r\n                });\r\n                delete _this._cache[templateId];\r\n            });\r\n        }\r\n    };\r\n    RowCache.prototype.dispose = function () {\r\n        this.garbageCollect();\r\n        this._cache = null;\r\n    };\r\n    return RowCache;\r\n}());\r\nexport { RowCache };\r\nvar ViewItem = /** @class */ (function () {\r\n    function ViewItem(context, model) {\r\n        var _this = this;\r\n        this.width = 0;\r\n        this.needsRender = false;\r\n        this.uri = null;\r\n        this.unbindDragStart = Lifecycle.Disposable.None;\r\n        this._draggable = false;\r\n        this.context = context;\r\n        this.model = model;\r\n        this.id = this.model.id;\r\n        this.row = null;\r\n        this.top = 0;\r\n        this.height = model.getHeight();\r\n        this._styles = {};\r\n        model.getAllTraits().forEach(function (t) { return _this._styles[t] = true; });\r\n        if (model.isExpanded()) {\r\n            this.addClass('expanded');\r\n        }\r\n    }\r\n    Object.defineProperty(ViewItem.prototype, \"expanded\", {\r\n        set: function (value) {\r\n            value ? this.addClass('expanded') : this.removeClass('expanded');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"loading\", {\r\n        set: function (value) {\r\n            value ? this.addClass('codicon-loading') : this.removeClass('codicon-loading');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"draggable\", {\r\n        get: function () {\r\n            return this._draggable;\r\n        },\r\n        set: function (value) {\r\n            this._draggable = value;\r\n            this.render(true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"dropTarget\", {\r\n        set: function (value) {\r\n            value ? this.addClass('drop-target') : this.removeClass('drop-target');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"element\", {\r\n        get: function () {\r\n            return (this.row && this.row.element);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"templateId\", {\r\n        get: function () {\r\n            return this._templateId || (this._templateId = (this.context.renderer.getTemplateId && this.context.renderer.getTemplateId(this.context.tree, this.model.getElement())));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ViewItem.prototype.addClass = function (name) {\r\n        this._styles[name] = true;\r\n        this.render(true);\r\n    };\r\n    ViewItem.prototype.removeClass = function (name) {\r\n        delete this._styles[name]; // is this slow?\r\n        this.render(true);\r\n    };\r\n    ViewItem.prototype.render = function (skipUserRender) {\r\n        var _this = this;\r\n        if (skipUserRender === void 0) { skipUserRender = false; }\r\n        if (!this.model || !this.element) {\r\n            return;\r\n        }\r\n        var classes = ['monaco-tree-row'];\r\n        classes.push.apply(classes, Object.keys(this._styles));\r\n        if (this.model.hasChildren()) {\r\n            classes.push('has-children');\r\n        }\r\n        this.element.className = classes.join(' ');\r\n        this.element.draggable = this.draggable;\r\n        this.element.style.height = this.height + 'px';\r\n        // ARIA\r\n        this.element.setAttribute('role', 'treeitem');\r\n        var accessibility = this.context.accessibilityProvider;\r\n        var ariaLabel = accessibility.getAriaLabel(this.context.tree, this.model.getElement());\r\n        if (ariaLabel) {\r\n            this.element.setAttribute('aria-label', ariaLabel);\r\n        }\r\n        if (accessibility.getPosInSet && accessibility.getSetSize) {\r\n            this.element.setAttribute('aria-setsize', accessibility.getSetSize());\r\n            this.element.setAttribute('aria-posinset', accessibility.getPosInSet(this.context.tree, this.model.getElement()));\r\n        }\r\n        if (this.model.hasTrait('focused')) {\r\n            var base64Id = strings.safeBtoa(this.model.id);\r\n            this.element.setAttribute('aria-selected', 'true');\r\n            this.element.setAttribute('id', base64Id);\r\n        }\r\n        else {\r\n            this.element.setAttribute('aria-selected', 'false');\r\n            this.element.removeAttribute('id');\r\n        }\r\n        if (this.model.hasChildren()) {\r\n            this.element.setAttribute('aria-expanded', String(!!this._styles['expanded']));\r\n        }\r\n        else {\r\n            this.element.removeAttribute('aria-expanded');\r\n        }\r\n        this.element.setAttribute('aria-level', String(this.model.getDepth()));\r\n        if (this.context.options.paddingOnRow) {\r\n            this.element.style.paddingLeft = this.context.options.twistiePixels + ((this.model.getDepth() - 1) * this.context.options.indentPixels) + 'px';\r\n        }\r\n        else {\r\n            this.element.style.paddingLeft = ((this.model.getDepth() - 1) * this.context.options.indentPixels) + 'px';\r\n            this.row.element.firstElementChild.style.paddingLeft = this.context.options.twistiePixels + 'px';\r\n        }\r\n        var uri = this.context.dnd.getDragURI(this.context.tree, this.model.getElement());\r\n        if (uri !== this.uri) {\r\n            if (this.unbindDragStart) {\r\n                this.unbindDragStart.dispose();\r\n            }\r\n            if (uri) {\r\n                this.uri = uri;\r\n                this.draggable = true;\r\n                this.unbindDragStart = DOM.addDisposableListener(this.element, 'dragstart', function (e) {\r\n                    _this.onDragStart(e);\r\n                });\r\n            }\r\n            else {\r\n                this.uri = null;\r\n            }\r\n        }\r\n        if (!skipUserRender && this.element) {\r\n            var paddingLeft = 0;\r\n            if (this.context.horizontalScrolling) {\r\n                var style = window.getComputedStyle(this.element);\r\n                paddingLeft = parseFloat(style.paddingLeft);\r\n            }\r\n            if (this.context.horizontalScrolling) {\r\n                this.element.style.width = Browser.isFirefox ? '-moz-fit-content' : 'fit-content';\r\n            }\r\n            try {\r\n                this.context.renderer.renderElement(this.context.tree, this.model.getElement(), this.templateId, this.row.templateData);\r\n            }\r\n            catch (err) {\r\n                console.error('Tree usage error: exception while rendering element');\r\n                console.error(err);\r\n            }\r\n            if (this.context.horizontalScrolling) {\r\n                this.width = DOM.getContentWidth(this.element) + paddingLeft;\r\n                this.element.style.width = '';\r\n            }\r\n        }\r\n    };\r\n    ViewItem.prototype.insertInDOM = function (container, afterElement) {\r\n        if (!this.row) {\r\n            this.row = this.context.cache.alloc(this.templateId);\r\n            // used in reverse lookup from HTMLElement to Item\r\n            this.element[TreeView.BINDING] = this;\r\n        }\r\n        if (this.element.parentElement) {\r\n            return;\r\n        }\r\n        if (afterElement === null) {\r\n            container.appendChild(this.element);\r\n        }\r\n        else {\r\n            try {\r\n                container.insertBefore(this.element, afterElement);\r\n            }\r\n            catch (e) {\r\n                console.warn('Failed to locate previous tree element');\r\n                container.appendChild(this.element);\r\n            }\r\n        }\r\n        this.render();\r\n    };\r\n    ViewItem.prototype.removeFromDOM = function () {\r\n        if (!this.row) {\r\n            return;\r\n        }\r\n        this.unbindDragStart.dispose();\r\n        this.uri = null;\r\n        this.element[TreeView.BINDING] = null;\r\n        this.context.cache.release(this.templateId, this.row);\r\n        this.row = null;\r\n    };\r\n    ViewItem.prototype.dispose = function () {\r\n        this.row = null;\r\n    };\r\n    return ViewItem;\r\n}());\r\nexport { ViewItem };\r\nvar RootViewItem = /** @class */ (function (_super) {\r\n    __extends(RootViewItem, _super);\r\n    function RootViewItem(context, model, wrapper) {\r\n        var _this = _super.call(this, context, model) || this;\r\n        _this.row = {\r\n            element: wrapper,\r\n            templateData: null,\r\n            templateId: null\r\n        };\r\n        return _this;\r\n    }\r\n    RootViewItem.prototype.render = function () {\r\n        if (!this.model || !this.element) {\r\n            return;\r\n        }\r\n        var classes = ['monaco-tree-wrapper'];\r\n        classes.push.apply(classes, Object.keys(this._styles));\r\n        if (this.model.hasChildren()) {\r\n            classes.push('has-children');\r\n        }\r\n        this.element.className = classes.join(' ');\r\n    };\r\n    RootViewItem.prototype.insertInDOM = function (container, afterElement) {\r\n        // noop\r\n    };\r\n    RootViewItem.prototype.removeFromDOM = function () {\r\n        // noop\r\n    };\r\n    return RootViewItem;\r\n}(ViewItem));\r\nfunction reactionEquals(one, other) {\r\n    if (!one && !other) {\r\n        return true;\r\n    }\r\n    else if (!one || !other) {\r\n        return false;\r\n    }\r\n    else if (one.accept !== other.accept) {\r\n        return false;\r\n    }\r\n    else if (one.bubble !== other.bubble) {\r\n        return false;\r\n    }\r\n    else if (one.effect !== other.effect) {\r\n        return false;\r\n    }\r\n    else {\r\n        return true;\r\n    }\r\n}\r\nvar TreeView = /** @class */ (function (_super) {\r\n    __extends(TreeView, _super);\r\n    function TreeView(context, container) {\r\n        var _this = _super.call(this) || this;\r\n        _this.model = null;\r\n        _this.lastPointerType = '';\r\n        _this.lastClickTimeStamp = 0;\r\n        _this.contentWidthUpdateDelayer = new Delayer(50);\r\n        _this.isRefreshing = false;\r\n        _this.refreshingPreviousChildrenIds = {};\r\n        _this.currentDragAndDropData = null;\r\n        _this.currentDropTarget = null;\r\n        _this.currentDropTargets = null;\r\n        _this.currentDropDisposable = Lifecycle.Disposable.None;\r\n        _this.gestureDisposable = Lifecycle.Disposable.None;\r\n        _this.dragAndDropScrollInterval = null;\r\n        _this.dragAndDropScrollTimeout = null;\r\n        _this.dragAndDropMouseY = null;\r\n        _this.highlightedItemWasDraggable = false;\r\n        _this.onHiddenScrollTop = null;\r\n        _this._onDOMFocus = new Emitter();\r\n        _this.onDOMFocus = _this._onDOMFocus.event;\r\n        _this._onDOMBlur = new Emitter();\r\n        _this._onDidScroll = new Emitter();\r\n        TreeView.counter++;\r\n        _this.instance = TreeView.counter;\r\n        var horizontalScrollMode = typeof context.options.horizontalScrollMode === 'undefined' ? 2 /* Hidden */ : context.options.horizontalScrollMode;\r\n        _this.horizontalScrolling = horizontalScrollMode !== 2 /* Hidden */;\r\n        _this.context = {\r\n            dataSource: context.dataSource,\r\n            renderer: context.renderer,\r\n            controller: context.controller,\r\n            dnd: context.dnd,\r\n            filter: context.filter,\r\n            sorter: context.sorter,\r\n            tree: context.tree,\r\n            accessibilityProvider: context.accessibilityProvider,\r\n            options: context.options,\r\n            cache: new RowCache(context),\r\n            horizontalScrolling: _this.horizontalScrolling\r\n        };\r\n        _this.modelListeners = [];\r\n        _this.viewListeners = [];\r\n        _this.items = {};\r\n        _this.domNode = document.createElement('div');\r\n        _this.domNode.className = \"monaco-tree no-focused-item monaco-tree-instance-\" + _this.instance;\r\n        // to allow direct tabbing into the tree instead of first focusing the tree\r\n        _this.domNode.tabIndex = context.options.preventRootFocus ? -1 : 0;\r\n        _this.styleElement = DOM.createStyleSheet(_this.domNode);\r\n        _this.treeStyler = context.styler || new DefaultTreestyler(_this.styleElement, \"monaco-tree-instance-\" + _this.instance);\r\n        // ARIA\r\n        _this.domNode.setAttribute('role', 'tree');\r\n        if (_this.context.options.ariaLabel) {\r\n            _this.domNode.setAttribute('aria-label', _this.context.options.ariaLabel);\r\n        }\r\n        if (_this.context.options.alwaysFocused) {\r\n            DOM.addClass(_this.domNode, 'focused');\r\n        }\r\n        if (!_this.context.options.paddingOnRow) {\r\n            DOM.addClass(_this.domNode, 'no-row-padding');\r\n        }\r\n        _this.wrapper = document.createElement('div');\r\n        _this.wrapper.className = 'monaco-tree-wrapper';\r\n        _this.scrollableElement = new ScrollableElement(_this.wrapper, {\r\n            alwaysConsumeMouseWheel: true,\r\n            horizontal: horizontalScrollMode,\r\n            vertical: (typeof context.options.verticalScrollMode !== 'undefined' ? context.options.verticalScrollMode : 1 /* Auto */),\r\n            useShadows: context.options.useShadows\r\n        });\r\n        _this.scrollableElement.onScroll(function (e) {\r\n            _this.render(e.scrollTop, e.height, e.scrollLeft, e.width, e.scrollWidth);\r\n            _this._onDidScroll.fire();\r\n        });\r\n        if (Browser.isIE) {\r\n            _this.wrapper.style.msTouchAction = 'none';\r\n            _this.wrapper.style.msContentZooming = 'none';\r\n        }\r\n        else {\r\n            _this.gestureDisposable = Touch.Gesture.addTarget(_this.wrapper);\r\n        }\r\n        _this.rowsContainer = document.createElement('div');\r\n        _this.rowsContainer.className = 'monaco-tree-rows';\r\n        if (context.options.showTwistie) {\r\n            _this.rowsContainer.className += ' show-twisties';\r\n        }\r\n        var focusTracker = DOM.trackFocus(_this.domNode);\r\n        _this.viewListeners.push(focusTracker.onDidFocus(function () { return _this.onFocus(); }));\r\n        _this.viewListeners.push(focusTracker.onDidBlur(function () { return _this.onBlur(); }));\r\n        _this.viewListeners.push(focusTracker);\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.domNode, 'keydown', function (e) { return _this.onKeyDown(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.domNode, 'keyup', function (e) { return _this.onKeyUp(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.domNode, 'mousedown', function (e) { return _this.onMouseDown(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.domNode, 'mouseup', function (e) { return _this.onMouseUp(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, 'auxclick', function (e) {\r\n            if (e && e.button === 1) {\r\n                _this.onMouseMiddleClick(e);\r\n            }\r\n        }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, 'click', function (e) { return _this.onClick(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.domNode, 'contextmenu', function (e) { return _this.onContextMenu(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, Touch.EventType.Tap, function (e) { return _this.onTap(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, Touch.EventType.Change, function (e) { return _this.onTouchChange(e); }));\r\n        if (Browser.isIE) {\r\n            _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, 'MSPointerDown', function (e) { return _this.onMsPointerDown(e); }));\r\n            _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, 'MSGestureTap', function (e) { return _this.onMsGestureTap(e); }));\r\n            // these events come too fast, we throttle them\r\n            _this.viewListeners.push(DOM.addDisposableThrottledListener(_this.wrapper, 'MSGestureChange', function (e) { return _this.onThrottledMsGestureChange(e); }, function (lastEvent, event) {\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n                var result = { translationY: event.translationY, translationX: event.translationX };\r\n                if (lastEvent) {\r\n                    result.translationY += lastEvent.translationY;\r\n                    result.translationX += lastEvent.translationX;\r\n                }\r\n                return result;\r\n            }));\r\n        }\r\n        _this.viewListeners.push(DOM.addDisposableListener(window, 'dragover', function (e) { return _this.onDragOver(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, 'drop', function (e) { return _this.onDrop(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(window, 'dragend', function (e) { return _this.onDragEnd(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(window, 'dragleave', function (e) { return _this.onDragOver(e); }));\r\n        _this.wrapper.appendChild(_this.rowsContainer);\r\n        _this.domNode.appendChild(_this.scrollableElement.getDomNode());\r\n        container.appendChild(_this.domNode);\r\n        _this.lastRenderTop = 0;\r\n        _this.lastRenderHeight = 0;\r\n        _this.didJustPressContextMenuKey = false;\r\n        _this.currentDropTarget = null;\r\n        _this.currentDropTargets = [];\r\n        _this.shouldInvalidateDropReaction = false;\r\n        _this.dragAndDropScrollInterval = null;\r\n        _this.dragAndDropScrollTimeout = null;\r\n        _this.onRowsChanged();\r\n        _this.layout();\r\n        _this.setupMSGesture();\r\n        _this.applyStyles(context.options);\r\n        return _this;\r\n    }\r\n    TreeView.prototype.applyStyles = function (styles) {\r\n        this.treeStyler.style(styles);\r\n    };\r\n    TreeView.prototype.createViewItem = function (item) {\r\n        return new ViewItem(this.context, item);\r\n    };\r\n    TreeView.prototype.getHTMLElement = function () {\r\n        return this.domNode;\r\n    };\r\n    TreeView.prototype.focus = function () {\r\n        this.domNode.focus();\r\n    };\r\n    TreeView.prototype.isFocused = function () {\r\n        return document.activeElement === this.domNode;\r\n    };\r\n    TreeView.prototype.blur = function () {\r\n        this.domNode.blur();\r\n    };\r\n    TreeView.prototype.setupMSGesture = function () {\r\n        var _this = this;\r\n        if (window.MSGesture) {\r\n            this.msGesture = new MSGesture();\r\n            setTimeout(function () { return _this.msGesture.target = _this.wrapper; }, 100); // TODO@joh, TODO@IETeam\r\n        }\r\n    };\r\n    TreeView.prototype.isTreeVisible = function () {\r\n        return this.onHiddenScrollTop === null;\r\n    };\r\n    TreeView.prototype.layout = function (height, width) {\r\n        if (!this.isTreeVisible()) {\r\n            return;\r\n        }\r\n        this.viewHeight = height || DOM.getContentHeight(this.wrapper); // render\r\n        this.scrollHeight = this.getContentHeight();\r\n        if (this.horizontalScrolling) {\r\n            this.viewWidth = width || DOM.getContentWidth(this.wrapper);\r\n        }\r\n    };\r\n    TreeView.prototype.render = function (scrollTop, viewHeight, scrollLeft, viewWidth, scrollWidth) {\r\n        var i;\r\n        var stop;\r\n        var renderTop = scrollTop;\r\n        var renderBottom = scrollTop + viewHeight;\r\n        var thisRenderBottom = this.lastRenderTop + this.lastRenderHeight;\r\n        // when view scrolls down, start rendering from the renderBottom\r\n        for (i = this.indexAfter(renderBottom) - 1, stop = this.indexAt(Math.max(thisRenderBottom, renderTop)); i >= stop; i--) {\r\n            this.insertItemInDOM(this.itemAtIndex(i));\r\n        }\r\n        // when view scrolls up, start rendering from either this.renderTop or renderBottom\r\n        for (i = Math.min(this.indexAt(this.lastRenderTop), this.indexAfter(renderBottom)) - 1, stop = this.indexAt(renderTop); i >= stop; i--) {\r\n            this.insertItemInDOM(this.itemAtIndex(i));\r\n        }\r\n        // when view scrolls down, start unrendering from renderTop\r\n        for (i = this.indexAt(this.lastRenderTop), stop = Math.min(this.indexAt(renderTop), this.indexAfter(thisRenderBottom)); i < stop; i++) {\r\n            this.removeItemFromDOM(this.itemAtIndex(i));\r\n        }\r\n        // when view scrolls up, start unrendering from either renderBottom this.renderTop\r\n        for (i = Math.max(this.indexAfter(renderBottom), this.indexAt(this.lastRenderTop)), stop = this.indexAfter(thisRenderBottom); i < stop; i++) {\r\n            this.removeItemFromDOM(this.itemAtIndex(i));\r\n        }\r\n        var topItem = this.itemAtIndex(this.indexAt(renderTop));\r\n        if (topItem) {\r\n            this.rowsContainer.style.top = (topItem.top - renderTop) + 'px';\r\n        }\r\n        if (this.horizontalScrolling) {\r\n            this.rowsContainer.style.left = -scrollLeft + 'px';\r\n            this.rowsContainer.style.width = Math.max(scrollWidth, viewWidth) + \"px\";\r\n        }\r\n        this.lastRenderTop = renderTop;\r\n        this.lastRenderHeight = renderBottom - renderTop;\r\n    };\r\n    TreeView.prototype.setModel = function (newModel) {\r\n        this.releaseModel();\r\n        this.model = newModel;\r\n        this.model.onRefresh(this.onRefreshing, this, this.modelListeners);\r\n        this.model.onDidRefresh(this.onRefreshed, this, this.modelListeners);\r\n        this.model.onSetInput(this.onClearingInput, this, this.modelListeners);\r\n        this.model.onDidSetInput(this.onSetInput, this, this.modelListeners);\r\n        this.model.onDidFocus(this.onModelFocusChange, this, this.modelListeners);\r\n        this.model.onRefreshItemChildren(this.onItemChildrenRefreshing, this, this.modelListeners);\r\n        this.model.onDidRefreshItemChildren(this.onItemChildrenRefreshed, this, this.modelListeners);\r\n        this.model.onDidRefreshItem(this.onItemRefresh, this, this.modelListeners);\r\n        this.model.onExpandItem(this.onItemExpanding, this, this.modelListeners);\r\n        this.model.onDidExpandItem(this.onItemExpanded, this, this.modelListeners);\r\n        this.model.onCollapseItem(this.onItemCollapsing, this, this.modelListeners);\r\n        this.model.onDidRevealItem(this.onItemReveal, this, this.modelListeners);\r\n        this.model.onDidAddTraitItem(this.onItemAddTrait, this, this.modelListeners);\r\n        this.model.onDidRemoveTraitItem(this.onItemRemoveTrait, this, this.modelListeners);\r\n    };\r\n    TreeView.prototype.onRefreshing = function () {\r\n        this.isRefreshing = true;\r\n    };\r\n    TreeView.prototype.onRefreshed = function () {\r\n        this.isRefreshing = false;\r\n        this.onRowsChanged();\r\n    };\r\n    TreeView.prototype.onRowsChanged = function (scrollTop) {\r\n        if (scrollTop === void 0) { scrollTop = this.scrollTop; }\r\n        if (this.isRefreshing) {\r\n            return;\r\n        }\r\n        this.scrollTop = scrollTop;\r\n        this.updateScrollWidth();\r\n    };\r\n    TreeView.prototype.updateScrollWidth = function () {\r\n        var _this = this;\r\n        if (!this.horizontalScrolling) {\r\n            return;\r\n        }\r\n        this.contentWidthUpdateDelayer.trigger(function () {\r\n            var keys = Object.keys(_this.items);\r\n            var scrollWidth = 0;\r\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n                var key = keys_1[_i];\r\n                scrollWidth = Math.max(scrollWidth, _this.items[key].width);\r\n            }\r\n            _this.scrollWidth = scrollWidth + 10 /* scrollbar */;\r\n        });\r\n    };\r\n    TreeView.prototype.focusNextPage = function (eventPayload) {\r\n        var _this = this;\r\n        var lastPageIndex = this.indexAt(this.scrollTop + this.viewHeight);\r\n        lastPageIndex = lastPageIndex === 0 ? 0 : lastPageIndex - 1;\r\n        var lastPageElement = this.itemAtIndex(lastPageIndex).model.getElement();\r\n        var currentlyFocusedElement = this.model.getFocus();\r\n        if (currentlyFocusedElement !== lastPageElement) {\r\n            this.model.setFocus(lastPageElement, eventPayload);\r\n        }\r\n        else {\r\n            var previousScrollTop = this.scrollTop;\r\n            this.scrollTop += this.viewHeight;\r\n            if (this.scrollTop !== previousScrollTop) {\r\n                // Let the scroll event listener run\r\n                setTimeout(function () {\r\n                    _this.focusNextPage(eventPayload);\r\n                }, 0);\r\n            }\r\n        }\r\n    };\r\n    TreeView.prototype.focusPreviousPage = function (eventPayload) {\r\n        var _this = this;\r\n        var firstPageIndex;\r\n        if (this.scrollTop === 0) {\r\n            firstPageIndex = this.indexAt(this.scrollTop);\r\n        }\r\n        else {\r\n            firstPageIndex = this.indexAfter(this.scrollTop - 1);\r\n        }\r\n        var firstPageElement = this.itemAtIndex(firstPageIndex).model.getElement();\r\n        var currentlyFocusedElement = this.model.getFocus();\r\n        if (currentlyFocusedElement !== firstPageElement) {\r\n            this.model.setFocus(firstPageElement, eventPayload);\r\n        }\r\n        else {\r\n            var previousScrollTop = this.scrollTop;\r\n            this.scrollTop -= this.viewHeight;\r\n            if (this.scrollTop !== previousScrollTop) {\r\n                // Let the scroll event listener run\r\n                setTimeout(function () {\r\n                    _this.focusPreviousPage(eventPayload);\r\n                }, 0);\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(TreeView.prototype, \"viewHeight\", {\r\n        get: function () {\r\n            var scrollDimensions = this.scrollableElement.getScrollDimensions();\r\n            return scrollDimensions.height;\r\n        },\r\n        set: function (height) {\r\n            this.scrollableElement.setScrollDimensions({ height: height });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeView.prototype, \"scrollHeight\", {\r\n        set: function (scrollHeight) {\r\n            scrollHeight = scrollHeight + (this.horizontalScrolling ? 10 : 0);\r\n            this.scrollableElement.setScrollDimensions({ scrollHeight: scrollHeight });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeView.prototype, \"viewWidth\", {\r\n        get: function () {\r\n            var scrollDimensions = this.scrollableElement.getScrollDimensions();\r\n            return scrollDimensions.width;\r\n        },\r\n        set: function (viewWidth) {\r\n            this.scrollableElement.setScrollDimensions({ width: viewWidth });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeView.prototype, \"scrollWidth\", {\r\n        set: function (scrollWidth) {\r\n            this.scrollableElement.setScrollDimensions({ scrollWidth: scrollWidth });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeView.prototype, \"scrollTop\", {\r\n        get: function () {\r\n            var scrollPosition = this.scrollableElement.getScrollPosition();\r\n            return scrollPosition.scrollTop;\r\n        },\r\n        set: function (scrollTop) {\r\n            var scrollHeight = this.getContentHeight() + (this.horizontalScrolling ? 10 : 0);\r\n            this.scrollableElement.setScrollDimensions({ scrollHeight: scrollHeight });\r\n            this.scrollableElement.setScrollPosition({ scrollTop: scrollTop });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    // Events\r\n    TreeView.prototype.onClearingInput = function (e) {\r\n        var item = e.item;\r\n        if (item) {\r\n            this.onRemoveItems(new MappedIterator(item.getNavigator(), function (item) { return item && item.id; }));\r\n            this.onRowsChanged();\r\n        }\r\n    };\r\n    TreeView.prototype.onSetInput = function (e) {\r\n        this.context.cache.garbageCollect();\r\n        this.inputItem = new RootViewItem(this.context, e.item, this.wrapper);\r\n    };\r\n    TreeView.prototype.onItemChildrenRefreshing = function (e) {\r\n        var item = e.item;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem && this.context.options.showLoading) {\r\n            viewItem.loadingTimer = setTimeout(function () {\r\n                viewItem.loadingTimer = 0;\r\n                viewItem.loading = true;\r\n            }, TreeView.LOADING_DECORATION_DELAY);\r\n        }\r\n        if (!e.isNested) {\r\n            var childrenIds = [];\r\n            var navigator_1 = item.getNavigator();\r\n            var childItem = void 0;\r\n            while (childItem = navigator_1.next()) {\r\n                childrenIds.push(childItem.id);\r\n            }\r\n            this.refreshingPreviousChildrenIds[item.id] = childrenIds;\r\n        }\r\n    };\r\n    TreeView.prototype.onItemChildrenRefreshed = function (e) {\r\n        var _this = this;\r\n        var item = e.item;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem) {\r\n            if (viewItem.loadingTimer) {\r\n                clearTimeout(viewItem.loadingTimer);\r\n                viewItem.loadingTimer = 0;\r\n            }\r\n            viewItem.loading = false;\r\n        }\r\n        if (!e.isNested) {\r\n            var previousChildrenIds_1 = this.refreshingPreviousChildrenIds[item.id];\r\n            var afterModelItems_1 = [];\r\n            var navigator_2 = item.getNavigator();\r\n            var childItem = void 0;\r\n            while (childItem = navigator_2.next()) {\r\n                afterModelItems_1.push(childItem);\r\n            }\r\n            var skipDiff = Math.abs(previousChildrenIds_1.length - afterModelItems_1.length) > 1000;\r\n            var diff = [];\r\n            var doToInsertItemsAlreadyExist = false;\r\n            if (!skipDiff) {\r\n                var lcs = new Diff.LcsDiff({\r\n                    getElements: function () { return previousChildrenIds_1; }\r\n                }, {\r\n                    getElements: function () { return afterModelItems_1.map(function (item) { return item.id; }); }\r\n                }, null);\r\n                diff = lcs.ComputeDiff(false).changes;\r\n                // this means that the result of the diff algorithm would result\r\n                // in inserting items that were already registered. this can only\r\n                // happen if the data provider returns bad ids OR if the sorting\r\n                // of the elements has changed\r\n                doToInsertItemsAlreadyExist = diff.some(function (d) {\r\n                    if (d.modifiedLength > 0) {\r\n                        for (var i = d.modifiedStart, len = d.modifiedStart + d.modifiedLength; i < len; i++) {\r\n                            if (_this.items.hasOwnProperty(afterModelItems_1[i].id)) {\r\n                                return true;\r\n                            }\r\n                        }\r\n                    }\r\n                    return false;\r\n                });\r\n            }\r\n            // 50 is an optimization number, at some point we're better off\r\n            // just replacing everything\r\n            if (!skipDiff && !doToInsertItemsAlreadyExist && diff.length < 50) {\r\n                for (var _i = 0, diff_1 = diff; _i < diff_1.length; _i++) {\r\n                    var diffChange = diff_1[_i];\r\n                    if (diffChange.originalLength > 0) {\r\n                        this.onRemoveItems(new ArrayIterator(previousChildrenIds_1, diffChange.originalStart, diffChange.originalStart + diffChange.originalLength));\r\n                    }\r\n                    if (diffChange.modifiedLength > 0) {\r\n                        var beforeItem = afterModelItems_1[diffChange.modifiedStart - 1] || item;\r\n                        beforeItem = beforeItem.getDepth() > 0 ? beforeItem : null;\r\n                        this.onInsertItems(new ArrayIterator(afterModelItems_1, diffChange.modifiedStart, diffChange.modifiedStart + diffChange.modifiedLength), beforeItem ? beforeItem.id : null);\r\n                    }\r\n                }\r\n            }\r\n            else if (skipDiff || diff.length) {\r\n                this.onRemoveItems(new ArrayIterator(previousChildrenIds_1));\r\n                this.onInsertItems(new ArrayIterator(afterModelItems_1), item.getDepth() > 0 ? item.id : null);\r\n            }\r\n            if (skipDiff || diff.length) {\r\n                this.onRowsChanged();\r\n            }\r\n        }\r\n    };\r\n    TreeView.prototype.onItemRefresh = function (item) {\r\n        this.onItemsRefresh([item]);\r\n    };\r\n    TreeView.prototype.onItemsRefresh = function (items) {\r\n        var _this = this;\r\n        this.onRefreshItemSet(items.filter(function (item) { return _this.items.hasOwnProperty(item.id); }));\r\n        this.onRowsChanged();\r\n    };\r\n    TreeView.prototype.onItemExpanding = function (e) {\r\n        var viewItem = this.items[e.item.id];\r\n        if (viewItem) {\r\n            viewItem.expanded = true;\r\n        }\r\n    };\r\n    TreeView.prototype.onItemExpanded = function (e) {\r\n        var item = e.item;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem) {\r\n            viewItem.expanded = true;\r\n            var height = this.onInsertItems(item.getNavigator(), item.id) || 0;\r\n            var scrollTop = this.scrollTop;\r\n            if (viewItem.top + viewItem.height <= this.scrollTop) {\r\n                scrollTop += height;\r\n            }\r\n            this.onRowsChanged(scrollTop);\r\n        }\r\n    };\r\n    TreeView.prototype.onItemCollapsing = function (e) {\r\n        var item = e.item;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem) {\r\n            viewItem.expanded = false;\r\n            this.onRemoveItems(new MappedIterator(item.getNavigator(), function (item) { return item && item.id; }));\r\n            this.onRowsChanged();\r\n        }\r\n    };\r\n    TreeView.prototype.onItemReveal = function (e) {\r\n        var item = e.item;\r\n        var relativeTop = e.relativeTop;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem) {\r\n            if (relativeTop !== null) {\r\n                relativeTop = relativeTop < 0 ? 0 : relativeTop;\r\n                relativeTop = relativeTop > 1 ? 1 : relativeTop;\r\n                // y = mx + b\r\n                var m = viewItem.height - this.viewHeight;\r\n                this.scrollTop = m * relativeTop + viewItem.top;\r\n            }\r\n            else {\r\n                var viewItemBottom = viewItem.top + viewItem.height;\r\n                var wrapperBottom = this.scrollTop + this.viewHeight;\r\n                if (viewItem.top < this.scrollTop) {\r\n                    this.scrollTop = viewItem.top;\r\n                }\r\n                else if (viewItemBottom >= wrapperBottom) {\r\n                    this.scrollTop = viewItemBottom - this.viewHeight;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TreeView.prototype.onItemAddTrait = function (e) {\r\n        var item = e.item;\r\n        var trait = e.trait;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem) {\r\n            viewItem.addClass(trait);\r\n        }\r\n        if (trait === 'highlighted') {\r\n            DOM.addClass(this.domNode, trait);\r\n            // Ugly Firefox fix: input fields can't be selected if parent nodes are draggable\r\n            if (viewItem) {\r\n                this.highlightedItemWasDraggable = !!viewItem.draggable;\r\n                if (viewItem.draggable) {\r\n                    viewItem.draggable = false;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TreeView.prototype.onItemRemoveTrait = function (e) {\r\n        var item = e.item;\r\n        var trait = e.trait;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem) {\r\n            viewItem.removeClass(trait);\r\n        }\r\n        if (trait === 'highlighted') {\r\n            DOM.removeClass(this.domNode, trait);\r\n            // Ugly Firefox fix: input fields can't be selected if parent nodes are draggable\r\n            if (this.highlightedItemWasDraggable) {\r\n                viewItem.draggable = true;\r\n            }\r\n            this.highlightedItemWasDraggable = false;\r\n        }\r\n    };\r\n    TreeView.prototype.onModelFocusChange = function () {\r\n        var focus = this.model && this.model.getFocus();\r\n        DOM.toggleClass(this.domNode, 'no-focused-item', !focus);\r\n        // ARIA\r\n        if (focus) {\r\n            this.domNode.setAttribute('aria-activedescendant', strings.safeBtoa(this.context.dataSource.getId(this.context.tree, focus)));\r\n        }\r\n        else {\r\n            this.domNode.removeAttribute('aria-activedescendant');\r\n        }\r\n    };\r\n    // HeightMap \"events\"\r\n    TreeView.prototype.onInsertItem = function (item) {\r\n        var _this = this;\r\n        item.onDragStart = function (e) { _this.onDragStart(item, e); };\r\n        item.needsRender = true;\r\n        this.refreshViewItem(item);\r\n        this.items[item.id] = item;\r\n    };\r\n    TreeView.prototype.onRefreshItem = function (item, needsRender) {\r\n        if (needsRender === void 0) { needsRender = false; }\r\n        item.needsRender = item.needsRender || needsRender;\r\n        this.refreshViewItem(item);\r\n    };\r\n    TreeView.prototype.onRemoveItem = function (item) {\r\n        this.removeItemFromDOM(item);\r\n        item.dispose();\r\n        delete this.items[item.id];\r\n    };\r\n    // ViewItem refresh\r\n    TreeView.prototype.refreshViewItem = function (item) {\r\n        item.render();\r\n        if (this.shouldBeRendered(item)) {\r\n            this.insertItemInDOM(item);\r\n        }\r\n        else {\r\n            this.removeItemFromDOM(item);\r\n        }\r\n    };\r\n    // DOM Events\r\n    TreeView.prototype.onClick = function (e) {\r\n        if (this.lastPointerType && this.lastPointerType !== 'mouse') {\r\n            return;\r\n        }\r\n        var event = new Mouse.StandardMouseEvent(e);\r\n        var item = this.getItemAround(event.target);\r\n        if (!item) {\r\n            return;\r\n        }\r\n        if (Browser.isIE && Date.now() - this.lastClickTimeStamp < 300) {\r\n            // IE10+ doesn't set the detail property correctly. While IE10 simply\r\n            // counts the number of clicks, IE11 reports always 1. To align with\r\n            // other browser, we set the value to 2 if clicks events come in a 300ms\r\n            // sequence.\r\n            event.detail = 2;\r\n        }\r\n        this.lastClickTimeStamp = Date.now();\r\n        this.context.controller.onClick(this.context.tree, item.model.getElement(), event);\r\n    };\r\n    TreeView.prototype.onMouseMiddleClick = function (e) {\r\n        if (!this.context.controller.onMouseMiddleClick) {\r\n            return;\r\n        }\r\n        var event = new Mouse.StandardMouseEvent(e);\r\n        var item = this.getItemAround(event.target);\r\n        if (!item) {\r\n            return;\r\n        }\r\n        this.context.controller.onMouseMiddleClick(this.context.tree, item.model.getElement(), event);\r\n    };\r\n    TreeView.prototype.onMouseDown = function (e) {\r\n        this.didJustPressContextMenuKey = false;\r\n        if (!this.context.controller.onMouseDown) {\r\n            return;\r\n        }\r\n        if (this.lastPointerType && this.lastPointerType !== 'mouse') {\r\n            return;\r\n        }\r\n        var event = new Mouse.StandardMouseEvent(e);\r\n        if (event.ctrlKey && Platform.isNative && Platform.isMacintosh) {\r\n            return;\r\n        }\r\n        var item = this.getItemAround(event.target);\r\n        if (!item) {\r\n            return;\r\n        }\r\n        this.context.controller.onMouseDown(this.context.tree, item.model.getElement(), event);\r\n    };\r\n    TreeView.prototype.onMouseUp = function (e) {\r\n        if (!this.context.controller.onMouseUp) {\r\n            return;\r\n        }\r\n        if (this.lastPointerType && this.lastPointerType !== 'mouse') {\r\n            return;\r\n        }\r\n        var event = new Mouse.StandardMouseEvent(e);\r\n        if (event.ctrlKey && Platform.isNative && Platform.isMacintosh) {\r\n            return;\r\n        }\r\n        var item = this.getItemAround(event.target);\r\n        if (!item) {\r\n            return;\r\n        }\r\n        this.context.controller.onMouseUp(this.context.tree, item.model.getElement(), event);\r\n    };\r\n    TreeView.prototype.onTap = function (e) {\r\n        var item = this.getItemAround(e.initialTarget);\r\n        if (!item) {\r\n            return;\r\n        }\r\n        this.context.controller.onTap(this.context.tree, item.model.getElement(), e);\r\n    };\r\n    TreeView.prototype.onTouchChange = function (event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.scrollTop -= event.translationY;\r\n    };\r\n    TreeView.prototype.onContextMenu = function (event) {\r\n        var resultEvent;\r\n        var element;\r\n        if (event instanceof KeyboardEvent || this.didJustPressContextMenuKey) {\r\n            this.didJustPressContextMenuKey = false;\r\n            var keyboardEvent = new Keyboard.StandardKeyboardEvent(event);\r\n            element = this.model.getFocus();\r\n            var position = void 0;\r\n            if (!element) {\r\n                element = this.model.getInput();\r\n                position = DOM.getDomNodePagePosition(this.inputItem.element);\r\n            }\r\n            else {\r\n                var id = this.context.dataSource.getId(this.context.tree, element);\r\n                var viewItem = this.items[id];\r\n                position = DOM.getDomNodePagePosition(viewItem.element);\r\n            }\r\n            resultEvent = new _.KeyboardContextMenuEvent(position.left + position.width, position.top, keyboardEvent);\r\n        }\r\n        else {\r\n            var mouseEvent = new Mouse.StandardMouseEvent(event);\r\n            var item = this.getItemAround(mouseEvent.target);\r\n            if (!item) {\r\n                return;\r\n            }\r\n            element = item.model.getElement();\r\n            resultEvent = new _.MouseContextMenuEvent(mouseEvent);\r\n        }\r\n        this.context.controller.onContextMenu(this.context.tree, element, resultEvent);\r\n    };\r\n    TreeView.prototype.onKeyDown = function (e) {\r\n        var event = new Keyboard.StandardKeyboardEvent(e);\r\n        this.didJustPressContextMenuKey = event.keyCode === 58 /* ContextMenu */ || (event.shiftKey && event.keyCode === 68 /* F10 */);\r\n        if (event.target && event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\r\n            return; // Ignore event if target is a form input field (avoids browser specific issues)\r\n        }\r\n        if (this.didJustPressContextMenuKey) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n        }\r\n        this.context.controller.onKeyDown(this.context.tree, event);\r\n    };\r\n    TreeView.prototype.onKeyUp = function (e) {\r\n        if (this.didJustPressContextMenuKey) {\r\n            this.onContextMenu(e);\r\n        }\r\n        this.didJustPressContextMenuKey = false;\r\n        this.context.controller.onKeyUp(this.context.tree, new Keyboard.StandardKeyboardEvent(e));\r\n    };\r\n    TreeView.prototype.onDragStart = function (item, e) {\r\n        if (this.model.getHighlight()) {\r\n            return;\r\n        }\r\n        var element = item.model.getElement();\r\n        var selection = this.model.getSelection();\r\n        var elements;\r\n        if (selection.indexOf(element) > -1) {\r\n            elements = selection;\r\n        }\r\n        else {\r\n            elements = [element];\r\n        }\r\n        e.dataTransfer.effectAllowed = 'copyMove';\r\n        e.dataTransfer.setData(DataTransfers.RESOURCES, JSON.stringify([item.uri]));\r\n        if (e.dataTransfer.setDragImage) {\r\n            var label = void 0;\r\n            if (this.context.dnd.getDragLabel) {\r\n                label = this.context.dnd.getDragLabel(this.context.tree, elements);\r\n            }\r\n            else {\r\n                label = String(elements.length);\r\n            }\r\n            var dragImage_1 = document.createElement('div');\r\n            dragImage_1.className = 'monaco-tree-drag-image';\r\n            dragImage_1.textContent = label;\r\n            document.body.appendChild(dragImage_1);\r\n            e.dataTransfer.setDragImage(dragImage_1, -10, -10);\r\n            setTimeout(function () { return document.body.removeChild(dragImage_1); }, 0);\r\n        }\r\n        this.currentDragAndDropData = new dnd.ElementsDragAndDropData(elements);\r\n        StaticDND.CurrentDragAndDropData = new dnd.ExternalElementsDragAndDropData(elements);\r\n        this.context.dnd.onDragStart(this.context.tree, this.currentDragAndDropData, new Mouse.DragMouseEvent(e));\r\n    };\r\n    TreeView.prototype.setupDragAndDropScrollInterval = function () {\r\n        var _this = this;\r\n        var viewTop = DOM.getTopLeftOffset(this.wrapper).top;\r\n        if (!this.dragAndDropScrollInterval) {\r\n            this.dragAndDropScrollInterval = window.setInterval(function () {\r\n                if (_this.dragAndDropMouseY === null) {\r\n                    return;\r\n                }\r\n                var diff = _this.dragAndDropMouseY - viewTop;\r\n                var scrollDiff = 0;\r\n                var upperLimit = _this.viewHeight - 35;\r\n                if (diff < 35) {\r\n                    scrollDiff = Math.max(-14, 0.2 * (diff - 35));\r\n                }\r\n                else if (diff > upperLimit) {\r\n                    scrollDiff = Math.min(14, 0.2 * (diff - upperLimit));\r\n                }\r\n                _this.scrollTop += scrollDiff;\r\n            }, 10);\r\n            this.cancelDragAndDropScrollTimeout();\r\n            this.dragAndDropScrollTimeout = window.setTimeout(function () {\r\n                _this.cancelDragAndDropScrollInterval();\r\n                _this.dragAndDropScrollTimeout = null;\r\n            }, 1000);\r\n        }\r\n    };\r\n    TreeView.prototype.cancelDragAndDropScrollInterval = function () {\r\n        if (this.dragAndDropScrollInterval) {\r\n            window.clearInterval(this.dragAndDropScrollInterval);\r\n            this.dragAndDropScrollInterval = null;\r\n        }\r\n        this.cancelDragAndDropScrollTimeout();\r\n    };\r\n    TreeView.prototype.cancelDragAndDropScrollTimeout = function () {\r\n        if (this.dragAndDropScrollTimeout) {\r\n            window.clearTimeout(this.dragAndDropScrollTimeout);\r\n            this.dragAndDropScrollTimeout = null;\r\n        }\r\n    };\r\n    TreeView.prototype.onDragOver = function (e) {\r\n        var _this = this;\r\n        e.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\r\n        var event = new Mouse.DragMouseEvent(e);\r\n        var viewItem = this.getItemAround(event.target);\r\n        if (!viewItem || (event.posx === 0 && event.posy === 0 && event.browserEvent.type === DOM.EventType.DRAG_LEAVE)) {\r\n            // dragging outside of tree\r\n            if (this.currentDropTarget) {\r\n                // clear previously hovered element feedback\r\n                this.currentDropTargets.forEach(function (i) { return i.dropTarget = false; });\r\n                this.currentDropTargets = [];\r\n                this.currentDropDisposable.dispose();\r\n            }\r\n            this.cancelDragAndDropScrollInterval();\r\n            this.currentDropTarget = null;\r\n            this.currentDropElement = null;\r\n            this.dragAndDropMouseY = null;\r\n            return false;\r\n        }\r\n        // dragging inside the tree\r\n        this.setupDragAndDropScrollInterval();\r\n        this.dragAndDropMouseY = event.posy;\r\n        if (!this.currentDragAndDropData) {\r\n            // just started dragging\r\n            if (StaticDND.CurrentDragAndDropData) {\r\n                this.currentDragAndDropData = StaticDND.CurrentDragAndDropData;\r\n            }\r\n            else {\r\n                if (!event.dataTransfer.types) {\r\n                    return false;\r\n                }\r\n                this.currentDragAndDropData = new dnd.DesktopDragAndDropData();\r\n            }\r\n        }\r\n        this.currentDragAndDropData.update(event.browserEvent.dataTransfer);\r\n        var element;\r\n        var item = viewItem.model;\r\n        var reaction;\r\n        // check the bubble up behavior\r\n        do {\r\n            element = item ? item.getElement() : this.model.getInput();\r\n            reaction = this.context.dnd.onDragOver(this.context.tree, this.currentDragAndDropData, element, event);\r\n            if (!reaction || reaction.bubble !== 1 /* BUBBLE_UP */) {\r\n                break;\r\n            }\r\n            item = item && item.parent;\r\n        } while (item);\r\n        if (!item) {\r\n            this.currentDropElement = null;\r\n            return false;\r\n        }\r\n        var canDrop = reaction && reaction.accept;\r\n        if (canDrop) {\r\n            this.currentDropElement = item.getElement();\r\n            event.preventDefault();\r\n            event.dataTransfer.dropEffect = reaction.effect === 0 /* COPY */ ? 'copy' : 'move';\r\n        }\r\n        else {\r\n            this.currentDropElement = null;\r\n        }\r\n        // item is the model item where drop() should be called\r\n        // can be null\r\n        var currentDropTarget = item.id === this.inputItem.id ? this.inputItem : this.items[item.id];\r\n        if (this.shouldInvalidateDropReaction || this.currentDropTarget !== currentDropTarget || !reactionEquals(this.currentDropElementReaction, reaction)) {\r\n            this.shouldInvalidateDropReaction = false;\r\n            if (this.currentDropTarget) {\r\n                this.currentDropTargets.forEach(function (i) { return i.dropTarget = false; });\r\n                this.currentDropTargets = [];\r\n                this.currentDropDisposable.dispose();\r\n            }\r\n            this.currentDropTarget = currentDropTarget;\r\n            this.currentDropElementReaction = reaction;\r\n            if (canDrop) {\r\n                // setup hover feedback for drop target\r\n                if (this.currentDropTarget) {\r\n                    this.currentDropTarget.dropTarget = true;\r\n                    this.currentDropTargets.push(this.currentDropTarget);\r\n                }\r\n                if (reaction.bubble === 0 /* BUBBLE_DOWN */) {\r\n                    var nav = item.getNavigator();\r\n                    var child = void 0;\r\n                    while (child = nav.next()) {\r\n                        viewItem = this.items[child.id];\r\n                        if (viewItem) {\r\n                            viewItem.dropTarget = true;\r\n                            this.currentDropTargets.push(viewItem);\r\n                        }\r\n                    }\r\n                }\r\n                if (reaction.autoExpand) {\r\n                    var timeoutPromise_1 = timeout(500);\r\n                    this.currentDropDisposable = Lifecycle.toDisposable(function () { return timeoutPromise_1.cancel(); });\r\n                    timeoutPromise_1\r\n                        .then(function () { return _this.context.tree.expand(_this.currentDropElement); })\r\n                        .then(function () { return _this.shouldInvalidateDropReaction = true; });\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    TreeView.prototype.onDrop = function (e) {\r\n        if (this.currentDropElement) {\r\n            var event_1 = new Mouse.DragMouseEvent(e);\r\n            event_1.preventDefault();\r\n            this.currentDragAndDropData.update(event_1.browserEvent.dataTransfer);\r\n            this.context.dnd.drop(this.context.tree, this.currentDragAndDropData, this.currentDropElement, event_1);\r\n            this.onDragEnd(e);\r\n        }\r\n        this.cancelDragAndDropScrollInterval();\r\n    };\r\n    TreeView.prototype.onDragEnd = function (e) {\r\n        if (this.currentDropTarget) {\r\n            this.currentDropTargets.forEach(function (i) { return i.dropTarget = false; });\r\n            this.currentDropTargets = [];\r\n        }\r\n        this.currentDropDisposable.dispose();\r\n        this.cancelDragAndDropScrollInterval();\r\n        this.currentDragAndDropData = null;\r\n        StaticDND.CurrentDragAndDropData = undefined;\r\n        this.currentDropElement = null;\r\n        this.currentDropTarget = null;\r\n        this.dragAndDropMouseY = null;\r\n    };\r\n    TreeView.prototype.onFocus = function () {\r\n        if (!this.context.options.alwaysFocused) {\r\n            DOM.addClass(this.domNode, 'focused');\r\n        }\r\n        this._onDOMFocus.fire();\r\n    };\r\n    TreeView.prototype.onBlur = function () {\r\n        if (!this.context.options.alwaysFocused) {\r\n            DOM.removeClass(this.domNode, 'focused');\r\n        }\r\n        this.domNode.removeAttribute('aria-activedescendant'); // ARIA\r\n        this._onDOMBlur.fire();\r\n    };\r\n    // MS specific DOM Events\r\n    TreeView.prototype.onMsPointerDown = function (event) {\r\n        if (!this.msGesture) {\r\n            return;\r\n        }\r\n        // Circumvent IE11 breaking change in e.pointerType & TypeScript's stale definitions\r\n        var pointerType = event.pointerType;\r\n        if (pointerType === (event.MSPOINTER_TYPE_MOUSE || 'mouse')) {\r\n            this.lastPointerType = 'mouse';\r\n            return;\r\n        }\r\n        else if (pointerType === (event.MSPOINTER_TYPE_TOUCH || 'touch')) {\r\n            this.lastPointerType = 'touch';\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n        this.msGesture.addPointer(event.pointerId);\r\n    };\r\n    TreeView.prototype.onThrottledMsGestureChange = function (event) {\r\n        this.scrollTop -= event.translationY;\r\n    };\r\n    TreeView.prototype.onMsGestureTap = function (event) {\r\n        event.initialTarget = document.elementFromPoint(event.clientX, event.clientY);\r\n        this.onTap(event);\r\n    };\r\n    // DOM changes\r\n    TreeView.prototype.insertItemInDOM = function (item) {\r\n        var elementAfter = null;\r\n        var itemAfter = this.itemAfter(item);\r\n        if (itemAfter && itemAfter.element) {\r\n            elementAfter = itemAfter.element;\r\n        }\r\n        item.insertInDOM(this.rowsContainer, elementAfter);\r\n    };\r\n    TreeView.prototype.removeItemFromDOM = function (item) {\r\n        if (!item) {\r\n            return;\r\n        }\r\n        item.removeFromDOM();\r\n    };\r\n    // Helpers\r\n    TreeView.prototype.shouldBeRendered = function (item) {\r\n        return item.top < this.lastRenderTop + this.lastRenderHeight && item.top + item.height > this.lastRenderTop;\r\n    };\r\n    TreeView.prototype.getItemAround = function (element) {\r\n        var candidate = this.inputItem;\r\n        var el = element;\r\n        do {\r\n            if (el[TreeView.BINDING]) {\r\n                candidate = el[TreeView.BINDING];\r\n            }\r\n            if (el === this.wrapper || el === this.domNode) {\r\n                return candidate;\r\n            }\r\n            if (el === this.scrollableElement.getDomNode() || el === document.body) {\r\n                return undefined;\r\n            }\r\n        } while (el = el.parentElement);\r\n        return undefined;\r\n    };\r\n    // Cleanup\r\n    TreeView.prototype.releaseModel = function () {\r\n        if (this.model) {\r\n            this.modelListeners = Lifecycle.dispose(this.modelListeners);\r\n            this.model = null;\r\n        }\r\n    };\r\n    TreeView.prototype.dispose = function () {\r\n        var _this = this;\r\n        // TODO@joao: improve\r\n        this.scrollableElement.dispose();\r\n        this.releaseModel();\r\n        this.viewListeners = Lifecycle.dispose(this.viewListeners);\r\n        this._onDOMFocus.dispose();\r\n        this._onDOMBlur.dispose();\r\n        if (this.domNode.parentNode) {\r\n            this.domNode.parentNode.removeChild(this.domNode);\r\n        }\r\n        if (this.items) {\r\n            Object.keys(this.items).forEach(function (key) { return _this.items[key].removeFromDOM(); });\r\n        }\r\n        if (this.context.cache) {\r\n            this.context.cache.dispose();\r\n        }\r\n        this.gestureDisposable.dispose();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    TreeView.BINDING = 'monaco-tree-row';\r\n    TreeView.LOADING_DECORATION_DELAY = 800;\r\n    TreeView.counter = 0;\r\n    return TreeView;\r\n}(HeightMap));\r\nexport { TreeView };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './tree.css';\r\nimport * as TreeDefaults from './treeDefaults.js';\r\nimport * as Model from './treeModel.js';\r\nimport * as View from './treeView.js';\r\nimport { Emitter, Relay } from '../../../common/event.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { mixin } from '../../../common/objects.js';\r\nvar TreeContext = /** @class */ (function () {\r\n    function TreeContext(tree, configuration, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.tree = tree;\r\n        this.configuration = configuration;\r\n        this.options = options;\r\n        if (!configuration.dataSource) {\r\n            throw new Error('You must provide a Data Source to the tree.');\r\n        }\r\n        this.dataSource = configuration.dataSource;\r\n        this.renderer = configuration.renderer;\r\n        this.controller = configuration.controller || new TreeDefaults.DefaultController({ clickBehavior: 1 /* ON_MOUSE_UP */, keyboardSupport: typeof options.keyboardSupport !== 'boolean' || options.keyboardSupport });\r\n        this.dnd = configuration.dnd || new TreeDefaults.DefaultDragAndDrop();\r\n        this.filter = configuration.filter || new TreeDefaults.DefaultFilter();\r\n        this.sorter = configuration.sorter;\r\n        this.accessibilityProvider = configuration.accessibilityProvider || new TreeDefaults.DefaultAccessibilityProvider();\r\n        this.styler = configuration.styler;\r\n    }\r\n    return TreeContext;\r\n}());\r\nexport { TreeContext };\r\nvar defaultStyles = {\r\n    listFocusBackground: Color.fromHex('#073655'),\r\n    listActiveSelectionBackground: Color.fromHex('#0E639C'),\r\n    listActiveSelectionForeground: Color.fromHex('#FFFFFF'),\r\n    listFocusAndSelectionBackground: Color.fromHex('#094771'),\r\n    listFocusAndSelectionForeground: Color.fromHex('#FFFFFF'),\r\n    listInactiveSelectionBackground: Color.fromHex('#3F3F46'),\r\n    listHoverBackground: Color.fromHex('#2A2D2E'),\r\n    listDropBackground: Color.fromHex('#383B3D')\r\n};\r\nvar Tree = /** @class */ (function () {\r\n    function Tree(container, configuration, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this._onDidChangeFocus = new Relay();\r\n        this.onDidChangeFocus = this._onDidChangeFocus.event;\r\n        this._onDidChangeSelection = new Relay();\r\n        this.onDidChangeSelection = this._onDidChangeSelection.event;\r\n        this._onHighlightChange = new Relay();\r\n        this._onDidExpandItem = new Relay();\r\n        this._onDidCollapseItem = new Relay();\r\n        this._onDispose = new Emitter();\r\n        this.onDidDispose = this._onDispose.event;\r\n        this.container = container;\r\n        mixin(options, defaultStyles, false);\r\n        options.twistiePixels = typeof options.twistiePixels === 'number' ? options.twistiePixels : 32;\r\n        options.showTwistie = options.showTwistie === false ? false : true;\r\n        options.indentPixels = typeof options.indentPixels === 'number' ? options.indentPixels : 12;\r\n        options.alwaysFocused = options.alwaysFocused === true ? true : false;\r\n        options.useShadows = options.useShadows === false ? false : true;\r\n        options.paddingOnRow = options.paddingOnRow === false ? false : true;\r\n        options.showLoading = options.showLoading === false ? false : true;\r\n        this.context = new TreeContext(this, configuration, options);\r\n        this.model = new Model.TreeModel(this.context);\r\n        this.view = new View.TreeView(this.context, this.container);\r\n        this.view.setModel(this.model);\r\n        this._onDidChangeFocus.input = this.model.onDidFocus;\r\n        this._onDidChangeSelection.input = this.model.onDidSelect;\r\n        this._onHighlightChange.input = this.model.onDidHighlight;\r\n        this._onDidExpandItem.input = this.model.onDidExpandItem;\r\n        this._onDidCollapseItem.input = this.model.onDidCollapseItem;\r\n    }\r\n    Tree.prototype.style = function (styles) {\r\n        this.view.applyStyles(styles);\r\n    };\r\n    Object.defineProperty(Tree.prototype, \"onDidFocus\", {\r\n        get: function () {\r\n            return this.view.onDOMFocus;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Tree.prototype.getHTMLElement = function () {\r\n        return this.view.getHTMLElement();\r\n    };\r\n    Tree.prototype.layout = function (height, width) {\r\n        this.view.layout(height, width);\r\n    };\r\n    Tree.prototype.domFocus = function () {\r\n        this.view.focus();\r\n    };\r\n    Tree.prototype.isDOMFocused = function () {\r\n        return this.view.isFocused();\r\n    };\r\n    Tree.prototype.domBlur = function () {\r\n        this.view.blur();\r\n    };\r\n    Tree.prototype.setInput = function (element) {\r\n        return this.model.setInput(element);\r\n    };\r\n    Tree.prototype.getInput = function () {\r\n        return this.model.getInput();\r\n    };\r\n    Tree.prototype.expand = function (element) {\r\n        return this.model.expand(element);\r\n    };\r\n    Tree.prototype.collapse = function (element, recursive) {\r\n        if (recursive === void 0) { recursive = false; }\r\n        return this.model.collapse(element, recursive);\r\n    };\r\n    Tree.prototype.toggleExpansion = function (element, recursive) {\r\n        if (recursive === void 0) { recursive = false; }\r\n        return this.model.toggleExpansion(element, recursive);\r\n    };\r\n    Tree.prototype.isExpanded = function (element) {\r\n        return this.model.isExpanded(element);\r\n    };\r\n    Tree.prototype.reveal = function (element, relativeTop) {\r\n        if (relativeTop === void 0) { relativeTop = null; }\r\n        return this.model.reveal(element, relativeTop);\r\n    };\r\n    Tree.prototype.getHighlight = function () {\r\n        return this.model.getHighlight();\r\n    };\r\n    Tree.prototype.clearHighlight = function (eventPayload) {\r\n        this.model.setHighlight(null, eventPayload);\r\n    };\r\n    Tree.prototype.setSelection = function (elements, eventPayload) {\r\n        this.model.setSelection(elements, eventPayload);\r\n    };\r\n    Tree.prototype.getSelection = function () {\r\n        return this.model.getSelection();\r\n    };\r\n    Tree.prototype.clearSelection = function (eventPayload) {\r\n        this.model.setSelection([], eventPayload);\r\n    };\r\n    Tree.prototype.setFocus = function (element, eventPayload) {\r\n        this.model.setFocus(element, eventPayload);\r\n    };\r\n    Tree.prototype.getFocus = function () {\r\n        return this.model.getFocus();\r\n    };\r\n    Tree.prototype.focusNext = function (count, eventPayload) {\r\n        this.model.focusNext(count, eventPayload);\r\n    };\r\n    Tree.prototype.focusPrevious = function (count, eventPayload) {\r\n        this.model.focusPrevious(count, eventPayload);\r\n    };\r\n    Tree.prototype.focusParent = function (eventPayload) {\r\n        this.model.focusParent(eventPayload);\r\n    };\r\n    Tree.prototype.focusFirstChild = function (eventPayload) {\r\n        this.model.focusFirstChild(eventPayload);\r\n    };\r\n    Tree.prototype.focusFirst = function (eventPayload, from) {\r\n        this.model.focusFirst(eventPayload, from);\r\n    };\r\n    Tree.prototype.focusNth = function (index, eventPayload) {\r\n        this.model.focusNth(index, eventPayload);\r\n    };\r\n    Tree.prototype.focusLast = function (eventPayload, from) {\r\n        this.model.focusLast(eventPayload, from);\r\n    };\r\n    Tree.prototype.focusNextPage = function (eventPayload) {\r\n        this.view.focusNextPage(eventPayload);\r\n    };\r\n    Tree.prototype.focusPreviousPage = function (eventPayload) {\r\n        this.view.focusPreviousPage(eventPayload);\r\n    };\r\n    Tree.prototype.clearFocus = function (eventPayload) {\r\n        this.model.setFocus(null, eventPayload);\r\n    };\r\n    Tree.prototype.dispose = function () {\r\n        this._onDispose.fire();\r\n        this.model.dispose();\r\n        this.view.dispose();\r\n        this._onDidChangeFocus.dispose();\r\n        this._onDidChangeSelection.dispose();\r\n        this._onHighlightChange.dispose();\r\n        this._onDidExpandItem.dispose();\r\n        this._onDidCollapseItem.dispose();\r\n        this._onDispose.dispose();\r\n    };\r\n    return Tree;\r\n}());\r\nexport { Tree };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './progressbar.css';\r\nimport { Disposable } from '../../../common/lifecycle.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { mixin } from '../../../common/objects.js';\r\nimport { removeClasses, addClass, hasClass, hide, show } from '../../dom.js';\r\nimport { RunOnceScheduler } from '../../../common/async.js';\r\nvar css_done = 'done';\r\nvar css_active = 'active';\r\nvar css_infinite = 'infinite';\r\nvar css_discrete = 'discrete';\r\nvar css_progress_container = 'monaco-progress-container';\r\nvar css_progress_bit = 'progress-bit';\r\nvar defaultOpts = {\r\n    progressBarBackground: Color.fromHex('#0E70C0')\r\n};\r\n/**\r\n * A progress bar with support for infinite or discrete progress.\r\n */\r\nvar ProgressBar = /** @class */ (function (_super) {\r\n    __extends(ProgressBar, _super);\r\n    function ProgressBar(container, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.options = options || Object.create(null);\r\n        mixin(_this.options, defaultOpts, false);\r\n        _this.workedVal = 0;\r\n        _this.progressBarBackground = _this.options.progressBarBackground;\r\n        _this._register(_this.showDelayedScheduler = new RunOnceScheduler(function () { return show(_this.element); }, 0));\r\n        _this.create(container);\r\n        return _this;\r\n    }\r\n    ProgressBar.prototype.create = function (container) {\r\n        this.element = document.createElement('div');\r\n        addClass(this.element, css_progress_container);\r\n        container.appendChild(this.element);\r\n        this.bit = document.createElement('div');\r\n        addClass(this.bit, css_progress_bit);\r\n        this.element.appendChild(this.bit);\r\n        this.applyStyles();\r\n    };\r\n    ProgressBar.prototype.off = function () {\r\n        this.bit.style.width = 'inherit';\r\n        this.bit.style.opacity = '1';\r\n        removeClasses(this.element, css_active, css_infinite, css_discrete);\r\n        this.workedVal = 0;\r\n        this.totalWork = undefined;\r\n    };\r\n    /**\r\n     * Stops the progressbar from showing any progress instantly without fading out.\r\n     */\r\n    ProgressBar.prototype.stop = function () {\r\n        return this.doDone(false);\r\n    };\r\n    ProgressBar.prototype.doDone = function (delayed) {\r\n        var _this = this;\r\n        addClass(this.element, css_done);\r\n        // let it grow to 100% width and hide afterwards\r\n        if (!hasClass(this.element, css_infinite)) {\r\n            this.bit.style.width = 'inherit';\r\n            if (delayed) {\r\n                setTimeout(function () { return _this.off(); }, 200);\r\n            }\r\n            else {\r\n                this.off();\r\n            }\r\n        }\r\n        // let it fade out and hide afterwards\r\n        else {\r\n            this.bit.style.opacity = '0';\r\n            if (delayed) {\r\n                setTimeout(function () { return _this.off(); }, 200);\r\n            }\r\n            else {\r\n                this.off();\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    ProgressBar.prototype.hide = function () {\r\n        hide(this.element);\r\n        this.showDelayedScheduler.cancel();\r\n    };\r\n    ProgressBar.prototype.style = function (styles) {\r\n        this.progressBarBackground = styles.progressBarBackground;\r\n        this.applyStyles();\r\n    };\r\n    ProgressBar.prototype.applyStyles = function () {\r\n        if (this.bit) {\r\n            var background = this.progressBarBackground ? this.progressBarBackground.toString() : '';\r\n            this.bit.style.backgroundColor = background;\r\n        }\r\n    };\r\n    return ProgressBar;\r\n}(Disposable));\r\nexport { ProgressBar };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './quickopen.css';\r\nimport * as nls from '../../../../nls.js';\r\nimport * as platform from '../../../common/platform.js';\r\nimport * as types from '../../../common/types.js';\r\nimport { Filter, Renderer, DataSource, AccessibilityProvider } from './quickOpenViewer.js';\r\nimport { InputBox } from '../../../browser/ui/inputbox/inputBox.js';\r\nimport { Tree } from '../../tree/browser/treeImpl.js';\r\nimport { ProgressBar } from '../../../browser/ui/progressbar/progressbar.js';\r\nimport { StandardKeyboardEvent } from '../../../browser/keyboardEvent.js';\r\nimport { DefaultController } from '../../tree/browser/treeDefaults.js';\r\nimport * as DOM from '../../../browser/dom.js';\r\nimport { Disposable } from '../../../common/lifecycle.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { mixin } from '../../../common/objects.js';\r\nimport { StandardMouseEvent } from '../../../browser/mouseEvent.js';\r\nvar QuickOpenController = /** @class */ (function (_super) {\r\n    __extends(QuickOpenController, _super);\r\n    function QuickOpenController() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    QuickOpenController.prototype.onContextMenu = function (tree, element, event) {\r\n        if (platform.isMacintosh) {\r\n            return this.onLeftClick(tree, element, event); // https://github.com/Microsoft/vscode/issues/1011\r\n        }\r\n        return _super.prototype.onContextMenu.call(this, tree, element, event);\r\n    };\r\n    return QuickOpenController;\r\n}(DefaultController));\r\nexport { QuickOpenController };\r\nvar defaultStyles = {\r\n    background: Color.fromHex('#1E1E1E'),\r\n    foreground: Color.fromHex('#CCCCCC'),\r\n    pickerGroupForeground: Color.fromHex('#0097FB'),\r\n    pickerGroupBorder: Color.fromHex('#3F3F46'),\r\n    widgetShadow: Color.fromHex('#000000'),\r\n    progressBarBackground: Color.fromHex('#0E70C0')\r\n};\r\nvar DEFAULT_INPUT_ARIA_LABEL = nls.localize('quickOpenAriaLabel', \"Quick picker. Type to narrow down results.\");\r\nvar QuickOpenWidget = /** @class */ (function (_super) {\r\n    __extends(QuickOpenWidget, _super);\r\n    function QuickOpenWidget(container, callbacks, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.isDisposed = false;\r\n        _this.container = container;\r\n        _this.callbacks = callbacks;\r\n        _this.options = options;\r\n        _this.styles = options || Object.create(null);\r\n        mixin(_this.styles, defaultStyles, false);\r\n        _this.model = null;\r\n        return _this;\r\n    }\r\n    QuickOpenWidget.prototype.getModel = function () {\r\n        return this.model;\r\n    };\r\n    QuickOpenWidget.prototype.create = function () {\r\n        var _this = this;\r\n        // Container\r\n        this.element = document.createElement('div');\r\n        DOM.addClass(this.element, 'monaco-quick-open-widget');\r\n        this.container.appendChild(this.element);\r\n        this._register(DOM.addDisposableListener(this.element, DOM.EventType.CONTEXT_MENU, function (e) { return DOM.EventHelper.stop(e, true); })); // Do this to fix an issue on Mac where the menu goes into the way\r\n        this._register(DOM.addDisposableListener(this.element, DOM.EventType.FOCUS, function (e) { return _this.gainingFocus(); }, true));\r\n        this._register(DOM.addDisposableListener(this.element, DOM.EventType.BLUR, function (e) { return _this.loosingFocus(e); }, true));\r\n        this._register(DOM.addDisposableListener(this.element, DOM.EventType.KEY_DOWN, function (e) {\r\n            var keyboardEvent = new StandardKeyboardEvent(e);\r\n            if (keyboardEvent.keyCode === 9 /* Escape */) {\r\n                DOM.EventHelper.stop(e, true);\r\n                _this.hide(2 /* CANCELED */);\r\n            }\r\n            else if (keyboardEvent.keyCode === 2 /* Tab */ && !keyboardEvent.altKey && !keyboardEvent.ctrlKey && !keyboardEvent.metaKey) {\r\n                var stops = e.currentTarget.querySelectorAll('input, .monaco-tree, .monaco-tree-row.focused .action-label.icon');\r\n                if (keyboardEvent.shiftKey && keyboardEvent.target === stops[0]) {\r\n                    DOM.EventHelper.stop(e, true);\r\n                    stops[stops.length - 1].focus();\r\n                }\r\n                else if (!keyboardEvent.shiftKey && keyboardEvent.target === stops[stops.length - 1]) {\r\n                    DOM.EventHelper.stop(e, true);\r\n                    stops[0].focus();\r\n                }\r\n            }\r\n        }));\r\n        // Progress Bar\r\n        this.progressBar = this._register(new ProgressBar(this.element, { progressBarBackground: this.styles.progressBarBackground }));\r\n        this.progressBar.hide();\r\n        // Input Field\r\n        this.inputContainer = document.createElement('div');\r\n        DOM.addClass(this.inputContainer, 'quick-open-input');\r\n        this.element.appendChild(this.inputContainer);\r\n        this.inputBox = this._register(new InputBox(this.inputContainer, undefined, {\r\n            placeholder: this.options.inputPlaceHolder || '',\r\n            ariaLabel: DEFAULT_INPUT_ARIA_LABEL,\r\n            inputBackground: this.styles.inputBackground,\r\n            inputForeground: this.styles.inputForeground,\r\n            inputBorder: this.styles.inputBorder,\r\n            inputValidationInfoBackground: this.styles.inputValidationInfoBackground,\r\n            inputValidationInfoForeground: this.styles.inputValidationInfoForeground,\r\n            inputValidationInfoBorder: this.styles.inputValidationInfoBorder,\r\n            inputValidationWarningBackground: this.styles.inputValidationWarningBackground,\r\n            inputValidationWarningForeground: this.styles.inputValidationWarningForeground,\r\n            inputValidationWarningBorder: this.styles.inputValidationWarningBorder,\r\n            inputValidationErrorBackground: this.styles.inputValidationErrorBackground,\r\n            inputValidationErrorForeground: this.styles.inputValidationErrorForeground,\r\n            inputValidationErrorBorder: this.styles.inputValidationErrorBorder\r\n        }));\r\n        this.inputElement = this.inputBox.inputElement;\r\n        this.inputElement.setAttribute('role', 'combobox');\r\n        this.inputElement.setAttribute('aria-haspopup', 'false');\r\n        this.inputElement.setAttribute('aria-autocomplete', 'list');\r\n        this._register(DOM.addDisposableListener(this.inputBox.inputElement, DOM.EventType.INPUT, function (e) { return _this.onType(); }));\r\n        this._register(DOM.addDisposableListener(this.inputBox.inputElement, DOM.EventType.KEY_DOWN, function (e) {\r\n            var keyboardEvent = new StandardKeyboardEvent(e);\r\n            var shouldOpenInBackground = _this.shouldOpenInBackground(keyboardEvent);\r\n            // Do not handle Tab: It is used to navigate between elements without mouse\r\n            if (keyboardEvent.keyCode === 2 /* Tab */) {\r\n                return;\r\n            }\r\n            // Pass tree navigation keys to the tree but leave focus in input field\r\n            else if (keyboardEvent.keyCode === 18 /* DownArrow */ || keyboardEvent.keyCode === 16 /* UpArrow */ || keyboardEvent.keyCode === 12 /* PageDown */ || keyboardEvent.keyCode === 11 /* PageUp */) {\r\n                DOM.EventHelper.stop(e, true);\r\n                _this.navigateInTree(keyboardEvent.keyCode, keyboardEvent.shiftKey);\r\n                // Position cursor at the end of input to allow right arrow (open in background)\r\n                // to function immediately unless the user has made a selection\r\n                if (_this.inputBox.inputElement.selectionStart === _this.inputBox.inputElement.selectionEnd) {\r\n                    _this.inputBox.inputElement.selectionStart = _this.inputBox.value.length;\r\n                }\r\n            }\r\n            // Select element on Enter or on Arrow-Right if we are at the end of the input\r\n            else if (keyboardEvent.keyCode === 3 /* Enter */ || shouldOpenInBackground) {\r\n                DOM.EventHelper.stop(e, true);\r\n                var focus_1 = _this.tree.getFocus();\r\n                if (focus_1) {\r\n                    _this.elementSelected(focus_1, e, shouldOpenInBackground ? 2 /* OPEN_IN_BACKGROUND */ : 1 /* OPEN */);\r\n                }\r\n            }\r\n        }));\r\n        // Result count for screen readers\r\n        this.resultCount = document.createElement('div');\r\n        DOM.addClass(this.resultCount, 'quick-open-result-count');\r\n        this.resultCount.setAttribute('aria-live', 'polite');\r\n        this.resultCount.setAttribute('aria-atomic', 'true');\r\n        this.element.appendChild(this.resultCount);\r\n        // Tree\r\n        this.treeContainer = document.createElement('div');\r\n        DOM.addClass(this.treeContainer, 'quick-open-tree');\r\n        this.element.appendChild(this.treeContainer);\r\n        var createTree = this.options.treeCreator || (function (container, config, opts) { return new Tree(container, config, opts); });\r\n        this.tree = this._register(createTree(this.treeContainer, {\r\n            dataSource: new DataSource(this),\r\n            controller: new QuickOpenController({ clickBehavior: 1 /* ON_MOUSE_UP */, keyboardSupport: this.options.keyboardSupport }),\r\n            renderer: (this.renderer = new Renderer(this, this.styles)),\r\n            filter: new Filter(this),\r\n            accessibilityProvider: new AccessibilityProvider(this)\r\n        }, {\r\n            twistiePixels: 11,\r\n            indentPixels: 0,\r\n            alwaysFocused: true,\r\n            verticalScrollMode: 3 /* Visible */,\r\n            horizontalScrollMode: 2 /* Hidden */,\r\n            ariaLabel: nls.localize('treeAriaLabel', \"Quick Picker\"),\r\n            keyboardSupport: this.options.keyboardSupport,\r\n            preventRootFocus: false\r\n        }));\r\n        this.treeElement = this.tree.getHTMLElement();\r\n        // Handle Focus and Selection event\r\n        this._register(this.tree.onDidChangeFocus(function (event) {\r\n            _this.elementFocused(event.focus, event);\r\n        }));\r\n        this._register(this.tree.onDidChangeSelection(function (event) {\r\n            if (event.selection && event.selection.length > 0) {\r\n                var mouseEvent = event.payload && event.payload.originalEvent instanceof StandardMouseEvent ? event.payload.originalEvent : undefined;\r\n                var shouldOpenInBackground = mouseEvent ? _this.shouldOpenInBackground(mouseEvent) : false;\r\n                _this.elementSelected(event.selection[0], event, shouldOpenInBackground ? 2 /* OPEN_IN_BACKGROUND */ : 1 /* OPEN */);\r\n            }\r\n        }));\r\n        this._register(DOM.addDisposableListener(this.treeContainer, DOM.EventType.KEY_DOWN, function (e) {\r\n            var keyboardEvent = new StandardKeyboardEvent(e);\r\n            // Only handle when in quick navigation mode\r\n            if (!_this.quickNavigateConfiguration) {\r\n                return;\r\n            }\r\n            // Support keyboard navigation in quick navigation mode\r\n            if (keyboardEvent.keyCode === 18 /* DownArrow */ || keyboardEvent.keyCode === 16 /* UpArrow */ || keyboardEvent.keyCode === 12 /* PageDown */ || keyboardEvent.keyCode === 11 /* PageUp */) {\r\n                DOM.EventHelper.stop(e, true);\r\n                _this.navigateInTree(keyboardEvent.keyCode);\r\n            }\r\n            // Support to open item with Enter still even in quick nav mode\r\n            else if (keyboardEvent.keyCode === 3 /* Enter */) {\r\n                DOM.EventHelper.stop(e, true);\r\n                var focus_2 = _this.tree.getFocus();\r\n                if (focus_2) {\r\n                    _this.elementSelected(focus_2, e);\r\n                }\r\n            }\r\n        }));\r\n        this._register(DOM.addDisposableListener(this.treeContainer, DOM.EventType.KEY_UP, function (e) {\r\n            var keyboardEvent = new StandardKeyboardEvent(e);\r\n            var keyCode = keyboardEvent.keyCode;\r\n            // Only handle when in quick navigation mode\r\n            if (!_this.quickNavigateConfiguration) {\r\n                return;\r\n            }\r\n            // Select element when keys are pressed that signal it\r\n            var quickNavKeys = _this.quickNavigateConfiguration.keybindings;\r\n            var wasTriggerKeyPressed = quickNavKeys.some(function (k) {\r\n                var _a = k.getParts(), firstPart = _a[0], chordPart = _a[1];\r\n                if (chordPart) {\r\n                    return false;\r\n                }\r\n                if (firstPart.shiftKey && keyCode === 4 /* Shift */) {\r\n                    if (keyboardEvent.ctrlKey || keyboardEvent.altKey || keyboardEvent.metaKey) {\r\n                        return false; // this is an optimistic check for the shift key being used to navigate back in quick open\r\n                    }\r\n                    return true;\r\n                }\r\n                if (firstPart.altKey && keyCode === 6 /* Alt */) {\r\n                    return true;\r\n                }\r\n                if (firstPart.ctrlKey && keyCode === 5 /* Ctrl */) {\r\n                    return true;\r\n                }\r\n                if (firstPart.metaKey && keyCode === 57 /* Meta */) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n            if (wasTriggerKeyPressed) {\r\n                var focus_3 = _this.tree.getFocus();\r\n                if (focus_3) {\r\n                    _this.elementSelected(focus_3, e);\r\n                }\r\n            }\r\n        }));\r\n        // Support layout\r\n        if (this.layoutDimensions) {\r\n            this.layout(this.layoutDimensions);\r\n        }\r\n        this.applyStyles();\r\n        // Allows focus to switch to next/previous entry after tab into an actionbar item\r\n        this._register(DOM.addDisposableListener(this.treeContainer, DOM.EventType.KEY_DOWN, function (e) {\r\n            var keyboardEvent = new StandardKeyboardEvent(e);\r\n            // Only handle when not in quick navigation mode\r\n            if (_this.quickNavigateConfiguration) {\r\n                return;\r\n            }\r\n            if (keyboardEvent.keyCode === 18 /* DownArrow */ || keyboardEvent.keyCode === 16 /* UpArrow */ || keyboardEvent.keyCode === 12 /* PageDown */ || keyboardEvent.keyCode === 11 /* PageUp */) {\r\n                DOM.EventHelper.stop(e, true);\r\n                _this.navigateInTree(keyboardEvent.keyCode, keyboardEvent.shiftKey);\r\n                _this.treeElement.focus();\r\n            }\r\n        }));\r\n        return this.element;\r\n    };\r\n    QuickOpenWidget.prototype.style = function (styles) {\r\n        this.styles = styles;\r\n        this.applyStyles();\r\n    };\r\n    QuickOpenWidget.prototype.applyStyles = function () {\r\n        if (this.element) {\r\n            var foreground = this.styles.foreground ? this.styles.foreground.toString() : null;\r\n            var background = this.styles.background ? this.styles.background.toString() : '';\r\n            var borderColor = this.styles.borderColor ? this.styles.borderColor.toString() : '';\r\n            var widgetShadow = this.styles.widgetShadow ? this.styles.widgetShadow.toString() : '';\r\n            this.element.style.color = foreground;\r\n            this.element.style.backgroundColor = background;\r\n            this.element.style.borderColor = borderColor;\r\n            this.element.style.borderWidth = borderColor ? '1px' : '';\r\n            this.element.style.borderStyle = borderColor ? 'solid' : '';\r\n            this.element.style.boxShadow = widgetShadow ? \"0 5px 8px \" + widgetShadow : '';\r\n        }\r\n        if (this.progressBar) {\r\n            this.progressBar.style({\r\n                progressBarBackground: this.styles.progressBarBackground\r\n            });\r\n        }\r\n        if (this.inputBox) {\r\n            this.inputBox.style({\r\n                inputBackground: this.styles.inputBackground,\r\n                inputForeground: this.styles.inputForeground,\r\n                inputBorder: this.styles.inputBorder,\r\n                inputValidationInfoBackground: this.styles.inputValidationInfoBackground,\r\n                inputValidationInfoForeground: this.styles.inputValidationInfoForeground,\r\n                inputValidationInfoBorder: this.styles.inputValidationInfoBorder,\r\n                inputValidationWarningBackground: this.styles.inputValidationWarningBackground,\r\n                inputValidationWarningForeground: this.styles.inputValidationWarningForeground,\r\n                inputValidationWarningBorder: this.styles.inputValidationWarningBorder,\r\n                inputValidationErrorBackground: this.styles.inputValidationErrorBackground,\r\n                inputValidationErrorForeground: this.styles.inputValidationErrorForeground,\r\n                inputValidationErrorBorder: this.styles.inputValidationErrorBorder\r\n            });\r\n        }\r\n        if (this.tree && !this.options.treeCreator) {\r\n            this.tree.style(this.styles);\r\n        }\r\n        if (this.renderer) {\r\n            this.renderer.updateStyles(this.styles);\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.shouldOpenInBackground = function (e) {\r\n        // Keyboard\r\n        if (e instanceof StandardKeyboardEvent) {\r\n            if (e.keyCode !== 17 /* RightArrow */) {\r\n                return false; // only for right arrow\r\n            }\r\n            if (e.metaKey || e.ctrlKey || e.shiftKey || e.altKey) {\r\n                return false; // no modifiers allowed\r\n            }\r\n            // validate the cursor is at the end of the input and there is no selection,\r\n            // and if not prevent opening in the background such as the selection can be changed\r\n            var element = this.inputBox.inputElement;\r\n            return element.selectionEnd === this.inputBox.value.length && element.selectionStart === element.selectionEnd;\r\n        }\r\n        // Mouse\r\n        return e.middleButton;\r\n    };\r\n    QuickOpenWidget.prototype.onType = function () {\r\n        var value = this.inputBox.value;\r\n        // Adjust help text as needed if present\r\n        if (this.helpText) {\r\n            if (value) {\r\n                DOM.hide(this.helpText);\r\n            }\r\n            else {\r\n                DOM.show(this.helpText);\r\n            }\r\n        }\r\n        // Send to callbacks\r\n        this.callbacks.onType(value);\r\n    };\r\n    QuickOpenWidget.prototype.navigateInTree = function (keyCode, isShift) {\r\n        var model = this.tree.getInput();\r\n        var entries = model ? model.entries : [];\r\n        var oldFocus = this.tree.getFocus();\r\n        // Normal Navigation\r\n        switch (keyCode) {\r\n            case 18 /* DownArrow */:\r\n                this.tree.focusNext();\r\n                break;\r\n            case 16 /* UpArrow */:\r\n                this.tree.focusPrevious();\r\n                break;\r\n            case 12 /* PageDown */:\r\n                this.tree.focusNextPage();\r\n                break;\r\n            case 11 /* PageUp */:\r\n                this.tree.focusPreviousPage();\r\n                break;\r\n            case 2 /* Tab */:\r\n                if (isShift) {\r\n                    this.tree.focusPrevious();\r\n                }\r\n                else {\r\n                    this.tree.focusNext();\r\n                }\r\n                break;\r\n        }\r\n        var newFocus = this.tree.getFocus();\r\n        // Support cycle-through navigation if focus did not change\r\n        if (entries.length > 1 && oldFocus === newFocus) {\r\n            // Up from no entry or first entry goes down to last\r\n            if (keyCode === 16 /* UpArrow */ || (keyCode === 2 /* Tab */ && isShift)) {\r\n                this.tree.focusLast();\r\n            }\r\n            // Down from last entry goes to up to first\r\n            else if (keyCode === 18 /* DownArrow */ || keyCode === 2 /* Tab */ && !isShift) {\r\n                this.tree.focusFirst();\r\n            }\r\n        }\r\n        // Reveal\r\n        newFocus = this.tree.getFocus();\r\n        if (newFocus) {\r\n            this.tree.reveal(newFocus);\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.elementFocused = function (value, event) {\r\n        if (!value || !this.isVisible()) {\r\n            return;\r\n        }\r\n        // ARIA\r\n        var arivaActiveDescendant = this.treeElement.getAttribute('aria-activedescendant');\r\n        if (arivaActiveDescendant) {\r\n            this.inputElement.setAttribute('aria-activedescendant', arivaActiveDescendant);\r\n        }\r\n        else {\r\n            this.inputElement.removeAttribute('aria-activedescendant');\r\n        }\r\n        var context = { event: event, keymods: this.extractKeyMods(event), quickNavigateConfiguration: this.quickNavigateConfiguration };\r\n        this.model.runner.run(value, 0 /* PREVIEW */, context);\r\n    };\r\n    QuickOpenWidget.prototype.elementSelected = function (value, event, preferredMode) {\r\n        var hide = true;\r\n        // Trigger open of element on selection\r\n        if (this.isVisible()) {\r\n            var mode = preferredMode || 1 /* OPEN */;\r\n            var context = { event: event, keymods: this.extractKeyMods(event), quickNavigateConfiguration: this.quickNavigateConfiguration };\r\n            hide = this.model.runner.run(value, mode, context);\r\n        }\r\n        // Hide if command was run successfully\r\n        if (hide) {\r\n            this.hide(0 /* ELEMENT_SELECTED */);\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.extractKeyMods = function (event) {\r\n        return {\r\n            ctrlCmd: event && (event.ctrlKey || event.metaKey || (event.payload && event.payload.originalEvent && (event.payload.originalEvent.ctrlKey || event.payload.originalEvent.metaKey))),\r\n            alt: event && (event.altKey || (event.payload && event.payload.originalEvent && event.payload.originalEvent.altKey))\r\n        };\r\n    };\r\n    QuickOpenWidget.prototype.show = function (param, options) {\r\n        this.visible = true;\r\n        this.isLoosingFocus = false;\r\n        this.quickNavigateConfiguration = options ? options.quickNavigateConfiguration : undefined;\r\n        // Adjust UI for quick navigate mode\r\n        if (this.quickNavigateConfiguration) {\r\n            DOM.hide(this.inputContainer);\r\n            DOM.show(this.element);\r\n            this.tree.domFocus();\r\n        }\r\n        // Otherwise use normal UI\r\n        else {\r\n            DOM.show(this.inputContainer);\r\n            DOM.show(this.element);\r\n            this.inputBox.focus();\r\n        }\r\n        // Adjust Help text for IE\r\n        if (this.helpText) {\r\n            if (this.quickNavigateConfiguration || types.isString(param)) {\r\n                DOM.hide(this.helpText);\r\n            }\r\n            else {\r\n                DOM.show(this.helpText);\r\n            }\r\n        }\r\n        // Show based on param\r\n        if (types.isString(param)) {\r\n            this.doShowWithPrefix(param);\r\n        }\r\n        else {\r\n            if (options && options.value) {\r\n                this.restoreLastInput(options.value);\r\n            }\r\n            this.doShowWithInput(param, options && options.autoFocus ? options.autoFocus : {});\r\n        }\r\n        // Respect selectAll option\r\n        if (options && options.inputSelection && !this.quickNavigateConfiguration) {\r\n            this.inputBox.select(options.inputSelection);\r\n        }\r\n        if (this.callbacks.onShow) {\r\n            this.callbacks.onShow();\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.restoreLastInput = function (lastInput) {\r\n        this.inputBox.value = lastInput;\r\n        this.inputBox.select();\r\n        this.callbacks.onType(lastInput);\r\n    };\r\n    QuickOpenWidget.prototype.doShowWithPrefix = function (prefix) {\r\n        this.inputBox.value = prefix;\r\n        this.callbacks.onType(prefix);\r\n    };\r\n    QuickOpenWidget.prototype.doShowWithInput = function (input, autoFocus) {\r\n        this.setInput(input, autoFocus);\r\n    };\r\n    QuickOpenWidget.prototype.setInputAndLayout = function (input, autoFocus) {\r\n        var _this = this;\r\n        this.treeContainer.style.height = this.getHeight(input) + \"px\";\r\n        this.tree.setInput(null).then(function () {\r\n            _this.model = input;\r\n            // ARIA\r\n            _this.inputElement.setAttribute('aria-haspopup', String(input && input.entries && input.entries.length > 0));\r\n            return _this.tree.setInput(input);\r\n        }).then(function () {\r\n            // Indicate entries to tree\r\n            _this.tree.layout();\r\n            var entries = input ? input.entries.filter(function (e) { return _this.isElementVisible(input, e); }) : [];\r\n            _this.updateResultCount(entries.length);\r\n            // Handle auto focus\r\n            if (entries.length) {\r\n                _this.autoFocus(input, entries, autoFocus);\r\n            }\r\n        });\r\n    };\r\n    QuickOpenWidget.prototype.isElementVisible = function (input, e) {\r\n        if (!input.filter) {\r\n            return true;\r\n        }\r\n        return input.filter.isVisible(e);\r\n    };\r\n    QuickOpenWidget.prototype.autoFocus = function (input, entries, autoFocus) {\r\n        if (autoFocus === void 0) { autoFocus = {}; }\r\n        // First check for auto focus of prefix matches\r\n        if (autoFocus.autoFocusPrefixMatch) {\r\n            var caseSensitiveMatch = void 0;\r\n            var caseInsensitiveMatch = void 0;\r\n            var prefix = autoFocus.autoFocusPrefixMatch;\r\n            var lowerCasePrefix = prefix.toLowerCase();\r\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\r\n                var entry = entries_1[_i];\r\n                var label = input.dataSource.getLabel(entry) || '';\r\n                if (!caseSensitiveMatch && label.indexOf(prefix) === 0) {\r\n                    caseSensitiveMatch = entry;\r\n                }\r\n                else if (!caseInsensitiveMatch && label.toLowerCase().indexOf(lowerCasePrefix) === 0) {\r\n                    caseInsensitiveMatch = entry;\r\n                }\r\n                if (caseSensitiveMatch && caseInsensitiveMatch) {\r\n                    break;\r\n                }\r\n            }\r\n            var entryToFocus = caseSensitiveMatch || caseInsensitiveMatch;\r\n            if (entryToFocus) {\r\n                this.tree.setFocus(entryToFocus);\r\n                this.tree.reveal(entryToFocus, 0.5);\r\n                return;\r\n            }\r\n        }\r\n        // Second check for auto focus of first entry\r\n        if (autoFocus.autoFocusFirstEntry) {\r\n            this.tree.focusFirst();\r\n            this.tree.reveal(this.tree.getFocus());\r\n        }\r\n        // Third check for specific index option\r\n        else if (typeof autoFocus.autoFocusIndex === 'number') {\r\n            if (entries.length > autoFocus.autoFocusIndex) {\r\n                this.tree.focusNth(autoFocus.autoFocusIndex);\r\n                this.tree.reveal(this.tree.getFocus());\r\n            }\r\n        }\r\n        // Check for auto focus of second entry\r\n        else if (autoFocus.autoFocusSecondEntry) {\r\n            if (entries.length > 1) {\r\n                this.tree.focusNth(1);\r\n            }\r\n        }\r\n        // Finally check for auto focus of last entry\r\n        else if (autoFocus.autoFocusLastEntry) {\r\n            if (entries.length > 1) {\r\n                this.tree.focusLast();\r\n            }\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.getHeight = function (input) {\r\n        var _this = this;\r\n        var renderer = input.renderer;\r\n        if (!input) {\r\n            var itemHeight = renderer.getHeight(null);\r\n            return this.options.minItemsToShow ? this.options.minItemsToShow * itemHeight : 0;\r\n        }\r\n        var height = 0;\r\n        var preferredItemsHeight;\r\n        if (this.layoutDimensions && this.layoutDimensions.height) {\r\n            preferredItemsHeight = (this.layoutDimensions.height - 50 /* subtract height of input field (30px) and some spacing (drop shadow) to fit */) * 0.4 /* max 40% of screen */;\r\n        }\r\n        if (!preferredItemsHeight || preferredItemsHeight > QuickOpenWidget.MAX_ITEMS_HEIGHT) {\r\n            preferredItemsHeight = QuickOpenWidget.MAX_ITEMS_HEIGHT;\r\n        }\r\n        var entries = input.entries.filter(function (e) { return _this.isElementVisible(input, e); });\r\n        var maxEntries = this.options.maxItemsToShow || entries.length;\r\n        for (var i = 0; i < maxEntries && i < entries.length; i++) {\r\n            var entryHeight = renderer.getHeight(entries[i]);\r\n            if (height + entryHeight <= preferredItemsHeight) {\r\n                height += entryHeight;\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        return height;\r\n    };\r\n    QuickOpenWidget.prototype.updateResultCount = function (count) {\r\n        this.resultCount.textContent = nls.localize({ key: 'quickInput.visibleCount', comment: ['This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers.'] }, \"{0} Results\", count);\r\n    };\r\n    QuickOpenWidget.prototype.hide = function (reason) {\r\n        if (!this.isVisible()) {\r\n            return;\r\n        }\r\n        this.visible = false;\r\n        DOM.hide(this.element);\r\n        this.element.blur();\r\n        // Clear input field and clear tree\r\n        this.inputBox.value = '';\r\n        this.tree.setInput(null);\r\n        // ARIA\r\n        this.inputElement.setAttribute('aria-haspopup', 'false');\r\n        // Reset Tree Height\r\n        this.treeContainer.style.height = (this.options.minItemsToShow ? this.options.minItemsToShow * 22 : 0) + \"px\";\r\n        // Clear any running Progress\r\n        this.progressBar.stop().hide();\r\n        // Clear Focus\r\n        if (this.tree.isDOMFocused()) {\r\n            this.tree.domBlur();\r\n        }\r\n        else if (this.inputBox.hasFocus()) {\r\n            this.inputBox.blur();\r\n        }\r\n        // Callbacks\r\n        if (reason === 0 /* ELEMENT_SELECTED */) {\r\n            this.callbacks.onOk();\r\n        }\r\n        else {\r\n            this.callbacks.onCancel();\r\n        }\r\n        if (this.callbacks.onHide) {\r\n            this.callbacks.onHide(reason);\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.setInput = function (input, autoFocus, ariaLabel) {\r\n        if (!this.isVisible()) {\r\n            return;\r\n        }\r\n        // If the input changes, indicate this to the tree\r\n        if (!!this.getInput()) {\r\n            this.onInputChanging();\r\n        }\r\n        // Adapt tree height to entries and apply input\r\n        this.setInputAndLayout(input, autoFocus);\r\n        // Apply ARIA\r\n        if (this.inputBox) {\r\n            this.inputBox.setAriaLabel(ariaLabel || DEFAULT_INPUT_ARIA_LABEL);\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.onInputChanging = function () {\r\n        var _this = this;\r\n        if (this.inputChangingTimeoutHandle) {\r\n            clearTimeout(this.inputChangingTimeoutHandle);\r\n            this.inputChangingTimeoutHandle = null;\r\n        }\r\n        // when the input is changing in quick open, we indicate this as CSS class to the widget\r\n        // for a certain timeout. this helps reducing some hectic UI updates when input changes quickly\r\n        DOM.addClass(this.element, 'content-changing');\r\n        this.inputChangingTimeoutHandle = setTimeout(function () {\r\n            DOM.removeClass(_this.element, 'content-changing');\r\n        }, 500);\r\n    };\r\n    QuickOpenWidget.prototype.getInput = function () {\r\n        return this.tree.getInput();\r\n    };\r\n    QuickOpenWidget.prototype.isVisible = function () {\r\n        return this.visible;\r\n    };\r\n    QuickOpenWidget.prototype.layout = function (dimension) {\r\n        this.layoutDimensions = dimension;\r\n        // Apply to quick open width (height is dynamic by number of items to show)\r\n        var quickOpenWidth = Math.min(this.layoutDimensions.width * 0.62 /* golden cut */, QuickOpenWidget.MAX_WIDTH);\r\n        if (this.element) {\r\n            // quick open\r\n            this.element.style.width = quickOpenWidth + \"px\";\r\n            this.element.style.marginLeft = \"-\" + quickOpenWidth / 2 + \"px\";\r\n            // input field\r\n            this.inputContainer.style.width = quickOpenWidth - 12 + \"px\";\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.gainingFocus = function () {\r\n        this.isLoosingFocus = false;\r\n    };\r\n    QuickOpenWidget.prototype.loosingFocus = function (e) {\r\n        var _this = this;\r\n        if (!this.isVisible()) {\r\n            return;\r\n        }\r\n        var relatedTarget = e.relatedTarget;\r\n        if (!this.quickNavigateConfiguration && DOM.isAncestor(relatedTarget, this.element)) {\r\n            return; // user clicked somewhere into quick open widget, do not close thereby\r\n        }\r\n        this.isLoosingFocus = true;\r\n        setTimeout(function () {\r\n            if (!_this.isLoosingFocus || _this.isDisposed) {\r\n                return;\r\n            }\r\n            var veto = _this.callbacks.onFocusLost && _this.callbacks.onFocusLost();\r\n            if (!veto) {\r\n                _this.hide(1 /* FOCUS_LOST */);\r\n            }\r\n        }, 0);\r\n    };\r\n    QuickOpenWidget.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        this.isDisposed = true;\r\n    };\r\n    QuickOpenWidget.MAX_WIDTH = 600; // Max total width of quick open widget\r\n    QuickOpenWidget.MAX_ITEMS_HEIGHT = 20 * 22; // Max height of item list below input field\r\n    return QuickOpenWidget;\r\n}(Disposable));\r\nexport { QuickOpenWidget };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Dimension } from '../../../../base/browser/dom.js';\r\nimport { QuickOpenWidget } from '../../../../base/parts/quickopen/browser/quickOpenWidget.js';\r\nimport { foreground } from '../../../../platform/theme/common/colorRegistry.js';\r\nimport { attachQuickOpenStyler } from '../../../../platform/theme/common/styler.js';\r\nvar QuickOpenEditorWidget = /** @class */ (function () {\r\n    function QuickOpenEditorWidget(codeEditor, onOk, onCancel, onType, configuration, themeService) {\r\n        this.codeEditor = codeEditor;\r\n        this.themeService = themeService;\r\n        this.visible = false;\r\n        this.domNode = document.createElement('div');\r\n        this.quickOpenWidget = new QuickOpenWidget(this.domNode, {\r\n            onOk: onOk,\r\n            onCancel: onCancel,\r\n            onType: onType\r\n        }, {\r\n            inputPlaceHolder: undefined,\r\n            inputAriaLabel: configuration.inputAriaLabel,\r\n            keyboardSupport: true\r\n        });\r\n        this.styler = attachQuickOpenStyler(this.quickOpenWidget, this.themeService, {\r\n            pickerGroupForeground: foreground\r\n        });\r\n        this.quickOpenWidget.create();\r\n        this.codeEditor.addOverlayWidget(this);\r\n    }\r\n    QuickOpenEditorWidget.prototype.setInput = function (model, focus) {\r\n        this.quickOpenWidget.setInput(model, focus);\r\n    };\r\n    QuickOpenEditorWidget.prototype.getId = function () {\r\n        return QuickOpenEditorWidget.ID;\r\n    };\r\n    QuickOpenEditorWidget.prototype.getDomNode = function () {\r\n        return this.domNode;\r\n    };\r\n    QuickOpenEditorWidget.prototype.destroy = function () {\r\n        this.codeEditor.removeOverlayWidget(this);\r\n        this.quickOpenWidget.dispose();\r\n        this.styler.dispose();\r\n    };\r\n    QuickOpenEditorWidget.prototype.show = function (value) {\r\n        this.visible = true;\r\n        var editorLayout = this.codeEditor.getLayoutInfo();\r\n        if (editorLayout) {\r\n            this.quickOpenWidget.layout(new Dimension(editorLayout.width, editorLayout.height));\r\n        }\r\n        this.quickOpenWidget.show(value);\r\n        this.codeEditor.layoutOverlayWidget(this);\r\n    };\r\n    QuickOpenEditorWidget.prototype.getPosition = function () {\r\n        if (this.visible) {\r\n            return {\r\n                preference: 2 /* TOP_CENTER */\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    QuickOpenEditorWidget.ID = 'editor.contrib.quickOpenEditorWidget';\r\n    return QuickOpenEditorWidget;\r\n}());\r\nexport { QuickOpenEditorWidget };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport './editorQuickOpen.css';\r\nimport { EditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\r\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\r\nimport { QuickOpenEditorWidget } from './quickOpenEditorWidget.js';\r\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\r\nvar QuickOpenController = /** @class */ (function () {\r\n    function QuickOpenController(editor, themeService) {\r\n        this.themeService = themeService;\r\n        this.widget = null;\r\n        this.rangeHighlightDecorationId = null;\r\n        this.lastKnownEditorSelection = null;\r\n        this.editor = editor;\r\n    }\r\n    QuickOpenController.get = function (editor) {\r\n        return editor.getContribution(QuickOpenController.ID);\r\n    };\r\n    QuickOpenController.prototype.dispose = function () {\r\n        // Dispose widget\r\n        if (this.widget) {\r\n            this.widget.destroy();\r\n            this.widget = null;\r\n        }\r\n    };\r\n    QuickOpenController.prototype.run = function (opts) {\r\n        var _this = this;\r\n        if (this.widget) {\r\n            this.widget.destroy();\r\n            this.widget = null;\r\n        }\r\n        // Create goto line widget\r\n        var onClose = function (canceled) {\r\n            // Clear Highlight Decorations if present\r\n            _this.clearDecorations();\r\n            // Restore selection if canceled\r\n            if (canceled && _this.lastKnownEditorSelection) {\r\n                _this.editor.setSelection(_this.lastKnownEditorSelection);\r\n                _this.editor.revealRangeInCenterIfOutsideViewport(_this.lastKnownEditorSelection, 0 /* Smooth */);\r\n            }\r\n            _this.lastKnownEditorSelection = null;\r\n            // Return focus to the editor if\r\n            // - focus is back on the <body> element because no other focusable element was clicked\r\n            // - a command was picked from the picker which indicates the editor should get focused\r\n            if (document.activeElement === document.body || !canceled) {\r\n                _this.editor.focus();\r\n            }\r\n        };\r\n        this.widget = new QuickOpenEditorWidget(this.editor, function () { return onClose(false); }, function () { return onClose(true); }, function (value) {\r\n            _this.widget.setInput(opts.getModel(value), opts.getAutoFocus(value));\r\n        }, {\r\n            inputAriaLabel: opts.inputAriaLabel\r\n        }, this.themeService);\r\n        // Remember selection to be able to restore on cancel\r\n        if (!this.lastKnownEditorSelection) {\r\n            this.lastKnownEditorSelection = this.editor.getSelection();\r\n        }\r\n        // Show\r\n        this.widget.show('');\r\n    };\r\n    QuickOpenController.prototype.decorateLine = function (range, editor) {\r\n        var oldDecorations = [];\r\n        if (this.rangeHighlightDecorationId) {\r\n            oldDecorations.push(this.rangeHighlightDecorationId);\r\n            this.rangeHighlightDecorationId = null;\r\n        }\r\n        var newDecorations = [\r\n            {\r\n                range: range,\r\n                options: QuickOpenController._RANGE_HIGHLIGHT_DECORATION\r\n            }\r\n        ];\r\n        var decorations = editor.deltaDecorations(oldDecorations, newDecorations);\r\n        this.rangeHighlightDecorationId = decorations[0];\r\n    };\r\n    QuickOpenController.prototype.clearDecorations = function () {\r\n        if (this.rangeHighlightDecorationId) {\r\n            this.editor.deltaDecorations([this.rangeHighlightDecorationId], []);\r\n            this.rangeHighlightDecorationId = null;\r\n        }\r\n    };\r\n    QuickOpenController.ID = 'editor.controller.quickOpenController';\r\n    QuickOpenController._RANGE_HIGHLIGHT_DECORATION = ModelDecorationOptions.register({\r\n        className: 'rangeHighlight',\r\n        isWholeLine: true\r\n    });\r\n    QuickOpenController = __decorate([\r\n        __param(1, IThemeService)\r\n    ], QuickOpenController);\r\n    return QuickOpenController;\r\n}());\r\nexport { QuickOpenController };\r\n/**\r\n * Base class for providing quick open in the editor.\r\n */\r\nvar BaseEditorQuickOpenAction = /** @class */ (function (_super) {\r\n    __extends(BaseEditorQuickOpenAction, _super);\r\n    function BaseEditorQuickOpenAction(inputAriaLabel, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._inputAriaLabel = inputAriaLabel;\r\n        return _this;\r\n    }\r\n    BaseEditorQuickOpenAction.prototype.getController = function (editor) {\r\n        return QuickOpenController.get(editor);\r\n    };\r\n    BaseEditorQuickOpenAction.prototype._show = function (controller, opts) {\r\n        controller.run({\r\n            inputAriaLabel: this._inputAriaLabel,\r\n            getModel: function (value) { return opts.getModel(value); },\r\n            getAutoFocus: function (searchValue) { return opts.getAutoFocus(searchValue); }\r\n        });\r\n    };\r\n    return BaseEditorQuickOpenAction;\r\n}(EditorAction));\r\nexport { BaseEditorQuickOpenAction };\r\nregisterEditorContribution(QuickOpenController.ID, QuickOpenController);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './gotoLine.css';\r\nimport * as strings from '../../../../base/common/strings.js';\r\nimport { QuickOpenEntry, QuickOpenModel } from '../../../../base/parts/quickopen/browser/quickOpenModel.js';\r\nimport { isCodeEditor } from '../../../browser/editorBrowser.js';\r\nimport { registerEditorAction } from '../../../browser/editorExtensions.js';\r\nimport { Position } from '../../../common/core/position.js';\r\nimport { Range } from '../../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\r\nimport { BaseEditorQuickOpenAction } from './editorQuickOpen.js';\r\nimport { GoToLineNLS } from '../../../common/standaloneStrings.js';\r\nvar GotoLineEntry = /** @class */ (function (_super) {\r\n    __extends(GotoLineEntry, _super);\r\n    function GotoLineEntry(line, editor, decorator) {\r\n        var _this = _super.call(this) || this;\r\n        _this.editor = editor;\r\n        _this.decorator = decorator;\r\n        _this.parseResult = _this.parseInput(line);\r\n        return _this;\r\n    }\r\n    GotoLineEntry.prototype.parseInput = function (line) {\r\n        var numbers = line.split(',').map(function (part) { return parseInt(part, 10); }).filter(function (part) { return !isNaN(part); });\r\n        var position;\r\n        if (numbers.length === 0) {\r\n            position = new Position(-1, -1);\r\n        }\r\n        else if (numbers.length === 1) {\r\n            position = new Position(numbers[0], 1);\r\n        }\r\n        else {\r\n            position = new Position(numbers[0], numbers[1]);\r\n        }\r\n        var model;\r\n        if (isCodeEditor(this.editor)) {\r\n            model = this.editor.getModel();\r\n        }\r\n        else {\r\n            var diffModel = this.editor.getModel();\r\n            model = diffModel ? diffModel.modified : null;\r\n        }\r\n        var isValid = model ? model.validatePosition(position).equals(position) : false;\r\n        var label;\r\n        if (isValid) {\r\n            if (position.column && position.column > 1) {\r\n                label = strings.format(GoToLineNLS.gotoLineLabelValidLineAndColumn, position.lineNumber, position.column);\r\n            }\r\n            else {\r\n                label = strings.format(GoToLineNLS.gotoLineLabelValidLine, position.lineNumber);\r\n            }\r\n        }\r\n        else if (position.lineNumber < 1 || position.lineNumber > (model ? model.getLineCount() : 0)) {\r\n            label = strings.format(GoToLineNLS.gotoLineLabelEmptyWithLineLimit, model ? model.getLineCount() : 0);\r\n        }\r\n        else {\r\n            label = strings.format(GoToLineNLS.gotoLineLabelEmptyWithLineAndColumnLimit, model ? model.getLineMaxColumn(position.lineNumber) : 0);\r\n        }\r\n        return {\r\n            position: position,\r\n            isValid: isValid,\r\n            label: label\r\n        };\r\n    };\r\n    GotoLineEntry.prototype.getLabel = function () {\r\n        return this.parseResult.label;\r\n    };\r\n    GotoLineEntry.prototype.getAriaLabel = function () {\r\n        var position = this.editor.getPosition();\r\n        var currentLine = position ? position.lineNumber : 0;\r\n        return strings.format(GoToLineNLS.gotoLineAriaLabel, currentLine, this.parseResult.label);\r\n    };\r\n    GotoLineEntry.prototype.run = function (mode, _context) {\r\n        if (mode === 1 /* OPEN */) {\r\n            return this.runOpen();\r\n        }\r\n        return this.runPreview();\r\n    };\r\n    GotoLineEntry.prototype.runOpen = function () {\r\n        // No-op if range is not valid\r\n        if (!this.parseResult.isValid) {\r\n            return false;\r\n        }\r\n        // Apply selection and focus\r\n        var range = this.toSelection();\r\n        this.editor.setSelection(range);\r\n        this.editor.revealRangeInCenter(range, 0 /* Smooth */);\r\n        this.editor.focus();\r\n        return true;\r\n    };\r\n    GotoLineEntry.prototype.runPreview = function () {\r\n        // No-op if range is not valid\r\n        if (!this.parseResult.isValid) {\r\n            this.decorator.clearDecorations();\r\n            return false;\r\n        }\r\n        // Select Line Position\r\n        var range = this.toSelection();\r\n        this.editor.revealRangeInCenter(range, 0 /* Smooth */);\r\n        // Decorate if possible\r\n        this.decorator.decorateLine(range, this.editor);\r\n        return false;\r\n    };\r\n    GotoLineEntry.prototype.toSelection = function () {\r\n        return new Range(this.parseResult.position.lineNumber, this.parseResult.position.column, this.parseResult.position.lineNumber, this.parseResult.position.column);\r\n    };\r\n    return GotoLineEntry;\r\n}(QuickOpenEntry));\r\nexport { GotoLineEntry };\r\nvar GotoLineAction = /** @class */ (function (_super) {\r\n    __extends(GotoLineAction, _super);\r\n    function GotoLineAction() {\r\n        return _super.call(this, GoToLineNLS.gotoLineActionInput, {\r\n            id: 'editor.action.gotoLine',\r\n            label: GoToLineNLS.gotoLineActionLabel,\r\n            alias: 'Go to Line...',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 2048 /* CtrlCmd */ | 37 /* KEY_G */,\r\n                mac: { primary: 256 /* WinCtrl */ | 37 /* KEY_G */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    GotoLineAction.prototype.run = function (accessor, editor) {\r\n        var _this = this;\r\n        this._show(this.getController(editor), {\r\n            getModel: function (value) {\r\n                return new QuickOpenModel([new GotoLineEntry(value, editor, _this.getController(editor))]);\r\n            },\r\n            getAutoFocus: function (searchValue) {\r\n                return {\r\n                    autoFocusFirstEntry: searchValue.length > 0\r\n                };\r\n            }\r\n        });\r\n    };\r\n    return GotoLineAction;\r\n}(BaseEditorQuickOpenAction));\r\nexport { GotoLineAction };\r\nregisterEditorAction(GotoLineAction);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as strings from '../../../../base/common/strings.js';\r\nimport * as browser from '../../../../base/browser/browser.js';\r\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\r\nimport { matchesFuzzy } from '../../../../base/common/filters.js';\r\nimport { QuickOpenEntryGroup, QuickOpenModel } from '../../../../base/parts/quickopen/browser/quickOpenModel.js';\r\nimport { registerEditorAction } from '../../../browser/editorExtensions.js';\r\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\r\nimport { BaseEditorQuickOpenAction } from './editorQuickOpen.js';\r\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\r\nimport { QuickCommandNLS } from '../../../common/standaloneStrings.js';\r\nvar EditorActionCommandEntry = /** @class */ (function (_super) {\r\n    __extends(EditorActionCommandEntry, _super);\r\n    function EditorActionCommandEntry(key, keyAriaLabel, highlights, action, editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this.key = key;\r\n        _this.keyAriaLabel = keyAriaLabel;\r\n        _this.setHighlights(highlights);\r\n        _this.action = action;\r\n        _this.editor = editor;\r\n        return _this;\r\n    }\r\n    EditorActionCommandEntry.prototype.getLabel = function () {\r\n        return this.action.label;\r\n    };\r\n    EditorActionCommandEntry.prototype.getAriaLabel = function () {\r\n        if (this.keyAriaLabel) {\r\n            return strings.format(QuickCommandNLS.ariaLabelEntryWithKey, this.getLabel(), this.keyAriaLabel);\r\n        }\r\n        return strings.format(QuickCommandNLS.ariaLabelEntry, this.getLabel());\r\n    };\r\n    EditorActionCommandEntry.prototype.getGroupLabel = function () {\r\n        return this.key;\r\n    };\r\n    EditorActionCommandEntry.prototype.run = function (mode, context) {\r\n        var _this = this;\r\n        if (mode === 1 /* OPEN */) {\r\n            // Use a timeout to give the quick open widget a chance to close itself first\r\n            setTimeout(function () {\r\n                // Some actions are enabled only when editor has focus\r\n                _this.editor.focus();\r\n                try {\r\n                    var promise = _this.action.run() || Promise.resolve();\r\n                    promise.then(undefined, onUnexpectedError);\r\n                }\r\n                catch (error) {\r\n                    onUnexpectedError(error);\r\n                }\r\n            }, 50);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return EditorActionCommandEntry;\r\n}(QuickOpenEntryGroup));\r\nexport { EditorActionCommandEntry };\r\nvar QuickCommandAction = /** @class */ (function (_super) {\r\n    __extends(QuickCommandAction, _super);\r\n    function QuickCommandAction() {\r\n        return _super.call(this, QuickCommandNLS.quickCommandActionInput, {\r\n            id: 'editor.action.quickCommand',\r\n            label: QuickCommandNLS.quickCommandActionLabel,\r\n            alias: 'Command Palette',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: (browser.isIE ? 512 /* Alt */ | 59 /* F1 */ : 59 /* F1 */),\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                group: 'z_commands',\r\n                order: 1\r\n            }\r\n        }) || this;\r\n    }\r\n    QuickCommandAction.prototype.run = function (accessor, editor) {\r\n        var _this = this;\r\n        var keybindingService = accessor.get(IKeybindingService);\r\n        this._show(this.getController(editor), {\r\n            getModel: function (value) {\r\n                return new QuickOpenModel(_this._editorActionsToEntries(keybindingService, editor, value));\r\n            },\r\n            getAutoFocus: function (searchValue) {\r\n                return {\r\n                    autoFocusFirstEntry: true,\r\n                    autoFocusPrefixMatch: searchValue\r\n                };\r\n            }\r\n        });\r\n    };\r\n    QuickCommandAction.prototype._sort = function (elementA, elementB) {\r\n        var elementAName = (elementA.getLabel() || '').toLowerCase();\r\n        var elementBName = (elementB.getLabel() || '').toLowerCase();\r\n        return elementAName.localeCompare(elementBName);\r\n    };\r\n    QuickCommandAction.prototype._editorActionsToEntries = function (keybindingService, editor, searchValue) {\r\n        var actions = editor.getSupportedActions();\r\n        var entries = [];\r\n        for (var _i = 0, actions_1 = actions; _i < actions_1.length; _i++) {\r\n            var action = actions_1[_i];\r\n            var keybinding = keybindingService.lookupKeybinding(action.id);\r\n            if (action.label) {\r\n                var highlights = matchesFuzzy(searchValue, action.label);\r\n                if (highlights) {\r\n                    entries.push(new EditorActionCommandEntry(keybinding ? keybinding.getLabel() || '' : '', keybinding ? keybinding.getAriaLabel() || '' : '', highlights, action, editor));\r\n                }\r\n            }\r\n        }\r\n        // Sort by name\r\n        entries = entries.sort(this._sort);\r\n        return entries;\r\n    };\r\n    return QuickCommandAction;\r\n}(BaseEditorQuickOpenAction));\r\nexport { QuickCommandAction };\r\nregisterEditorAction(QuickCommandAction);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { equals } from '../../../base/common/arrays.js';\r\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\r\nimport { first } from '../../../base/common/collections.js';\r\nimport { onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { LRUCache } from '../../../base/common/map.js';\r\nimport { DocumentSymbolProviderRegistry } from '../../common/modes.js';\r\nvar TreeElement = /** @class */ (function () {\r\n    function TreeElement() {\r\n    }\r\n    TreeElement.prototype.remove = function () {\r\n        if (this.parent) {\r\n            delete this.parent.children[this.id];\r\n        }\r\n    };\r\n    TreeElement.findId = function (candidate, container) {\r\n        // complex id-computation which contains the origin/extension,\r\n        // the parent path, and some dedupe logic when names collide\r\n        var candidateId;\r\n        if (typeof candidate === 'string') {\r\n            candidateId = container.id + \"/\" + candidate;\r\n        }\r\n        else {\r\n            candidateId = container.id + \"/\" + candidate.name;\r\n            if (container.children[candidateId] !== undefined) {\r\n                candidateId = container.id + \"/\" + candidate.name + \"_\" + candidate.range.startLineNumber + \"_\" + candidate.range.startColumn;\r\n            }\r\n        }\r\n        var id = candidateId;\r\n        for (var i = 0; container.children[id] !== undefined; i++) {\r\n            id = candidateId + \"_\" + i;\r\n        }\r\n        return id;\r\n    };\r\n    TreeElement.empty = function (element) {\r\n        for (var _key in element.children) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    return TreeElement;\r\n}());\r\nexport { TreeElement };\r\nvar OutlineElement = /** @class */ (function (_super) {\r\n    __extends(OutlineElement, _super);\r\n    function OutlineElement(id, parent, symbol) {\r\n        var _this = _super.call(this) || this;\r\n        _this.id = id;\r\n        _this.parent = parent;\r\n        _this.symbol = symbol;\r\n        _this.children = Object.create(null);\r\n        return _this;\r\n    }\r\n    return OutlineElement;\r\n}(TreeElement));\r\nexport { OutlineElement };\r\nvar OutlineGroup = /** @class */ (function (_super) {\r\n    __extends(OutlineGroup, _super);\r\n    function OutlineGroup(id, parent, provider, providerIndex) {\r\n        var _this = _super.call(this) || this;\r\n        _this.id = id;\r\n        _this.parent = parent;\r\n        _this.provider = provider;\r\n        _this.providerIndex = providerIndex;\r\n        _this.children = Object.create(null);\r\n        return _this;\r\n    }\r\n    return OutlineGroup;\r\n}(TreeElement));\r\nexport { OutlineGroup };\r\nvar MovingAverage = /** @class */ (function () {\r\n    function MovingAverage() {\r\n        this._n = 1;\r\n        this._val = 0;\r\n    }\r\n    MovingAverage.prototype.update = function (value) {\r\n        this._val = this._val + (value - this._val) / this._n;\r\n        this._n += 1;\r\n        return this;\r\n    };\r\n    return MovingAverage;\r\n}());\r\nvar OutlineModel = /** @class */ (function (_super) {\r\n    __extends(OutlineModel, _super);\r\n    function OutlineModel(textModel) {\r\n        var _this = _super.call(this) || this;\r\n        _this.textModel = textModel;\r\n        _this.id = 'root';\r\n        _this.parent = undefined;\r\n        _this._groups = Object.create(null);\r\n        _this.children = Object.create(null);\r\n        _this.id = 'root';\r\n        _this.parent = undefined;\r\n        return _this;\r\n    }\r\n    OutlineModel.create = function (textModel, token) {\r\n        var _this = this;\r\n        var key = this._keys.for(textModel, true);\r\n        var data = OutlineModel._requests.get(key);\r\n        if (!data) {\r\n            var source = new CancellationTokenSource();\r\n            data = {\r\n                promiseCnt: 0,\r\n                source: source,\r\n                promise: OutlineModel._create(textModel, source.token),\r\n                model: undefined,\r\n            };\r\n            OutlineModel._requests.set(key, data);\r\n            // keep moving average of request durations\r\n            var now_1 = Date.now();\r\n            data.promise.then(function () {\r\n                var key = _this._keys.for(textModel, false);\r\n                var avg = _this._requestDurations.get(key);\r\n                if (!avg) {\r\n                    avg = new MovingAverage();\r\n                    _this._requestDurations.set(key, avg);\r\n                }\r\n                avg.update(Date.now() - now_1);\r\n            });\r\n        }\r\n        if (data.model) {\r\n            // resolved -> return data\r\n            return Promise.resolve(data.model);\r\n        }\r\n        // increase usage counter\r\n        data.promiseCnt += 1;\r\n        token.onCancellationRequested(function () {\r\n            // last -> cancel provider request, remove cached promise\r\n            if (--data.promiseCnt === 0) {\r\n                data.source.cancel();\r\n                OutlineModel._requests.delete(key);\r\n            }\r\n        });\r\n        return new Promise(function (resolve, reject) {\r\n            data.promise.then(function (model) {\r\n                data.model = model;\r\n                resolve(model);\r\n            }, function (err) {\r\n                OutlineModel._requests.delete(key);\r\n                reject(err);\r\n            });\r\n        });\r\n    };\r\n    OutlineModel._create = function (textModel, token) {\r\n        var cts = new CancellationTokenSource(token);\r\n        var result = new OutlineModel(textModel);\r\n        var provider = DocumentSymbolProviderRegistry.ordered(textModel);\r\n        var promises = provider.map(function (provider, index) {\r\n            var id = TreeElement.findId(\"provider_\" + index, result);\r\n            var group = new OutlineGroup(id, result, provider, index);\r\n            return Promise.resolve(provider.provideDocumentSymbols(result.textModel, cts.token)).then(function (result) {\r\n                for (var _i = 0, _a = result || []; _i < _a.length; _i++) {\r\n                    var info = _a[_i];\r\n                    OutlineModel._makeOutlineElement(info, group);\r\n                }\r\n                return group;\r\n            }, function (err) {\r\n                onUnexpectedExternalError(err);\r\n                return group;\r\n            }).then(function (group) {\r\n                if (!TreeElement.empty(group)) {\r\n                    result._groups[id] = group;\r\n                }\r\n                else {\r\n                    group.remove();\r\n                }\r\n            });\r\n        });\r\n        var listener = DocumentSymbolProviderRegistry.onDidChange(function () {\r\n            var newProvider = DocumentSymbolProviderRegistry.ordered(textModel);\r\n            if (!equals(newProvider, provider)) {\r\n                cts.cancel();\r\n            }\r\n        });\r\n        return Promise.all(promises).then(function () {\r\n            if (cts.token.isCancellationRequested && !token.isCancellationRequested) {\r\n                return OutlineModel._create(textModel, token);\r\n            }\r\n            else {\r\n                return result._compact();\r\n            }\r\n        }).finally(function () {\r\n            listener.dispose();\r\n        });\r\n    };\r\n    OutlineModel._makeOutlineElement = function (info, container) {\r\n        var id = TreeElement.findId(info, container);\r\n        var res = new OutlineElement(id, container, info);\r\n        if (info.children) {\r\n            for (var _i = 0, _a = info.children; _i < _a.length; _i++) {\r\n                var childInfo = _a[_i];\r\n                OutlineModel._makeOutlineElement(childInfo, res);\r\n            }\r\n        }\r\n        container.children[res.id] = res;\r\n    };\r\n    OutlineModel.prototype._compact = function () {\r\n        var count = 0;\r\n        for (var key in this._groups) {\r\n            var group = this._groups[key];\r\n            if (first(group.children) === undefined) { // empty\r\n                delete this._groups[key];\r\n            }\r\n            else {\r\n                count += 1;\r\n            }\r\n        }\r\n        if (count !== 1) {\r\n            //\r\n            this.children = this._groups;\r\n        }\r\n        else {\r\n            // adopt all elements of the first group\r\n            var group = first(this._groups);\r\n            for (var key in group.children) {\r\n                var child = group.children[key];\r\n                child.parent = this;\r\n                this.children[child.id] = child;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    OutlineModel._requestDurations = new LRUCache(50, 0.7);\r\n    OutlineModel._requests = new LRUCache(9, 0.75);\r\n    OutlineModel._keys = new /** @class */ (function () {\r\n        function class_1() {\r\n            this._counter = 1;\r\n            this._data = new WeakMap();\r\n        }\r\n        class_1.prototype.for = function (textModel, version) {\r\n            return textModel.id + \"/\" + (version ? textModel.getVersionId() : '') + \"/\" + this._hash(DocumentSymbolProviderRegistry.all(textModel));\r\n        };\r\n        class_1.prototype._hash = function (providers) {\r\n            var result = '';\r\n            for (var _i = 0, providers_1 = providers; _i < providers_1.length; _i++) {\r\n                var provider = providers_1[_i];\r\n                var n = this._data.get(provider);\r\n                if (typeof n === 'undefined') {\r\n                    n = this._counter++;\r\n                    this._data.set(provider, n);\r\n                }\r\n                result += n;\r\n            }\r\n            return result;\r\n        };\r\n        return class_1;\r\n    }());\r\n    return OutlineModel;\r\n}(TreeElement));\r\nexport { OutlineModel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { illegalArgument } from '../../../base/common/errors.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { registerLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport { IModelService } from '../../common/services/modelService.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { ITextModelService } from '../../common/services/resolverService.js';\r\nimport { OutlineModel, OutlineElement } from '../documentSymbols/outlineModel.js';\r\nimport { values } from '../../../base/common/collections.js';\r\nexport function getDocumentSymbols(document, flat, token) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var model, roots, _i, _a, child, flatEntries;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0: return [4 /*yield*/, OutlineModel.create(document, token)];\r\n                case 1:\r\n                    model = _b.sent();\r\n                    roots = [];\r\n                    for (_i = 0, _a = values(model.children); _i < _a.length; _i++) {\r\n                        child = _a[_i];\r\n                        if (child instanceof OutlineElement) {\r\n                            roots.push(child.symbol);\r\n                        }\r\n                        else {\r\n                            roots.push.apply(roots, values(child.children).map(function (child) { return child.symbol; }));\r\n                        }\r\n                    }\r\n                    flatEntries = [];\r\n                    if (token.isCancellationRequested) {\r\n                        return [2 /*return*/, flatEntries];\r\n                    }\r\n                    if (flat) {\r\n                        flatten(flatEntries, roots, '');\r\n                    }\r\n                    else {\r\n                        flatEntries = roots;\r\n                    }\r\n                    return [2 /*return*/, flatEntries.sort(compareEntriesUsingStart)];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction compareEntriesUsingStart(a, b) {\r\n    return Range.compareRangesUsingStarts(a.range, b.range);\r\n}\r\nfunction flatten(bucket, entries, overrideContainerLabel) {\r\n    for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\r\n        var entry = entries_1[_i];\r\n        bucket.push({\r\n            kind: entry.kind,\r\n            tags: entry.tags,\r\n            name: entry.name,\r\n            detail: entry.detail,\r\n            containerName: entry.containerName || overrideContainerLabel,\r\n            range: entry.range,\r\n            selectionRange: entry.selectionRange,\r\n            children: undefined,\r\n        });\r\n        if (entry.children) {\r\n            flatten(bucket, entry.children, entry.name);\r\n        }\r\n    }\r\n}\r\nregisterLanguageCommand('_executeDocumentSymbolProvider', function (accessor, args) {\r\n    var resource = args.resource;\r\n    if (!(resource instanceof URI)) {\r\n        throw illegalArgument('resource');\r\n    }\r\n    var model = accessor.get(IModelService).getModel(resource);\r\n    if (model) {\r\n        return getDocumentSymbols(model, false, CancellationToken.None);\r\n    }\r\n    return accessor.get(ITextModelService).createModelReference(resource).then(function (reference) {\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var result = getDocumentSymbols(reference.object.textEditorModel, false, CancellationToken.None);\r\n                resolve(result);\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        }).finally(function () {\r\n            reference.dispose();\r\n        });\r\n    });\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './quickOutline.css';\r\nimport '../../../../base/browser/ui/codiconLabel/codiconLabel.js'; // The codicon symbol styles are defined here and must be loaded\r\nimport '../../../contrib/documentSymbols/outlineTree.js'; // The codicon symbol colors are defined here and must be loaded\r\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\r\nimport { matchesFuzzy } from '../../../../base/common/filters.js';\r\nimport * as strings from '../../../../base/common/strings.js';\r\nimport { QuickOpenEntryGroup, QuickOpenModel } from '../../../../base/parts/quickopen/browser/quickOpenModel.js';\r\nimport { registerEditorAction } from '../../../browser/editorExtensions.js';\r\nimport { Range } from '../../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\r\nimport { DocumentSymbolProviderRegistry, SymbolKinds } from '../../../common/modes.js';\r\nimport { getDocumentSymbols } from '../../../contrib/quickOpen/quickOpen.js';\r\nimport { BaseEditorQuickOpenAction } from './editorQuickOpen.js';\r\nimport { QuickOutlineNLS } from '../../../common/standaloneStrings.js';\r\nvar SCOPE_PREFIX = ':';\r\nvar SymbolEntry = /** @class */ (function (_super) {\r\n    __extends(SymbolEntry, _super);\r\n    function SymbolEntry(name, type, description, range, highlights, editor, decorator) {\r\n        var _this = _super.call(this) || this;\r\n        _this.name = name;\r\n        _this.type = type;\r\n        _this.description = description;\r\n        _this.range = range;\r\n        _this.setHighlights(highlights);\r\n        _this.editor = editor;\r\n        _this.decorator = decorator;\r\n        return _this;\r\n    }\r\n    SymbolEntry.prototype.getLabel = function () {\r\n        return this.name;\r\n    };\r\n    SymbolEntry.prototype.getAriaLabel = function () {\r\n        return strings.format(QuickOutlineNLS.entryAriaLabel, this.name);\r\n    };\r\n    SymbolEntry.prototype.getIcon = function () {\r\n        return this.type;\r\n    };\r\n    SymbolEntry.prototype.getDescription = function () {\r\n        return this.description;\r\n    };\r\n    SymbolEntry.prototype.getType = function () {\r\n        return this.type;\r\n    };\r\n    SymbolEntry.prototype.getRange = function () {\r\n        return this.range;\r\n    };\r\n    SymbolEntry.prototype.run = function (mode, context) {\r\n        if (mode === 1 /* OPEN */) {\r\n            return this.runOpen(context);\r\n        }\r\n        return this.runPreview();\r\n    };\r\n    SymbolEntry.prototype.runOpen = function (_context) {\r\n        // Apply selection and focus\r\n        var range = this.toSelection();\r\n        this.editor.setSelection(range);\r\n        this.editor.revealRangeInCenter(range, 0 /* Smooth */);\r\n        this.editor.focus();\r\n        return true;\r\n    };\r\n    SymbolEntry.prototype.runPreview = function () {\r\n        // Select Outline Position\r\n        var range = this.toSelection();\r\n        this.editor.revealRangeInCenter(range, 0 /* Smooth */);\r\n        // Decorate if possible\r\n        this.decorator.decorateLine(this.range, this.editor);\r\n        return false;\r\n    };\r\n    SymbolEntry.prototype.toSelection = function () {\r\n        return new Range(this.range.startLineNumber, this.range.startColumn || 1, this.range.startLineNumber, this.range.startColumn || 1);\r\n    };\r\n    return SymbolEntry;\r\n}(QuickOpenEntryGroup));\r\nexport { SymbolEntry };\r\nvar QuickOutlineAction = /** @class */ (function (_super) {\r\n    __extends(QuickOutlineAction, _super);\r\n    function QuickOutlineAction() {\r\n        return _super.call(this, QuickOutlineNLS.quickOutlineActionInput, {\r\n            id: 'editor.action.quickOutline',\r\n            label: QuickOutlineNLS.quickOutlineActionLabel,\r\n            alias: 'Go to Symbol...',\r\n            precondition: EditorContextKeys.hasDocumentSymbolProvider,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 45 /* KEY_O */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                group: 'navigation',\r\n                order: 3\r\n            }\r\n        }) || this;\r\n    }\r\n    QuickOutlineAction.prototype.run = function (accessor, editor) {\r\n        var _this = this;\r\n        if (!editor.hasModel()) {\r\n            return undefined;\r\n        }\r\n        var model = editor.getModel();\r\n        if (!DocumentSymbolProviderRegistry.has(model)) {\r\n            return undefined;\r\n        }\r\n        // Resolve outline\r\n        return getDocumentSymbols(model, true, CancellationToken.None).then(function (result) {\r\n            if (result.length === 0) {\r\n                return;\r\n            }\r\n            _this._run(editor, result);\r\n        });\r\n    };\r\n    QuickOutlineAction.prototype._run = function (editor, result) {\r\n        var _this = this;\r\n        this._show(this.getController(editor), {\r\n            getModel: function (value) {\r\n                return new QuickOpenModel(_this.toQuickOpenEntries(editor, result, value));\r\n            },\r\n            getAutoFocus: function (searchValue) {\r\n                // Remove any type pattern (:) from search value as needed\r\n                if (searchValue.indexOf(SCOPE_PREFIX) === 0) {\r\n                    searchValue = searchValue.substr(SCOPE_PREFIX.length);\r\n                }\r\n                return {\r\n                    autoFocusPrefixMatch: searchValue,\r\n                    autoFocusFirstEntry: !!searchValue\r\n                };\r\n            }\r\n        });\r\n    };\r\n    QuickOutlineAction.prototype.symbolEntry = function (name, type, description, range, highlights, editor, decorator) {\r\n        return new SymbolEntry(name, type, description, Range.lift(range), highlights, editor, decorator);\r\n    };\r\n    QuickOutlineAction.prototype.toQuickOpenEntries = function (editor, flattened, searchValue) {\r\n        var controller = this.getController(editor);\r\n        var results = [];\r\n        // Convert to Entries\r\n        var normalizedSearchValue = searchValue;\r\n        if (searchValue.indexOf(SCOPE_PREFIX) === 0) {\r\n            normalizedSearchValue = normalizedSearchValue.substr(SCOPE_PREFIX.length);\r\n        }\r\n        for (var _i = 0, flattened_1 = flattened; _i < flattened_1.length; _i++) {\r\n            var element = flattened_1[_i];\r\n            var label = strings.trim(element.name);\r\n            // Check for meatch\r\n            var highlights = matchesFuzzy(normalizedSearchValue, label);\r\n            if (highlights) {\r\n                // Show parent scope as description\r\n                var description = undefined;\r\n                if (element.containerName) {\r\n                    description = element.containerName;\r\n                }\r\n                // Add\r\n                results.push(this.symbolEntry(label, SymbolKinds.toCssClassName(element.kind), description, element.range, highlights, editor, controller));\r\n            }\r\n        }\r\n        // Sort properly if actually searching\r\n        if (searchValue) {\r\n            if (searchValue.indexOf(SCOPE_PREFIX) === 0) {\r\n                results = results.sort(this.sortScoped.bind(this, searchValue.toLowerCase()));\r\n            }\r\n            else {\r\n                results = results.sort(this.sortNormal.bind(this, searchValue.toLowerCase()));\r\n            }\r\n        }\r\n        // Mark all type groups\r\n        if (results.length > 0 && searchValue.indexOf(SCOPE_PREFIX) === 0) {\r\n            var currentType = null;\r\n            var currentResult = null;\r\n            var typeCounter = 0;\r\n            for (var i = 0; i < results.length; i++) {\r\n                var result = results[i];\r\n                // Found new type\r\n                if (currentType !== result.getType()) {\r\n                    // Update previous result with count\r\n                    if (currentResult) {\r\n                        currentResult.setGroupLabel(this.typeToLabel(currentType || '', typeCounter));\r\n                    }\r\n                    currentType = result.getType();\r\n                    currentResult = result;\r\n                    typeCounter = 1;\r\n                    result.setShowBorder(i > 0);\r\n                }\r\n                // Existing type, keep counting\r\n                else {\r\n                    typeCounter++;\r\n                }\r\n            }\r\n            // Update previous result with count\r\n            if (currentResult) {\r\n                currentResult.setGroupLabel(this.typeToLabel(currentType || '', typeCounter));\r\n            }\r\n        }\r\n        // Mark first entry as outline\r\n        else if (results.length > 0) {\r\n            results[0].setGroupLabel(strings.format(QuickOutlineNLS._symbols_, results.length));\r\n        }\r\n        return results;\r\n    };\r\n    QuickOutlineAction.prototype.typeToLabel = function (type, count) {\r\n        switch (type) {\r\n            case 'module': return strings.format(QuickOutlineNLS._modules_, count);\r\n            case 'class': return strings.format(QuickOutlineNLS._class_, count);\r\n            case 'interface': return strings.format(QuickOutlineNLS._interface_, count);\r\n            case 'method': return strings.format(QuickOutlineNLS._method_, count);\r\n            case 'function': return strings.format(QuickOutlineNLS._function_, count);\r\n            case 'property': return strings.format(QuickOutlineNLS._property_, count);\r\n            case 'variable': return strings.format(QuickOutlineNLS._variable_, count);\r\n            case 'var': return strings.format(QuickOutlineNLS._variable2_, count);\r\n            case 'constructor': return strings.format(QuickOutlineNLS._constructor_, count);\r\n            case 'call': return strings.format(QuickOutlineNLS._call_, count);\r\n        }\r\n        return type;\r\n    };\r\n    QuickOutlineAction.prototype.sortNormal = function (searchValue, elementA, elementB) {\r\n        var elementAName = elementA.getLabel().toLowerCase();\r\n        var elementBName = elementB.getLabel().toLowerCase();\r\n        // Compare by name\r\n        var r = elementAName.localeCompare(elementBName);\r\n        if (r !== 0) {\r\n            return r;\r\n        }\r\n        // If name identical sort by range instead\r\n        var elementARange = elementA.getRange();\r\n        var elementBRange = elementB.getRange();\r\n        return elementARange.startLineNumber - elementBRange.startLineNumber;\r\n    };\r\n    QuickOutlineAction.prototype.sortScoped = function (searchValue, elementA, elementB) {\r\n        // Remove scope char\r\n        searchValue = searchValue.substr(SCOPE_PREFIX.length);\r\n        // Sort by type first if scoped search\r\n        var elementAType = elementA.getType();\r\n        var elementBType = elementB.getType();\r\n        var r = elementAType.localeCompare(elementBType);\r\n        if (r !== 0) {\r\n            return r;\r\n        }\r\n        // Special sort when searching in scoped mode\r\n        if (searchValue) {\r\n            var elementAName = elementA.getLabel().toLowerCase();\r\n            var elementBName = elementB.getLabel().toLowerCase();\r\n            // Compare by name\r\n            var r_1 = elementAName.localeCompare(elementBName);\r\n            if (r_1 !== 0) {\r\n                return r_1;\r\n            }\r\n        }\r\n        // Default to sort by range\r\n        var elementARange = elementA.getRange();\r\n        var elementBRange = elementB.getRange();\r\n        return elementARange.startLineNumber - elementBRange.startLineNumber;\r\n    };\r\n    return QuickOutlineAction;\r\n}(BaseEditorQuickOpenAction));\r\nexport { QuickOutlineAction };\r\nregisterEditorAction(QuickOutlineAction);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\r\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\r\nimport { ReferencesController } from '../../../contrib/gotoSymbol/peek/referencesController.js';\r\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\r\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\r\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\r\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\r\nimport { IStorageService } from '../../../../platform/storage/common/storage.js';\r\nvar StandaloneReferencesController = /** @class */ (function (_super) {\r\n    __extends(StandaloneReferencesController, _super);\r\n    function StandaloneReferencesController(editor, contextKeyService, editorService, notificationService, instantiationService, storageService, configurationService) {\r\n        return _super.call(this, true, editor, contextKeyService, editorService, notificationService, instantiationService, storageService, configurationService) || this;\r\n    }\r\n    StandaloneReferencesController = __decorate([\r\n        __param(1, IContextKeyService),\r\n        __param(2, ICodeEditorService),\r\n        __param(3, INotificationService),\r\n        __param(4, IInstantiationService),\r\n        __param(5, IStorageService),\r\n        __param(6, IConfigurationService)\r\n    ], StandaloneReferencesController);\r\n    return StandaloneReferencesController;\r\n}(ReferencesController));\r\nexport { StandaloneReferencesController };\r\nregisterEditorContribution(ReferencesController.ID, StandaloneReferencesController);\r\n","import 'monaco-languages/release/esm/monaco.contribution.js'\nimport 'monaco-editor/esm/vs/editor/editor.all.js'\nimport 'monaco-editor/esm/vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp.js';\nimport 'monaco-editor/esm/vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard.js';\nimport 'monaco-editor/esm/vs/editor/standalone/browser/inspectTokens/inspectTokens.js';\nimport 'monaco-editor/esm/vs/editor/standalone/browser/quickOpen/gotoLine.js';\nimport 'monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickCommand.js';\nimport 'monaco-editor/esm/vs/editor/standalone/browser/quickOpen/quickOutline.js';\nimport 'monaco-editor/esm/vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch.js';","module.exports = function loadJSBundle(bundle) {\n  return new Promise(function (resolve, reject) {\n    var script = document.createElement('script');\n    script.async = true;\n    script.type = 'text/javascript';\n    script.charset = 'utf-8';\n    script.src = bundle;\n    script.onerror = function (e) {\n      script.onerror = script.onload = null;\n      reject(e);\n    };\n\n    script.onload = function () {\n      script.onerror = script.onload = null;\n      resolve();\n    };\n\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n};\n","module.exports = function loadCSSBundle(bundle) {\n  return new Promise(function (resolve, reject) {\n    var link = document.createElement('link');\n    link.rel = 'stylesheet';\n    link.href = bundle;\n    link.onerror = function (e) {\n      link.onerror = link.onload = null;\n      reject(e);\n    };\n\n    link.onload = function () {\n      link.onerror = link.onload = null;\n      resolve();\n    };\n\n    document.getElementsByTagName('head')[0].appendChild(link);\n  });\n};\n"]}